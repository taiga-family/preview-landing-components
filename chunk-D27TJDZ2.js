import{a as i,c as u}from"./chunk-O7XUTTGJ.js";import"./chunk-OA6PTFFA.js";import{E as n,_a as s}from"./chunk-JWNVKOIN.js";var c=s.create({name:"details",addOptions(){return{HTMLAttributes:{}}},addAttributes(){return{opened:{default:!0,keepOnSplit:!1,parseHTML:t=>t.getAttribute("data-opened")==="true",renderHTML:t=>({"data-opened":t.opened})}}},content:"summary detailsContent",group:"block",draggable:!0,allowGapCursor:!0,isolating:!0,parseHTML(){return[{tag:"details"}]},renderHTML({HTMLAttributes:t}){return["div",{class:"t-details-wrapper t-details-wrapper_rendered"},["details",n(this.options.HTMLAttributes,t),0],["button",{class:"t-details-arrow"}]]},addNodeView(){return({node:t,editor:e})=>{if(globalThis.document){let a=document.createElement("div"),r=document.createElement("details"),o=document.createElement("button"),d=document.createElement("button");return a.className="t-details-wrapper",o.className="t-details-arrow",d.className="t-details-delete",r.open=t.attrs.opened,o.addEventListener("click",()=>{r.open=!r.open,t.attrs.opened=r.open}),d.addEventListener("click",()=>{i(e.state,e.view.dispatch,this.name),e.commands.focus("end")}),a.append(r,o,d),{dom:a,contentDOM:r}}}},addCommands(){return{setDetails:()=>({commands:t,state:e})=>{let a=u(e);return t.insertContent(`<details data-opened="true"><summary><p></p></summary><div data-type="details-content"><p>${a}</p></div></details><p></p>`)},removeDetails:()=>({editor:t,state:e,dispatch:a})=>(i(e,a,this.name),t.commands.focus("end"))}}}),m=s.create({name:"detailsContent",content:"block+",group:"block",allowGapCursor:!0,parseHTML(){return[{tag:'div[data-type="details-content"]'}]},renderHTML({HTMLAttributes:t}){return["div",n(this.options.HTMLAttributes,t,{"data-type":"details-content"}),0]}}),b=s.create({name:"summary",addOptions(){return{HTMLAttributes:{}}},content:"paragraph",group:"block",parseHTML(){return[{tag:"summary"}]},renderHTML({HTMLAttributes:t}){return["summary",n(this.options.HTMLAttributes,t),0]}});export{c as TuiDetails,m as TuiDetailsContent,b as TuiSummary};
//# sourceMappingURL=chunk-D27TJDZ2.js.map
