{"version":3,"sources":["node_modules/dompurify/dist/purify.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-utils-browser.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-utils-svg.js","node_modules/@tinkoff/ng-polymorpheus/fesm2015/tinkoff-ng-polymorpheus.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-abstract.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-coercion.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-pipes-mapper.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-components-scroll-controls.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-decorators.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-active-zone.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-auto-focus.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-autofilled.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-checked.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-focus-visible.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-focusable.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-focused.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-hovered.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-item.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-let.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-obscured.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-overscroll.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-components-dropdown-host.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-pressed.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-directives-repeat-times.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-enums.js","node_modules/@taiga-ui/cdk/fesm2015/taiga-ui-cdk-date-time.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-constants.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-utils-dom.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-utils-miscellaneous.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-utils-mobile.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-enums.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-tokens.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-abstract.js","node_modules/@angular/router/fesm2022/router.mjs","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-services.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-svg.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-animations.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-mode.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-providers.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-scrollbar.js","node_modules/@tinkoff/ng-event-plugins/fesm2015/tinkoff-ng-event-plugins.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-dropdown.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-hint.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-textfield-controller.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-mask-accessor.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-directives-wrapper.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-loader.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-button.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-link.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-dialog.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-pipes-format-date.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-pipes-month.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-data-list.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-hosted-dropdown.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-tooltip.js","node_modules/@taiga-ui/core/fesm2015/taiga-ui-core-components-primitive-textfield.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-components-push.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-components-toggle.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-abstract.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-directives-tiptap-editor.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-align-content.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-code.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-details.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-font-size.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-font-style.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-group.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-utils-miscellaneous.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-tokens.js","node_modules/@maskito/core/index.esm.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-providers.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-directives-value-accessor.js","node_modules/@maskito/angular/node_modules/tslib/tslib.es6.mjs","node_modules/@maskito/angular/fesm2015/maskito-angular.js","node_modules/@taiga-ui/kit/fesm2015/taiga-ui-kit-components-input-inline.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-color-selector.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-highlight-color.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-list-configs.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-cell-color.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-size-selector.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-create.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-merge-cells.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-table-row-column-manager.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar-tools-text-color.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-edit-link.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-toolbar.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-editor-socket.js","node_modules/@tinkoff/tui-editor/fesm2015/tinkoff-tui-editor-components-editor.js","node_modules/@tinkoff/ng-dompurify/fesm2015/tinkoff-ng-dompurify.js"],"sourcesContent":["/*! @license DOMPurify 3.1.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.5/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, function () {\n  'use strict';\n\n  const {\n    entries,\n    setPrototypeOf,\n    isFrozen,\n    getPrototypeOf,\n    getOwnPropertyDescriptor\n  } = Object;\n  let {\n    freeze,\n    seal,\n    create\n  } = Object; // eslint-disable-line import/no-mutable-exports\n  let {\n    apply,\n    construct\n  } = typeof Reflect !== 'undefined' && Reflect;\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new Func(...args);\n    };\n  }\n  const arrayForEach = unapply(Array.prototype.forEach);\n  const arrayPop = unapply(Array.prototype.pop);\n  const arrayPush = unapply(Array.prototype.push);\n  const stringToLowerCase = unapply(String.prototype.toLowerCase);\n  const stringToString = unapply(String.prototype.toString);\n  const stringMatch = unapply(String.prototype.match);\n  const stringReplace = unapply(String.prototype.replace);\n  const stringIndexOf = unapply(String.prototype.indexOf);\n  const stringTrim = unapply(String.prototype.trim);\n  const objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n  const regExpTest = unapply(RegExp.prototype.test);\n  const typeErrorCreate = unconstruct(TypeError);\n\n  /**\n   * Creates a new function that calls the given function with a specified thisArg and arguments.\n   *\n   * @param {Function} func - The function to be wrapped and called.\n   * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n   */\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      return apply(func, thisArg, args);\n    };\n  }\n\n  /**\n   * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n   *\n   * @param {Function} func - The constructor function to be wrapped and called.\n   * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n   */\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return construct(func, args);\n    };\n  }\n\n  /**\n   * Add properties to a lookup table\n   *\n   * @param {Object} set - The set to which elements will be added.\n   * @param {Array} array - The array containing elements to be added to the set.\n   * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n   * @returns {Object} The modified set with added elements.\n   */\n  function addToSet(set, array) {\n    let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n    let l = array.length;\n    while (l--) {\n      let element = array[l];\n      if (typeof element === 'string') {\n        const lcElement = transformCaseFunc(element);\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n          element = lcElement;\n        }\n      }\n      set[element] = true;\n    }\n    return set;\n  }\n\n  /**\n   * Clean up an array to harden against CSPP\n   *\n   * @param {Array} array - The array to be cleaned.\n   * @returns {Array} The cleaned version of the array\n   */\n  function cleanArray(array) {\n    for (let index = 0; index < array.length; index++) {\n      const isPropertyExist = objectHasOwnProperty(array, index);\n      if (!isPropertyExist) {\n        array[index] = null;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * Shallow clone an object\n   *\n   * @param {Object} object - The object to be cloned.\n   * @returns {Object} A new object that copies the original.\n   */\n  function clone(object) {\n    const newObject = create(null);\n    for (const [property, value] of entries(object)) {\n      const isPropertyExist = objectHasOwnProperty(object, property);\n      if (isPropertyExist) {\n        if (Array.isArray(value)) {\n          newObject[property] = cleanArray(value);\n        } else if (value && typeof value === 'object' && value.constructor === Object) {\n          newObject[property] = clone(value);\n        } else {\n          newObject[property] = value;\n        }\n      }\n    }\n    return newObject;\n  }\n\n  /**\n   * This method automatically checks if the prop is function or getter and behaves accordingly.\n   *\n   * @param {Object} object - The object to look up the getter function in its prototype chain.\n   * @param {String} prop - The property name for which to find the getter function.\n   * @returns {Function} The getter function found in the prototype chain or a fallback function.\n   */\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      const desc = getOwnPropertyDescriptor(object, prop);\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n      object = getPrototypeOf(object);\n    }\n    function fallbackValue() {\n      return null;\n    }\n    return fallbackValue;\n  }\n  const html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n  // SVG\n  const svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  const svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\n  // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n  const svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  const mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n\n  // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n  const mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  const text = freeze(['#text']);\n  const html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\n  const svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  const mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  const xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  // eslint-disable-next-line unicorn/better-regex\n  const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n  const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n  const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n  const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n  const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  const ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  const DOCTYPE_NAME = seal(/^html$/i);\n  const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n  var EXPRESSIONS = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    MUSTACHE_EXPR: MUSTACHE_EXPR,\n    ERB_EXPR: ERB_EXPR,\n    TMPLIT_EXPR: TMPLIT_EXPR,\n    DATA_ATTR: DATA_ATTR,\n    ARIA_ATTR: ARIA_ATTR,\n    IS_ALLOWED_URI: IS_ALLOWED_URI,\n    IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE: ATTR_WHITESPACE,\n    DOCTYPE_NAME: DOCTYPE_NAME,\n    CUSTOM_ELEMENT: CUSTOM_ELEMENT\n  });\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\n  const NODE_TYPE = {\n    element: 1,\n    attribute: 2,\n    text: 3,\n    cdataSection: 4,\n    entityReference: 5,\n    // Deprecated\n    entityNode: 6,\n    // Deprecated\n    progressingInstruction: 7,\n    comment: 8,\n    document: 9,\n    documentType: 10,\n    documentFragment: 11,\n    notation: 12 // Deprecated\n  };\n  const getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n   * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported or creating the policy failed).\n   */\n  const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n    if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    }\n\n    // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n    let suffix = null;\n    const ATTR_NAME = 'data-tt-policy-suffix';\n    if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n      suffix = purifyHostElement.getAttribute(ATTR_NAME);\n    }\n    const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML(html) {\n          return html;\n        },\n        createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n  function createDOMPurify() {\n    let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n    const DOMPurify = root => createDOMPurify(root);\n\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n    DOMPurify.version = '3.1.5';\n\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n    DOMPurify.removed = [];\n    if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n    let {\n      document\n    } = window;\n    const originalDocument = document;\n    const currentScript = originalDocument.currentScript;\n    const {\n      DocumentFragment,\n      HTMLTemplateElement,\n      Node,\n      Element,\n      NodeFilter,\n      NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n      HTMLFormElement,\n      DOMParser,\n      trustedTypes\n    } = window;\n    const ElementPrototype = Element.prototype;\n    const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n    // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n    if (typeof HTMLTemplateElement === 'function') {\n      const template = document.createElement('template');\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n    let trustedTypesPolicy;\n    let emptyHTML = '';\n    const {\n      implementation,\n      createNodeIterator,\n      createDocumentFragment,\n      getElementsByTagName\n    } = document;\n    const {\n      importNode\n    } = originalDocument;\n    let hooks = {};\n\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n    DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n    const {\n      MUSTACHE_EXPR,\n      ERB_EXPR,\n      TMPLIT_EXPR,\n      DATA_ATTR,\n      ARIA_ATTR,\n      IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE,\n      CUSTOM_ELEMENT\n    } = EXPRESSIONS;\n    let {\n      IS_ALLOWED_URI: IS_ALLOWED_URI$1\n    } = EXPRESSIONS;\n\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n    let ALLOWED_TAGS = null;\n    const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n\n    /* Allowed attribute names */\n    let ALLOWED_ATTR = null;\n    const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n    let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n    let FORBID_TAGS = null;\n\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n    let FORBID_ATTR = null;\n\n    /* Decide if ARIA attributes are okay */\n    let ALLOW_ARIA_ATTR = true;\n\n    /* Decide if custom data attributes are okay */\n    let ALLOW_DATA_ATTR = true;\n\n    /* Decide if unknown protocols are okay */\n    let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n    /* Decide if self-closing tags in attributes are allowed.\n     * Usually removed due to a mXSS issue in jQuery 3.0 */\n    let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n    let SAFE_FOR_TEMPLATES = false;\n\n    /* Output should be safe even for XML used within HTML and alike.\n     * This means, DOMPurify removes comments when containing risky content.\n     */\n    let SAFE_FOR_XML = true;\n\n    /* Decide if document with <html>... should be returned */\n    let WHOLE_DOCUMENT = false;\n\n    /* Track whether config is already set on this instance of DOMPurify. */\n    let SET_CONFIG = false;\n\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n    let FORCE_BODY = false;\n\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n    let RETURN_DOM = false;\n\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n    let RETURN_DOM_FRAGMENT = false;\n\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n    let RETURN_TRUSTED_TYPE = false;\n\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n    let SANITIZE_DOM = true;\n\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n    let SANITIZE_NAMED_PROPS = false;\n    const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n    /* Keep element content when removing element? */\n    let KEEP_CONTENT = true;\n\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n    let IN_PLACE = false;\n\n    /* Allow usage of profiles like html, svg and mathMl */\n    let USE_PROFILES = {};\n\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n    let FORBID_CONTENTS = null;\n    const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n\n    /* Tags that are safe for data: URIs */\n    let DATA_URI_TAGS = null;\n    const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n\n    /* Attributes safe for values like \"javascript:\" */\n    let URI_SAFE_ATTRIBUTES = null;\n    const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n    let NAMESPACE = HTML_NAMESPACE;\n    let IS_EMPTY_INPUT = false;\n\n    /* Allowed XHTML+XML namespaces */\n    let ALLOWED_NAMESPACES = null;\n    const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n\n    /* Parsing of strict XHTML documents */\n    let PARSER_MEDIA_TYPE = null;\n    const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    let transformCaseFunc = null;\n\n    /* Keep a reference to config to pass to hooks */\n    let CONFIG = null;\n\n    /* Ideally, do not touch anything below this line */\n    /* ______________________________________________ */\n\n    const formElement = document.createElement('form');\n    const isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n    const _parseConfig = function _parseConfig() {\n      let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n\n      /* Shield configuration object from tampering */\n      if (!cfg || typeof cfg !== 'object') {\n        cfg = {};\n      }\n\n      /* Shield configuration object from prototype pollution */\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n\n      // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n\n      /* Set configuration parameters */\n      ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n      URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),\n      // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS),\n      // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS,\n      // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n      ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n      SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n\n      /* Parse profile info */\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, text);\n        ALLOWED_ATTR = [];\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n\n      /* Merge configuration parameters */\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n\n      /* Add #text in case KEEP_CONTENT is set to true */\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n      if (cfg.TRUSTED_TYPES_POLICY) {\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n        }\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n        }\n\n        // Overwrite existing TrustedTypes policy.\n        trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n        // Sign local variables required by `sanitize`.\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      } else {\n        // Uninitialized policy, attempt to initialize the internal dompurify policy.\n        if (trustedTypesPolicy === undefined) {\n          trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n        }\n\n        // If creating the internal policy succeeded sign internal variables.\n        if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        }\n      }\n\n      // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n      if (freeze) {\n        freeze(cfg);\n      }\n      CONFIG = cfg;\n    };\n    const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    const HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'annotation-xml']);\n\n    // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n    const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n    const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n    const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n\n    /**\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n    const _checkValidNamespace = function _checkValidNamespace(element) {\n      let parent = getParentNode(element);\n\n      // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: NAMESPACE,\n          tagName: 'template'\n        };\n      }\n      const tagName = stringToLowerCase(element.tagName);\n      const parentTagName = stringToLowerCase(parent.tagName);\n      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return false;\n      }\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        }\n\n        // The only way to switch from MathML to SVG is via`\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        }\n\n        // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        }\n\n        // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        }\n\n        // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      }\n\n      // For XHTML and XML documents that support custom namespaces\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return true;\n      }\n\n      // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n      // Return false just in case.\n      return false;\n    };\n\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n    const _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        node.remove();\n      }\n    };\n\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n    const _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n      node.removeAttribute(name);\n\n      // We void attribute values for unremovable \"is\"\" attributes\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n    const _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      let doc = null;\n      let leadingWhitespace = null;\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n      const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n\n      /* Use createHTMLDocument in case DOMParser is not available */\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n        } catch (_) {\n          // Syntax error if dirtyPayload is invalid xml\n        }\n      }\n      const body = doc.body || doc.documentElement;\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n\n      /* Work on whole document or just its body */\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n\n    /**\n     * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n     *\n     * @param  {Node} root The root element or node to start traversing on.\n     * @return {NodeIterator} The created NodeIterator\n     */\n    const _createNodeIterator = function _createNodeIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n    };\n\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n    const _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n    };\n\n    /**\n     * Checks whether the given object is a DOM node.\n     *\n     * @param  {Node} object object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n    const _isNode = function _isNode(object) {\n      return typeof Node === 'function' && object instanceof Node;\n    };\n\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n    const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n      arrayForEach(hooks[entryPoint], hook => {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n    const _sanitizeElements = function _sanitizeElements(currentNode) {\n      let content = null;\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeElements', currentNode, null);\n\n      /* Check if element is clobbered or can clobber */\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Now let's check the element's type and name */\n      const tagName = transformCaseFunc(currentNode.nodeName);\n\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n\n      /* Detect mXSS attempts abusing namespace confusion */\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove any ocurrence of processing instructions */\n      if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove any kind of possibly harmful comments */\n      if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Remove element if anything forbids its presence */\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n            return false;\n          }\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n            return false;\n          }\n        }\n\n        /* Keep content except for bad-listed elements */\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n          if (childNodes && parentNode) {\n            const childCount = childNodes.length;\n            for (let i = childCount - 1; i >= 0; --i) {\n              const childClone = cloneNode(childNodes[i], true);\n              childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n              parentNode.insertBefore(childClone, getNextSibling(currentNode));\n            }\n          }\n        }\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Check whether element has a valid namespace */\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Make sure that older browsers don't get fallback-tag mXSS */\n      if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n        return true;\n      }\n\n      /* Sanitize element content to be template-safe */\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          content = stringReplace(content, expr, ' ');\n        });\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeElements', currentNode, null);\n      return false;\n    };\n\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n    const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ;else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ;else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ;else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ;else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ;else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ;else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ;else if (value) {\n        return false;\n      } else ;\n      return true;\n    };\n\n    /**\n     * _isBasicCustomElement\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     *\n     * @param {string} tagName name of the tag of the node to sanitize\n     * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n     */\n    const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n      return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n    };\n\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n    const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n      const {\n        attributes\n      } = currentNode;\n\n      /* Check if we have attributes; if not we might have a text node */\n      if (!attributes) {\n        return;\n      }\n      const hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      let l = attributes.length;\n\n      /* Go backwards over all attributes; safely remove bad ones */\n      while (l--) {\n        const attr = attributes[l];\n        const {\n          name,\n          namespaceURI,\n          value: attrValue\n        } = attr;\n        const lcName = transformCaseFunc(name);\n        let value = name === 'value' ? attrValue : stringTrim(attrValue);\n\n        /* Execute a hook if present */\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n\n        /* Remove attribute */\n        _removeAttribute(name, currentNode);\n\n        /* Did the hooks approve of the attribute? */\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n\n        /* Work around a security issue in jQuery 3.0 */\n        if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Work around a security issue with comments inside attributes */\n        if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n          _removeAttribute(name, currentNode);\n          continue;\n        }\n\n        /* Sanitize attribute content to be template-safe */\n        if (SAFE_FOR_TEMPLATES) {\n          arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n            value = stringReplace(value, expr, ' ');\n          });\n        }\n\n        /* Is `value` valid for this attribute? */\n        const lcTag = transformCaseFunc(currentNode.nodeName);\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode);\n\n          // Prefix the value and later re-create the attribute with the sanitized value\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n\n        /* Handle attributes that require Trusted Types */\n        if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ;else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n              case 'TrustedScriptURL':\n                {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n            }\n          }\n        }\n\n        /* Handle invalid data-* attribute set by try-catching it */\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n          if (_isClobbered(currentNode)) {\n            _forceRemove(currentNode);\n          } else {\n            arrayPop(DOMPurify.removed);\n          }\n        } catch (_) {}\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n    const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      let shadowNode = null;\n      const shadowIterator = _createNodeIterator(fragment);\n\n      /* Execute a hook if present */\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n\n        /* Deep shadow DOM detected */\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(shadowNode);\n      }\n\n      /* Execute a hook if present */\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} cfg object\n     */\n    // eslint-disable-next-line complexity\n    DOMPurify.sanitize = function (dirty) {\n      let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let body = null;\n      let importedNode = null;\n      let currentNode = null;\n      let returnNode = null;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n      IS_EMPTY_INPUT = !dirty;\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n\n      /* Stringify, in case dirty is an object */\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        if (typeof dirty.toString === 'function') {\n          dirty = dirty.toString();\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        } else {\n          throw typeErrorCreate('toString is not a function');\n        }\n      }\n\n      /* Return dirty HTML if DOMPurify cannot run */\n      if (!DOMPurify.isSupported) {\n        return dirty;\n      }\n\n      /* Assign config vars */\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n\n      /* Clean up removed elements */\n      DOMPurify.removed = [];\n\n      /* Check if dirty is correctly typed for IN_PLACE */\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          const tagName = transformCaseFunc(dirty.nodeName);\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n        if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n\n        /* Initialize the document to work on */\n        body = _initDocument(dirty);\n\n        /* Check we have a DOM node from the data */\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n\n      /* Remove first element node (ours) if FORCE_BODY is set */\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n\n      /* Get node iterator */\n      const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n      /* Now start iterating over the created document */\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n\n        /* Shadow DOM detected, sanitize it */\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n\n        /* Check attributes, sanitize if necessary */\n        _sanitizeAttributes(currentNode);\n      }\n\n      /* If we sanitized `dirty` in-place, return it. */\n      if (IN_PLACE) {\n        return dirty;\n      }\n\n      /* Return sanitized string or DOM */\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n        if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n        return returnNode;\n      }\n      let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n      /* Serialize doctype if allowed */\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n\n      /* Sanitize final string template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          serializedHTML = stringReplace(serializedHTML, expr, ' ');\n        });\n      }\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n    DOMPurify.setConfig = function () {\n      let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _parseConfig(cfg);\n      SET_CONFIG = true;\n    };\n\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {String} tag Tag name of containing element.\n     * @param  {String} attr Attribute name.\n     * @param  {String} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n      const lcTag = transformCaseFunc(tag);\n      const lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     */\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n    return DOMPurify;\n  }\n  var purify = createDOMPurify();\n  return purify;\n});\n","function tuiIsEdge(userAgent) {\n  return userAgent.toLowerCase().includes('edge');\n}\nconst EDGE = 'edge/';\nfunction tuiIsEdgeOlderThan(version, userAgent) {\n  const currentVersion = parseInt(userAgent.slice(userAgent.toLowerCase().indexOf(EDGE) + EDGE.length), 10);\n  return currentVersion < version;\n}\nfunction tuiIsFirefox(userAgent) {\n  return userAgent.toLowerCase().includes('firefox');\n}\nfunction tuiIsSafari({\n  ownerDocument: doc\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h;\n  const win = doc === null || doc === void 0 ? void 0 : doc.defaultView;\n  const isMacOsSafari = typeof win.safari !== 'undefined' && ((_b = (_a = win.safari) === null || _a === void 0 ? void 0 : _a.pushNotification) === null || _b === void 0 ? void 0 : _b.toString()) === '[object SafariRemoteNotification]';\n  const isIosSafari = !!((_d = (_c = win.navigator) === null || _c === void 0 ? void 0 : _c.vendor) === null || _d === void 0 ? void 0 : _d.includes('Apple')) && !((_f = (_e = win.navigator) === null || _e === void 0 ? void 0 : _e.userAgent) === null || _f === void 0 ? void 0 : _f.includes('CriOS')) && !((_h = (_g = win.navigator) === null || _g === void 0 ? void 0 : _g.userAgent) === null || _h === void 0 ? void 0 : _h.includes('FxiOS'));\n  return isMacOsSafari || isIosSafari;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiIsEdge, tuiIsEdgeOlderThan, tuiIsFirefox, tuiIsSafari };\n","import { tuiIsString } from '@taiga-ui/cdk/utils/miscellaneous';\nfunction makeRandomSalt() {\n  return Math.floor(Math.random() * Date.now());\n}\nfunction escapeRegExp(search) {\n  return search.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n}\nfunction extractLinearGradientIdsFromSvg(svg) {\n  var _a;\n  const ids = ((_a = svg.match(/url\\((\"?)('*)#(.*?)('*)\\)/g)) !== null && _a !== void 0 ? _a : []).map(url => url.slice(4, url.length - 1).replace(/['\"#]+/g, ''));\n  return Array.from(new Set(ids));\n}\n/**\n * @description:\n * Any ‘linearGradient’ attributes which are defined on the referenced\n * element which are not defined on this element are inherited by this element.\n * If this element has no defined gradient stops, and the referenced element does\n * (possibly due to its own ‘xlink:href’ attribute), then this element inherits\n * the gradient stop from the referenced element. Inheritance can be indirect\n * to an arbitrary level; thus, if the referenced element inherits attribute\n * or gradient stops due to its own ‘xlink:href’ attribute, then the current\n * element can inherit those attributes or gradient stops.\n *\n * Documentation: https://www.w3.org/TR/SVG11/pservers.html\n *\n */\nfunction tuiSvgLinearGradientProcessor(svg, salt = makeRandomSalt()) {\n  if (tuiIsString(svg)) {\n    const uniqueIds = extractLinearGradientIdsFromSvg(svg);\n    return uniqueIds.reduce((newSvg, previousId) => {\n      const escapedId = escapeRegExp(previousId);\n      const newId = `id_${salt}_${previousId}`;\n      return newSvg.replace(new RegExp(`\"${escapedId}\"`, 'g'), `\"${newId}\"`).replace(new RegExp(`'${escapedId}'`, 'g'), `'${newId}'`).replace(new RegExp(`url\\\\('#${escapedId}'\\\\)`, 'g'), `url('#${newId}')`).replace(new RegExp(`url\\\\(\"#${escapedId}\"\\\\)`, 'g'), `url(\"#${newId}\")`).replace(new RegExp(`url\\\\(#${escapedId}\\\\)`, 'g'), `url(#${newId})`);\n    }, svg);\n  }\n  return svg;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiSvgLinearGradientProcessor };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, Injector, Directive, Self, TemplateRef, ChangeDetectorRef, ComponentFactoryResolver, NgModule } from '@angular/core';\n\n/**\n * Use this token to access context within your components when\n * instantiating them through {@link PolymorpheusOutletDirective}\n */\nconst POLYMORPHEUS_CONTEXT = new InjectionToken('POLYMORPHEUS_CONTEXT');\n\n/**\n * Wrapper class for a component that will be used as content for {@link PolymorpheusOutletDirective}\n *\n * @param component — an Angular component to be dynamically created\n * @param injector — optional {@link Injector} for lazy loaded module case\n *\n * TODO: Remove second generic as it is irrelevant, remove `null` from injector type\n */\nclass PolymorpheusComponent {\n  constructor(component, i) {\n    this.component = component;\n    this.i = i;\n  }\n  createInjector(injector, useValue) {\n    return Injector.create({\n      parent: this.i || injector,\n      providers: [{\n        provide: POLYMORPHEUS_CONTEXT,\n        useValue\n      }]\n    });\n  }\n}\n\n/**\n * ng-template wrapper directive also stores {@link ChangeDetectorRef} to properly handle change detection.\n */\nlet PolymorpheusTemplate = /*#__PURE__*/(() => {\n  class PolymorpheusTemplate {\n    constructor(template, cdr) {\n      this.template = template;\n      this.cdr = cdr;\n      this.polymorpheus = '';\n    }\n    check() {\n      this.cdr.markForCheck();\n    }\n    static ngTemplateContextGuard(_dir, _ctx) {\n      return true;\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */PolymorpheusTemplate.ɵfac = function PolymorpheusTemplate_Factory(t) {\n    return new (t || PolymorpheusTemplate)(i0.ɵɵdirectiveInject(i0.TemplateRef, 2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  PolymorpheusTemplate.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: PolymorpheusTemplate,\n    selectors: [[\"ng-template\", \"polymorpheus\", \"\"]],\n    inputs: {\n      polymorpheus: \"polymorpheus\"\n    },\n    exportAs: [\"polymorpheus\"]\n  });\n  return PolymorpheusTemplate;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass PolymorpheusContext {\n  constructor($implicit) {\n    this.$implicit = $implicit;\n  }\n  get polymorpheusOutlet() {\n    return this.$implicit;\n  }\n}\n/**\n * @deprecated: use {@link PolymorpheusContext} instead\n * Primitive types used as content by {@link PolymorpheusOutletDirective}\n */\nclass PrimitiveContext extends PolymorpheusContext {}\nlet PolymorpheusOutletDirective = /*#__PURE__*/(() => {\n  class PolymorpheusOutletDirective {\n    constructor(vcr, i, t) {\n      this.vcr = vcr;\n      this.i = i;\n      this.t = t;\n      this.content = '';\n    }\n    get template() {\n      if (isDirective(this.content)) {\n        return this.content.template;\n      }\n      return this.content instanceof TemplateRef ? this.content : this.t;\n    }\n    ngOnChanges({\n      content\n    }) {\n      var _a;\n      const context = this.getContext();\n      (_a = this.c) === null || _a === void 0 ? void 0 : _a.injector.get(ChangeDetectorRef).markForCheck();\n      if (!content) {\n        return;\n      }\n      this.vcr.clear();\n      const proxy = context && new Proxy(context, {\n        get: (_, key) => {\n          var _a;\n          return (_a = this.getContext()) === null || _a === void 0 ? void 0 : _a[key];\n        }\n      });\n      if (isComponent(this.content)) {\n        this.process(this.content, proxy);\n      } else if (\n      // tslint:disable-next-line:triple-equals\n      (context instanceof PolymorpheusContext && context.$implicit) != null) {\n        this.vcr.createEmbeddedView(this.template, proxy);\n      }\n    }\n    ngDoCheck() {\n      if (isDirective(this.content)) {\n        this.content.check();\n      }\n    }\n    static ngTemplateContextGuard(_dir, _ctx) {\n      return true;\n    }\n    getContext() {\n      if (isTemplate(this.content) || isComponent(this.content)) {\n        return this.context;\n      }\n      return new PolymorpheusContext(typeof this.content === 'function' ? this.content(this.context) : this.content);\n    }\n    process(content, proxy) {\n      const injector = content.createInjector(this.i, proxy);\n      this.c = this.vcr.createComponent(injector.get(ComponentFactoryResolver).resolveComponentFactory(content.component), 0, injector);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */PolymorpheusOutletDirective.ɵfac = function PolymorpheusOutletDirective_Factory(t) {\n    return new (t || PolymorpheusOutletDirective)(i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i0.TemplateRef));\n  };\n  PolymorpheusOutletDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: PolymorpheusOutletDirective,\n    selectors: [[\"\", \"polymorpheusOutlet\", \"\"]],\n    inputs: {\n      content: [0, \"polymorpheusOutlet\", \"content\"],\n      context: [0, \"polymorpheusOutletContext\", \"context\"]\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return PolymorpheusOutletDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction isDirective(content) {\n  return content instanceof PolymorpheusTemplate;\n}\nfunction isComponent(content) {\n  return content instanceof PolymorpheusComponent;\n}\nfunction isTemplate(content) {\n  return isDirective(content) || content instanceof TemplateRef;\n}\nlet PolymorpheusModule = /*#__PURE__*/(() => {\n  class PolymorpheusModule {}\n  /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */PolymorpheusModule.ɵfac = function PolymorpheusModule_Factory(t) {\n    return new (t || PolymorpheusModule)();\n  };\n  PolymorpheusModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PolymorpheusModule\n  });\n  PolymorpheusModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return PolymorpheusModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Public API Surface of ng-polymorpheus\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { POLYMORPHEUS_CONTEXT, PolymorpheusComponent, PolymorpheusModule, PolymorpheusOutletDirective, PolymorpheusTemplate };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, Input, HostBinding, Output, Optional, Inject, Injectable, TemplateRef, ChangeDetectorRef, ComponentFactoryResolver, Injector, INJECTOR, ElementRef, ViewContainerRef, ViewChild } from '@angular/core';\nimport * as i1 from '@angular/forms';\nimport { NgModel } from '@angular/forms';\nimport { tuiAssert } from '@taiga-ui/cdk/classes';\nimport { EMPTY_FUNCTION } from '@taiga-ui/cdk/constants';\nimport { tuiIsPresent } from '@taiga-ui/cdk/utils';\nimport { Subject, merge, Observable, BehaviorSubject } from 'rxjs';\nimport { delay, startWith, map, filter, distinctUntilChanged, switchMap, takeUntil, ignoreElements, endWith, share } from 'rxjs/operators';\nimport { tuiIfMap } from '@taiga-ui/cdk/observables';\nimport { PolymorpheusTemplate } from '@tinkoff/ng-polymorpheus';\nimport * as i1$1 from '@taiga-ui/cdk/services';\nimport { TuiIdService } from '@taiga-ui/cdk/services';\nimport { TuiNoHostException } from '@taiga-ui/cdk/exceptions';\nimport { DOCUMENT } from '@angular/common';\nconst _c0 = [\"viewContainer\"];\nconst TUI = 'tui_interactive_';\n/**\n * The most basic class for interactive components\n */\nlet AbstractTuiInteractive = /*#__PURE__*/(() => {\n  class AbstractTuiInteractive {\n    constructor() {\n      this.pseudoHover = null;\n      this.pseudoActive = null;\n      this.pseudoFocus = null;\n      /**\n       * Determines if component is focusable with keyboard.\n       */\n      this.focusable = true;\n      this.nativeId = '';\n      /**\n       * Emits 'true' on focus and 'false' on blur.\n       */\n      this.focusedChange = new EventEmitter();\n      this.focusVisibleChange = new EventEmitter();\n      this.focusVisible = false;\n      this.autoIdString = `${TUI}${AbstractTuiInteractive.autoId++}${Date.now()}`;\n    }\n    get computedDisabled() {\n      return this.disabled;\n    }\n    get computedFocusable() {\n      return !this.computedDisabled && (this.focusable || this.focused);\n    }\n    get computedFocused() {\n      var _a;\n      return !this.computedDisabled && ((_a = this.pseudoFocus) !== null && _a !== void 0 ? _a : this.focused);\n    }\n    get computedFocusVisible() {\n      var _a;\n      return !this.computedDisabled && ((_a = this.pseudoFocus) !== null && _a !== void 0 ? _a : this.focusVisible);\n    }\n    // TODO: 3.0 Consider removing since native input is exposed\n    get id() {\n      return this.nativeId || this.autoIdString;\n    }\n    updateFocused(focused) {\n      this.focusedChange.emit(focused);\n    }\n    updateFocusVisible(focusVisible) {\n      if (this.focusVisible === focusVisible) {\n        return;\n      }\n      this.focusVisible = focusVisible;\n      this.focusVisibleChange.emit(focusVisible);\n    }\n  }\n  AbstractTuiInteractive.autoId = 0;\n  AbstractTuiInteractive.ɵfac = function AbstractTuiInteractive_Factory(t) {\n    return new (t || AbstractTuiInteractive)();\n  };\n  AbstractTuiInteractive.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiInteractive,\n    hostVars: 7,\n    hostBindings: function AbstractTuiInteractive_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-focused\", ctx.pseudoFocus);\n        i0.ɵɵclassProp(\"_disabled\", ctx.computedDisabled)(\"_focused\", ctx.computedFocused)(\"_focus-visible\", ctx.computedFocusVisible);\n      }\n    },\n    inputs: {\n      pseudoHover: \"pseudoHover\",\n      pseudoActive: \"pseudoActive\",\n      pseudoFocus: \"pseudoFocus\",\n      focusable: \"focusable\",\n      nativeId: \"nativeId\"\n    },\n    outputs: {\n      focusedChange: \"focusedChange\",\n      focusVisibleChange: \"focusVisibleChange\"\n    }\n  });\n  return AbstractTuiInteractive;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass AbstractTuiValueTransformer {}\n\n/**\n * Basic ControlValueAccessor class to build form components upon\n */\nlet AbstractTuiControl = /*#__PURE__*/(() => {\n  class AbstractTuiControl extends AbstractTuiInteractive {\n    constructor(ngControl, cdr, valueTransformer) {\n      super();\n      this.ngControl = ngControl;\n      this.cdr = cdr;\n      this.valueTransformer = valueTransformer;\n      this.refresh$ = new Subject();\n      this.onTouched = EMPTY_FUNCTION;\n      this.onChange = EMPTY_FUNCTION;\n      this.fallbackValue = this.getFallbackValue();\n      this.destroy$ = new Subject();\n      this.readOnly = false;\n      this.pseudoInvalid = null;\n      if (ngDevMode && this.ngControl === null) {\n        tuiAssert.assert(false, `NgControl not injected in ${this.constructor.name}!\\n`, 'Use [(ngModel)] or [formControl] or formControlName for correct work.');\n      }\n      if (this.ngControl) {\n        this.ngControl.valueAccessor = this;\n      }\n    }\n    get computedInvalid() {\n      return this.interactive && (this.pseudoInvalid !== null ? this.pseudoInvalid : this.touched && this.invalid);\n    }\n    get value() {\n      var _a;\n      return (_a = this.previousInternalValue) !== null && _a !== void 0 ? _a : this.fallbackValue;\n    }\n    set value(value) {\n      this.updateValue(value);\n    }\n    get safeCurrentValue() {\n      var _a;\n      return (_a = this.rawValue) !== null && _a !== void 0 ? _a : this.fallbackValue;\n    }\n    get invalid() {\n      return this.safeNgControlData(({\n        invalid\n      }) => invalid, false);\n    }\n    get valid() {\n      return this.safeNgControlData(({\n        valid\n      }) => valid, false);\n    }\n    get touched() {\n      return this.safeNgControlData(({\n        touched\n      }) => touched, false);\n    }\n    get disabled() {\n      return this.safeNgControlData(({\n        disabled\n      }) => disabled, false);\n    }\n    get interactive() {\n      return !this.readOnly && !this.computedDisabled;\n    }\n    get control() {\n      return this.safeNgControlData(({\n        control\n      }) => control, null);\n    }\n    get computedName() {\n      var _a, _b;\n      return (_b = (_a = this.controlName) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : null;\n    }\n    get controlName() {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = this.ngControl) === null || _a === void 0 ? void 0 : _a.name) === null || _b === void 0 ? void 0 : _b.toString()) !== null && _c !== void 0 ? _c : null;\n    }\n    get rawValue() {\n      const {\n        ngControl\n      } = this;\n      if (ngControl === null) {\n        return undefined;\n      }\n      const controlValue = ngControl instanceof NgModel && this.previousInternalValue === undefined ? ngControl.viewModel : ngControl.value;\n      return this.fromControlValue(controlValue);\n    }\n    ngOnInit() {\n      this.refresh$.pipe(delay(0), startWith(null), map(() => {\n        var _a;\n        return (_a = this.ngControl) === null || _a === void 0 ? void 0 : _a.control;\n      }), filter(tuiIsPresent), distinctUntilChanged(), switchMap(control => merge(control.valueChanges, control.statusChanges)), takeUntil(this.destroy$)).subscribe(() => {\n        this.refreshLocalValue(this.safeCurrentValue);\n      });\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    checkControlUpdate() {\n      this.cdr.markForCheck();\n    }\n    registerOnChange(onChange) {\n      this.onChange = componentValue => {\n        onChange(this.toControlValue(componentValue));\n      };\n      this.refresh$.next();\n    }\n    registerOnTouched(onTouched) {\n      this.onTouched = onTouched;\n    }\n    setDisabledState() {\n      this.checkControlUpdate();\n    }\n    writeValue(value) {\n      const controlValue = this.ngControl instanceof NgModel && this.previousInternalValue === undefined ? this.ngControl.model : value;\n      this.refreshLocalValue(this.fromControlValue(controlValue));\n    }\n    updateFocused(focused) {\n      if (!focused) {\n        this.controlMarkAsTouched();\n      }\n      super.updateFocused(focused);\n    }\n    /**\n     * @deprecated use `value` setter\n     */\n    updateValue(value) {\n      if (this.disabled || this.valueIdenticalComparator(this.value, value)) {\n        return;\n      }\n      this.previousInternalValue = value;\n      this.controlSetValue(value);\n    }\n    valueIdenticalComparator(oldValue, newValue) {\n      return oldValue === newValue;\n    }\n    safeNgControlData(extractor, defaultFieldValue) {\n      var _a;\n      return (_a = this.ngControl && extractor(this.ngControl)) !== null && _a !== void 0 ? _a : defaultFieldValue;\n    }\n    controlMarkAsTouched() {\n      this.onTouched();\n      this.checkControlUpdate();\n    }\n    controlSetValue(value) {\n      this.onChange(value);\n      this.checkControlUpdate();\n    }\n    refreshLocalValue(value) {\n      this.previousInternalValue = value;\n      this.checkControlUpdate();\n    }\n    fromControlValue(controlValue) {\n      return this.valueTransformer ? this.valueTransformer.fromControlValue(controlValue) : controlValue;\n    }\n    toControlValue(componentValue) {\n      return this.valueTransformer ? this.valueTransformer.toControlValue(componentValue) : componentValue;\n    }\n  }\n  AbstractTuiControl.ɵfac = function AbstractTuiControl_Factory(t) {\n    return new (t || AbstractTuiControl)(i0.ɵɵdirectiveInject(i1.NgControl, 8), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(AbstractTuiValueTransformer, 8));\n  };\n  AbstractTuiControl.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiControl,\n    hostVars: 4,\n    hostBindings: function AbstractTuiControl_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_readonly\", ctx.readOnly)(\"_invalid\", ctx.computedInvalid);\n      }\n    },\n    inputs: {\n      readOnly: \"readOnly\",\n      pseudoInvalid: \"pseudoInvalid\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return AbstractTuiControl;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction tuiAsControl(useExisting) {\n  return {\n    provide: AbstractTuiControl,\n    useExisting\n  };\n}\nlet AbstractTuiController = /*#__PURE__*/(() => {\n  class AbstractTuiController {\n    constructor() {\n      this.change$ = new Subject();\n    }\n    ngOnChanges() {\n      this.change$.next();\n    }\n  }\n  AbstractTuiController.ɵfac = function AbstractTuiController_Factory(t) {\n    return new (t || AbstractTuiController)();\n  };\n  AbstractTuiController.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiController,\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return AbstractTuiController;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiDialogService = /*#__PURE__*/(() => {\n  class AbstractTuiDialogService extends Observable {\n    constructor(idService) {\n      super(observer => this.dialogs$.subscribe(observer));\n      this.idService = idService;\n      this.dialogs$ = new BehaviorSubject([]);\n    }\n    open(content, options = {}) {\n      return new Observable(observer => {\n        const completeWith = result => {\n          observer.next(result);\n          observer.complete();\n        };\n        const dialog = Object.assign(Object.assign(Object.assign({}, this.defaultOptions), options), {\n          content,\n          completeWith,\n          $implicit: observer,\n          component: this.component,\n          createdAt: Date.now(),\n          id: this.idService.generate()\n        });\n        this.dialogs$.next([...this.dialogs$.value, dialog]);\n        return () => {\n          this.dialogs$.next(this.dialogs$.value.filter(item => item !== dialog));\n        };\n      });\n    }\n  }\n  AbstractTuiDialogService.ɵfac = function AbstractTuiDialogService_Factory(t) {\n    return new (t || AbstractTuiDialogService)(i0.ɵɵinject(TuiIdService));\n  };\n  AbstractTuiDialogService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AbstractTuiDialogService,\n    factory: AbstractTuiDialogService.ɵfac\n  });\n  return AbstractTuiDialogService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiDialogDirective = /*#__PURE__*/(() => {\n  class AbstractTuiDialogDirective extends PolymorpheusTemplate {\n    constructor(templateRef, cdr, service) {\n      super(templateRef, cdr);\n      this.service = service;\n      this.open$ = new Subject();\n      this.options = {};\n      this.open = false;\n      this.openChange = this.open$.pipe(distinctUntilChanged(), tuiIfMap(() => this.service.open(this, this.options).pipe(ignoreElements(), endWith(false))), share());\n    }\n    ngOnChanges() {\n      this.open$.next(this.open);\n    }\n  }\n  AbstractTuiDialogDirective.ɵfac = function AbstractTuiDialogDirective_Factory(t) {\n    return new (t || AbstractTuiDialogDirective)(i0.ɵɵdirectiveInject(TemplateRef), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(AbstractTuiDialogService));\n  };\n  AbstractTuiDialogDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiDialogDirective,\n    features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return AbstractTuiDialogDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiMultipleControl = /*#__PURE__*/(() => {\n  class AbstractTuiMultipleControl extends AbstractTuiControl {\n    clear() {\n      this.value = [];\n    }\n    getFallbackValue() {\n      return [];\n    }\n  }\n  AbstractTuiMultipleControl.ɵfac = /* @__PURE__ */(() => {\n    let ɵAbstractTuiMultipleControl_BaseFactory;\n    return function AbstractTuiMultipleControl_Factory(t) {\n      return (ɵAbstractTuiMultipleControl_BaseFactory || (ɵAbstractTuiMultipleControl_BaseFactory = i0.ɵɵgetInheritedFactory(AbstractTuiMultipleControl)))(t || AbstractTuiMultipleControl);\n    };\n  })();\n  AbstractTuiMultipleControl.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiMultipleControl,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return AbstractTuiMultipleControl;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiNullableControl = /*#__PURE__*/(() => {\n  class AbstractTuiNullableControl extends AbstractTuiControl {\n    getFallbackValue() {\n      return null;\n    }\n  }\n  AbstractTuiNullableControl.ɵfac = /* @__PURE__ */(() => {\n    let ɵAbstractTuiNullableControl_BaseFactory;\n    return function AbstractTuiNullableControl_Factory(t) {\n      return (ɵAbstractTuiNullableControl_BaseFactory || (ɵAbstractTuiNullableControl_BaseFactory = i0.ɵɵgetInheritedFactory(AbstractTuiNullableControl)))(t || AbstractTuiNullableControl);\n    };\n  })();\n  AbstractTuiNullableControl.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiNullableControl,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return AbstractTuiNullableControl;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Abstract service for displaying portals\n */\nlet AbstractTuiPortalService = /*#__PURE__*/(() => {\n  class AbstractTuiPortalService {\n    get safeHost() {\n      if (!this.host) {\n        throw new TuiNoHostException();\n      }\n      return this.host;\n    }\n    attach(host) {\n      this.host = host;\n    }\n    add(component) {\n      return this.safeHost.addComponentChild(component);\n    }\n    remove({\n      hostView\n    }) {\n      if (!hostView.destroyed) {\n        hostView.destroy();\n      }\n    }\n    addTemplate(templateRef, context) {\n      return this.safeHost.addTemplateChild(templateRef, context);\n    }\n    removeTemplate(viewRef) {\n      if (!viewRef.destroyed) {\n        viewRef.destroy();\n      }\n    }\n  }\n  AbstractTuiPortalService.ɵfac = function AbstractTuiPortalService_Factory(t) {\n    return new (t || AbstractTuiPortalService)();\n  };\n  AbstractTuiPortalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AbstractTuiPortalService,\n    factory: AbstractTuiPortalService.ɵfac\n  });\n  return AbstractTuiPortalService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Abstract class for host element for dynamically created portals.\n */\nlet AbstractTuiPortalHostComponent = /*#__PURE__*/(() => {\n  class AbstractTuiPortalHostComponent {\n    constructor(injector, el, portalService) {\n      this.injector = injector;\n      this.el = el;\n      portalService.attach(this);\n    }\n    /** @deprecated unused, will be removed in 4.0 **/\n    get clientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n    addComponentChild(component) {\n      const parent = component.createInjector(this.injector);\n      const resolver = parent.get(ComponentFactoryResolver);\n      const factory = resolver.resolveComponentFactory(component.component);\n      // TODO: Remove in 4.0\n      const providers = [{\n        provide: AbstractTuiPortalHostComponent,\n        useValue: this\n      }];\n      const injector = Injector.create({\n        parent,\n        providers\n      });\n      const ref = this.vcr.createComponent(factory, undefined, injector);\n      ref.changeDetectorRef.detectChanges();\n      return ref;\n    }\n    addTemplateChild(templateRef, context) {\n      return this.vcr.createEmbeddedView(templateRef, context);\n    }\n  }\n  AbstractTuiPortalHostComponent.ɵfac = function AbstractTuiPortalHostComponent_Factory(t) {\n    return new (t || AbstractTuiPortalHostComponent)(i0.ɵɵdirectiveInject(INJECTOR), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(AbstractTuiPortalService));\n  };\n  AbstractTuiPortalHostComponent.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiPortalHostComponent,\n    viewQuery: function AbstractTuiPortalHostComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ViewContainerRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vcr = _t.first);\n      }\n    }\n  });\n  return AbstractTuiPortalHostComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Use this abstract class to create your own toggleable themes.\n * A component extending this class must have CSS variables definitions\n * and have ViewEncapsulation set to NONE. A boolean input allows to\n * switch theme on or off.\n */\nlet AbstractTuiThemeSwitcher = /*#__PURE__*/(() => {\n  class AbstractTuiThemeSwitcher {\n    constructor(doc) {\n      this.doc = doc;\n      if (this.style !== null) {\n        this.addTheme();\n        return;\n      }\n      const styles = this.doc.head.querySelectorAll('style');\n      this.constructor.style = styles[styles.length - 1];\n    }\n    get style() {\n      return this.constructor.style;\n    }\n    ngOnDestroy() {\n      this.removeTheme();\n    }\n    addTheme() {\n      if (this.style) {\n        this.doc.head.appendChild(this.style);\n      }\n    }\n    removeTheme() {\n      var _a;\n      (_a = this.style) === null || _a === void 0 ? void 0 : _a.remove();\n    }\n  }\n  AbstractTuiThemeSwitcher.style = null;\n  AbstractTuiThemeSwitcher.ɵfac = function AbstractTuiThemeSwitcher_Factory(t) {\n    return new (t || AbstractTuiThemeSwitcher)(i0.ɵɵdirectiveInject(DOCUMENT));\n  };\n  AbstractTuiThemeSwitcher.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiThemeSwitcher\n  });\n  return AbstractTuiThemeSwitcher;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiControl, AbstractTuiController, AbstractTuiDialogDirective, AbstractTuiDialogService, AbstractTuiInteractive, AbstractTuiMultipleControl, AbstractTuiNullableControl, AbstractTuiPortalHostComponent, AbstractTuiPortalService, AbstractTuiThemeSwitcher, AbstractTuiValueTransformer, tuiAsControl };\n","/**\n * Coerces a data-bound value (typically a string) to a boolean.\n * @example {@link https://material.angular.io/cdk/coercion/api#functions}\n */\nfunction tuiCoerceBooleanProperty(value) {\n  return value !== null && typeof value !== 'undefined' && `${value}` !== 'false';\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiCoerceBooleanProperty };\n","import * as i0 from '@angular/core';\nimport { Pipe, NgModule } from '@angular/core';\nlet TuiMapperPipe = /*#__PURE__*/(() => {\n  class TuiMapperPipe {\n    transform(value, mapper, ...args) {\n      return mapper(value, ...args);\n    }\n  }\n  TuiMapperPipe.ɵfac = function TuiMapperPipe_Factory(t) {\n    return new (t || TuiMapperPipe)();\n  };\n  TuiMapperPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiMapper\",\n    type: TuiMapperPipe,\n    pure: true\n  });\n  return TuiMapperPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiMapperPipeModule = /*#__PURE__*/(() => {\n  class TuiMapperPipeModule {}\n  TuiMapperPipeModule.ɵfac = function TuiMapperPipeModule_Factory(t) {\n    return new (t || TuiMapperPipeModule)();\n  };\n  TuiMapperPipeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiMapperPipeModule\n  });\n  TuiMapperPipeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiMapperPipeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiMapperPipe, TuiMapperPipeModule };\n","import * as i0 from '@angular/core';\nimport { NgZone, ElementRef, Directive, Inject, Self, Input, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { ANIMATION_FRAME } from '@ng-web-apis/common';\nimport { tuiTypedFromEvent, tuiZonefree, tuiScrollFrom, tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { TUI_SCROLL_REF } from '@taiga-ui/cdk/tokens';\nimport { map, switchMap, takeUntil, throttleTime, startWith, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1$1 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { POLLING_TIME } from '@taiga-ui/cdk/constants';\nimport { TuiDestroyService } from '@taiga-ui/cdk/services';\nimport * as i1 from 'rxjs';\nimport { merge } from 'rxjs';\nfunction TuiScrollControlsComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵclassProp(\"t-bar_has-horizontal\", bars_r1[1]);\n  }\n}\nfunction TuiScrollControlsComponent_ng_container_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵclassProp(\"t-bar_has-vertical\", bars_r1[0]);\n  }\n}\nfunction TuiScrollControlsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiScrollControlsComponent_ng_container_0_div_1_Template, 2, 2, \"div\", 1)(2, TuiScrollControlsComponent_ng_container_0_div_2_Template, 2, 2, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bars_r1 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", bars_r1[0]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", bars_r1[1]);\n  }\n}\nconst MIN_WIDTH = 24;\nfunction getOffsetVertical({\n  clientY\n}, {\n  top,\n  height\n}) {\n  return (clientY - top) / height;\n}\nfunction getOffsetHorizontal({\n  clientX\n}, {\n  left,\n  width\n}) {\n  return (clientX - left) / width;\n}\nlet TuiScrollbarDirective = /*#__PURE__*/(() => {\n  class TuiScrollbarDirective {\n    constructor(zone, destroy$, animationFrame$, container, doc, el) {\n      this.container = container;\n      this.doc = doc;\n      this.el = el;\n      this.tuiScrollbar = 'vertical';\n      const {\n        nativeElement\n      } = this.el;\n      const mousedown$ = tuiTypedFromEvent(nativeElement, 'mousedown');\n      const mousemove$ = tuiTypedFromEvent(this.doc, 'mousemove');\n      const mouseup$ = tuiTypedFromEvent(this.doc, 'mouseup');\n      const mousedownWrapper$ = tuiTypedFromEvent(this.wrapper, 'mousedown');\n      merge(mousedownWrapper$.pipe(map(event => this.getScrolled(event, 0.5, 0.5))), mousedown$.pipe(switchMap(event => {\n        const rect = nativeElement.getBoundingClientRect();\n        const vertical = getOffsetVertical(event, rect);\n        const horizontal = getOffsetHorizontal(event, rect);\n        return mousemove$.pipe(map(event => this.getScrolled(event, vertical, horizontal)), takeUntil(mouseup$));\n      }))).pipe(tuiZonefree(zone), takeUntil(destroy$)).subscribe(([scrollTop, scrollLeft]) => {\n        this.element.style.scrollBehavior = 'auto';\n        if (this.tuiScrollbar === 'vertical') {\n          this.element.scrollTop = scrollTop;\n        } else {\n          this.element.scrollLeft = scrollLeft;\n        }\n        this.element.style.scrollBehavior = '';\n      });\n      merge(animationFrame$.pipe(throttleTime(POLLING_TIME)), tuiScrollFrom(this.element)).pipe(tuiZonefree(zone), takeUntil(destroy$)).subscribe(() => {\n        if (this.tuiScrollbar === 'vertical') {\n          nativeElement.style.top = `${this.thumb * 100}%`;\n          nativeElement.style.height = `${this.view * 100}%`;\n        } else {\n          nativeElement.style.left = `${this.thumb * 100}%`;\n          nativeElement.style.width = `${this.view * 100}%`;\n        }\n      });\n    }\n    get wrapper() {\n      return this.el.nativeElement.parentElement;\n    }\n    get scrolled() {\n      const {\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n        scrollLeft,\n        scrollWidth,\n        clientWidth\n      } = this.element;\n      return this.tuiScrollbar === 'vertical' ? scrollTop / (scrollHeight - clientHeight) : scrollLeft / (scrollWidth - clientWidth);\n    }\n    get compensation() {\n      const {\n        clientHeight,\n        scrollHeight,\n        clientWidth,\n        scrollWidth\n      } = this.element;\n      if (clientHeight * clientHeight / scrollHeight > MIN_WIDTH && this.tuiScrollbar === 'vertical' || clientWidth * clientWidth / scrollWidth > MIN_WIDTH && this.tuiScrollbar === 'horizontal') {\n        return 0;\n      }\n      return this.tuiScrollbar === 'vertical' ? MIN_WIDTH / clientHeight : MIN_WIDTH / clientWidth;\n    }\n    get thumb() {\n      const compensation = this.compensation || this.view;\n      return this.scrolled * (1 - compensation);\n    }\n    get view() {\n      const {\n        clientHeight,\n        scrollHeight,\n        clientWidth,\n        scrollWidth\n      } = this.element;\n      return this.tuiScrollbar === 'vertical' ? Math.ceil(clientHeight / scrollHeight * 100) / 100 : Math.ceil(clientWidth / scrollWidth * 100) / 100;\n    }\n    get element() {\n      return this.container.nativeElement;\n    }\n    getScrolled({\n      clientY,\n      clientX\n    }, offsetVertical, offsetHorizontal) {\n      const {\n        offsetHeight,\n        offsetWidth\n      } = this.el.nativeElement;\n      const {\n        top,\n        left,\n        width,\n        height\n      } = this.wrapper.getBoundingClientRect();\n      const maxTop = this.element.scrollHeight - height;\n      const maxLeft = this.element.scrollWidth - width;\n      const scrolledTop = (clientY - top - offsetHeight * offsetVertical) / (height - offsetHeight);\n      const scrolledLeft = (clientX - left - offsetWidth * offsetHorizontal) / (width - offsetWidth);\n      return [maxTop * scrolledTop, maxLeft * scrolledLeft];\n    }\n  }\n  TuiScrollbarDirective.ɵfac = function TuiScrollbarDirective_Factory(t) {\n    return new (t || TuiScrollbarDirective)(i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(ANIMATION_FRAME), i0.ɵɵdirectiveInject(TUI_SCROLL_REF), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiScrollbarDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollbarDirective,\n    selectors: [[\"\", \"tuiScrollbar\", \"\"]],\n    inputs: {\n      tuiScrollbar: \"tuiScrollbar\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiScrollbarDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollControlsComponent = /*#__PURE__*/(() => {\n  class TuiScrollControlsComponent {\n    constructor(zone, scrollRef, animationFrame$) {\n      this.zone = zone;\n      this.scrollRef = scrollRef;\n      this.animationFrame$ = animationFrame$;\n      this.refresh$ = this.animationFrame$.pipe(throttleTime(300), map(() => this.scrollbars), startWith([false, false]), distinctUntilChanged((a, b) => a[0] === b[0] && a[1] === b[1]), tuiZoneOptimized(this.zone));\n    }\n    get scrollbars() {\n      const {\n        clientHeight,\n        scrollHeight,\n        clientWidth,\n        scrollWidth\n      } = this.scrollRef.nativeElement;\n      return [Math.ceil(clientHeight / scrollHeight * 100) < 100, Math.ceil(clientWidth / scrollWidth * 100) < 100];\n    }\n  }\n  TuiScrollControlsComponent.ɵfac = function TuiScrollControlsComponent_Factory(t) {\n    return new (t || TuiScrollControlsComponent)(i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(TUI_SCROLL_REF), i0.ɵɵdirectiveInject(ANIMATION_FRAME));\n  };\n  TuiScrollControlsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiScrollControlsComponent,\n    selectors: [[\"tui-scroll-controls\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"t-bar t-bar_vertical\", 3, \"t-bar_has-horizontal\", 4, \"ngIf\"], [\"class\", \"t-bar t-bar_horizontal\", 3, \"t-bar_has-vertical\", 4, \"ngIf\"], [1, \"t-bar\", \"t-bar_vertical\"], [\"tuiScrollbar\", \"vertical\", 1, \"t-thumb\"], [1, \"t-bar\", \"t-bar_horizontal\"], [\"tuiScrollbar\", \"horizontal\", 1, \"t-thumb\"]],\n    template: function TuiScrollControlsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiScrollControlsComponent_ng_container_0_Template, 3, 2, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.refresh$));\n      }\n    },\n    dependencies: [i1$1.NgIf, TuiScrollbarDirective, i1$1.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{position:-webkit-sticky;position:sticky;top:0;left:0;z-index:1;min-width:calc(100% - 1px);min-height:calc(100% - 1px);max-width:calc(100% - 1px);max-height:calc(100% - 1px);float:left;-webkit-margin-end:calc(-100% + 1px);margin-inline-end:calc(-100% + 1px);pointer-events:none}.t-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;pointer-events:auto;animation:tuiFadeIn var(--tui-duration, .3s) ease-in-out}.t-bar_vertical[_ngcontent-%COMP%]{top:0;width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]{left:0;height:.875rem}.t-bar_has-horizontal[_ngcontent-%COMP%]{bottom:.5rem}.t-bar_has-vertical[_ngcontent-%COMP%]{right:.5rem}.t-thumb[_ngcontent-%COMP%]{position:absolute;border-radius:6.25rem;border:.25rem solid transparent;cursor:pointer;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;background:currentColor;background-clip:content-box;box-sizing:border-box;transition:all var(--tui-duration, .3s) ease-in-out;transition-property:width,height,opacity;opacity:.2}.t-thumb[_ngcontent-%COMP%]:hover{opacity:.24}.t-thumb[_ngcontent-%COMP%]:active{opacity:.48}.t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{right:0;width:.75rem;min-height:1.25rem}.t-bar_vertical[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_vertical[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{width:.875rem}.t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]{bottom:0;height:.75rem;min-width:1.25rem}.t-bar_horizontal[_ngcontent-%COMP%]:hover   .t-thumb[_ngcontent-%COMP%], .t-bar_horizontal[_ngcontent-%COMP%]   .t-thumb[_ngcontent-%COMP%]:active{height:.875rem}\"],\n    changeDetection: 0\n  });\n  return TuiScrollControlsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst SCROLL_REF_SELECTOR = '[tuiScrollRef]';\nlet TuiScrollRefDirective = /*#__PURE__*/(() => {\n  class TuiScrollRefDirective {}\n  TuiScrollRefDirective.ɵfac = function TuiScrollRefDirective_Factory(t) {\n    return new (t || TuiScrollRefDirective)();\n  };\n  TuiScrollRefDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollRefDirective,\n    selectors: [[\"\", \"tuiScrollRef\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_SCROLL_REF,\n      useExisting: ElementRef\n    }])]\n  });\n  return TuiScrollRefDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollControlsModule = /*#__PURE__*/(() => {\n  class TuiScrollControlsModule {}\n  TuiScrollControlsModule.ɵfac = function TuiScrollControlsModule_Factory(t) {\n    return new (t || TuiScrollControlsModule)();\n  };\n  TuiScrollControlsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiScrollControlsModule\n  });\n  TuiScrollControlsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiScrollControlsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SCROLL_REF_SELECTOR, TuiScrollControlsComponent, TuiScrollControlsModule, TuiScrollRefDirective, TuiScrollbarDirective };\n","import { tuiAssert } from '@taiga-ui/cdk/classes';\nimport { TuiPureException } from '@taiga-ui/cdk/exceptions';\n\n/**\n * @deprecated:\n * not compatible with TypeScript 5\n */\nfunction tuiDebounce(timeout) {\n  let timeoutRef;\n  return function (_target, _key, descriptor) {\n    const {\n      value\n    } = descriptor;\n    descriptor.value = function (...args) {\n      clearTimeout(timeoutRef);\n      timeoutRef = setTimeout(() => value.apply(this, args), timeout);\n    };\n    return descriptor;\n  };\n}\nfunction errorGetDefault(key, component) {\n  return `Default value for ${String(key)} was not provided in ${component}, error in Taiga UI Angular Kit`;\n}\nfunction errorSetDefault(key, component) {\n  return `Undefined was passed as ${String(key)} to ${component}, which is invalid input, using default value:`;\n}\nfunction errorSetDefaultInitial(key, component) {\n  return `Undefined was passed as default value for ${String(key)} to ${component}, error in Taiga UI Angular Kit`;\n}\n/**\n * @deprecated:\n * not compatible with TypeScript 5\n *\n * Decorator for checking input values for undefined. You can also pass\n * optional assertion to check input against.\n *\n * CAUTION: This decorator overwrites other getters and setters.\n */\nfunction tuiDefaultProp(assertion, ...args) {\n  return (target, key) => {\n    const {\n      name\n    } = target.constructor;\n    const errorGetDefaultMessage = ngDevMode && errorGetDefault(key, name);\n    const errorSetDefaultMessage = ngDevMode && errorSetDefault(key, name);\n    Object.defineProperty(target, key, {\n      configurable: true,\n      get() {\n        ngDevMode && tuiAssert.assert(false, errorGetDefaultMessage);\n        return undefined;\n      },\n      set(initialValue) {\n        const isValid = initialValue !== undefined;\n        const errorMessage = ngDevMode && errorSetDefaultInitial(key, name);\n        let currentValue = initialValue;\n        ngDevMode && tuiAssert.assert(isValid, errorMessage);\n        if (ngDevMode && isValid && assertion && tuiAssert) {\n          tuiAssert.assert(assertion.call(this, initialValue), `${String(key)} in ${name} received:`, initialValue, ...args);\n        }\n        Object.defineProperty(this, key, {\n          configurable: true,\n          get() {\n            return currentValue;\n          },\n          set(value) {\n            const isValid = value !== undefined;\n            const backupValue = initialValue;\n            ngDevMode && tuiAssert.assert(isValid, errorSetDefaultMessage, String(backupValue));\n            if (ngDevMode && isValid && assertion && tuiAssert) {\n              tuiAssert.assert(assertion.call(this, value), `${String(key)} in ${name} received:`, value, ...args);\n            }\n            currentValue = isValid ? value : backupValue;\n          }\n        });\n      }\n    });\n  };\n}\nfunction decorateMethod(originalMethod) {\n  let previousArgs = [];\n  let originalFnWasCalledLeastAtOnce = false;\n  let pureValue;\n  return function tuiPureMethodPatched(...args) {\n    const isPure = originalFnWasCalledLeastAtOnce && previousArgs.length === args.length && args.every((arg, index) => arg === previousArgs[index]);\n    if (isPure) {\n      return pureValue;\n    }\n    previousArgs = args;\n    pureValue = originalMethod.apply(this, args);\n    originalFnWasCalledLeastAtOnce = true;\n    return pureValue;\n  };\n}\nfunction decorateGetter(originalGetter, propertyKey, enumerable = true) {\n  return function tuiPureGetterPatched() {\n    const value = originalGetter.call(this);\n    Object.defineProperty(this, propertyKey, {\n      enumerable,\n      value\n    });\n    return value;\n  };\n}\nfunction tuiPure(target, propertyKeyOrContext, descriptor) {\n  if (typeof target === 'function') {\n    const context = propertyKeyOrContext;\n    if (context.kind === 'getter') {\n      return decorateGetter(target, context.name);\n    }\n    if (context.kind === 'method') {\n      return decorateMethod(target);\n    }\n    throw new TuiPureException();\n  }\n  const {\n    get,\n    enumerable,\n    value\n  } = descriptor;\n  const propertyKey = propertyKeyOrContext;\n  if (get) {\n    return {\n      configurable: true,\n      enumerable,\n      get: decorateGetter(get, propertyKey, enumerable)\n    };\n  }\n  if (typeof value !== 'function') {\n    throw new TuiPureException();\n  }\n  const original = value;\n  return {\n    configurable: true,\n    enumerable,\n    get() {\n      let previousArgs = [];\n      let originalFnWasCalledLeastAtOnce = false;\n      let pureValue;\n      const patched = (...args) => {\n        const isPure = originalFnWasCalledLeastAtOnce && previousArgs.length === args.length && args.every((arg, index) => arg === previousArgs[index]);\n        if (isPure) {\n          return pureValue;\n        }\n        previousArgs = args;\n        pureValue = original.apply(this, args);\n        originalFnWasCalledLeastAtOnce = true;\n        return pureValue;\n      };\n      Object.defineProperty(this, propertyKey, {\n        configurable: true,\n        value: patched\n      });\n      return patched;\n    }\n  };\n}\nfunction errorSet(key, component) {\n  return `Undefined was passed as ${String(key)} to ${component}, setter will not be called`;\n}\n/**\n * @deprecated:\n * not compatible with TypeScript 5\n *\n * Decorator for checking input setter values against a custom assertion which\n * takes value passed to input setter and component instance as arguments.\n * It specifically checks for undefined values and prevents calls to the\n * original setter in this case.\n */\nfunction tuiRequiredSetter(assertion, ...args) {\n  return (target, key, {\n    configurable,\n    enumerable,\n    get,\n    set\n  }) => {\n    const {\n      name\n    } = target.constructor;\n    return {\n      configurable,\n      enumerable,\n      get,\n      set(value) {\n        if (ngDevMode && value !== undefined && assertion && tuiAssert) {\n          tuiAssert.assert(assertion.call(this, value), `${String(key)} in ${name} received:`, value, ...args);\n        }\n        if (!set || value === undefined) {\n          ngDevMode && tuiAssert.assert(value !== undefined, errorSet(key, name));\n          return;\n        }\n        set.call(this, value);\n      }\n    };\n  };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiDebounce, tuiDefaultProp, tuiPure, tuiRequiredSetter };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { NgZone, ElementRef, Directive, Inject, Optional, SkipSelf, Input, Output, NgModule } from '@angular/core';\nimport { tuiPure } from '@taiga-ui/cdk/decorators';\nimport { tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { TUI_ACTIVE_ELEMENT } from '@taiga-ui/cdk/tokens';\nimport { tuiArrayRemove } from '@taiga-ui/cdk/utils';\nimport { map, startWith, distinctUntilChanged, skip } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\nlet TuiActiveZoneDirective = /*#__PURE__*/(() => {\n  class TuiActiveZoneDirective {\n    constructor(active$, zone, el, directParentActiveZone) {\n      var _a;\n      this.active$ = active$;\n      this.zone = zone;\n      this.el = el;\n      this.directParentActiveZone = directParentActiveZone;\n      this.subActiveZones = [];\n      this.tuiActiveZoneParent = null;\n      this.tuiActiveZoneChange = this.active$.pipe(map(element => !!element && this.contains(element)), startWith(false), distinctUntilChanged(), skip(1), tuiZoneOptimized(this.zone));\n      (_a = this.directParentActiveZone) === null || _a === void 0 ? void 0 : _a.addSubActiveZone(this);\n    }\n    set tuiActiveZoneParentSetter(zone) {\n      this.setZone(zone);\n    }\n    ngOnDestroy() {\n      var _a, _b;\n      (_a = this.directParentActiveZone) === null || _a === void 0 ? void 0 : _a.removeSubActiveZone(this);\n      (_b = this.tuiActiveZoneParent) === null || _b === void 0 ? void 0 : _b.removeSubActiveZone(this);\n    }\n    contains(node) {\n      return this.el.nativeElement.contains(node) || this.subActiveZones.some((item, index, array) => array.indexOf(item) === index && item.contains(node));\n    }\n    setZone(zone) {\n      var _a;\n      (_a = this.tuiActiveZoneParent) === null || _a === void 0 ? void 0 : _a.removeSubActiveZone(this);\n      zone === null || zone === void 0 ? void 0 : zone.addSubActiveZone(this);\n      this.tuiActiveZoneParent = zone;\n    }\n    addSubActiveZone(activeZone) {\n      this.subActiveZones = [...this.subActiveZones, activeZone];\n    }\n    removeSubActiveZone(activeZone) {\n      this.subActiveZones = tuiArrayRemove(this.subActiveZones, this.subActiveZones.indexOf(activeZone));\n    }\n  }\n  TuiActiveZoneDirective.ɵfac = function TuiActiveZoneDirective_Factory(t) {\n    return new (t || TuiActiveZoneDirective)(i0.ɵɵdirectiveInject(TUI_ACTIVE_ELEMENT), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiActiveZoneDirective, 12));\n  };\n  TuiActiveZoneDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiActiveZoneDirective,\n    selectors: [[\"\", \"tuiActiveZone\", \"\", 5, \"ng-container\"], [\"\", \"tuiActiveZoneChange\", \"\", 5, \"ng-container\"], [\"\", \"tuiActiveZoneParent\", \"\", 5, \"ng-container\"]],\n    hostBindings: function TuiActiveZoneDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown.silent\", function TuiActiveZoneDirective_mousedown_silent_HostBindingHandler() {\n          return 0;\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      tuiActiveZoneParentSetter: [0, \"tuiActiveZoneParent\", \"tuiActiveZoneParentSetter\"]\n    },\n    outputs: {\n      tuiActiveZoneChange: \"tuiActiveZoneChange\"\n    },\n    exportAs: [\"tuiActiveZone\"]\n  });\n  __decorate([tuiPure], TuiActiveZoneDirective.prototype, \"setZone\", null);\n  return TuiActiveZoneDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiActiveZoneModule = /*#__PURE__*/(() => {\n  class TuiActiveZoneModule {}\n  TuiActiveZoneModule.ɵfac = function TuiActiveZoneModule_Factory(t) {\n    return new (t || TuiActiveZoneModule)();\n  };\n  TuiActiveZoneModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiActiveZoneModule\n  });\n  TuiActiveZoneModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiActiveZoneModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiActiveZoneDirective, TuiActiveZoneModule };\n","import * as i0 from '@angular/core';\nimport { Directive, ElementRef, Optional, Self, Inject, Renderer2, NgZone, InjectionToken, Input, NgModule } from '@angular/core';\nimport { tuiCoerceBooleanProperty } from '@taiga-ui/cdk/coercion';\nimport * as i1$1 from '@taiga-ui/cdk/services';\nimport { TuiDestroyService } from '@taiga-ui/cdk/services';\nimport * as i1 from 'rxjs';\nimport { race, timer } from 'rxjs';\nimport { throttleTime, map, skipWhile, take, takeUntil } from 'rxjs/operators';\nimport { ANIMATION_FRAME, WINDOW } from '@ng-web-apis/common';\nimport { TUI_FOCUSABLE_ITEM_ACCESSOR, TUI_IS_IOS } from '@taiga-ui/cdk/tokens';\nimport { tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { POLLING_TIME } from '@taiga-ui/cdk/constants';\nimport { tuiPx, tuiIsPresent } from '@taiga-ui/cdk/utils';\nlet AbstractTuiAutofocusHandler = /*#__PURE__*/(() => {\n  class AbstractTuiAutofocusHandler {\n    constructor(focusable, el) {\n      this.focusable = focusable;\n      this.el = el;\n    }\n    get element() {\n      var _a;\n      return ((_a = this.focusable) === null || _a === void 0 ? void 0 : _a.nativeFocusableElement) || this.el.nativeElement;\n    }\n    get isTextFieldElement() {\n      return this.element.matches('input, textarea, [contenteditable]');\n    }\n  }\n  AbstractTuiAutofocusHandler.ɵfac = function AbstractTuiAutofocusHandler_Factory(t) {\n    i0.ɵɵinvalidFactory();\n  };\n  AbstractTuiAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiAutofocusHandler\n  });\n  return AbstractTuiAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TIMEOUT = 1000;\nconst NG_ANIMATION_SELECTOR = '.ng-animating';\nlet TuiDefaultAutofocusHandler = /*#__PURE__*/(() => {\n  class TuiDefaultAutofocusHandler extends AbstractTuiAutofocusHandler {\n    constructor(focusable, el, animationFrame$) {\n      super(focusable, el);\n      this.animationFrame$ = animationFrame$;\n    }\n    setFocus() {\n      if (this.isTextFieldElement) {\n        race(timer(TIMEOUT), this.animationFrame$.pipe(throttleTime(POLLING_TIME), map(() => this.element.closest(NG_ANIMATION_SELECTOR)), skipWhile(Boolean), take(1))).subscribe(() => this.element.focus({\n          preventScroll: true\n        }));\n      } else {\n        this.element.focus({\n          preventScroll: true\n        });\n      }\n    }\n  }\n  TuiDefaultAutofocusHandler.ɵfac = function TuiDefaultAutofocusHandler_Factory(t) {\n    return new (t || TuiDefaultAutofocusHandler)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 10), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(ANIMATION_FRAME));\n  };\n  TuiDefaultAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDefaultAutofocusHandler,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDefaultAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TEXTFIELD_ATTRS = ['type', 'inputMode', 'autocomplete', 'accept', 'min', 'max', 'step', 'pattern', 'size', 'maxlength'];\nlet TuiIosAutofocusHandler = /*#__PURE__*/(() => {\n  class TuiIosAutofocusHandler extends AbstractTuiAutofocusHandler {\n    constructor(focusable, el, renderer, zone, win) {\n      super(focusable, el);\n      this.renderer = renderer;\n      this.zone = zone;\n      this.win = win;\n      this.patchCssStyles();\n    }\n    setFocus() {\n      if (this.isTextFieldElement) {\n        this.zone.runOutsideAngular(() => this.iosWebkitAutofocus());\n      } else {\n        this.element.focus({\n          preventScroll: true\n        });\n      }\n    }\n    iosWebkitAutofocus() {\n      var _a;\n      const fakeInput = this.makeFakeInput();\n      const duration = this.getDurationTimeBeforeFocus();\n      let fakeFocusTimeoutId = 0;\n      let elementFocusTimeoutId = 0;\n      const blurHandler = () => fakeInput.focus({\n        preventScroll: true\n      });\n      const focusHandler = () => {\n        clearTimeout(fakeFocusTimeoutId);\n        fakeFocusTimeoutId = this.win.setTimeout(() => {\n          clearTimeout(elementFocusTimeoutId);\n          fakeInput.removeEventListener('blur', blurHandler);\n          fakeInput.removeEventListener('focus', focusHandler);\n          elementFocusTimeoutId = this.win.setTimeout(() => {\n            this.element.focus({\n              preventScroll: false\n            });\n            fakeInput.remove();\n          }, duration);\n        });\n      };\n      fakeInput.addEventListener('blur', blurHandler, {\n        once: true\n      });\n      fakeInput.addEventListener('focus', focusHandler);\n      if (this.insideDialog()) {\n        this.win.document.body.appendChild(fakeInput);\n      } else {\n        (_a = this.element.parentElement) === null || _a === void 0 ? void 0 : _a.appendChild(fakeInput);\n      }\n      fakeInput.focus({\n        preventScroll: true\n      });\n    }\n    /**\n     * @note:\n     * emulate textfield position in layout with cursor\n     * before focus to real textfield element\n     *\n     * required note:\n     * [fakeInput.readOnly = true] ~\n     * don't use {readOnly: true} value, it's doesn't work for emulate autofill\n     *\n     * [fakeInput.style.opacity = 0] ~\n     * don't use {opacity: 0}, sometimes it's doesn't work for emulate real input\n     *\n     * [fakeInput.style.fontSize = 16px] ~\n     * disable possible auto zoom\n     *\n     * [fakeInput.style.top/left] ~\n     * emulate position cursor before focus to real textfield element\n     */\n    makeFakeInput() {\n      const fakeInput = this.renderer.createElement('input');\n      const rect = this.element.getBoundingClientRect();\n      this.patchFakeInputFromFocusableElement(fakeInput);\n      fakeInput.style.height = tuiPx(rect.height);\n      fakeInput.style.width = tuiPx(rect.width / 2);\n      fakeInput.style.position = 'fixed';\n      fakeInput.style.zIndex = '-99999999';\n      fakeInput.style.caretColor = 'transparent';\n      fakeInput.style.border = 'none';\n      fakeInput.style.outline = 'none';\n      fakeInput.style.color = 'transparent';\n      fakeInput.style.background = 'transparent';\n      fakeInput.style.cursor = 'none';\n      fakeInput.style.fontSize = tuiPx(16);\n      fakeInput.style.top = tuiPx(rect.top);\n      fakeInput.style.left = tuiPx(rect.left);\n      return fakeInput;\n    }\n    getDurationTimeBeforeFocus() {\n      return parseFloat(this.win.getComputedStyle(this.element).getPropertyValue('--tui-duration')) || 0;\n    }\n    /**\n     * @note:\n     * unfortunately, in older versions of iOS\n     * there is a bug that the fake input cursor\n     * will move along with the dialog animation\n     * and then that dialog will be shaking\n     */\n    insideDialog() {\n      return !!this.element.closest('tui-dialog');\n    }\n    /**\n     * @note:\n     * This is necessary so that the viewport isn't recalculated\n     * and then the dialogs don't shake.\n     *\n     * Also, we need to fixed height viewport,\n     * so that when focusing the dialogs don't shake\n     */\n    patchCssStyles() {\n      [this.win.document.documentElement, this.win.document.body].forEach(element => {\n        element.style.setProperty('overflow', 'auto');\n        element.style.setProperty('height', '100%');\n      });\n    }\n    /**\n     * @note:\n     * inherit basic attributes values from real input\n     * for help iOS detect what do you want see on keyboard,\n     * for example [inputMode=numeric, autocomplete=cc-number]\n     */\n    patchFakeInputFromFocusableElement(fakeInput) {\n      TEXTFIELD_ATTRS.forEach(attr => {\n        const value = this.element.getAttribute(attr);\n        if (tuiIsPresent(value)) {\n          fakeInput.setAttribute(attr, value);\n        }\n      });\n    }\n  }\n  TuiIosAutofocusHandler.ɵfac = function TuiIosAutofocusHandler_Factory(t) {\n    return new (t || TuiIosAutofocusHandler)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 10), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(Renderer2), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(WINDOW));\n  };\n  TuiIosAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiIosAutofocusHandler,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiIosAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_AUTOFOCUS_DEFAULT_OPTIONS = {\n  delay: NaN // NaN = no delay/sync\n};\nconst TUI_AUTOFOCUS_OPTIONS = tuiCreateToken(TUI_AUTOFOCUS_DEFAULT_OPTIONS);\nfunction tuiAutoFocusOptionsProvider(options) {\n  return tuiProvideOptions(TUI_AUTOFOCUS_OPTIONS, options, TUI_AUTOFOCUS_DEFAULT_OPTIONS);\n}\nconst TUI_AUTOFOCUS_HANDLER = new InjectionToken('[TUI_AUTOFOCUS_HANDLER]');\nconst TUI_AUTOFOCUS_PROVIDERS = [{\n  provide: TUI_AUTOFOCUS_HANDLER,\n  useFactory: (focusable, el, animationFrame$, renderer, zone, win, isIos) => isIos ? new TuiIosAutofocusHandler(focusable, el, renderer, zone, win) : new TuiDefaultAutofocusHandler(focusable, el, animationFrame$),\n  deps: [[new Optional(), new Self(), TUI_FOCUSABLE_ITEM_ACCESSOR], ElementRef, ANIMATION_FRAME, Renderer2, NgZone, WINDOW, TUI_IS_IOS]\n}, TuiDestroyService];\nlet TuiAutoFocusDirective = /*#__PURE__*/(() => {\n  class TuiAutoFocusDirective {\n    constructor(handler, options, destroy$) {\n      this.handler = handler;\n      this.options = options;\n      this.destroy$ = destroy$;\n      this.autoFocus = true;\n    }\n    ngAfterViewInit() {\n      if (tuiCoerceBooleanProperty(this.autoFocus)) {\n        this.focus();\n      }\n    }\n    focus() {\n      if (Number.isNaN(this.options.delay)) {\n        void Promise.resolve().then(() => this.handler.setFocus());\n      } else {\n        timer(this.options.delay).pipe(takeUntil(this.destroy$)).subscribe(() => this.handler.setFocus());\n      }\n    }\n  }\n  TuiAutoFocusDirective.ɵfac = function TuiAutoFocusDirective_Factory(t) {\n    return new (t || TuiAutoFocusDirective)(i0.ɵɵdirectiveInject(TUI_AUTOFOCUS_HANDLER), i0.ɵɵdirectiveInject(TUI_AUTOFOCUS_OPTIONS), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiAutoFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiAutoFocusDirective,\n    selectors: [[\"\", \"tuiAutoFocus\", \"\"]],\n    inputs: {\n      autoFocus: [0, \"tuiAutoFocus\", \"autoFocus\"]\n    },\n    features: [i0.ɵɵProvidersFeature(TUI_AUTOFOCUS_PROVIDERS)]\n  });\n  return TuiAutoFocusDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAutoFocusModule = /*#__PURE__*/(() => {\n  class TuiAutoFocusModule {}\n  TuiAutoFocusModule.ɵfac = function TuiAutoFocusModule_Factory(t) {\n    return new (t || TuiAutoFocusModule)();\n  };\n  TuiAutoFocusModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiAutoFocusModule\n  });\n  TuiAutoFocusModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiAutoFocusModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiSynchronousAutofocusHandler = /*#__PURE__*/(() => {\n  class TuiSynchronousAutofocusHandler extends AbstractTuiAutofocusHandler {\n    constructor(focusable, el) {\n      super(focusable, el);\n    }\n    setFocus() {\n      this.element.focus({\n        preventScroll: true\n      });\n    }\n  }\n  TuiSynchronousAutofocusHandler.ɵfac = function TuiSynchronousAutofocusHandler_Factory(t) {\n    return new (t || TuiSynchronousAutofocusHandler)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR, 10), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiSynchronousAutofocusHandler.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiSynchronousAutofocusHandler,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiSynchronousAutofocusHandler;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiAutofocusHandler, TUI_AUTOFOCUS_DEFAULT_OPTIONS, TUI_AUTOFOCUS_HANDLER, TUI_AUTOFOCUS_OPTIONS, TUI_AUTOFOCUS_PROVIDERS, TuiAutoFocusDirective, TuiAutoFocusModule, TuiDefaultAutofocusHandler, TuiIosAutofocusHandler, TuiSynchronousAutofocusHandler, tuiAutoFocusOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, EventEmitter, Directive, Inject, HostBinding, Output, HostListener, NgModule } from '@angular/core';\nimport * as i1 from '@taiga-ui/cdk/services';\nimport { TuiDirectiveStylesService } from '@taiga-ui/cdk/services';\nlet TuiAutofilledStyleComponent = /*#__PURE__*/(() => {\n  class TuiAutofilledStyleComponent {}\n  TuiAutofilledStyleComponent.ɵfac = function TuiAutofilledStyleComponent_Factory(t) {\n    return new (t || TuiAutofilledStyleComponent)();\n  };\n  TuiAutofilledStyleComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiAutofilledStyleComponent,\n    selectors: [[\"ng-component\"]],\n    hostAttrs: [1, \"tui-autofilled-styles\"],\n    decls: 0,\n    vars: 0,\n    template: function TuiAutofilledStyleComponent_Template(rf, ctx) {},\n    styles: [\".tui-autofill input,input.tui-autofill{transition:box-shadow .01s}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiAutofilledStyleComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAutofilledDirective = /*#__PURE__*/(() => {\n  class TuiAutofilledDirective {\n    constructor(directiveStyles) {\n      this.autofilled = false;\n      this.tuiAutofilledChange = new EventEmitter();\n      directiveStyles.addComponent(TuiAutofilledStyleComponent);\n    }\n    transitionStartHandler({\n      propertyName,\n      target\n    }) {\n      var _a;\n      const matchedAutofill = propertyName.includes('box-shadow') && ((_a = target) === null || _a === void 0 ? void 0 : _a.matches('input'));\n      if (matchedAutofill) {\n        this.autofilled = !this.autofilled;\n        this.tuiAutofilledChange.emit(this.autofilled);\n      }\n    }\n  }\n  TuiAutofilledDirective.ɵfac = function TuiAutofilledDirective_Factory(t) {\n    return new (t || TuiAutofilledDirective)(i0.ɵɵdirectiveInject(TuiDirectiveStylesService));\n  };\n  TuiAutofilledDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiAutofilledDirective,\n    selectors: [[\"\", \"tuiAutofilledChange\", \"\"]],\n    hostAttrs: [1, \"tui-autofill\"],\n    hostVars: 2,\n    hostBindings: function TuiAutofilledDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"transitionstart\", function TuiAutofilledDirective_transitionstart_HostBindingHandler($event) {\n          return ctx.transitionStartHandler($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_autofilled\", ctx.autofilled);\n      }\n    },\n    outputs: {\n      tuiAutofilledChange: \"tuiAutofilledChange\"\n    }\n  });\n  return TuiAutofilledDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAutofilledModule = /*#__PURE__*/(() => {\n  class TuiAutofilledModule {}\n  TuiAutofilledModule.ɵfac = function TuiAutofilledModule_Factory(t) {\n    return new (t || TuiAutofilledModule)();\n  };\n  TuiAutofilledModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiAutofilledModule\n  });\n  TuiAutofilledModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiAutofilledModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAutofilledDirective, TuiAutofilledModule, TuiAutofilledStyleComponent };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, HostBinding, Input, Output, HostListener, NgModule } from '@angular/core';\nlet TuiCheckedDirective = /*#__PURE__*/(() => {\n  class TuiCheckedDirective {\n    constructor() {\n      this.indeterminate = false;\n      this.checked = false;\n      this.tuiCheckedChange = new EventEmitter();\n    }\n    get isChecked() {\n      return this.checked;\n    }\n    get isIndeterminate() {\n      return this.indeterminate;\n    }\n    set tuiChecked(checked) {\n      this.checked = checked || false;\n      this.indeterminate = checked === null;\n    }\n    onChange({\n      checked\n    }) {\n      this.checked = checked;\n      this.indeterminate = false;\n      this.tuiCheckedChange.emit(checked);\n    }\n  }\n  TuiCheckedDirective.ɵfac = function TuiCheckedDirective_Factory(t) {\n    return new (t || TuiCheckedDirective)();\n  };\n  TuiCheckedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiCheckedDirective,\n    selectors: [[\"input\", \"tuiChecked\", \"\"], [\"input\", \"tuiCheckedChange\", \"\"]],\n    hostVars: 2,\n    hostBindings: function TuiCheckedDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"change\", function TuiCheckedDirective_change_HostBindingHandler($event) {\n          return ctx.onChange($event.target);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"checked\", ctx.isChecked)(\"indeterminate\", ctx.isIndeterminate);\n      }\n    },\n    inputs: {\n      tuiChecked: \"tuiChecked\"\n    },\n    outputs: {\n      tuiCheckedChange: \"tuiCheckedChange\"\n    }\n  });\n  return TuiCheckedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiCheckedModule = /*#__PURE__*/(() => {\n  class TuiCheckedModule {}\n  TuiCheckedModule.ɵfac = function TuiCheckedModule_Factory(t) {\n    return new (t || TuiCheckedModule)();\n  };\n  TuiCheckedModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiCheckedModule\n  });\n  TuiCheckedModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiCheckedModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCheckedDirective, TuiCheckedModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Inject, NgModule } from '@angular/core';\nimport { TuiFocusVisibleService, TuiDestroyService } from '@taiga-ui/cdk/services';\nimport * as i1 from 'rxjs';\n\n/**\n * Directive to imitate :focus-visible\n * (https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible)\n * in browsers that do not support it\n */\nlet TuiFocusVisibleDirective = /*#__PURE__*/(() => {\n  class TuiFocusVisibleDirective {\n    constructor(tuiFocusVisibleChange) {\n      this.tuiFocusVisibleChange = tuiFocusVisibleChange;\n    }\n  }\n  TuiFocusVisibleDirective.ɵfac = function TuiFocusVisibleDirective_Factory(t) {\n    return new (t || TuiFocusVisibleDirective)(i0.ɵɵdirectiveInject(TuiFocusVisibleService));\n  };\n  TuiFocusVisibleDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiFocusVisibleDirective,\n    selectors: [[\"\", \"tuiFocusVisibleChange\", \"\"]],\n    outputs: {\n      tuiFocusVisibleChange: \"tuiFocusVisibleChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiFocusVisibleService])]\n  });\n  return TuiFocusVisibleDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFocusVisibleModule = /*#__PURE__*/(() => {\n  class TuiFocusVisibleModule {}\n  TuiFocusVisibleModule.ɵfac = function TuiFocusVisibleModule_Factory(t) {\n    return new (t || TuiFocusVisibleModule)();\n  };\n  TuiFocusVisibleModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFocusVisibleModule\n  });\n  TuiFocusVisibleModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFocusVisibleModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFocusVisibleDirective, TuiFocusVisibleModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Input, HostBinding, NgModule } from '@angular/core';\n\n/**\n * Abstraction over `tabindex`\n */\nlet TuiFocusableDirective = /*#__PURE__*/(() => {\n  class TuiFocusableDirective {\n    constructor() {\n      /**\n       * Element can be focused with keyboard\n       */\n      this.focusable = true;\n    }\n    get tabIndex() {\n      return this.focusable ? 0 : -1;\n    }\n  }\n  TuiFocusableDirective.ɵfac = function TuiFocusableDirective_Factory(t) {\n    return new (t || TuiFocusableDirective)();\n  };\n  TuiFocusableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiFocusableDirective,\n    selectors: [[\"\", \"tuiFocusable\", \"\"]],\n    hostVars: 1,\n    hostBindings: function TuiFocusableDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"tabIndex\", ctx.tabIndex);\n      }\n    },\n    inputs: {\n      focusable: [0, \"tuiFocusable\", \"focusable\"]\n    }\n  });\n  return TuiFocusableDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFocusableModule = /*#__PURE__*/(() => {\n  class TuiFocusableModule {}\n  TuiFocusableModule.ɵfac = function TuiFocusableModule_Factory(t) {\n    return new (t || TuiFocusableModule)();\n  };\n  TuiFocusableModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFocusableModule\n  });\n  TuiFocusableModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFocusableModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFocusableDirective, TuiFocusableModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, NgZone, Directive, Inject, Output, NgModule } from '@angular/core';\nimport { tuiTypedFromEvent, tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { tuiIsNativeFocused } from '@taiga-ui/cdk/utils/focus';\nimport { merge } from 'rxjs';\nimport { map, startWith, distinctUntilChanged, skip } from 'rxjs/operators';\n\n/**\n * Directive to monitor focus/blur status, works with focusIn/focus-out\n * instead of focus/blur to sync events order with Internet Explorer and\n * other focus related directives that require bubbling\n */\nlet TuiFocusedDirective = /*#__PURE__*/(() => {\n  class TuiFocusedDirective {\n    constructor({\n      nativeElement\n    }, zone) {\n      this.tuiFocusedChange = merge(tuiTypedFromEvent(nativeElement, 'focusin'), tuiTypedFromEvent(nativeElement, 'focusout')).pipe(map(() => tuiIsNativeFocused(nativeElement)), startWith(false), distinctUntilChanged(), skip(1), tuiZoneOptimized(zone));\n    }\n  }\n  TuiFocusedDirective.ɵfac = function TuiFocusedDirective_Factory(t) {\n    return new (t || TuiFocusedDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(NgZone));\n  };\n  TuiFocusedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiFocusedDirective,\n    selectors: [[\"\", \"tuiFocusedChange\", \"\"]],\n    outputs: {\n      tuiFocusedChange: \"tuiFocusedChange\"\n    }\n  });\n  return TuiFocusedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFocusedModule = /*#__PURE__*/(() => {\n  class TuiFocusedModule {}\n  TuiFocusedModule.ɵfac = function TuiFocusedModule_Factory(t) {\n    return new (t || TuiFocusedModule)();\n  };\n  TuiFocusedModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFocusedModule\n  });\n  TuiFocusedModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFocusedModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFocusedDirective, TuiFocusedModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, NgZone, Injectable, Inject, Directive, NgModule } from '@angular/core';\nimport { ALWAYS_TRUE_HANDLER, ALWAYS_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { tuiTypedFromEvent, tuiZoneOptimized } from '@taiga-ui/cdk/observables';\nimport { tuiIsElement } from '@taiga-ui/cdk/utils';\nimport * as i1 from 'rxjs';\nimport { Observable, merge } from 'rxjs';\nimport { map, filter, distinctUntilChanged } from 'rxjs/operators';\nfunction movedOut({\n  currentTarget,\n  relatedTarget\n}) {\n  return !tuiIsElement(relatedTarget) || !tuiIsElement(currentTarget) || !currentTarget.contains(relatedTarget);\n}\nlet TuiHoveredService = /*#__PURE__*/(() => {\n  class TuiHoveredService extends Observable {\n    constructor(el, zone) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.el = el;\n      this.zone = zone;\n      this.stream$ = merge(tuiTypedFromEvent(this.el.nativeElement, 'mouseenter').pipe(map(ALWAYS_TRUE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'mouseleave').pipe(map(ALWAYS_FALSE_HANDLER)),\n      // Hello, Safari\n      tuiTypedFromEvent(this.el.nativeElement, 'mouseout').pipe(filter(movedOut), map(ALWAYS_FALSE_HANDLER))).pipe(distinctUntilChanged(), tuiZoneOptimized(this.zone));\n    }\n  }\n  TuiHoveredService.ɵfac = function TuiHoveredService_Factory(t) {\n    return new (t || TuiHoveredService)(i0.ɵɵinject(ElementRef), i0.ɵɵinject(NgZone));\n  };\n  TuiHoveredService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiHoveredService,\n    factory: TuiHoveredService.ɵfac\n  });\n  return TuiHoveredService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHoveredDirective = /*#__PURE__*/(() => {\n  class TuiHoveredDirective {\n    constructor(tuiHoveredChange) {\n      this.tuiHoveredChange = tuiHoveredChange;\n    }\n  }\n  TuiHoveredDirective.ɵfac = function TuiHoveredDirective_Factory(t) {\n    return new (t || TuiHoveredDirective)(i0.ɵɵdirectiveInject(TuiHoveredService));\n  };\n  TuiHoveredDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHoveredDirective,\n    selectors: [[\"\", \"tuiHoveredChange\", \"\"]],\n    outputs: {\n      tuiHoveredChange: \"tuiHoveredChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiHoveredService])]\n  });\n  return TuiHoveredDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHoveredModule = /*#__PURE__*/(() => {\n  class TuiHoveredModule {}\n  TuiHoveredModule.ɵfac = function TuiHoveredModule_Factory(t) {\n    return new (t || TuiHoveredModule)();\n  };\n  TuiHoveredModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHoveredModule\n  });\n  TuiHoveredModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiHoveredModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiHoveredDirective, TuiHoveredModule, TuiHoveredService };\n","import * as i0 from '@angular/core';\nimport { Directive, NgModule } from '@angular/core';\n\n/**\n * Blank directive for queries via `@ContentChildren` / `@ViewChildren` / `querySelector`\n */\nlet TuiItemDirective = /*#__PURE__*/(() => {\n  class TuiItemDirective {}\n  TuiItemDirective.ɵfac = function TuiItemDirective_Factory(t) {\n    return new (t || TuiItemDirective)();\n  };\n  TuiItemDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiItemDirective,\n    selectors: [[\"\", \"tuiItem\", \"\"]]\n  });\n  return TuiItemDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiItemModule = /*#__PURE__*/(() => {\n  class TuiItemModule {}\n  TuiItemModule.ɵfac = function TuiItemModule_Factory(t) {\n    return new (t || TuiItemModule)();\n  };\n  TuiItemModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiItemModule\n  });\n  TuiItemModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiItemModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiItemDirective, TuiItemModule };\n","import * as i0 from '@angular/core';\nimport { ViewContainerRef, TemplateRef, Directive, Inject, Input, NgModule } from '@angular/core';\n\n/**\n * @internal\n */\nclass TuiLetContext {\n  constructor(internalDirectiveInstance) {\n    this.internalDirectiveInstance = internalDirectiveInstance;\n  }\n  get $implicit() {\n    return this.internalDirectiveInstance.tuiLet;\n  }\n  get tuiLet() {\n    return this.internalDirectiveInstance.tuiLet;\n  }\n}\n\n/**\n * Works like *ngIf but does not have a condition — use it to declare\n * the result of pipes calculation (i.e. async pipe)\n */\nlet TuiLetDirective = /*#__PURE__*/(() => {\n  class TuiLetDirective {\n    constructor(viewContainer, templateRef) {\n      viewContainer.createEmbeddedView(templateRef, new TuiLetContext(this));\n    }\n    /**\n     * Asserts the correct type of the context for the template that `TuiLet` will render.\n     *\n     * The presence of this method is a signal to the Ivy template type-check compiler that the\n     * `TuiLet` structural directive renders its template with a specific context type.\n     */\n    static ngTemplateContextGuard(_dir, _ctx) {\n      return true;\n    }\n  }\n  TuiLetDirective.ɵfac = function TuiLetDirective_Factory(t) {\n    return new (t || TuiLetDirective)(i0.ɵɵdirectiveInject(ViewContainerRef), i0.ɵɵdirectiveInject(TemplateRef));\n  };\n  TuiLetDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiLetDirective,\n    selectors: [[\"\", \"tuiLet\", \"\"]],\n    inputs: {\n      tuiLet: \"tuiLet\"\n    }\n  });\n  return TuiLetDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLetModule = /*#__PURE__*/(() => {\n  class TuiLetModule {}\n  TuiLetModule.ɵfac = function TuiLetModule_Factory(t) {\n    return new (t || TuiLetModule)();\n  };\n  TuiLetModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLetModule\n  });\n  TuiLetModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiLetModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLetContext, TuiLetDirective, TuiLetModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Optional, Inject, Self, Input, Output, NgModule } from '@angular/core';\nimport * as i1 from '@taiga-ui/cdk/directives/active-zone';\nimport { TuiActiveZoneDirective } from '@taiga-ui/cdk/directives/active-zone';\nimport { tuiIfMap } from '@taiga-ui/cdk/observables';\nimport * as i2 from '@taiga-ui/cdk/services';\nimport { TuiObscuredService, TuiParentsScrollService, TuiDestroyService } from '@taiga-ui/cdk/services';\nimport { Subject } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n/**\n * Directive that monitors element visibility\n */\nlet TuiObscuredDirective = /*#__PURE__*/(() => {\n  class TuiObscuredDirective {\n    constructor(activeZone, obscured$) {\n      this.enabled$ = new Subject();\n      const mapped$ = obscured$.pipe(map(obscuredBy => !!obscuredBy && (!activeZone || !obscuredBy.length || obscuredBy.every(element => !activeZone.contains(element)))));\n      this.tuiObscured = this.enabled$.pipe(tuiIfMap(() => mapped$));\n    }\n    set tuiObscuredEnabled(enabled) {\n      this.enabled$.next(enabled);\n    }\n  }\n  TuiObscuredDirective.ɵfac = function TuiObscuredDirective_Factory(t) {\n    return new (t || TuiObscuredDirective)(i0.ɵɵdirectiveInject(TuiActiveZoneDirective, 8), i0.ɵɵdirectiveInject(TuiObscuredService, 2));\n  };\n  TuiObscuredDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiObscuredDirective,\n    selectors: [[\"\", \"tuiObscured\", \"\"]],\n    inputs: {\n      tuiObscuredEnabled: \"tuiObscuredEnabled\"\n    },\n    outputs: {\n      tuiObscured: \"tuiObscured\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiObscuredService, TuiParentsScrollService, TuiDestroyService])]\n  });\n  return TuiObscuredDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiObscuredModule = /*#__PURE__*/(() => {\n  class TuiObscuredModule {}\n  TuiObscuredModule.ɵfac = function TuiObscuredModule_Factory(t) {\n    return new (t || TuiObscuredModule)();\n  };\n  TuiObscuredModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiObscuredModule\n  });\n  TuiObscuredModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiObscuredModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiObscuredDirective, TuiObscuredModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, NgZone, Directive, Inject, Self, Input, HostBinding, NgModule } from '@angular/core';\nimport { tuiTypedFromEvent, tuiZonefree } from '@taiga-ui/cdk/observables';\nimport { TuiDestroyService } from '@taiga-ui/cdk/services';\nimport { tuiIsElement, tuiGetScrollParent, tuiCanScroll } from '@taiga-ui/cdk/utils/dom';\nimport { filter, takeUntil, switchMap, tap } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\n\n/**\n * Directive to isolate scrolling, i.e. prevent body scroll behind modal dialog\n */\nlet TuiOverscrollDirective = /*#__PURE__*/(() => {\n  class TuiOverscrollDirective {\n    constructor({\n      nativeElement\n    }, zone, destroy$) {\n      this.mode = 'scroll';\n      tuiTypedFromEvent(nativeElement, 'wheel', {\n        passive: false\n      }).pipe(filter(() => this.enabled), tuiZonefree(zone), takeUntil(destroy$)).subscribe(event => {\n        this.processEvent(event, !!event.deltaY, event.deltaY ? event.deltaY < 0 : event.deltaX < 0);\n      });\n      tuiTypedFromEvent(nativeElement, 'touchstart', {\n        passive: true\n      }).pipe(switchMap(({\n        touches\n      }) => {\n        let {\n          clientX,\n          clientY\n        } = touches[0];\n        let deltaX = 0;\n        let deltaY = 0;\n        let vertical;\n        return tuiTypedFromEvent(nativeElement, 'touchmove', {\n          passive: false\n        }).pipe(filter(() => this.enabled), tap(event => {\n          // We have to have it in tap instead of subscribe due to variables in closure\n          const changedTouch = event.changedTouches[0];\n          deltaX = clientX - changedTouch.clientX;\n          deltaY = clientY - changedTouch.clientY;\n          clientX = changedTouch.clientX;\n          clientY = changedTouch.clientY;\n          if (vertical === undefined) {\n            vertical = Math.abs(deltaY) > Math.abs(deltaX);\n          }\n          this.processEvent(event, vertical, vertical ? deltaY < 0 : deltaX < 0);\n        }));\n      }), tuiZonefree(zone), takeUntil(destroy$)).subscribe();\n    }\n    get enabled() {\n      return this.mode !== 'none';\n    }\n    get overscrollBehavior() {\n      return this.enabled ? 'contain' : null;\n    }\n    processEvent(event, vertical, negative) {\n      var _a;\n      const {\n        target,\n        currentTarget,\n        cancelable\n      } = event;\n      if (!cancelable || !tuiIsElement(target) || ((_a = target) === null || _a === void 0 ? void 0 : _a.type) === 'range') {\n        return;\n      }\n      // This is all what's needed in Chrome/Firefox thanks to CSS overscroll-behavior\n      if (this.mode === 'all' && (vertical && !currentTarget.contains(tuiGetScrollParent(target)) || !vertical && !currentTarget.contains(tuiGetScrollParent(target, false)))) {\n        event.preventDefault();\n        return;\n      }\n      // This is Safari/IE/Edge fallback\n      if (vertical && (negative && !tuiCanScroll(target, currentTarget, true, false) || !negative && !tuiCanScroll(target, currentTarget, true, true))) {\n        event.preventDefault();\n        return;\n      }\n      if (!vertical && (negative && !tuiCanScroll(target, currentTarget, false, false) || !negative && !tuiCanScroll(target, currentTarget, false, true))) {\n        event.preventDefault();\n      }\n    }\n  }\n  TuiOverscrollDirective.ɵfac = function TuiOverscrollDirective_Factory(t) {\n    return new (t || TuiOverscrollDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiOverscrollDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiOverscrollDirective,\n    selectors: [[\"\", \"tuiOverscroll\", \"\"]],\n    hostVars: 2,\n    hostBindings: function TuiOverscrollDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"overscroll-behavior\", ctx.overscrollBehavior);\n      }\n    },\n    inputs: {\n      mode: [0, \"tuiOverscroll\", \"mode\"]\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiOverscrollDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiOverscrollModule = /*#__PURE__*/(() => {\n  class TuiOverscrollModule {}\n  TuiOverscrollModule.ɵfac = function TuiOverscrollModule_Factory(t) {\n    return new (t || TuiOverscrollModule)();\n  };\n  TuiOverscrollModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiOverscrollModule\n  });\n  TuiOverscrollModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiOverscrollModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiOverscrollDirective, TuiOverscrollModule };\n","import * as i0 from '@angular/core';\nimport { Injectable, Component, ChangeDetectionStrategy, NgModule } from '@angular/core';\nimport { AbstractTuiPortalService, AbstractTuiPortalHostComponent } from '@taiga-ui/cdk/abstract';\n\n/**\n * Service for displaying dropdown portals\n */\nconst _c0 = [\"*\"];\nlet TuiDropdownPortalService = /*#__PURE__*/(() => {\n  class TuiDropdownPortalService extends AbstractTuiPortalService {}\n  TuiDropdownPortalService.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownPortalService_BaseFactory;\n    return function TuiDropdownPortalService_Factory(t) {\n      return (ɵTuiDropdownPortalService_BaseFactory || (ɵTuiDropdownPortalService_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownPortalService)))(t || TuiDropdownPortalService);\n    };\n  })();\n  TuiDropdownPortalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiDropdownPortalService,\n    factory: TuiDropdownPortalService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiDropdownPortalService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Host element for dynamically created portals, for example using {@link TuiDropdownDirective}.\n */\nlet TuiDropdownHostComponent = /*#__PURE__*/(() => {\n  class TuiDropdownHostComponent extends AbstractTuiPortalHostComponent {}\n  TuiDropdownHostComponent.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownHostComponent_BaseFactory;\n    return function TuiDropdownHostComponent_Factory(t) {\n      return (ɵTuiDropdownHostComponent_BaseFactory || (ɵTuiDropdownHostComponent_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownHostComponent)))(t || TuiDropdownHostComponent);\n    };\n  })();\n  TuiDropdownHostComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDropdownHostComponent,\n    selectors: [[\"tui-dropdown-host\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: AbstractTuiPortalService,\n      useExisting: TuiDropdownPortalService\n    },\n    // TODO: Remove in 4.0\n    {\n      provide: AbstractTuiPortalHostComponent,\n      useExisting: TuiDropdownHostComponent\n    }]), i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c0,\n    decls: 3,\n    vars: 0,\n    consts: [[\"viewContainer\", \"\"]],\n    template: function TuiDropdownHostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n        i0.ɵɵelementContainer(1, null, 0);\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block;height:100%}[_nghost-%COMP%]:before{content:\\\"\\\";display:block;overflow:hidden}.t-position-fixed-offset[_ngcontent-%COMP%]{position:fixed;left:0;top:0;pointer-events:none;visibility:hidden;width:100%;height:100%}\"],\n    changeDetection: 0\n  });\n  return TuiDropdownHostComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownHostModule = /*#__PURE__*/(() => {\n  class TuiDropdownHostModule {}\n  TuiDropdownHostModule.ɵfac = function TuiDropdownHostModule_Factory(t) {\n    return new (t || TuiDropdownHostModule)();\n  };\n  TuiDropdownHostModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDropdownHostModule\n  });\n  TuiDropdownHostModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiDropdownHostModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDropdownHostComponent, TuiDropdownHostModule, TuiDropdownPortalService };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, Output, NgModule } from '@angular/core';\nimport { tuiPressedObservable } from '@taiga-ui/cdk/observables';\nimport { TUI_TAKE_ONLY_TRUSTED_EVENTS } from '@taiga-ui/cdk/tokens';\nlet TuiPressedDirective = /*#__PURE__*/(() => {\n  class TuiPressedDirective {\n    constructor(el, takeOnlyTrustedEvents) {\n      this.el = el;\n      this.takeOnlyTrustedEvents = takeOnlyTrustedEvents;\n      this.tuiPressedChange = tuiPressedObservable(this.el.nativeElement, {\n        onlyTrusted: this.takeOnlyTrustedEvents\n      });\n    }\n  }\n  TuiPressedDirective.ɵfac = function TuiPressedDirective_Factory(t) {\n    return new (t || TuiPressedDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_TAKE_ONLY_TRUSTED_EVENTS));\n  };\n  TuiPressedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiPressedDirective,\n    selectors: [[\"\", \"tuiPressedChange\", \"\"]],\n    outputs: {\n      tuiPressedChange: \"tuiPressedChange\"\n    }\n  });\n  return TuiPressedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPressedModule = /*#__PURE__*/(() => {\n  class TuiPressedModule {}\n  TuiPressedModule.ɵfac = function TuiPressedModule_Factory(t) {\n    return new (t || TuiPressedModule)();\n  };\n  TuiPressedModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiPressedModule\n  });\n  TuiPressedModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiPressedModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiPressedDirective, TuiPressedModule };\n","import * as i0 from '@angular/core';\nimport { ViewContainerRef, TemplateRef, Directive, Inject, Input, NgModule } from '@angular/core';\nimport { tuiClamp } from '@taiga-ui/cdk/utils/math';\nconst MAX_VALUE = 0x10000;\nclass TuiRepeatTimesContext {\n  constructor($implicit) {\n    this.$implicit = $implicit;\n  }\n}\n/**\n * Directive similar to ngFor but using a number of repetitions rather than an array\n *\n * {@link TuiRepeatTimesDirective.tuiRepeatTimesOf requested number of times}.\n * {@link TuiRepeatTimesContext context} for every instance of the template inherits outer context and stores\n * {@link TuiRepeatTimesContext.$implicit index} of a template instance.\n */\nlet TuiRepeatTimesDirective = /*#__PURE__*/(() => {\n  class TuiRepeatTimesDirective {\n    constructor(viewContainer, templateRef) {\n      this.viewContainer = viewContainer;\n      this.templateRef = templateRef;\n    }\n    set tuiRepeatTimesOf(count) {\n      const safeCount = Math.floor(tuiClamp(count, 0, MAX_VALUE));\n      const {\n        length\n      } = this.viewContainer;\n      if (count < length) {\n        this.removeContainers(length - count);\n      } else {\n        this.addContainers(safeCount);\n      }\n    }\n    addContainers(count) {\n      for (let index = this.viewContainer.length; index < count; index++) {\n        this.viewContainer.createEmbeddedView(this.templateRef, new TuiRepeatTimesContext(index));\n      }\n    }\n    removeContainers(amount) {\n      for (let index = 0; index < amount; index++) {\n        this.viewContainer.remove();\n      }\n    }\n  }\n  TuiRepeatTimesDirective.ɵfac = function TuiRepeatTimesDirective_Factory(t) {\n    return new (t || TuiRepeatTimesDirective)(i0.ɵɵdirectiveInject(ViewContainerRef), i0.ɵɵdirectiveInject(TemplateRef));\n  };\n  TuiRepeatTimesDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiRepeatTimesDirective,\n    selectors: [[\"\", \"tuiRepeatTimes\", \"\", \"tuiRepeatTimesOf\", \"\"]],\n    inputs: {\n      tuiRepeatTimesOf: \"tuiRepeatTimesOf\"\n    }\n  });\n  return TuiRepeatTimesDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiRepeatTimesModule = /*#__PURE__*/(() => {\n  class TuiRepeatTimesModule {}\n  TuiRepeatTimesModule.ɵfac = function TuiRepeatTimesModule_Factory(t) {\n    return new (t || TuiRepeatTimesModule)();\n  };\n  TuiRepeatTimesModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiRepeatTimesModule\n  });\n  TuiRepeatTimesModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiRepeatTimesModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiRepeatTimesContext, TuiRepeatTimesDirective, TuiRepeatTimesModule };\n","// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiDayOfWeek = /*#__PURE__*/function (TuiDayOfWeek) {\n  TuiDayOfWeek[TuiDayOfWeek[\"Sunday\"] = 0] = \"Sunday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Monday\"] = 1] = \"Monday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Tuesday\"] = 2] = \"Tuesday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Wednesday\"] = 3] = \"Wednesday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Thursday\"] = 4] = \"Thursday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Friday\"] = 5] = \"Friday\";\n  TuiDayOfWeek[TuiDayOfWeek[\"Saturday\"] = 6] = \"Saturday\";\n  return TuiDayOfWeek;\n}(TuiDayOfWeek || {});\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiMonthNumber = /*#__PURE__*/function (TuiMonthNumber) {\n  TuiMonthNumber[TuiMonthNumber[\"January\"] = 0] = \"January\";\n  TuiMonthNumber[TuiMonthNumber[\"February\"] = 1] = \"February\";\n  TuiMonthNumber[TuiMonthNumber[\"March\"] = 2] = \"March\";\n  TuiMonthNumber[TuiMonthNumber[\"April\"] = 3] = \"April\";\n  TuiMonthNumber[TuiMonthNumber[\"May\"] = 4] = \"May\";\n  TuiMonthNumber[TuiMonthNumber[\"June\"] = 5] = \"June\";\n  TuiMonthNumber[TuiMonthNumber[\"July\"] = 6] = \"July\";\n  TuiMonthNumber[TuiMonthNumber[\"August\"] = 7] = \"August\";\n  TuiMonthNumber[TuiMonthNumber[\"September\"] = 8] = \"September\";\n  TuiMonthNumber[TuiMonthNumber[\"October\"] = 9] = \"October\";\n  TuiMonthNumber[TuiMonthNumber[\"November\"] = 10] = \"November\";\n  TuiMonthNumber[TuiMonthNumber[\"December\"] = 11] = \"December\";\n  return TuiMonthNumber;\n}(TuiMonthNumber || {});\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDayOfWeek, TuiMonthNumber };\n","import { CHAR_NO_BREAK_SPACE, CHAR_EN_DASH } from '@taiga-ui/cdk/constants';\nimport { tuiCreateToken } from '@taiga-ui/cdk/utils';\nimport { tuiAssert } from '@taiga-ui/cdk/classes';\nimport { TuiMonthNumber, TuiDayOfWeek } from '@taiga-ui/cdk/enums';\nimport { TuiInvalidYearException, TuiInvalidMonthException, TuiInvalidDayException } from '@taiga-ui/cdk/exceptions';\nimport { tuiInRange, tuiNormalizeToIntNumber } from '@taiga-ui/cdk/utils/math';\nfunction tuiDateClamp(date, min, max) {\n  if (max && max < date) {\n    return max;\n  }\n  if (min && min > date) {\n    return min;\n  }\n  return date;\n}\nconst DAYS_IN_WEEK = 7;\nconst DAYS_IN_NORMAL_YEAR = 365;\nconst DAYS_IN_LEAP_YEAR = 366;\nconst MONTHS_IN_YEAR = 12;\nconst MIN_DAY = 1;\nconst MIN_MONTH = 0;\nconst MAX_MONTH = 11;\nconst MIN_YEAR = 0;\nconst MAX_YEAR = 9999;\nconst RANGE_SEPARATOR_CHAR = `${CHAR_NO_BREAK_SPACE}${CHAR_EN_DASH}${CHAR_NO_BREAK_SPACE}`;\nconst MILLISECONDS_IN_SECOND = 1000;\nconst SECONDS_IN_MINUTE = 60;\nconst MINUTES_IN_HOUR = 60;\nconst HOURS_IN_DAY = 24;\nconst MILLISECONDS_IN_MINUTE = MILLISECONDS_IN_SECOND * SECONDS_IN_MINUTE;\nconst MILLISECONDS_IN_HOUR = MILLISECONDS_IN_MINUTE * MINUTES_IN_HOUR;\nconst MILLISECONDS_IN_DAY = MILLISECONDS_IN_HOUR * HOURS_IN_DAY;\n\n/**\n * @internal 'dd.mm.yyyy'.length\n * Used in:\n * - {@link TuiInputDateComponent}\n * - {@link TuiInputDateRangeComponent}\n * - {@link TuiInputDateTimeComponent}\n */\nconst DATE_FILLER_LENGTH = 10;\n/**\n * @internal\n * Used in {@link TuiInputDateRangeComponent}\n */\nconst DATE_RANGE_FILLER_LENGTH = 2 * DATE_FILLER_LENGTH + RANGE_SEPARATOR_CHAR.length;\n\n/**\n * Active date format for Taiga UI\n */\nconst TUI_DATE_FORMAT = tuiCreateToken('DMY');\n\n/**\n * Date separator for Taiga UI components\n */\nconst TUI_DATE_SEPARATOR = tuiCreateToken('.');\nconst changeDateSeparator = (dateString, newDateSeparator) => dateString.replace(/[^0-9A-Za-zА-Яа-я]/gi, newDateSeparator);\n\n/**\n * Immutable year object\n * @nosideeffects\n */\nclass TuiYear {\n  constructor(year) {\n    this.year = year;\n    ngDevMode && tuiAssert.assert(TuiYear.isValidYear(year));\n  }\n  /**\n   * Checks year for validity\n   */\n  static isValidYear(year) {\n    return Number.isInteger(year) && tuiInRange(year, MIN_YEAR, MAX_YEAR + 1);\n  }\n  /**\n   * Check if passed year is a leap year\n   */\n  static isLeapYear(year) {\n    ngDevMode && tuiAssert.assert(TuiYear.isValidYear(year));\n    return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n  }\n  /**\n   * Returns amount of leap years from year 0 to the passed one\n   */\n  static getAbsoluteLeapYears(year) {\n    ngDevMode && tuiAssert.assert(TuiYear.isValidYear(year));\n    return Math.ceil(year / 400) + (Math.ceil(year / 4) - Math.ceil(year / 100));\n  }\n  static lengthBetween(from, to) {\n    return to.year - from.year;\n  }\n  /**\n   * Normalizes year by clamping it between min and max years\n   */\n  static normalizeYearPart(year) {\n    return tuiNormalizeToIntNumber(year, MIN_YEAR, MAX_YEAR);\n  }\n  get formattedYear() {\n    return String(this.year).padStart(4, '0');\n  }\n  get isLeapYear() {\n    return TuiYear.isLeapYear(this.year);\n  }\n  /**\n   * Returns amount of leap years from year 0 to current\n   */\n  get absoluteLeapYears() {\n    return TuiYear.getAbsoluteLeapYears(this.year);\n  }\n  /**\n   * Passed year is after current\n   */\n  yearBefore({\n    year\n  }) {\n    return this.year < year;\n  }\n  /**\n   * Passed year is the same or after current\n   */\n  yearSameOrBefore({\n    year\n  }) {\n    return this.year <= year;\n  }\n  /**\n   * Passed year is the same as current\n   */\n  yearSame({\n    year\n  }) {\n    return this.year === year;\n  }\n  /**\n   * Passed year is either the same of before the current\n   */\n  yearSameOrAfter({\n    year\n  }) {\n    return this.year >= year;\n  }\n  /**\n   * Passed year is before current\n   */\n  yearAfter({\n    year\n  }) {\n    return this.year > year;\n  }\n  /**\n   * Immutably offsets year\n   */\n  append({\n    year = 0\n  }) {\n    ngDevMode && tuiAssert.assert(Number.isInteger(year));\n    const resultYear = this.year + year;\n    ngDevMode && tuiAssert.assert(TuiYear.isValidYear(resultYear));\n    return new TuiYear(resultYear);\n  }\n  toString() {\n    return this.formattedYear;\n  }\n  valueOf() {\n    return this.year;\n  }\n  /**\n   * Returns the primitive value of the given Date object.\n   * Depending on the argument, the method can return either a string or a number.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/@@toPrimitive\n   */\n  [Symbol.toPrimitive](hint) {\n    return Date.prototype[Symbol.toPrimitive].call(this, hint);\n  }\n  toJSON() {\n    return this.formattedYear;\n  }\n}\n\n/**\n * Immutable object consisting of year and month\n */\nclass TuiMonth extends TuiYear {\n  /**\n   * @param year\n   * @param month (starting with 0)\n   */\n  constructor(year, month) {\n    super(year);\n    this.month = month;\n    ngDevMode && tuiAssert.assert(TuiMonth.isValidMonth(year, month));\n  }\n  /**\n   * Tests month and year for validity\n   */\n  static isValidMonth(year, month) {\n    return TuiYear.isValidYear(year) && TuiMonth.isValidMonthPart(month);\n  }\n  /**\n   * Returns number of days in a month\n   */\n  static getMonthDaysCount(month, isLeapYear) {\n    ngDevMode && tuiAssert.assert(TuiMonth.isValidMonthPart(month));\n    switch (month) {\n      case TuiMonthNumber.February:\n        return isLeapYear ? 29 : 28;\n      case TuiMonthNumber.April:\n      case TuiMonthNumber.June:\n      case TuiMonthNumber.September:\n      case TuiMonthNumber.November:\n        return 30;\n      default:\n        return 31;\n    }\n  }\n  /**\n   * Returns current month and year based on local time zone\n   * @nosideeffects\n   */\n  static currentLocal() {\n    const nativeDate = new Date();\n    return new TuiMonth(nativeDate.getFullYear(), nativeDate.getMonth());\n  }\n  /**\n   * Returns current month and year based on UTC\n   */\n  static currentUtc() {\n    const nativeDate = new Date();\n    return new TuiMonth(nativeDate.getUTCFullYear(), nativeDate.getUTCMonth());\n  }\n  static lengthBetween(from, to) {\n    const absoluteFrom = from.month + from.year * 12;\n    const absoluteTo = to.month + to.year * 12;\n    return absoluteTo - absoluteFrom;\n  }\n  /**\n   * Normalizes number by clamping it between min and max month\n   */\n  static normalizeMonthPart(month) {\n    return tuiNormalizeToIntNumber(month, MIN_MONTH, MAX_MONTH);\n  }\n  /**\n   * Tests month for validity\n   */\n  static isValidMonthPart(month) {\n    return Number.isInteger(month) && tuiInRange(month, MIN_MONTH, MAX_MONTH + 1);\n  }\n  get formattedMonthPart() {\n    return String(this.month + 1).padStart(2, '0');\n  }\n  /**\n   * Returns days in a month\n   */\n  get daysCount() {\n    return TuiMonth.getMonthDaysCount(this.month, this.isLeapYear);\n  }\n  /**\n   * Passed month and year are after current\n   */\n  monthBefore(another) {\n    return this.yearBefore(another) || this.yearSame(another) && this.month < another.month;\n  }\n  /**\n   * Passed month and year are after or the same as current\n   */\n  monthSameOrBefore(another) {\n    return this.yearBefore(another) || this.yearSame(another) && this.month <= another.month;\n  }\n  /**\n   * Passed month and year are the same as current\n   */\n  monthSame(another) {\n    return this.yearSame(another) && this.month === another.month;\n  }\n  /**\n   * Passed month and year are either before or equal to current\n   */\n  monthSameOrAfter(another) {\n    return this.yearAfter(another) || this.yearSame(another) && this.month >= another.month;\n  }\n  /**\n   * Passed month and year are before current\n   */\n  monthAfter(another) {\n    return this.yearAfter(another) || this.yearSame(another) && this.month > another.month;\n  }\n  /**\n   * Immutably alters current month and year by passed offset\n   *\n   * @param offset\n   * @return new month and year object as a result of offsetting current\n   */\n  append({\n    year = 0,\n    month = 0\n  }) {\n    const totalMonths = (this.year + year) * MONTHS_IN_YEAR + this.month + month;\n    return new TuiMonth(Math.floor(totalMonths / MONTHS_IN_YEAR), totalMonths % MONTHS_IN_YEAR);\n  }\n  toString() {\n    return `${this.formattedMonthPart}.${this.formattedYear}`;\n  }\n  valueOf() {\n    return this.toLocalNativeDate().valueOf();\n  }\n  toJSON() {\n    return `${super.toJSON()}-${this.formattedMonthPart}`;\n  }\n  /**\n   * Returns native {@link Date} based on local time zone\n   */\n  toLocalNativeDate() {\n    return new Date(this.year, this.month);\n  }\n  /**\n   * Returns native {@link Date} based on UTC\n   */\n  toUtcNativeDate() {\n    return new Date(Date.UTC(this.year, this.month));\n  }\n}\n\n// TODO: Localized formatting\n/**\n * Immutable date object, consisting of day, month and year\n */\nclass TuiDay extends TuiMonth {\n  constructor(year, month, day) {\n    super(year, month);\n    this.day = day;\n    ngDevMode && tuiAssert.assert(TuiDay.isValidDay(year, month, day));\n  }\n  /**\n   * Creates {@link TuiDay} from native {@link Date} based on local time zone\n   */\n  static fromLocalNativeDate(date) {\n    return new TuiDay(date.getFullYear(), date.getMonth(), date.getDate());\n  }\n  /**\n   * Creates {@link TuiDay} from native {@link Date} using UTC\n   */\n  static fromUtcNativeDate(date) {\n    return new TuiDay(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n  }\n  /**\n   * Check validity of year, month and day\n   *\n   * @param year\n   * @param month\n   * @param day\n   * @return boolean validity\n   */\n  static isValidDay(year, month, day) {\n    return TuiMonth.isValidMonth(year, month) && Number.isInteger(day) && tuiInRange(day, MIN_DAY, TuiMonth.getMonthDaysCount(month, TuiYear.isLeapYear(year)) + 1);\n  }\n  /**\n   * Current day based on local time zone\n   */\n  static currentLocal() {\n    const nativeDate = new Date();\n    const year = nativeDate.getFullYear();\n    const month = nativeDate.getMonth();\n    const day = nativeDate.getDate();\n    return new TuiDay(year, month, day);\n  }\n  /**\n   * Returns current day based on UTC\n   */\n  static currentUtc() {\n    const nativeDate = new Date();\n    const year = nativeDate.getUTCFullYear();\n    const month = nativeDate.getUTCMonth();\n    const day = nativeDate.getUTCDate();\n    return new TuiDay(year, month, day);\n  }\n  /**\n   * Calculates {@link TuiDay} normalizing year, month and day. {@link NaN} is turned into minimal value.\n   *\n   * @param year any year value, including invalid\n   * @param month any month value, including invalid (months start with 0)\n   * @param day any day value, including invalid\n   * @return normalized date\n   */\n  static normalizeOf(year, month, day) {\n    const normalizedYear = TuiYear.normalizeYearPart(year);\n    const normalizedMonth = TuiMonth.normalizeMonthPart(month);\n    const normalizedDay = TuiDay.normalizeDayPart(day, normalizedMonth, normalizedYear);\n    return new TuiDay(normalizedYear, normalizedMonth, normalizedDay);\n  }\n  static lengthBetween(from, to) {\n    return Math.round((to.toLocalNativeDate().getTime() - from.toLocalNativeDate().getTime()) / (1000 * 60 * 60 * 24));\n  }\n  static parseRawDateString(date, dateMode = 'DMY') {\n    ngDevMode && tuiAssert.assert(date.length === DATE_FILLER_LENGTH, '[parseRawDateString]: wrong date string length');\n    switch (dateMode) {\n      case 'YMD':\n        return {\n          day: parseInt(date.slice(8, 10), 10),\n          month: parseInt(date.slice(5, 7), 10) - 1,\n          year: parseInt(date.slice(0, 4), 10)\n        };\n      case 'MDY':\n        return {\n          day: parseInt(date.slice(3, 5), 10),\n          month: parseInt(date.slice(0, 2), 10) - 1,\n          year: parseInt(date.slice(6, 10), 10)\n        };\n      case 'DMY':\n      default:\n        return {\n          day: parseInt(date.slice(0, 2), 10),\n          month: parseInt(date.slice(3, 5), 10) - 1,\n          year: parseInt(date.slice(6, 10), 10)\n        };\n    }\n  }\n  // TODO: Move month and year related code corresponding classes\n  /**\n   * Parsing a string with date with normalization\n   *\n   * @param rawDate date string\n   * @param dateMode date format of the date string (DMY | MDY | YMD)\n   * @return normalized date\n   */\n  static normalizeParse(rawDate, dateMode = 'DMY') {\n    const {\n      day,\n      month,\n      year\n    } = this.parseRawDateString(rawDate, dateMode);\n    return TuiDay.normalizeOf(year, month, day);\n  }\n  /**\n   * Parsing a date stringified in a toJSON format\n   * @param yearMonthDayString date string in format of YYYY-MM-DD\n   * @return date\n   * @throws exceptions if any part of the date is invalid\n   */\n  static jsonParse(yearMonthDayString) {\n    const {\n      day,\n      month,\n      year\n    } = this.parseRawDateString(yearMonthDayString, 'YMD');\n    if (!TuiYear.isValidYear(year)) {\n      throw new TuiInvalidYearException(year);\n    }\n    if (!TuiMonth.isValidMonth(year, month)) {\n      throw new TuiInvalidMonthException(month);\n    }\n    if (!Number.isInteger(day) || !tuiInRange(day, MIN_DAY, TuiMonth.getMonthDaysCount(month, TuiYear.isLeapYear(year)) + 1)) {\n      throw new TuiInvalidDayException(day);\n    }\n    return new TuiDay(year, month, day);\n  }\n  static normalizeDayPart(day, month, year) {\n    ngDevMode && tuiAssert.assert(TuiMonth.isValidMonth(year, month));\n    const monthDaysCount = TuiMonth.getMonthDaysCount(month, TuiYear.isLeapYear(year));\n    return tuiNormalizeToIntNumber(day, 1, monthDaysCount);\n  }\n  get formattedDayPart() {\n    return String(this.day).padStart(2, '0');\n  }\n  get isWeekend() {\n    const dayOfWeek = this.dayOfWeek(false);\n    return dayOfWeek === TuiDayOfWeek.Saturday || dayOfWeek === TuiDayOfWeek.Sunday;\n  }\n  /**\n   * Returns day of week\n   *\n   * @param startFromMonday whether week starts from Monday and not from Sunday\n   * @return day of week (from 0 to 6)\n   */\n  dayOfWeek(startFromMonday = true) {\n    const dayOfWeek = startFromMonday ? this.toLocalNativeDate().getDay() - 1 : this.toLocalNativeDate().getDay();\n    return dayOfWeek < 0 ? 6 : dayOfWeek;\n  }\n  /**\n   * Passed date is after current\n   */\n  dayBefore(another) {\n    return this.monthBefore(another) || this.monthSame(another) && this.day < another.day;\n  }\n  /**\n   * Passed date is after or equals to current\n   */\n  daySameOrBefore(another) {\n    return this.monthBefore(another) || this.monthSame(another) && this.day <= another.day;\n  }\n  /**\n   * Passed date is the same as current\n   */\n  daySame(another) {\n    return this.monthSame(another) && this.day === another.day;\n  }\n  /**\n   * Passed date is either before or the same as current\n   */\n  daySameOrAfter(another) {\n    return this.monthAfter(another) || this.monthSame(another) && this.day >= another.day;\n  }\n  /**\n   * Passed date is before current\n   */\n  dayAfter(another) {\n    return this.monthAfter(another) || this.monthSame(another) && this.day > another.day;\n  }\n  /**\n   * Clamping date between two limits\n   *\n   * @param min\n   * @param max\n   * @return clamped date\n   */\n  dayLimit(min, max) {\n    if (min !== null && this.dayBefore(min)) {\n      return min;\n    }\n    if (max !== null && this.dayAfter(max)) {\n      return max;\n    }\n    return this;\n  }\n  /**\n   * Immutably alters current day by passed offset\n   *\n   * If resulting month has more days than original one, date is rounded to the maximum day\n   * in the resulting month. Offset of days will be calculated based on the resulted year and month\n   * to not interfere with parent classes methods\n   *\n   * @param offset\n   * @return new date object as a result of offsetting current\n   */\n  append({\n    year = 0,\n    month = 0,\n    day = 0\n  }) {\n    const totalMonths = (this.year + year) * MONTHS_IN_YEAR + this.month + month;\n    let years = Math.floor(totalMonths / MONTHS_IN_YEAR);\n    let months = totalMonths % MONTHS_IN_YEAR;\n    let days = Math.min(this.day, TuiMonth.getMonthDaysCount(months, TuiYear.isLeapYear(years))) + day;\n    while (days > TuiMonth.getMonthDaysCount(months, TuiYear.isLeapYear(years))) {\n      days -= TuiMonth.getMonthDaysCount(months, TuiYear.isLeapYear(years));\n      if (months === TuiMonthNumber.December) {\n        years++;\n        months = TuiMonthNumber.January;\n      } else {\n        months++;\n      }\n    }\n    while (days < MIN_DAY) {\n      if (months === TuiMonthNumber.January) {\n        years--;\n        months = TuiMonthNumber.December;\n      } else {\n        months--;\n      }\n      days += TuiMonth.getMonthDaysCount(months, TuiYear.isLeapYear(years));\n    }\n    return new TuiDay(years, months, days);\n  }\n  /**\n   * Returns formatted whole date\n   */\n  getFormattedDay(dateFormat, separator) {\n    ngDevMode && tuiAssert.assert(separator.length === 1, 'Separator should consist of only 1 symbol');\n    const dd = this.formattedDayPart;\n    const mm = this.formattedMonthPart;\n    const yyyy = this.formattedYear;\n    switch (dateFormat) {\n      case 'YMD':\n        return `${yyyy}${separator}${mm}${separator}${dd}`;\n      case 'MDY':\n        return `${mm}${separator}${dd}${separator}${yyyy}`;\n      case 'DMY':\n      default:\n        return `${dd}${separator}${mm}${separator}${yyyy}`;\n    }\n  }\n  toString(dateFormat = 'DMY', separator = '.') {\n    return this.getFormattedDay(dateFormat, separator);\n  }\n  toJSON() {\n    return `${super.toJSON()}-${this.formattedDayPart}`;\n  }\n  /**\n   * Returns native {@link Date} based on local time zone\n   */\n  toLocalNativeDate() {\n    return new Date(this.year, this.month, this.day);\n  }\n  /**\n   * Returns native {@link Date} based on UTC\n   */\n  toUtcNativeDate() {\n    return new Date(Date.UTC(this.year, this.month, this.day));\n  }\n}\n\n/**\n * An immutable range of two {@link TuiMonth} objects\n */\nclass TuiMonthRange {\n  constructor(from, to) {\n    this.from = from;\n    this.to = to;\n    ngDevMode && tuiAssert.assert(from.monthSameOrBefore(to));\n  }\n  static sort(month1, month2) {\n    return month1.monthSameOrBefore(month2) ? new TuiMonthRange(month1, month2) : new TuiMonthRange(month2, month1);\n  }\n  get isSingleMonth() {\n    return this.from.monthSame(this.to);\n  }\n  monthSame(another) {\n    return this.from.monthSame(another.from) && this.to.monthSame(another.to);\n  }\n  toString() {\n    return `${this.from}${RANGE_SEPARATOR_CHAR}${this.to}`;\n  }\n}\n\n/**\n * An immutable range of two {@link TuiDay} objects\n */\nclass TuiDayRange extends TuiMonthRange {\n  constructor(from, to) {\n    super(from, to);\n    this.from = from;\n    this.to = to;\n    ngDevMode && tuiAssert.assert(from.daySameOrBefore(to));\n  }\n  /**\n   * Creates range from two days after sorting them\n   *\n   * @param day1\n   * @param day2\n   * @return new range with sorted days\n   */\n  static sort(day1, day2) {\n    return day1.daySameOrBefore(day2) ? new TuiDayRange(day1, day2) : new TuiDayRange(day2, day1);\n  }\n  /**\n   * Parse and correct a day range in string format\n   *\n   * @param rangeString a string of dates in a format dd.mm.yyyy - dd.mm.yyyy\n   * @param dateMode {@link TuiDateMode}\n   * @return normalized day range object\n   */\n  static normalizeParse(rangeString, dateMode = 'DMY') {\n    const leftDay = TuiDay.normalizeParse(rangeString.slice(0, DATE_FILLER_LENGTH), dateMode);\n    if (rangeString.length < DATE_RANGE_FILLER_LENGTH) {\n      return new TuiDayRange(leftDay, leftDay);\n    }\n    return TuiDayRange.sort(leftDay, TuiDay.normalizeParse(rangeString.slice(DATE_FILLER_LENGTH + RANGE_SEPARATOR_CHAR.length), dateMode));\n  }\n  get isSingleDay() {\n    return this.from.daySame(this.to);\n  }\n  /**\n   * Tests ranges for identity\n   *\n   * @param another second range to test against current\n   * @return `true` if days are identical\n   */\n  daySame(another) {\n    return this.from.daySame(another.from) && this.to.daySame(another.to);\n  }\n  /**\n   * Locks range between two days included, or limits from one side if the other is null\n   *\n   * @param min\n   * @param max\n   * @return range — clamped range\n   */\n  dayLimit(min, max) {\n    return new TuiDayRange(this.from.dayLimit(min, max), this.to.dayLimit(min, max));\n  }\n  /**\n   * Human readable format.\n   */\n  getFormattedDayRange(dateFormat, dateSeparator) {\n    const from = this.from.getFormattedDay(dateFormat, dateSeparator);\n    const to = this.to.getFormattedDay(dateFormat, dateSeparator);\n    return `${from}${RANGE_SEPARATOR_CHAR}${to}`;\n  }\n  toString(dateFormat = 'DMY', dateSeparator = '.') {\n    return this.getFormattedDayRange(dateFormat, dateSeparator);\n  }\n}\nconst TUI_FIRST_DAY = new TuiDay(MIN_YEAR, MIN_MONTH, MIN_DAY);\nconst TUI_LAST_DAY = new TuiDay(MAX_YEAR, MAX_MONTH, 31);\n\n/**\n * Immutable time object with hours, minutes, seconds and ms\n */\nclass TuiTime {\n  constructor(hours, minutes, seconds = 0, ms = 0) {\n    this.hours = hours;\n    this.minutes = minutes;\n    this.seconds = seconds;\n    this.ms = ms;\n    ngDevMode && tuiAssert.assert(TuiTime.isValidTime(hours, minutes, seconds, ms), 'Time must be real, but got:', hours, minutes, seconds, ms);\n  }\n  /**\n   * Checks if time is valid\n   */\n  static isValidTime(hours, minutes, seconds = 0, ms = 0) {\n    return Number.isInteger(hours) && tuiInRange(hours, 0, HOURS_IN_DAY) && Number.isInteger(minutes) && tuiInRange(minutes, 0, MINUTES_IN_HOUR) && Number.isInteger(seconds) && tuiInRange(seconds, 0, SECONDS_IN_MINUTE) && Number.isInteger(ms) && tuiInRange(ms, 0, 1000);\n  }\n  /**\n   * Current UTC time.\n   */\n  static current() {\n    return TuiTime.fromAbsoluteMilliseconds(Date.now() % MILLISECONDS_IN_DAY);\n  }\n  /**\n   * Current time in local timezone\n   */\n  static currentLocal() {\n    const date = new Date();\n    return TuiTime.fromAbsoluteMilliseconds((Date.now() - date.getTimezoneOffset() * MILLISECONDS_IN_MINUTE) % MILLISECONDS_IN_DAY);\n  }\n  /**\n   * Calculates TuiTime from milliseconds\n   */\n  static fromAbsoluteMilliseconds(milliseconds) {\n    ngDevMode && tuiAssert.assert(Number.isInteger(milliseconds));\n    ngDevMode && tuiAssert.assert(tuiInRange(milliseconds, 0, MILLISECONDS_IN_DAY), `Milliseconds must be below ${MILLISECONDS_IN_DAY} (milliseconds in a day).`);\n    const hours = Math.floor(milliseconds / MILLISECONDS_IN_HOUR);\n    const minutes = Math.floor(milliseconds % MILLISECONDS_IN_HOUR / MILLISECONDS_IN_MINUTE);\n    const seconds = Math.floor(milliseconds % MILLISECONDS_IN_HOUR % MILLISECONDS_IN_MINUTE / 1000) || 0;\n    const ms = Math.floor(milliseconds % MILLISECONDS_IN_HOUR % MILLISECONDS_IN_MINUTE % 1000) || 0;\n    return new TuiTime(hours, minutes, seconds, ms);\n  }\n  /**\n   * Parses string into TuiTime object\n   */\n  static fromString(time) {\n    const hours = Number(time.slice(0, 2));\n    const minutes = Number(time.slice(3, 5));\n    const seconds = Number(time.slice(6, 8)) || 0;\n    const ms = Number(time.slice(9, 12)) || 0;\n    return new TuiTime(hours, minutes, seconds, ms);\n  }\n  /**\n   * Converts Date object into TuiTime\n   * @param date\n   */\n  static fromLocalNativeDate(date) {\n    return new TuiTime(date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n  }\n  /**\n   * Shifts time by hours and minutes\n   */\n  shift({\n    hours = 0,\n    minutes = 0,\n    seconds = 0,\n    ms = 0\n  }) {\n    const newMs = (1000 + this.ms + ms % 1000) % 1000;\n    const secondsInMs = ms < 0 ? Math.ceil(ms / 1000) : Math.floor(ms / 1000);\n    const secondsToAdd = secondsInMs + seconds;\n    const newSeconds = (60 + this.seconds + secondsToAdd % 60) % 60;\n    const minutesInSeconds = secondsToAdd < 0 ? Math.ceil(secondsToAdd / 60) : Math.floor(secondsToAdd / 60);\n    const minutesToAdd = minutesInSeconds + minutes;\n    const newMinutes = (60 + this.minutes + minutesToAdd % 60) % 60;\n    const hoursInMinutes = minutesToAdd < 0 ? Math.ceil(minutesToAdd / 60) : Math.floor(minutesToAdd / 60);\n    const hoursToAdd = hoursInMinutes + hours;\n    const newHours = (24 + this.hours + hoursToAdd % 24) % 24;\n    return new TuiTime(newHours, newMinutes, newSeconds, newMs);\n  }\n  /**\n   * Converts TuiTime to string\n   */\n  toString(mode) {\n    const needAddMs = mode === 'HH:MM:SS.MSS' || !mode && this.ms > 0;\n    const needAddSeconds = needAddMs || mode === 'HH:MM:SS' || !mode && this.seconds > 0;\n    return `${this.formatTime(this.hours)}:${this.formatTime(this.minutes)}` + `${needAddSeconds ? `:${this.formatTime(this.seconds)}` : ''}` + `${needAddMs ? `.${this.formatTime(this.ms, 3)}` : ''}`;\n  }\n  valueOf() {\n    return this.toAbsoluteMilliseconds();\n  }\n  /**\n   * Returns the primitive value of the given Date object.\n   * Depending on the argument, the method can return either a string or a number.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/@@toPrimitive\n   */\n  [Symbol.toPrimitive](hint) {\n    return Date.prototype[Symbol.toPrimitive].call(this, hint);\n  }\n  /**\n   * Converts TuiTime to milliseconds\n   */\n  toAbsoluteMilliseconds() {\n    return this.hours * MILLISECONDS_IN_HOUR + this.minutes * MILLISECONDS_IN_MINUTE + this.seconds * 1000 + this.ms;\n  }\n  formatTime(time, digits = 2) {\n    return String(time).padStart(digits, '0');\n  }\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DATE_FILLER_LENGTH, DATE_RANGE_FILLER_LENGTH, DAYS_IN_LEAP_YEAR, DAYS_IN_NORMAL_YEAR, DAYS_IN_WEEK, HOURS_IN_DAY, MAX_MONTH, MAX_YEAR, MILLISECONDS_IN_DAY, MILLISECONDS_IN_HOUR, MILLISECONDS_IN_MINUTE, MILLISECONDS_IN_SECOND, MINUTES_IN_HOUR, MIN_DAY, MIN_MONTH, MIN_YEAR, MONTHS_IN_YEAR, RANGE_SEPARATOR_CHAR, SECONDS_IN_MINUTE, TUI_DATE_FORMAT, TUI_DATE_SEPARATOR, TUI_FIRST_DAY, TUI_LAST_DAY, TuiDay, TuiDayRange, TuiMonth, TuiMonthRange, TuiTime, TuiYear, changeDateSeparator, tuiDateClamp };\n","import { TUI_VERSION, EMPTY_ARRAY, CHAR_NO_BREAK_SPACE } from '@taiga-ui/cdk';\nconst TUI_CACHE_BUSTING_PAYLOAD = `?v=${TUI_VERSION}`;\n\n/**\n * @deprecated\n * TODO: delete in v4.0\n */\nconst TUI_DECIMAL_SYMBOLS = [',', '.'];\nconst DEFAULT_ICONS_PATH = name => name.includes('.svg#') ? name : `#${name}`;\nconst TUI_DEFAULT_MARKER_HANDLER = () => EMPTY_ARRAY;\nconst TUI_DEFAULT_NUMBER_FORMAT = {\n  decimalLimit: Infinity,\n  decimalSeparator: ',',\n  thousandSeparator: CHAR_NO_BREAK_SPACE,\n  zeroPadding: true,\n  rounding: 'truncate',\n  decimal: 'not-zero'\n};\nconst tuiEditingKeys = ['Spacebar', 'Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Left', 'Right', 'End', 'Home'];\n\n/**\n * An event indicating that async data for expand has finished loading.\n * Dispatch to finish loading states for {@link TuiExpandComponent}.\n */\nconst TUI_EXPAND_LOADED = 'tui-expand-loaded';\n/**\n * An event for scrolling an element into view within {@link TuiScrollbarComponent}.\n */\nconst TUI_SCROLL_INTO_VIEW = 'tui-scroll-into-view';\n/**\n * An event to notify {@link TuiScrollbarComponent} that\n * it should control a nested element.\n */\nconst TUI_SCROLLABLE = 'tui-scrollable';\n/**\n * An event indicating and error during icon loading in {@link TuiSvgComponent}.\n */\nconst TUI_ICON_ERROR = 'tui-icon-error';\nconst TUI_HINT_DIRECTIONS = ['bottom-left', 'bottom', 'bottom-right', 'top-left', 'top', 'top-right', 'left-top', 'left', 'left-bottom', 'right-top', 'right', 'right-bottom'];\n\n/**\n * @deprecated Use {@link https://github.com/taiga-family/maskito Maskito}\n * TODO: delete in v4.0\n */\nconst MASK_CARET_TRAP = '[]';\nconst TUI_DIGIT_REGEXP = /\\d/;\nconst TUI_NON_DIGIT_REGEXP = /\\D/;\nconst TUI_NON_DIGITS_REGEXP = /\\D+/g;\nconst TUI_LEADING_ZEROES_REGEXP = /^0+/;\nconst TUI_MASK_SYMBOLS_REGEXP = /[ \\-_()]/g;\nconst TUI_LAST_PUNCTUATION_MARK_REGEXP = /[.,\\\\/#!$%\\\\^&\\\\*;:{}=\\\\-_`~()]$/;\nconst TUI_LATIN_REGEXP = /[A-z]/;\nconst TUI_LATIN_AND_NUMBERS_REGEXP = /[A-z|0-9]/;\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DEFAULT_ICONS_PATH, MASK_CARET_TRAP, TUI_CACHE_BUSTING_PAYLOAD, TUI_DECIMAL_SYMBOLS, TUI_DEFAULT_MARKER_HANDLER, TUI_DEFAULT_NUMBER_FORMAT, TUI_DIGIT_REGEXP, TUI_EXPAND_LOADED, TUI_HINT_DIRECTIONS, TUI_ICON_ERROR, TUI_LAST_PUNCTUATION_MARK_REGEXP, TUI_LATIN_AND_NUMBERS_REGEXP, TUI_LATIN_REGEXP, TUI_LEADING_ZEROES_REGEXP, TUI_MASK_SYMBOLS_REGEXP, TUI_NON_DIGITS_REGEXP, TUI_NON_DIGIT_REGEXP, TUI_SCROLLABLE, TUI_SCROLL_INTO_VIEW, tuiEditingKeys };\n","import { svgNodeFilter, CHAR_NO_BREAK_SPACE, CHAR_ZERO_WIDTH_SPACE } from '@taiga-ui/cdk';\nfunction tuiCheckFixedPosition(element) {\n  if (!element || typeof getComputedStyle === 'undefined') {\n    return false;\n  }\n  const style = getComputedStyle(element);\n  return style.getPropertyValue('position') === 'fixed' || tuiCheckFixedPosition(element.parentElement);\n}\n\n/**\n * Calculates size of safe area on mobile devices (status bars)\n *\n * ATTENTION: Only use in browser environment\n */\nfunction tuiGetSafeAreaSize() {\n  if (!CSS.supports('padding-top: env(safe-area-inset-top)')) {\n    return 0;\n  }\n  const div = document.createElement('div');\n  div.style.paddingTop = 'env(safe-area-inset-top)';\n  document.body.appendChild(div);\n  const safeAreaSize = parseInt(window.getComputedStyle(div).paddingTop, 10) || 0;\n  document.body.removeChild(div);\n  return safeAreaSize;\n}\nfunction tuiGetScreenWidth(doc) {\n  return Math.max(doc.documentElement.clientWidth, doc.defaultView ? doc.defaultView.innerWidth : 0);\n}\n\n/**\n * @description:\n * Cross-browser @media (height)\n *\n * 1. window.innerWidth\n * 1.1. gets CSS viewport @media (height) which include scrollbars\n * 1.2. initial-scale and zoom variations may cause mobile values to\n *      wrongly scale down to what PPK calls the visual\n *      viewport and be smaller than the @media values\n *  1.3. zoom may cause values to be 1px off due to native rounding\n *\n *  2. document.documentElement.clientHeight\n *  2.1. equals CSS viewport width minus scrollbar width\n *  2.2. matches @media (height) when there is no scrollbar\n *  2.3. available cross-browser\n *  2.4. inaccurate if doctype is missing\n */\nfunction tuiGetViewportHeight({\n  document,\n  innerHeight\n}) {\n  return Math.max(document.documentElement.clientHeight || 0, innerHeight || 0);\n}\n\n/**\n * @description:\n * Cross-browser @media (width)\n *\n * 1. window.innerWidth\n * 1.1. gets CSS viewport @media (width) which include scrollbars\n * 1.2. initial-scale and zoom variations may cause mobile values to\n *      wrongly scale down to what PPK calls the visual\n *      viewport and be smaller than the @media values\n *  1.3. zoom may cause values to be 1px off due to native rounding\n *\n *  2. document.documentElement.clientWidth\n *  2.1. equals CSS viewport width minus scrollbar width\n *  2.2. matches @media (width) when there is no scrollbar\n *  2.3. available cross-browser\n *  2.4. inaccurate if doctype is missing\n */\nfunction tuiGetViewportWidth({\n  document,\n  innerWidth\n}) {\n  return Math.max(document.documentElement.clientWidth || 0, innerWidth || 0);\n}\n\n/**\n * Creates a cloned range with its boundaries set at word boundaries\n *\n * @param currentRange a range to clone\n * @return modified range\n */\nfunction tuiGetWordRange(currentRange) {\n  const range = currentRange.cloneRange();\n  const {\n    startContainer,\n    startOffset,\n    endContainer,\n    endOffset\n  } = range;\n  const {\n    ownerDocument\n  } = startContainer;\n  if (!ownerDocument) {\n    return range;\n  }\n  const treeWalker = ownerDocument.createTreeWalker(ownerDocument.body, NodeFilter.SHOW_TEXT, svgNodeFilter);\n  treeWalker.currentNode = startContainer;\n  do {\n    const container = treeWalker.currentNode;\n    const textContent = container.textContent || '';\n    const content = container === startContainer ? textContent.slice(0, Math.max(0, startOffset + 1)) : textContent;\n    const offset = Math.max(content.lastIndexOf(' '), content.lastIndexOf(CHAR_NO_BREAK_SPACE), content.lastIndexOf(CHAR_ZERO_WIDTH_SPACE)) + 1;\n    range.setStart(container, 0);\n    if (offset) {\n      range.setStart(container, offset);\n      break;\n    }\n  } while (treeWalker.previousNode());\n  treeWalker.currentNode = endContainer;\n  do {\n    const container = treeWalker.currentNode;\n    const textContent = container.textContent || '';\n    const content = container === endContainer ? textContent.slice(endOffset + 1) : textContent;\n    const offset = [content.indexOf(' '), content.indexOf(CHAR_NO_BREAK_SPACE), content.indexOf(CHAR_ZERO_WIDTH_SPACE)].reduce((result, item) => result === -1 || item === -1 ? Math.max(result, item) : Math.min(result, item), -1);\n    range.setEnd(container, textContent.length);\n    if (offset !== -1) {\n      range.setEnd(container, offset + textContent.length - content.length);\n      break;\n    }\n  } while (treeWalker.nextNode());\n  return range;\n}\nconst WIDTH_SEARCH = 'width=\"';\nconst HEIGHT_SEARCH = 'height=\"';\nconst START = '<svg';\nfunction tuiProcessIcon(source, name) {\n  if (source.includes(`id=\"${name}\"`)) {\n    return source;\n  }\n  const src = source.slice(Math.max(0, source.indexOf(START)));\n  const attributes = src.slice(0, Math.max(0, src.indexOf('>')));\n  if (!(attributes === null || attributes === void 0 ? void 0 : attributes.includes(WIDTH_SEARCH)) || !attributes.includes(HEIGHT_SEARCH)) {\n    return `${src.replace(START, `<svg xmlns=\"http://www.w3.org/2000/svg\"><g id=\"${name}\" xmlns=\"http://www.w3.org/2000/svg\"><svg`)}</g></svg>`;\n  }\n  const indexOfWidth = attributes.indexOf(WIDTH_SEARCH);\n  const indexOfHeight = attributes.indexOf(HEIGHT_SEARCH);\n  const widthOffset = indexOfWidth + WIDTH_SEARCH.length;\n  const heightOffset = indexOfHeight + HEIGHT_SEARCH.length;\n  const widthString = attributes.slice(widthOffset, attributes.indexOf('\"', widthOffset));\n  const heightString = attributes.slice(heightOffset, attributes.indexOf('\"', heightOffset));\n  if (!heightString || !widthString || widthString.includes('%') || heightString.includes('%') || widthString.includes('em') || heightString.includes('em')) {\n    return src.replace(START, `<svg id=\"${name}\"`);\n  }\n  const width = parseInt(widthString, 10);\n  const height = parseInt(heightString, 10);\n  return `<g id=\"${name}\" xmlns=\"http://www.w3.org/2000/svg\"><svg  x=\"50%\" y=\"50%\" width=\"${width / 16}em\" height=\"${height / 16}em\" overflow=\"visible\" viewBox=\"0 0 ${width} ${height}\"><svg x=\"${-width / 2}\" y=\"${-height / 2}\">${src}</svg></svg></g>`;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiCheckFixedPosition, tuiGetSafeAreaSize, tuiGetScreenWidth, tuiGetViewportHeight, tuiGetViewportWidth, tuiGetWordRange, tuiProcessIcon };\n","import { TUI_CACHE_BUSTING_PAYLOAD, DEFAULT_ICONS_PATH, tuiEditingKeys } from '@taiga-ui/core/constants';\nimport { tuiGetElementObscures } from '@taiga-ui/cdk';\nconst ITEM_SIZE = 1.5;\nconst CONTENT_SIZE = 2.5;\nfunction tuiGetBorder(hasIcon, hasCleaner = false, hasTooltip = false, hasContent = false, size = 'm') {\n  const offset = size === 's' ? 0 : 0.25;\n  let border = 0;\n  if (hasIcon) {\n    border += ITEM_SIZE + offset;\n  }\n  if (hasCleaner) {\n    border += ITEM_SIZE + offset;\n  }\n  if (hasTooltip) {\n    border += ITEM_SIZE + offset;\n  }\n  if (hasContent) {\n    border += CONTENT_SIZE + offset;\n  }\n  return border;\n}\nfunction tuiIconsPathFactory(staticPath) {\n  const base = staticPath.endsWith('/') ? staticPath : `${staticPath}/`;\n  return name => {\n    if (name.startsWith('tuiIcon')) {\n      return `${base}${name}.svg${TUI_CACHE_BUSTING_PAYLOAD}#${name}`;\n    }\n    return DEFAULT_ICONS_PATH(name);\n  };\n}\n\n/**\n * Check if pressed key is interactive in terms of input field\n */\nfunction tuiIsEditingKey(key) {\n  return key.length === 1 || tuiEditingKeys.includes(key);\n}\n\n/**\n * @internal\n */\nfunction tuiIsObscured(el, exceptSelector = 'tui-hints-host') {\n  var _a;\n  return !!((_a = tuiGetElementObscures(el)) === null || _a === void 0 ? void 0 : _a.some(el => !el.closest(exceptSelector)));\n}\nfunction tuiIsPresumedHTMLString(candidate) {\n  const trimmed = candidate.trim();\n  return trimmed.startsWith('<') && trimmed.endsWith('>');\n}\nfunction tuiOverrideOptions(override, fallback) {\n  return (directive, options) => {\n    const result = directive || Object.assign({}, options || fallback);\n    Object.keys(override).forEach(key => {\n      // Update directive props with new defaults before inputs are processed\n      result[key] = override[key];\n    });\n    return result;\n  };\n}\nconst SIZES = {\n  xxs: 0,\n  xs: 1,\n  s: 2,\n  m: 3,\n  l: 4,\n  xl: 5,\n  xxl: 6\n};\n/**\n * Compares size constants to determine if first size is bigger than the second\n *\n * @param size size that we need to compare\n * @param biggerThanSize size to compare with, 's' by default\n */\nfunction tuiSizeBigger(size, biggerThanSize = 's') {\n  return SIZES[size] > SIZES[biggerThanSize];\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiGetBorder, tuiIconsPathFactory, tuiIsEditingKey, tuiIsObscured, tuiIsPresumedHTMLString, tuiOverrideOptions, tuiSizeBigger };\n","import { tuiGetViewportWidth } from '@taiga-ui/core/utils/dom';\nfunction tuiIsMobile(win, {\n  mobile\n}) {\n  return tuiGetViewportWidth(win) < mobile;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiIsMobile };\n","// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiAppearance = /*#__PURE__*/function (TuiAppearance) {\n  TuiAppearance[\"Accent\"] = \"accent\";\n  TuiAppearance[\"Flat\"] = \"flat\";\n  TuiAppearance[\"Icon\"] = \"icon\";\n  TuiAppearance[\"Outline\"] = \"outline\";\n  TuiAppearance[\"Primary\"] = \"primary\";\n  TuiAppearance[\"Secondary\"] = \"secondary\";\n  TuiAppearance[\"SecondaryDestructive\"] = \"secondary-destructive\";\n  TuiAppearance[\"Table\"] = \"table\";\n  TuiAppearance[\"Textfield\"] = \"textfield\";\n  TuiAppearance[\"Whiteblock\"] = \"whiteblock\";\n  TuiAppearance[\"WhiteblockActive\"] = \"whiteblock-active\";\n  return TuiAppearance;\n}(TuiAppearance || {});\n/** @deprecated not used anymore TODO: remove in 4.0 **/\n// eslint-disable-next-line no-restricted-syntax\nvar TuiDropdownAnimation = /*#__PURE__*/function (TuiDropdownAnimation) {\n  TuiDropdownAnimation[\"FadeInBottom\"] = \"fadeInBottom\";\n  TuiDropdownAnimation[\"FadeInTop\"] = \"fadeInTop\";\n  return TuiDropdownAnimation;\n}(TuiDropdownAnimation || {});\n/**\n * @internal used in calendar, year picker and wrapper\n */\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiInteractiveState = /*#__PURE__*/function (TuiInteractiveState) {\n  TuiInteractiveState[\"Active\"] = \"active\";\n  TuiInteractiveState[\"Disabled\"] = \"disabled\";\n  TuiInteractiveState[\"Hover\"] = \"hover\";\n  TuiInteractiveState[\"Readonly\"] = \"readonly\";\n  return TuiInteractiveState;\n}(TuiInteractiveState || {});\n/**\n * @deprecated use union type TuiNotificationT instead\n */\n// eslint-disable-next-line no-restricted-syntax\nvar TuiNotification = /*#__PURE__*/function (TuiNotification) {\n  TuiNotification[\"Error\"] = \"error\";\n  TuiNotification[\"Info\"] = \"info\";\n  TuiNotification[\"Success\"] = \"success\";\n  TuiNotification[\"Warning\"] = \"warning\";\n  return TuiNotification;\n}(TuiNotification || {});\n/**\n * @internal used in calendar and year picker\n */\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nvar TuiRangeState = /*#__PURE__*/function (TuiRangeState) {\n  TuiRangeState[\"End\"] = \"end\";\n  TuiRangeState[\"Single\"] = \"single\";\n  TuiRangeState[\"Start\"] = \"start\";\n  return TuiRangeState;\n}(TuiRangeState || {});\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAppearance, TuiDropdownAnimation, TuiInteractiveState, TuiNotification, TuiRangeState };\n","import { inject, isDevMode, InjectionToken, NgZone } from '@angular/core';\nimport { tuiCreateTokenFromFactory, tuiCreateToken, tuiProvideOptions, TuiDayOfWeek, tuiTypedFromEvent, tuiZoneOptimized, TUI_SCROLL_REF as TUI_SCROLL_REF$1, tuiSvgLinearGradientProcessor } from '@taiga-ui/cdk';\nimport { DOCUMENT } from '@angular/common';\nimport { tuiExtractI18n } from '@taiga-ui/i18n';\nimport { tuiIconsPathFactory, tuiIsMobile } from '@taiga-ui/core/utils';\nimport { WINDOW } from '@ng-web-apis/common';\nimport { share, startWith, map, distinctUntilChanged, switchMap, takeUntil } from 'rxjs/operators';\nimport { TUI_DEFAULT_NUMBER_FORMAT } from '@taiga-ui/core/constants';\nimport { of, merge, identity } from 'rxjs';\nimport { TuiAppearance } from '@taiga-ui/core/enums';\nconst TUI_REDUCED_MOTION = tuiCreateTokenFromFactory(() => {\n  var _a, _b, _c;\n  return (_c = (_b = (_a = inject(DOCUMENT).defaultView) === null || _a === void 0 ? void 0 : _a.matchMedia) === null || _b === void 0 ? void 0 : _b.call(_a, '(prefers-reduced-motion: reduce)').matches) !== null && _c !== void 0 ? _c : false;\n});\nconst TUI_ANIMATIONS_DEFAULT_DURATION = 300;\n/**\n * Duration of all Taiga UI animations in ms\n */\nconst TUI_ANIMATIONS_DURATION = tuiCreateTokenFromFactory(() => inject(TUI_REDUCED_MOTION) ? 0 : TUI_ANIMATIONS_DEFAULT_DURATION);\n\n/**\n * Options for Taiga UI animations\n */\nconst TUI_ANIMATION_OPTIONS = tuiCreateTokenFromFactory(() => ({\n  value: '',\n  params: {\n    duration: inject(TUI_ANIMATIONS_DURATION)\n  }\n}));\n\n/**\n * @deprecated:\n * Flag to enable assertions across Taiga UI\n *\n * The current token no longer matters as\n * it will not be provided in production\n */\nconst TUI_ASSERT_ENABLED = tuiCreateTokenFromFactory(() => isDevMode());\nconst COMMON_ICONS = {\n  check: 'tuiIconCheck',\n  close: 'tuiIconClose',\n  error: 'tuiIconAlertCircle',\n  more: 'tuiIconChevronRight'\n};\nconst TUI_COMMON_ICONS = tuiCreateToken(COMMON_ICONS);\nfunction tuiCommonIconsProvider(icons) {\n  return tuiProvideOptions(TUI_COMMON_ICONS, icons, COMMON_ICONS);\n}\n\n/**\n * Accessor for data-list options\n */\nconst TUI_DATA_LIST_ACCESSOR = new InjectionToken('[TUI_DATA_LIST_ACCESSOR]');\nfunction tuiAsDataListAccessor(useExisting) {\n  return {\n    provide: TUI_DATA_LIST_ACCESSOR,\n    useExisting\n  };\n}\n\n/**\n * DataList controller\n */\nconst TUI_DATA_LIST_HOST = new InjectionToken('[TUI_DATA_LIST_HOST]');\nfunction tuiAsDataListHost(useExisting) {\n  return {\n    provide: TUI_DATA_LIST_HOST,\n    useExisting\n  };\n}\n\n/**\n * Token for adding data-type attribute to calendar cell\n */\nconst TUI_DAY_TYPE_HANDLER = tuiCreateToken(day => day.isWeekend ? 'weekend' : 'weekday');\nconst TUI_DOCUMENT_OR_SHADOW_ROOT = new InjectionToken('[TUI_DOCUMENT_OR_SHADOW_ROOT]');\n\n/**\n * ElementRef when you cannot use @Input for single time injection\n */\nconst TUI_ELEMENT_REF = new InjectionToken('[TUI_ELEMENT_REF]');\n\n/**\n * The first day of the week index\n */\nconst TUI_FIRST_DAY_OF_WEEK = tuiCreateToken(TuiDayOfWeek.Monday);\n\n/**\n * Localized months names\n */\nconst TUI_MONTHS = tuiCreateTokenFromFactory(tuiExtractI18n('months'));\n/**\n * i18n 'close' word\n */\nconst TUI_CLOSE_WORD = tuiCreateTokenFromFactory(tuiExtractI18n('close'));\n/**\n * i18n 'Nothing found' message\n */\nconst TUI_NOTHING_FOUND_MESSAGE = tuiCreateTokenFromFactory(tuiExtractI18n('nothingFoundMessage'));\n/**\n * i18n of error message\n */\nconst TUI_DEFAULT_ERROR_MESSAGE = tuiCreateTokenFromFactory(tuiExtractI18n('defaultErrorMessage'));\n/**\n * spin i18n texts\n */\nconst TUI_SPIN_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('spinTexts'));\n/**\n * calendars i18n texts\n */\nconst TUI_SHORT_WEEK_DAYS = tuiCreateTokenFromFactory(tuiExtractI18n('shortWeekDays'));\nconst TUI_DEFAULT_ICONS_PLACE = 'assets/taiga-ui/icons';\n/**\n * Path to icons\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_ICONS_PLACE = tuiCreateToken(TUI_DEFAULT_ICONS_PLACE);\n\n/**\n * A key/value dictionary of icon names and src to be defined with TuiSvgService\n */\nconst TUI_ICONS = tuiCreateToken({});\n\n/**\n * A handler to retrieve USE id for icon by name\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_ICONS_PATH = tuiCreateTokenFromFactory(() => tuiIconsPathFactory(inject(TUI_ICONS_PLACE)));\n\n/**\n * Token for media constant\n */\nconst TUI_MEDIA = tuiCreateToken({\n  mobile: 768,\n  desktopSmall: 1024,\n  desktopLarge: 1280\n});\n\n/**\n * @deprecated use {@link https://taiga-ui.dev/services/breakpoint-service TuiBreakpointService}\n * TODO: drop in v4.0\n * Mobile resolution stream for private providers\n */\nconst TUI_IS_MOBILE_RES = tuiCreateTokenFromFactory(() => {\n  const win = inject(WINDOW);\n  const media = inject(TUI_MEDIA);\n  return tuiTypedFromEvent(win, 'resize').pipe(share(), startWith(null), map(() => tuiIsMobile(win, media)), distinctUntilChanged(), tuiZoneOptimized(inject(NgZone)));\n});\n\n/**\n * @internal\n * @deprecated\n * Don't use it! Will be removed after changing the mask.\n */\nconst TUI_LEGACY_MASK = new InjectionToken('[TUI_LEGACY_MASK]');\n\n/**\n * Mode stream for private providers\n */\nconst TUI_MODE = new InjectionToken('[TUI_MODE]');\n\n/** @deprecated remove export */\nconst STATUS_ICON = {\n  info: 'tuiIconInfo',\n  success: 'tuiIconCheckCircle',\n  error: 'tuiIconXCircle',\n  warning: 'tuiIconAlertCircle',\n  neutral: 'tuiIconInfo'\n};\n/** Default values for the notification options. */\nconst TUI_NOTIFICATION_DEFAULT_OPTIONS = {\n  autoClose: 3000,\n  label: '',\n  status: 'info',\n  hasCloseButton: true,\n  icon: ({\n    $implicit\n  }) => STATUS_ICON[$implicit],\n  size: 'm',\n  hasIcon: true,\n  defaultAutoCloseTime: 3000\n};\n/**\n * Default parameters for notification alert component\n */\nconst TUI_NOTIFICATION_OPTIONS = tuiCreateToken(TUI_NOTIFICATION_DEFAULT_OPTIONS);\nfunction tuiNotificationOptionsProvider(options) {\n  return tuiProvideOptions(TUI_NOTIFICATION_OPTIONS, options, TUI_NOTIFICATION_DEFAULT_OPTIONS);\n}\n\n/**\n * Formatting configuration for displayed numbers\n */\nconst TUI_NUMBER_FORMAT = tuiCreateToken(TUI_DEFAULT_NUMBER_FORMAT);\nfunction tuiNumberFormatProvider(options) {\n  return tuiProvideOptions(TUI_NUMBER_FORMAT, options, TUI_DEFAULT_NUMBER_FORMAT);\n}\n\n/**\n * Formatting configuration for displayed numbers\n */\nconst TUI_NUMBER_FORMAT_OBSERVABLE = tuiCreateToken(of(Object.assign(Object.assign({}, TUI_DEFAULT_NUMBER_FORMAT), {\n  decimalLimit: NaN\n})));\n\n/**\n * Content for tuiOption component\n */\nconst TUI_OPTION_CONTENT = new InjectionToken('[TUI_OPTION_CONTENT]');\nfunction tuiAsOptionContent(useValue) {\n  return {\n    provide: TUI_OPTION_CONTENT,\n    useValue\n  };\n}\n\n/**\n * TODO: v4.0 delete the whole file\n */\nconst convertToSundayFirstWeekFormat = weekDaysNames => {\n  const sundayIndex = weekDaysNames.length - 1;\n  return [weekDaysNames[sundayIndex], ...weekDaysNames.slice(0, sundayIndex)];\n};\n/**\n * Ordered calendars i18n texts\n * @deprecated\n */\nconst TUI_ORDERED_SHORT_WEEK_DAYS = tuiCreateTokenFromFactory(() => {\n  const firstDayOfWeekIndex = inject(TUI_FIRST_DAY_OF_WEEK);\n  return inject(TUI_SHORT_WEEK_DAYS).pipe(map(convertToSundayFirstWeekFormat), map(weekDays => [...weekDays.slice(firstDayOfWeekIndex), ...weekDays.slice(0, firstDayOfWeekIndex)]));\n});\n\n/**\n * A custom Sanitizer to sanitize source before inlining\n */\nconst TUI_SANITIZER = new InjectionToken('[TUI_SANITIZER]');\n\n/**\n * @deprecated import from `@taiga-ui/cdk` instead\n */\nconst TUI_SCROLL_REF = TUI_SCROLL_REF$1;\n\n/**\n * A stream of possible selection changes\n */\nconst TUI_SELECTION_STREAM = tuiCreateTokenFromFactory(() => {\n  const doc = inject(DOCUMENT);\n  return merge(tuiTypedFromEvent(doc, 'selectionchange'), tuiTypedFromEvent(doc, 'mouseup'), tuiTypedFromEvent(doc, 'mousedown').pipe(switchMap(() => tuiTypedFromEvent(doc, 'mousemove').pipe(takeUntil(tuiTypedFromEvent(doc, 'mouseup'))))), tuiTypedFromEvent(doc, 'keydown'), tuiTypedFromEvent(doc, 'keyup')).pipe(share());\n});\nconst TUI_SPIN_ICONS = tuiCreateToken({\n  decrement: 'tuiIconChevronLeft',\n  increment: 'tuiIconChevronRight'\n});\n\n/**\n * Transform function the contents of the loaded svg file\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_SVG_CONTENT_PROCESSOR = tuiCreateToken(tuiSvgLinearGradientProcessor);\n\n/**\n * Source path processor for svg\n * @deprecated Use {@link TUI_SVG_OPTIONS} instead\n */\nconst TUI_SVG_SRC_PROCESSOR = tuiCreateToken(identity);\n\n/**\n * Appearance for inputs\n * @deprecated use {@link TUI_TEXTFIELD_APPEARANCE_DIRECTIVE} instead\n * TODO: Remove in 4.0\n */\nconst TUI_TEXTFIELD_APPEARANCE = tuiCreateToken(TuiAppearance.Textfield);\n\n/**\n * An interface to communicate with textfield based controls\n */\nconst TUI_TEXTFIELD_HOST = new InjectionToken('[TUI_TEXTFIELD_HOST]');\nfunction tuiAsTextfieldHost(useExisting) {\n  return {\n    provide: TUI_TEXTFIELD_HOST,\n    useExisting\n  };\n}\nconst TUI_THEME = tuiCreateToken('Taiga');\n\n/**\n * Buffer token to pass NG_VALUE_ACCESSOR to a different Injector\n */\nconst TUI_VALUE_ACCESSOR = new InjectionToken('[TUI_VALUE_ACCESSOR]');\n\n/**\n * Viewport accessor\n */\nconst TUI_VIEWPORT = tuiCreateTokenFromFactory(() => {\n  const win = inject(WINDOW);\n  return {\n    type: 'viewport',\n    getClientRect() {\n      return {\n        top: 0,\n        left: 0,\n        right: win.innerWidth,\n        bottom: win.innerHeight,\n        width: win.innerWidth,\n        height: win.innerHeight\n      };\n    }\n  };\n});\nfunction tuiAsViewport(useExisting) {\n  return {\n    provide: TUI_VIEWPORT,\n    useExisting\n  };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { STATUS_ICON, TUI_ANIMATIONS_DEFAULT_DURATION, TUI_ANIMATIONS_DURATION, TUI_ANIMATION_OPTIONS, TUI_ASSERT_ENABLED, TUI_CLOSE_WORD, TUI_COMMON_ICONS, TUI_DATA_LIST_ACCESSOR, TUI_DATA_LIST_HOST, TUI_DAY_TYPE_HANDLER, TUI_DEFAULT_ERROR_MESSAGE, TUI_DEFAULT_ICONS_PLACE, TUI_DOCUMENT_OR_SHADOW_ROOT, TUI_ELEMENT_REF, TUI_FIRST_DAY_OF_WEEK, TUI_ICONS, TUI_ICONS_PATH, TUI_ICONS_PLACE, TUI_IS_MOBILE_RES, TUI_LEGACY_MASK, TUI_MEDIA, TUI_MODE, TUI_MONTHS, TUI_NOTHING_FOUND_MESSAGE, TUI_NOTIFICATION_DEFAULT_OPTIONS, TUI_NOTIFICATION_OPTIONS, TUI_NUMBER_FORMAT, TUI_NUMBER_FORMAT_OBSERVABLE, TUI_OPTION_CONTENT, TUI_ORDERED_SHORT_WEEK_DAYS, TUI_REDUCED_MOTION, TUI_SANITIZER, TUI_SCROLL_REF, TUI_SELECTION_STREAM, TUI_SHORT_WEEK_DAYS, TUI_SPIN_ICONS, TUI_SPIN_TEXTS, TUI_SVG_CONTENT_PROCESSOR, TUI_SVG_SRC_PROCESSOR, TUI_TEXTFIELD_APPEARANCE, TUI_TEXTFIELD_HOST, TUI_THEME, TUI_VALUE_ACCESSOR, TUI_VIEWPORT, tuiAsDataListAccessor, tuiAsDataListHost, tuiAsOptionContent, tuiAsTextfieldHost, tuiAsViewport, tuiCommonIconsProvider, tuiNotificationOptionsProvider, tuiNumberFormatProvider };\n","import * as i0 from '@angular/core';\nimport { Directive, Self, Inject, SkipSelf, Optional } from '@angular/core';\nimport { TuiDestroyService, AbstractTuiControl } from '@taiga-ui/cdk';\nimport * as i1 from 'rxjs';\nimport { Observable, merge } from 'rxjs';\nimport { distinctUntilChanged, takeUntil } from 'rxjs/operators';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiDriver extends Observable {}\nfunction tuiAsDriver(useExisting) {\n  return {\n    provide: TuiDriver,\n    multi: true,\n    useExisting\n  };\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiVehicle {}\nfunction tuiAsVehicle(useExisting) {\n  return {\n    provide: TuiVehicle,\n    multi: true,\n    useExisting\n  };\n}\nlet AbstractTuiDriverDirective = /*#__PURE__*/(() => {\n  class AbstractTuiDriverDirective {\n    constructor(destroy$, drivers, vehicles) {\n      this.destroy$ = destroy$;\n      this.drivers = drivers;\n      this.vehicles = vehicles;\n    }\n    ngOnInit() {\n      const vehicle = this.vehicles.find(({\n        type\n      }) => type === this.type);\n      merge(...this.drivers.filter(({\n        type\n      }) => type === this.type)).pipe(distinctUntilChanged(), takeUntil(this.destroy$)).subscribe(value => {\n        vehicle === null || vehicle === void 0 ? void 0 : vehicle.toggle(value);\n      });\n    }\n  }\n  AbstractTuiDriverDirective.ɵfac = function AbstractTuiDriverDirective_Factory(t) {\n    return new (t || AbstractTuiDriverDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDriver), i0.ɵɵdirectiveInject(TuiVehicle));\n  };\n  AbstractTuiDriverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiDriverDirective\n  });\n  return AbstractTuiDriverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AbstractTuiTextfieldHost = /*#__PURE__*/(() => {\n  class AbstractTuiTextfieldHost {\n    constructor(host) {\n      this.host = host;\n    }\n    get readOnly() {\n      return this.host.readOnly;\n    }\n    get disabled() {\n      return this.host.computedDisabled;\n    }\n    get invalid() {\n      return this.host.computedInvalid;\n    }\n    get focusable() {\n      return this.host.computedFocusable;\n    }\n    get inputMode() {\n      return 'text';\n    }\n    get value() {\n      var _a;\n      return ((_a = this.host.value) === null || _a === void 0 ? void 0 : _a.toString()) || '';\n    }\n    process(_input) {}\n  }\n  AbstractTuiTextfieldHost.ɵfac = function AbstractTuiTextfieldHost_Factory(t) {\n    return new (t || AbstractTuiTextfieldHost)(i0.ɵɵdirectiveInject(AbstractTuiControl));\n  };\n  AbstractTuiTextfieldHost.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiTextfieldHost\n  });\n  return AbstractTuiTextfieldHost;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Drop any\nfunction tuiFallbackAccessor(type) {\n  return (accessors, fallback) => (accessors === null || accessors === void 0 ? void 0 : accessors.find(accessor => accessor !== fallback && accessor.type === type)) || fallback;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiPositionAccessor {}\n// TODO: Make fallback required\nfunction tuiPositionAccessorFor(type, fallback) {\n  return {\n    provide: TuiPositionAccessor,\n    deps: fallback ? [[new SkipSelf(), new Optional(), TuiPositionAccessor], fallback] : [[new SkipSelf(), new Optional(), TuiPositionAccessor]],\n    useFactory: tuiFallbackAccessor(type)\n  };\n}\nfunction tuiAsPositionAccessor(useExisting) {\n  return {\n    provide: TuiPositionAccessor,\n    multi: true,\n    useExisting\n  };\n}\n\n// TODO: Rename to getBoundingClientRect to match the DOM API\n// eslint-disable-next-line @typescript-eslint/naming-convention\nclass TuiRectAccessor {}\nfunction tuiRectAccessorFor(type, fallback) {\n  return {\n    provide: TuiRectAccessor,\n    deps: [[new SkipSelf(), new Optional(), TuiRectAccessor], fallback],\n    useFactory: tuiFallbackAccessor(type)\n  };\n}\nconst tuiFallbackRectAccessor = tuiFallbackAccessor;\nfunction tuiAsRectAccessor(useExisting) {\n  return {\n    provide: TuiRectAccessor,\n    multi: true,\n    useExisting\n  };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiDriverDirective, AbstractTuiTextfieldHost, TuiDriver, TuiPositionAccessor, TuiRectAccessor, TuiVehicle, tuiAsDriver, tuiAsPositionAccessor, tuiAsRectAccessor, tuiAsVehicle, tuiFallbackAccessor, tuiFallbackRectAccessor, tuiPositionAccessorFor, tuiRectAccessorFor };\n","/**\n * @license Angular v18.0.3\n * (c) 2010-2024 Google LLC. https://angular.io/\n * License: MIT\n */\n\nimport * as i0 from '@angular/core';\nimport { ɵisPromise, ɵRuntimeError, Injectable, EventEmitter, inject, ViewContainerRef, ChangeDetectorRef, Directive, Input, Output, InjectionToken, reflectComponentType, Component, createEnvironmentInjector, ɵisNgModule, isStandalone, ɵisInjectable, runInInjectionContext, Compiler, NgModuleFactory, NgZone, afterNextRender, EnvironmentInjector, ɵConsole, ɵPendingTasks, ɵɵsanitizeUrlOrResourceUrl, booleanAttribute, Attribute, HostBinding, HostListener, Optional, ContentChildren, makeEnvironmentProviders, APP_BOOTSTRAP_LISTENER, ENVIRONMENT_INITIALIZER, Injector, ApplicationRef, InjectFlags, APP_INITIALIZER, SkipSelf, NgModule, Inject, Version } from '@angular/core';\nimport { isObservable, from, of, BehaviorSubject, combineLatest, EmptyError, concat, defer, pipe, throwError, EMPTY, ConnectableObservable, Subject, Subscription } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { DOCUMENT, Location, ViewportScroller, LOCATION_INITIALIZED, LocationStrategy, HashLocationStrategy, PathLocationStrategy } from '@angular/common';\nimport { map, switchMap, take, startWith, filter, mergeMap, first, concatMap, tap, catchError, scan, defaultIfEmpty, last as last$1, takeLast, mapTo, finalize, refCount, takeUntil, mergeAll } from 'rxjs/operators';\nimport * as i1 from '@angular/platform-browser';\n\n/**\n * The primary routing outlet.\n *\n * @publicApi\n */\nconst PRIMARY_OUTLET = 'primary';\n/**\n * A private symbol used to store the value of `Route.title` inside the `Route.data` if it is a\n * static string or `Route.resolve` if anything else. This allows us to reuse the existing route\n * data/resolvers to support the title feature without new instrumentation in the `Router` pipeline.\n */\nconst RouteTitleKey = /* @__PURE__ */Symbol('RouteTitle');\nclass ParamsAsMap {\n  constructor(params) {\n    this.params = params || {};\n  }\n  has(name) {\n    return Object.prototype.hasOwnProperty.call(this.params, name);\n  }\n  get(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v[0] : v;\n    }\n    return null;\n  }\n  getAll(name) {\n    if (this.has(name)) {\n      const v = this.params[name];\n      return Array.isArray(v) ? v : [v];\n    }\n    return [];\n  }\n  get keys() {\n    return Object.keys(this.params);\n  }\n}\n/**\n * Converts a `Params` instance to a `ParamMap`.\n * @param params The instance to convert.\n * @returns The new map instance.\n *\n * @publicApi\n */\nfunction convertToParamMap(params) {\n  return new ParamsAsMap(params);\n}\n/**\n * Matches the route configuration (`route`) against the actual URL (`segments`).\n *\n * When no matcher is defined on a `Route`, this is the matcher used by the Router by default.\n *\n * @param segments The remaining unmatched segments in the current navigation\n * @param segmentGroup The current segment group being matched\n * @param route The `Route` to match against.\n *\n * @see {@link UrlMatchResult}\n * @see {@link Route}\n *\n * @returns The resulting match information or `null` if the `route` should not match.\n * @publicApi\n */\nfunction defaultUrlMatcher(segments, segmentGroup, route) {\n  const parts = route.path.split('/');\n  if (parts.length > segments.length) {\n    // The actual URL is shorter than the config, no match\n    return null;\n  }\n  if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || parts.length < segments.length)) {\n    // The config is longer than the actual URL but we are looking for a full match, return null\n    return null;\n  }\n  const posParams = {};\n  // Check each config part against the actual URL\n  for (let index = 0; index < parts.length; index++) {\n    const part = parts[index];\n    const segment = segments[index];\n    const isParameter = part[0] === ':';\n    if (isParameter) {\n      posParams[part.substring(1)] = segment;\n    } else if (part !== segment.path) {\n      // The actual URL part does not match the config, no match\n      return null;\n    }\n  }\n  return {\n    consumed: segments.slice(0, parts.length),\n    posParams\n  };\n}\nfunction shallowEqualArrays(a, b) {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; ++i) {\n    if (!shallowEqual(a[i], b[i])) return false;\n  }\n  return true;\n}\nfunction shallowEqual(a, b) {\n  // While `undefined` should never be possible, it would sometimes be the case in IE 11\n  // and pre-chromium Edge. The check below accounts for this edge case.\n  const k1 = a ? getDataKeys(a) : undefined;\n  const k2 = b ? getDataKeys(b) : undefined;\n  if (!k1 || !k2 || k1.length != k2.length) {\n    return false;\n  }\n  let key;\n  for (let i = 0; i < k1.length; i++) {\n    key = k1[i];\n    if (!equalArraysOrString(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\n/**\n * Gets the keys of an object, including `symbol` keys.\n */\nfunction getDataKeys(obj) {\n  return [...Object.keys(obj), ...Object.getOwnPropertySymbols(obj)];\n}\n/**\n * Test equality for arrays of strings or a string.\n */\nfunction equalArraysOrString(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    if (a.length !== b.length) return false;\n    const aSorted = [...a].sort();\n    const bSorted = [...b].sort();\n    return aSorted.every((val, index) => bSorted[index] === val);\n  } else {\n    return a === b;\n  }\n}\n/**\n * Return the last element of an array.\n */\nfunction last(a) {\n  return a.length > 0 ? a[a.length - 1] : null;\n}\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n  if (ɵisPromise(value)) {\n    // Use `Promise.resolve()` to wrap promise-like instances.\n    // Required ie when a Resolver returns a AngularJS `$q` promise to correctly trigger the\n    // change detection.\n    return from(Promise.resolve(value));\n  }\n  return of(value);\n}\nconst pathCompareMap = {\n  'exact': equalSegmentGroups,\n  'subset': containsSegmentGroup\n};\nconst paramCompareMap = {\n  'exact': equalParams,\n  'subset': containsParams,\n  'ignored': () => true\n};\nfunction containsTree(container, containee, options) {\n  return pathCompareMap[options.paths](container.root, containee.root, options.matrixParams) && paramCompareMap[options.queryParams](container.queryParams, containee.queryParams) && !(options.fragment === 'exact' && container.fragment !== containee.fragment);\n}\nfunction equalParams(container, containee) {\n  // TODO: This does not handle array params correctly.\n  return shallowEqual(container, containee);\n}\nfunction equalSegmentGroups(container, containee, matrixParams) {\n  if (!equalPath(container.segments, containee.segments)) return false;\n  if (!matrixParamsMatch(container.segments, containee.segments, matrixParams)) {\n    return false;\n  }\n  if (container.numberOfChildren !== containee.numberOfChildren) return false;\n  for (const c in containee.children) {\n    if (!container.children[c]) return false;\n    if (!equalSegmentGroups(container.children[c], containee.children[c], matrixParams)) return false;\n  }\n  return true;\n}\nfunction containsParams(container, containee) {\n  return Object.keys(containee).length <= Object.keys(container).length && Object.keys(containee).every(key => equalArraysOrString(container[key], containee[key]));\n}\nfunction containsSegmentGroup(container, containee, matrixParams) {\n  return containsSegmentGroupHelper(container, containee, containee.segments, matrixParams);\n}\nfunction containsSegmentGroupHelper(container, containee, containeePaths, matrixParams) {\n  if (container.segments.length > containeePaths.length) {\n    const current = container.segments.slice(0, containeePaths.length);\n    if (!equalPath(current, containeePaths)) return false;\n    if (containee.hasChildren()) return false;\n    if (!matrixParamsMatch(current, containeePaths, matrixParams)) return false;\n    return true;\n  } else if (container.segments.length === containeePaths.length) {\n    if (!equalPath(container.segments, containeePaths)) return false;\n    if (!matrixParamsMatch(container.segments, containeePaths, matrixParams)) return false;\n    for (const c in containee.children) {\n      if (!container.children[c]) return false;\n      if (!containsSegmentGroup(container.children[c], containee.children[c], matrixParams)) {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    const current = containeePaths.slice(0, container.segments.length);\n    const next = containeePaths.slice(container.segments.length);\n    if (!equalPath(container.segments, current)) return false;\n    if (!matrixParamsMatch(container.segments, current, matrixParams)) return false;\n    if (!container.children[PRIMARY_OUTLET]) return false;\n    return containsSegmentGroupHelper(container.children[PRIMARY_OUTLET], containee, next, matrixParams);\n  }\n}\nfunction matrixParamsMatch(containerPaths, containeePaths, options) {\n  return containeePaths.every((containeeSegment, i) => {\n    return paramCompareMap[options](containerPaths[i].parameters, containeeSegment.parameters);\n  });\n}\n/**\n * @description\n *\n * Represents the parsed URL.\n *\n * Since a router state is a tree, and the URL is nothing but a serialized state, the URL is a\n * serialized tree.\n * UrlTree is a data structure that provides a lot of affordances in dealing with URLs\n *\n * @usageNotes\n * ### Example\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const tree: UrlTree =\n *       router.parseUrl('/team/33/(user/victor//support:help)?debug=true#fragment');\n *     const f = tree.fragment; // return 'fragment'\n *     const q = tree.queryParams; // returns {debug: 'true'}\n *     const g: UrlSegmentGroup = tree.root.children[PRIMARY_OUTLET];\n *     const s: UrlSegment[] = g.segments; // returns 2 segments 'team' and '33'\n *     g.children[PRIMARY_OUTLET].segments; // returns 2 segments 'user' and 'victor'\n *     g.children['support'].segments; // return 1 segment 'help'\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass UrlTree {\n  constructor( /** The root segment group of the URL tree */\n  root = new UrlSegmentGroup([], {}), /** The query params of the URL */\n  queryParams = {}, /** The fragment of the URL */\n  fragment = null) {\n    this.root = root;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      if (root.segments.length > 0) {\n        throw new ɵRuntimeError(4015 /* RuntimeErrorCode.INVALID_ROOT_URL_SEGMENT */, 'The root `UrlSegmentGroup` should not contain `segments`. ' + 'Instead, these segments belong in the `children` so they can be associated with a named outlet.');\n      }\n    }\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return DEFAULT_SERIALIZER.serialize(this);\n  }\n}\n/**\n * @description\n *\n * Represents the parsed URL segment group.\n *\n * See `UrlTree` for more information.\n *\n * @publicApi\n */\nclass UrlSegmentGroup {\n  constructor( /** The URL segments of this group. See `UrlSegment` for more information */\n  segments, /** The list of children of this group */\n  children) {\n    this.segments = segments;\n    this.children = children;\n    /** The parent node in the url tree */\n    this.parent = null;\n    Object.values(children).forEach(v => v.parent = this);\n  }\n  /** Whether the segment has child segments */\n  hasChildren() {\n    return this.numberOfChildren > 0;\n  }\n  /** Number of child segments */\n  get numberOfChildren() {\n    return Object.keys(this.children).length;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return serializePaths(this);\n  }\n}\n/**\n * @description\n *\n * Represents a single URL segment.\n *\n * A UrlSegment is a part of a URL between the two slashes. It contains a path and the matrix\n * parameters associated with the segment.\n *\n * @usageNotes\n * ### Example\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const tree: UrlTree = router.parseUrl('/team;id=33');\n *     const g: UrlSegmentGroup = tree.root.children[PRIMARY_OUTLET];\n *     const s: UrlSegment[] = g.segments;\n *     s[0].path; // returns 'team'\n *     s[0].parameters; // returns {id: 33}\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass UrlSegment {\n  constructor( /** The path part of a URL segment */\n  path, /** The matrix parameters associated with a segment */\n  parameters) {\n    this.path = path;\n    this.parameters = parameters;\n  }\n  get parameterMap() {\n    this._parameterMap ??= convertToParamMap(this.parameters);\n    return this._parameterMap;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return serializePath(this);\n  }\n}\nfunction equalSegments(as, bs) {\n  return equalPath(as, bs) && as.every((a, i) => shallowEqual(a.parameters, bs[i].parameters));\n}\nfunction equalPath(as, bs) {\n  if (as.length !== bs.length) return false;\n  return as.every((a, i) => a.path === bs[i].path);\n}\nfunction mapChildrenIntoArray(segment, fn) {\n  let res = [];\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet === PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  Object.entries(segment.children).forEach(([childOutlet, child]) => {\n    if (childOutlet !== PRIMARY_OUTLET) {\n      res = res.concat(fn(child, childOutlet));\n    }\n  });\n  return res;\n}\n/**\n * @description\n *\n * Serializes and deserializes a URL string into a URL tree.\n *\n * The url serialization strategy is customizable. You can\n * make all URLs case insensitive by providing a custom UrlSerializer.\n *\n * See `DefaultUrlSerializer` for an example of a URL serializer.\n *\n * @publicApi\n */\nlet UrlSerializer = /*#__PURE__*/(() => {\n  class UrlSerializer {\n    static {\n      this.ɵfac = function UrlSerializer_Factory(t) {\n        return new (t || UrlSerializer)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: UrlSerializer,\n        factory: () => (() => new DefaultUrlSerializer())(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return UrlSerializer;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @description\n *\n * A default implementation of the `UrlSerializer`.\n *\n * Example URLs:\n *\n * ```\n * /inbox/33(popup:compose)\n * /inbox/33;open=true/messages/44\n * ```\n *\n * DefaultUrlSerializer uses parentheses to serialize secondary segments (e.g., popup:compose), the\n * colon syntax to specify the outlet, and the ';parameter=value' syntax (e.g., open=true) to\n * specify route specific parameters.\n *\n * @publicApi\n */\nclass DefaultUrlSerializer {\n  /** Parses a url into a `UrlTree` */\n  parse(url) {\n    const p = new UrlParser(url);\n    return new UrlTree(p.parseRootSegment(), p.parseQueryParams(), p.parseFragment());\n  }\n  /** Converts a `UrlTree` into a url */\n  serialize(tree) {\n    const segment = `/${serializeSegment(tree.root, true)}`;\n    const query = serializeQueryParams(tree.queryParams);\n    const fragment = typeof tree.fragment === `string` ? `#${encodeUriFragment(tree.fragment)}` : '';\n    return `${segment}${query}${fragment}`;\n  }\n}\nconst DEFAULT_SERIALIZER = /*#__PURE__*/new DefaultUrlSerializer();\nfunction serializePaths(segment) {\n  return segment.segments.map(p => serializePath(p)).join('/');\n}\nfunction serializeSegment(segment, root) {\n  if (!segment.hasChildren()) {\n    return serializePaths(segment);\n  }\n  if (root) {\n    const primary = segment.children[PRIMARY_OUTLET] ? serializeSegment(segment.children[PRIMARY_OUTLET], false) : '';\n    const children = [];\n    Object.entries(segment.children).forEach(([k, v]) => {\n      if (k !== PRIMARY_OUTLET) {\n        children.push(`${k}:${serializeSegment(v, false)}`);\n      }\n    });\n    return children.length > 0 ? `${primary}(${children.join('//')})` : primary;\n  } else {\n    const children = mapChildrenIntoArray(segment, (v, k) => {\n      if (k === PRIMARY_OUTLET) {\n        return [serializeSegment(segment.children[PRIMARY_OUTLET], false)];\n      }\n      return [`${k}:${serializeSegment(v, false)}`];\n    });\n    // use no parenthesis if the only child is a primary outlet route\n    if (Object.keys(segment.children).length === 1 && segment.children[PRIMARY_OUTLET] != null) {\n      return `${serializePaths(segment)}/${children[0]}`;\n    }\n    return `${serializePaths(segment)}/(${children.join('//')})`;\n  }\n}\n/**\n * Encodes a URI string with the default encoding. This function will only ever be called from\n * `encodeUriQuery` or `encodeUriSegment` as it's the base set of encodings to be used. We need\n * a custom encoding because encodeURIComponent is too aggressive and encodes stuff that doesn't\n * have to be encoded per https://url.spec.whatwg.org.\n */\nfunction encodeUriString(s) {\n  return encodeURIComponent(s).replace(/%40/g, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',');\n}\n/**\n * This function should be used to encode both keys and values in a query string key/value. In\n * the following URL, you need to call encodeUriQuery on \"k\" and \"v\":\n *\n * http://www.site.org/html;mk=mv?k=v#f\n */\nfunction encodeUriQuery(s) {\n  return encodeUriString(s).replace(/%3B/gi, ';');\n}\n/**\n * This function should be used to encode a URL fragment. In the following URL, you need to call\n * encodeUriFragment on \"f\":\n *\n * http://www.site.org/html;mk=mv?k=v#f\n */\nfunction encodeUriFragment(s) {\n  return encodeURI(s);\n}\n/**\n * This function should be run on any URI segment as well as the key and value in a key/value\n * pair for matrix params. In the following URL, you need to call encodeUriSegment on \"html\",\n * \"mk\", and \"mv\":\n *\n * http://www.site.org/html;mk=mv?k=v#f\n */\nfunction encodeUriSegment(s) {\n  return encodeUriString(s).replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/%26/gi, '&');\n}\nfunction decode(s) {\n  return decodeURIComponent(s);\n}\n// Query keys/values should have the \"+\" replaced first, as \"+\" in a query string is \" \".\n// decodeURIComponent function will not decode \"+\" as a space.\nfunction decodeQuery(s) {\n  return decode(s.replace(/\\+/g, '%20'));\n}\nfunction serializePath(path) {\n  return `${encodeUriSegment(path.path)}${serializeMatrixParams(path.parameters)}`;\n}\nfunction serializeMatrixParams(params) {\n  return Object.entries(params).map(([key, value]) => `;${encodeUriSegment(key)}=${encodeUriSegment(value)}`).join('');\n}\nfunction serializeQueryParams(params) {\n  const strParams = Object.entries(params).map(([name, value]) => {\n    return Array.isArray(value) ? value.map(v => `${encodeUriQuery(name)}=${encodeUriQuery(v)}`).join('&') : `${encodeUriQuery(name)}=${encodeUriQuery(value)}`;\n  }).filter(s => s);\n  return strParams.length ? `?${strParams.join('&')}` : '';\n}\nconst SEGMENT_RE = /^[^\\/()?;#]+/;\nfunction matchSegments(str) {\n  const match = str.match(SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst MATRIX_PARAM_SEGMENT_RE = /^[^\\/()?;=#]+/;\nfunction matchMatrixKeySegments(str) {\n  const match = str.match(MATRIX_PARAM_SEGMENT_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_RE = /^[^=?&#]+/;\n// Return the name of the query param at the start of the string or an empty string\nfunction matchQueryParams(str) {\n  const match = str.match(QUERY_PARAM_RE);\n  return match ? match[0] : '';\n}\nconst QUERY_PARAM_VALUE_RE = /^[^&#]+/;\n// Return the value of the query param at the start of the string or an empty string\nfunction matchUrlQueryParamValue(str) {\n  const match = str.match(QUERY_PARAM_VALUE_RE);\n  return match ? match[0] : '';\n}\nclass UrlParser {\n  constructor(url) {\n    this.url = url;\n    this.remaining = url;\n  }\n  parseRootSegment() {\n    this.consumeOptional('/');\n    if (this.remaining === '' || this.peekStartsWith('?') || this.peekStartsWith('#')) {\n      return new UrlSegmentGroup([], {});\n    }\n    // The root segment group never has segments\n    return new UrlSegmentGroup([], this.parseChildren());\n  }\n  parseQueryParams() {\n    const params = {};\n    if (this.consumeOptional('?')) {\n      do {\n        this.parseQueryParam(params);\n      } while (this.consumeOptional('&'));\n    }\n    return params;\n  }\n  parseFragment() {\n    return this.consumeOptional('#') ? decodeURIComponent(this.remaining) : null;\n  }\n  parseChildren() {\n    if (this.remaining === '') {\n      return {};\n    }\n    this.consumeOptional('/');\n    const segments = [];\n    if (!this.peekStartsWith('(')) {\n      segments.push(this.parseSegment());\n    }\n    while (this.peekStartsWith('/') && !this.peekStartsWith('//') && !this.peekStartsWith('/(')) {\n      this.capture('/');\n      segments.push(this.parseSegment());\n    }\n    let children = {};\n    if (this.peekStartsWith('/(')) {\n      this.capture('/');\n      children = this.parseParens(true);\n    }\n    let res = {};\n    if (this.peekStartsWith('(')) {\n      res = this.parseParens(false);\n    }\n    if (segments.length > 0 || Object.keys(children).length > 0) {\n      res[PRIMARY_OUTLET] = new UrlSegmentGroup(segments, children);\n    }\n    return res;\n  }\n  // parse a segment with its matrix parameters\n  // ie `name;k1=v1;k2`\n  parseSegment() {\n    const path = matchSegments(this.remaining);\n    if (path === '' && this.peekStartsWith(';')) {\n      throw new ɵRuntimeError(4009 /* RuntimeErrorCode.EMPTY_PATH_WITH_PARAMS */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Empty path url segment cannot have parameters: '${this.remaining}'.`);\n    }\n    this.capture(path);\n    return new UrlSegment(decode(path), this.parseMatrixParams());\n  }\n  parseMatrixParams() {\n    const params = {};\n    while (this.consumeOptional(';')) {\n      this.parseParam(params);\n    }\n    return params;\n  }\n  parseParam(params) {\n    const key = matchMatrixKeySegments(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchSegments(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    params[decode(key)] = decode(value);\n  }\n  // Parse a single query parameter `name[=value]`\n  parseQueryParam(params) {\n    const key = matchQueryParams(this.remaining);\n    if (!key) {\n      return;\n    }\n    this.capture(key);\n    let value = '';\n    if (this.consumeOptional('=')) {\n      const valueMatch = matchUrlQueryParamValue(this.remaining);\n      if (valueMatch) {\n        value = valueMatch;\n        this.capture(value);\n      }\n    }\n    const decodedKey = decodeQuery(key);\n    const decodedVal = decodeQuery(value);\n    if (params.hasOwnProperty(decodedKey)) {\n      // Append to existing values\n      let currentVal = params[decodedKey];\n      if (!Array.isArray(currentVal)) {\n        currentVal = [currentVal];\n        params[decodedKey] = currentVal;\n      }\n      currentVal.push(decodedVal);\n    } else {\n      // Create a new value\n      params[decodedKey] = decodedVal;\n    }\n  }\n  // parse `(a/b//outlet_name:c/d)`\n  parseParens(allowPrimary) {\n    const segments = {};\n    this.capture('(');\n    while (!this.consumeOptional(')') && this.remaining.length > 0) {\n      const path = matchSegments(this.remaining);\n      const next = this.remaining[path.length];\n      // if is is not one of these characters, then the segment was unescaped\n      // or the group was not closed\n      if (next !== '/' && next !== ')' && next !== ';') {\n        throw new ɵRuntimeError(4010 /* RuntimeErrorCode.UNPARSABLE_URL */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot parse url '${this.url}'`);\n      }\n      let outletName = undefined;\n      if (path.indexOf(':') > -1) {\n        outletName = path.slice(0, path.indexOf(':'));\n        this.capture(outletName);\n        this.capture(':');\n      } else if (allowPrimary) {\n        outletName = PRIMARY_OUTLET;\n      }\n      const children = this.parseChildren();\n      segments[outletName] = Object.keys(children).length === 1 ? children[PRIMARY_OUTLET] : new UrlSegmentGroup([], children);\n      this.consumeOptional('//');\n    }\n    return segments;\n  }\n  peekStartsWith(str) {\n    return this.remaining.startsWith(str);\n  }\n  // Consumes the prefix when it is present and returns whether it has been consumed\n  consumeOptional(str) {\n    if (this.peekStartsWith(str)) {\n      this.remaining = this.remaining.substring(str.length);\n      return true;\n    }\n    return false;\n  }\n  capture(str) {\n    if (!this.consumeOptional(str)) {\n      throw new ɵRuntimeError(4011 /* RuntimeErrorCode.UNEXPECTED_VALUE_IN_URL */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Expected \"${str}\".`);\n    }\n  }\n}\nfunction createRoot(rootCandidate) {\n  return rootCandidate.segments.length > 0 ? new UrlSegmentGroup([], {\n    [PRIMARY_OUTLET]: rootCandidate\n  }) : rootCandidate;\n}\n/**\n * Recursively\n * - merges primary segment children into their parents\n * - drops empty children (those which have no segments and no children themselves). This latter\n * prevents serializing a group into something like `/a(aux:)`, where `aux` is an empty child\n * segment.\n * - merges named outlets without a primary segment sibling into the children. This prevents\n * serializing a URL like `//(a:a)(b:b) instead of `/(a:a//b:b)` when the aux b route lives on the\n * root but the `a` route lives under an empty path primary route.\n */\nfunction squashSegmentGroup(segmentGroup) {\n  const newChildren = {};\n  for (const [childOutlet, child] of Object.entries(segmentGroup.children)) {\n    const childCandidate = squashSegmentGroup(child);\n    // moves named children in an empty path primary child into this group\n    if (childOutlet === PRIMARY_OUTLET && childCandidate.segments.length === 0 && childCandidate.hasChildren()) {\n      for (const [grandChildOutlet, grandChild] of Object.entries(childCandidate.children)) {\n        newChildren[grandChildOutlet] = grandChild;\n      }\n    } // don't add empty children\n    else if (childCandidate.segments.length > 0 || childCandidate.hasChildren()) {\n      newChildren[childOutlet] = childCandidate;\n    }\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, newChildren);\n  return mergeTrivialChildren(s);\n}\n/**\n * When possible, merges the primary outlet child into the parent `UrlSegmentGroup`.\n *\n * When a segment group has only one child which is a primary outlet, merges that child into the\n * parent. That is, the child segment group's segments are merged into the `s` and the child's\n * children become the children of `s`. Think of this like a 'squash', merging the child segment\n * group into the parent.\n */\nfunction mergeTrivialChildren(s) {\n  if (s.numberOfChildren === 1 && s.children[PRIMARY_OUTLET]) {\n    const c = s.children[PRIMARY_OUTLET];\n    return new UrlSegmentGroup(s.segments.concat(c.segments), c.children);\n  }\n  return s;\n}\nfunction isUrlTree(v) {\n  return v instanceof UrlTree;\n}\n\n/**\n * Creates a `UrlTree` relative to an `ActivatedRouteSnapshot`.\n *\n * @publicApi\n *\n *\n * @param relativeTo The `ActivatedRouteSnapshot` to apply the commands to\n * @param commands An array of URL fragments with which to construct the new URL tree.\n * If the path is static, can be the literal URL string. For a dynamic path, pass an array of path\n * segments, followed by the parameters for each segment.\n * The fragments are applied to the one provided in the `relativeTo` parameter.\n * @param queryParams The query parameters for the `UrlTree`. `null` if the `UrlTree` does not have\n *     any query parameters.\n * @param fragment The fragment for the `UrlTree`. `null` if the `UrlTree` does not have a fragment.\n *\n * @usageNotes\n *\n * ```\n * // create /team/33/user/11\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, 'user', 11]);\n *\n * // create /team/33;expand=true/user/11\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, {expand: true}, 'user', 11]);\n *\n * // you can collapse static segments like this (this works only with the first passed-in value):\n * createUrlTreeFromSnapshot(snapshot, ['/team/33/user', userId]);\n *\n * // If the first segment can contain slashes, and you do not want the router to split it,\n * // you can do the following:\n * createUrlTreeFromSnapshot(snapshot, [{segmentPath: '/one/two'}]);\n *\n * // create /team/33/(user/11//right:chat)\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, {outlets: {primary: 'user/11', right:\n * 'chat'}}], null, null);\n *\n * // remove the right secondary node\n * createUrlTreeFromSnapshot(snapshot, ['/team', 33, {outlets: {primary: 'user/11', right: null}}]);\n *\n * // For the examples below, assume the current URL is for the `/team/33/user/11` and the\n * `ActivatedRouteSnapshot` points to `user/11`:\n *\n * // navigate to /team/33/user/11/details\n * createUrlTreeFromSnapshot(snapshot, ['details']);\n *\n * // navigate to /team/33/user/22\n * createUrlTreeFromSnapshot(snapshot, ['../22']);\n *\n * // navigate to /team/44/user/22\n * createUrlTreeFromSnapshot(snapshot, ['../../team/44/user/22']);\n * ```\n */\nfunction createUrlTreeFromSnapshot(relativeTo, commands, queryParams = null, fragment = null) {\n  const relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeTo);\n  return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, queryParams, fragment);\n}\nfunction createSegmentGroupFromRoute(route) {\n  let targetGroup;\n  function createSegmentGroupFromRouteRecursive(currentRoute) {\n    const childOutlets = {};\n    for (const childSnapshot of currentRoute.children) {\n      const root = createSegmentGroupFromRouteRecursive(childSnapshot);\n      childOutlets[childSnapshot.outlet] = root;\n    }\n    const segmentGroup = new UrlSegmentGroup(currentRoute.url, childOutlets);\n    if (currentRoute === route) {\n      targetGroup = segmentGroup;\n    }\n    return segmentGroup;\n  }\n  const rootCandidate = createSegmentGroupFromRouteRecursive(route.root);\n  const rootSegmentGroup = createRoot(rootCandidate);\n  return targetGroup ?? rootSegmentGroup;\n}\nfunction createUrlTreeFromSegmentGroup(relativeTo, commands, queryParams, fragment) {\n  let root = relativeTo;\n  while (root.parent) {\n    root = root.parent;\n  }\n  // There are no commands so the `UrlTree` goes to the same path as the one created from the\n  // `UrlSegmentGroup`. All we need to do is update the `queryParams` and `fragment` without\n  // applying any other logic.\n  if (commands.length === 0) {\n    return tree(root, root, root, queryParams, fragment);\n  }\n  const nav = computeNavigation(commands);\n  if (nav.toRoot()) {\n    return tree(root, root, new UrlSegmentGroup([], {}), queryParams, fragment);\n  }\n  const position = findStartingPositionForTargetGroup(nav, root, relativeTo);\n  const newSegmentGroup = position.processChildren ? updateSegmentGroupChildren(position.segmentGroup, position.index, nav.commands) : updateSegmentGroup(position.segmentGroup, position.index, nav.commands);\n  return tree(root, position.segmentGroup, newSegmentGroup, queryParams, fragment);\n}\nfunction isMatrixParams(command) {\n  return typeof command === 'object' && command != null && !command.outlets && !command.segmentPath;\n}\n/**\n * Determines if a given command has an `outlets` map. When we encounter a command\n * with an outlets k/v map, we need to apply each outlet individually to the existing segment.\n */\nfunction isCommandWithOutlets(command) {\n  return typeof command === 'object' && command != null && command.outlets;\n}\nfunction tree(oldRoot, oldSegmentGroup, newSegmentGroup, queryParams, fragment) {\n  let qp = {};\n  if (queryParams) {\n    Object.entries(queryParams).forEach(([name, value]) => {\n      qp[name] = Array.isArray(value) ? value.map(v => `${v}`) : `${value}`;\n    });\n  }\n  let rootCandidate;\n  if (oldRoot === oldSegmentGroup) {\n    rootCandidate = newSegmentGroup;\n  } else {\n    rootCandidate = replaceSegment(oldRoot, oldSegmentGroup, newSegmentGroup);\n  }\n  const newRoot = createRoot(squashSegmentGroup(rootCandidate));\n  return new UrlTree(newRoot, qp, fragment);\n}\n/**\n * Replaces the `oldSegment` which is located in some child of the `current` with the `newSegment`.\n * This also has the effect of creating new `UrlSegmentGroup` copies to update references. This\n * shouldn't be necessary but the fallback logic for an invalid ActivatedRoute in the creation uses\n * the Router's current url tree. If we don't create new segment groups, we end up modifying that\n * value.\n */\nfunction replaceSegment(current, oldSegment, newSegment) {\n  const children = {};\n  Object.entries(current.children).forEach(([outletName, c]) => {\n    if (c === oldSegment) {\n      children[outletName] = newSegment;\n    } else {\n      children[outletName] = replaceSegment(c, oldSegment, newSegment);\n    }\n  });\n  return new UrlSegmentGroup(current.segments, children);\n}\nclass Navigation {\n  constructor(isAbsolute, numberOfDoubleDots, commands) {\n    this.isAbsolute = isAbsolute;\n    this.numberOfDoubleDots = numberOfDoubleDots;\n    this.commands = commands;\n    if (isAbsolute && commands.length > 0 && isMatrixParams(commands[0])) {\n      throw new ɵRuntimeError(4003 /* RuntimeErrorCode.ROOT_SEGMENT_MATRIX_PARAMS */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Root segment cannot have matrix parameters');\n    }\n    const cmdWithOutlet = commands.find(isCommandWithOutlets);\n    if (cmdWithOutlet && cmdWithOutlet !== last(commands)) {\n      throw new ɵRuntimeError(4004 /* RuntimeErrorCode.MISPLACED_OUTLETS_COMMAND */, (typeof ngDevMode === 'undefined' || ngDevMode) && '{outlets:{}} has to be the last command');\n    }\n  }\n  toRoot() {\n    return this.isAbsolute && this.commands.length === 1 && this.commands[0] == '/';\n  }\n}\n/** Transforms commands to a normalized `Navigation` */\nfunction computeNavigation(commands) {\n  if (typeof commands[0] === 'string' && commands.length === 1 && commands[0] === '/') {\n    return new Navigation(true, 0, commands);\n  }\n  let numberOfDoubleDots = 0;\n  let isAbsolute = false;\n  const res = commands.reduce((res, cmd, cmdIdx) => {\n    if (typeof cmd === 'object' && cmd != null) {\n      if (cmd.outlets) {\n        const outlets = {};\n        Object.entries(cmd.outlets).forEach(([name, commands]) => {\n          outlets[name] = typeof commands === 'string' ? commands.split('/') : commands;\n        });\n        return [...res, {\n          outlets\n        }];\n      }\n      if (cmd.segmentPath) {\n        return [...res, cmd.segmentPath];\n      }\n    }\n    if (!(typeof cmd === 'string')) {\n      return [...res, cmd];\n    }\n    if (cmdIdx === 0) {\n      cmd.split('/').forEach((urlPart, partIndex) => {\n        if (partIndex == 0 && urlPart === '.') {\n          // skip './a'\n        } else if (partIndex == 0 && urlPart === '') {\n          //  '/a'\n          isAbsolute = true;\n        } else if (urlPart === '..') {\n          //  '../a'\n          numberOfDoubleDots++;\n        } else if (urlPart != '') {\n          res.push(urlPart);\n        }\n      });\n      return res;\n    }\n    return [...res, cmd];\n  }, []);\n  return new Navigation(isAbsolute, numberOfDoubleDots, res);\n}\nclass Position {\n  constructor(segmentGroup, processChildren, index) {\n    this.segmentGroup = segmentGroup;\n    this.processChildren = processChildren;\n    this.index = index;\n  }\n}\nfunction findStartingPositionForTargetGroup(nav, root, target) {\n  if (nav.isAbsolute) {\n    return new Position(root, true, 0);\n  }\n  if (!target) {\n    // `NaN` is used only to maintain backwards compatibility with incorrectly mocked\n    // `ActivatedRouteSnapshot` in tests. In prior versions of this code, the position here was\n    // determined based on an internal property that was rarely mocked, resulting in `NaN`. In\n    // reality, this code path should _never_ be touched since `target` is not allowed to be falsey.\n    return new Position(root, false, NaN);\n  }\n  if (target.parent === null) {\n    return new Position(target, true, 0);\n  }\n  const modifier = isMatrixParams(nav.commands[0]) ? 0 : 1;\n  const index = target.segments.length - 1 + modifier;\n  return createPositionApplyingDoubleDots(target, index, nav.numberOfDoubleDots);\n}\nfunction createPositionApplyingDoubleDots(group, index, numberOfDoubleDots) {\n  let g = group;\n  let ci = index;\n  let dd = numberOfDoubleDots;\n  while (dd > ci) {\n    dd -= ci;\n    g = g.parent;\n    if (!g) {\n      throw new ɵRuntimeError(4005 /* RuntimeErrorCode.INVALID_DOUBLE_DOTS */, (typeof ngDevMode === 'undefined' || ngDevMode) && \"Invalid number of '../'\");\n    }\n    ci = g.segments.length;\n  }\n  return new Position(g, false, ci - dd);\n}\nfunction getOutlets(commands) {\n  if (isCommandWithOutlets(commands[0])) {\n    return commands[0].outlets;\n  }\n  return {\n    [PRIMARY_OUTLET]: commands\n  };\n}\nfunction updateSegmentGroup(segmentGroup, startIndex, commands) {\n  segmentGroup ??= new UrlSegmentGroup([], {});\n  if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n    return updateSegmentGroupChildren(segmentGroup, startIndex, commands);\n  }\n  const m = prefixedWith(segmentGroup, startIndex, commands);\n  const slicedCommands = commands.slice(m.commandIndex);\n  if (m.match && m.pathIndex < segmentGroup.segments.length) {\n    const g = new UrlSegmentGroup(segmentGroup.segments.slice(0, m.pathIndex), {});\n    g.children[PRIMARY_OUTLET] = new UrlSegmentGroup(segmentGroup.segments.slice(m.pathIndex), segmentGroup.children);\n    return updateSegmentGroupChildren(g, 0, slicedCommands);\n  } else if (m.match && slicedCommands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else if (m.match && !segmentGroup.hasChildren()) {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  } else if (m.match) {\n    return updateSegmentGroupChildren(segmentGroup, 0, slicedCommands);\n  } else {\n    return createNewSegmentGroup(segmentGroup, startIndex, commands);\n  }\n}\nfunction updateSegmentGroupChildren(segmentGroup, startIndex, commands) {\n  if (commands.length === 0) {\n    return new UrlSegmentGroup(segmentGroup.segments, {});\n  } else {\n    const outlets = getOutlets(commands);\n    const children = {};\n    // If the set of commands applies to anything other than the primary outlet and the child\n    // segment is an empty path primary segment on its own, we want to apply the commands to the\n    // empty child path rather than here. The outcome is that the empty primary child is effectively\n    // removed from the final output UrlTree. Imagine the following config:\n    //\n    // {path: '', children: [{path: '**', outlet: 'popup'}]}.\n    //\n    // Navigation to /(popup:a) will activate the child outlet correctly Given a follow-up\n    // navigation with commands\n    // ['/', {outlets: {'popup': 'b'}}], we _would not_ want to apply the outlet commands to the\n    // root segment because that would result in\n    // //(popup:a)(popup:b) since the outlet command got applied one level above where it appears in\n    // the `ActivatedRoute` rather than updating the existing one.\n    //\n    // Because empty paths do not appear in the URL segments and the fact that the segments used in\n    // the output `UrlTree` are squashed to eliminate these empty paths where possible\n    // https://github.com/angular/angular/blob/13f10de40e25c6900ca55bd83b36bd533dacfa9e/packages/router/src/url_tree.ts#L755\n    // it can be hard to determine what is the right thing to do when applying commands to a\n    // `UrlSegmentGroup` that is created from an \"unsquashed\"/expanded `ActivatedRoute` tree.\n    // This code effectively \"squashes\" empty path primary routes when they have no siblings on\n    // the same level of the tree.\n    if (Object.keys(outlets).some(o => o !== PRIMARY_OUTLET) && segmentGroup.children[PRIMARY_OUTLET] && segmentGroup.numberOfChildren === 1 && segmentGroup.children[PRIMARY_OUTLET].segments.length === 0) {\n      const childrenOfEmptyChild = updateSegmentGroupChildren(segmentGroup.children[PRIMARY_OUTLET], startIndex, commands);\n      return new UrlSegmentGroup(segmentGroup.segments, childrenOfEmptyChild.children);\n    }\n    Object.entries(outlets).forEach(([outlet, commands]) => {\n      if (typeof commands === 'string') {\n        commands = [commands];\n      }\n      if (commands !== null) {\n        children[outlet] = updateSegmentGroup(segmentGroup.children[outlet], startIndex, commands);\n      }\n    });\n    Object.entries(segmentGroup.children).forEach(([childOutlet, child]) => {\n      if (outlets[childOutlet] === undefined) {\n        children[childOutlet] = child;\n      }\n    });\n    return new UrlSegmentGroup(segmentGroup.segments, children);\n  }\n}\nfunction prefixedWith(segmentGroup, startIndex, commands) {\n  let currentCommandIndex = 0;\n  let currentPathIndex = startIndex;\n  const noMatch = {\n    match: false,\n    pathIndex: 0,\n    commandIndex: 0\n  };\n  while (currentPathIndex < segmentGroup.segments.length) {\n    if (currentCommandIndex >= commands.length) return noMatch;\n    const path = segmentGroup.segments[currentPathIndex];\n    const command = commands[currentCommandIndex];\n    // Do not try to consume command as part of the prefixing if it has outlets because it can\n    // contain outlets other than the one being processed. Consuming the outlets command would\n    // result in other outlets being ignored.\n    if (isCommandWithOutlets(command)) {\n      break;\n    }\n    const curr = `${command}`;\n    const next = currentCommandIndex < commands.length - 1 ? commands[currentCommandIndex + 1] : null;\n    if (currentPathIndex > 0 && curr === undefined) break;\n    if (curr && next && typeof next === 'object' && next.outlets === undefined) {\n      if (!compare(curr, next, path)) return noMatch;\n      currentCommandIndex += 2;\n    } else {\n      if (!compare(curr, {}, path)) return noMatch;\n      currentCommandIndex++;\n    }\n    currentPathIndex++;\n  }\n  return {\n    match: true,\n    pathIndex: currentPathIndex,\n    commandIndex: currentCommandIndex\n  };\n}\nfunction createNewSegmentGroup(segmentGroup, startIndex, commands) {\n  const paths = segmentGroup.segments.slice(0, startIndex);\n  let i = 0;\n  while (i < commands.length) {\n    const command = commands[i];\n    if (isCommandWithOutlets(command)) {\n      const children = createNewSegmentChildren(command.outlets);\n      return new UrlSegmentGroup(paths, children);\n    }\n    // if we start with an object literal, we need to reuse the path part from the segment\n    if (i === 0 && isMatrixParams(commands[0])) {\n      const p = segmentGroup.segments[startIndex];\n      paths.push(new UrlSegment(p.path, stringify(commands[0])));\n      i++;\n      continue;\n    }\n    const curr = isCommandWithOutlets(command) ? command.outlets[PRIMARY_OUTLET] : `${command}`;\n    const next = i < commands.length - 1 ? commands[i + 1] : null;\n    if (curr && next && isMatrixParams(next)) {\n      paths.push(new UrlSegment(curr, stringify(next)));\n      i += 2;\n    } else {\n      paths.push(new UrlSegment(curr, {}));\n      i++;\n    }\n  }\n  return new UrlSegmentGroup(paths, {});\n}\nfunction createNewSegmentChildren(outlets) {\n  const children = {};\n  Object.entries(outlets).forEach(([outlet, commands]) => {\n    if (typeof commands === 'string') {\n      commands = [commands];\n    }\n    if (commands !== null) {\n      children[outlet] = createNewSegmentGroup(new UrlSegmentGroup([], {}), 0, commands);\n    }\n  });\n  return children;\n}\nfunction stringify(params) {\n  const res = {};\n  Object.entries(params).forEach(([k, v]) => res[k] = `${v}`);\n  return res;\n}\nfunction compare(path, params, segment) {\n  return path == segment.path && shallowEqual(params, segment.parameters);\n}\nconst IMPERATIVE_NAVIGATION = 'imperative';\n/**\n * Identifies the type of a router event.\n *\n * @publicApi\n */\nvar EventType = /*#__PURE__*/function (EventType) {\n  EventType[EventType[\"NavigationStart\"] = 0] = \"NavigationStart\";\n  EventType[EventType[\"NavigationEnd\"] = 1] = \"NavigationEnd\";\n  EventType[EventType[\"NavigationCancel\"] = 2] = \"NavigationCancel\";\n  EventType[EventType[\"NavigationError\"] = 3] = \"NavigationError\";\n  EventType[EventType[\"RoutesRecognized\"] = 4] = \"RoutesRecognized\";\n  EventType[EventType[\"ResolveStart\"] = 5] = \"ResolveStart\";\n  EventType[EventType[\"ResolveEnd\"] = 6] = \"ResolveEnd\";\n  EventType[EventType[\"GuardsCheckStart\"] = 7] = \"GuardsCheckStart\";\n  EventType[EventType[\"GuardsCheckEnd\"] = 8] = \"GuardsCheckEnd\";\n  EventType[EventType[\"RouteConfigLoadStart\"] = 9] = \"RouteConfigLoadStart\";\n  EventType[EventType[\"RouteConfigLoadEnd\"] = 10] = \"RouteConfigLoadEnd\";\n  EventType[EventType[\"ChildActivationStart\"] = 11] = \"ChildActivationStart\";\n  EventType[EventType[\"ChildActivationEnd\"] = 12] = \"ChildActivationEnd\";\n  EventType[EventType[\"ActivationStart\"] = 13] = \"ActivationStart\";\n  EventType[EventType[\"ActivationEnd\"] = 14] = \"ActivationEnd\";\n  EventType[EventType[\"Scroll\"] = 15] = \"Scroll\";\n  EventType[EventType[\"NavigationSkipped\"] = 16] = \"NavigationSkipped\";\n  return EventType;\n}(EventType || {});\n/**\n * Base for events the router goes through, as opposed to events tied to a specific\n * route. Fired one time for any given navigation.\n *\n * The following code shows how a class subscribes to router events.\n *\n * ```ts\n * import {Event, RouterEvent, Router} from '@angular/router';\n *\n * class MyService {\n *   constructor(public router: Router) {\n *     router.events.pipe(\n *        filter((e: Event | RouterEvent): e is RouterEvent => e instanceof RouterEvent)\n *     ).subscribe((e: RouterEvent) => {\n *       // Do something\n *     });\n *   }\n * }\n * ```\n *\n * @see {@link Event}\n * @see [Router events summary](guide/routing/router-reference#router-events)\n * @publicApi\n */\nclass RouterEvent {\n  constructor( /** A unique ID that the router assigns to every router navigation. */\n  id, /** The URL that is the destination for this navigation. */\n  url) {\n    this.id = id;\n    this.url = url;\n  }\n}\n/**\n * An event triggered when a navigation starts.\n *\n * @publicApi\n */\nclass NavigationStart extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  navigationTrigger = 'imperative', /** @docsNotRequired */\n  restoredState = null) {\n    super(id, url);\n    this.type = EventType.NavigationStart;\n    this.navigationTrigger = navigationTrigger;\n    this.restoredState = restoredState;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationStart(id: ${this.id}, url: '${this.url}')`;\n  }\n}\n/**\n * An event triggered when a navigation ends successfully.\n *\n * @see {@link NavigationStart}\n * @see {@link NavigationCancel}\n * @see {@link NavigationError}\n *\n * @publicApi\n */\nclass NavigationEnd extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.type = EventType.NavigationEnd;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`;\n  }\n}\n/**\n * A code for the `NavigationCancel` event of the `Router` to indicate the\n * reason a navigation failed.\n *\n * @publicApi\n */\nvar NavigationCancellationCode = /*#__PURE__*/function (NavigationCancellationCode) {\n  /**\n   * A navigation failed because a guard returned a `UrlTree` to redirect.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"Redirect\"] = 0] = \"Redirect\";\n  /**\n   * A navigation failed because a more recent navigation started.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"SupersededByNewNavigation\"] = 1] = \"SupersededByNewNavigation\";\n  /**\n   * A navigation failed because one of the resolvers completed without emitting a value.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"NoDataFromResolver\"] = 2] = \"NoDataFromResolver\";\n  /**\n   * A navigation failed because a guard returned `false`.\n   */\n  NavigationCancellationCode[NavigationCancellationCode[\"GuardRejected\"] = 3] = \"GuardRejected\";\n  return NavigationCancellationCode;\n}(NavigationCancellationCode || {});\n/**\n * A code for the `NavigationSkipped` event of the `Router` to indicate the\n * reason a navigation was skipped.\n *\n * @publicApi\n */\nvar NavigationSkippedCode = /*#__PURE__*/function (NavigationSkippedCode) {\n  /**\n   * A navigation was skipped because the navigation URL was the same as the current Router URL.\n   */\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredSameUrlNavigation\"] = 0] = \"IgnoredSameUrlNavigation\";\n  /**\n   * A navigation was skipped because the configured `UrlHandlingStrategy` return `false` for both\n   * the current Router URL and the target of the navigation.\n   *\n   * @see {@link UrlHandlingStrategy}\n   */\n  NavigationSkippedCode[NavigationSkippedCode[\"IgnoredByUrlHandlingStrategy\"] = 1] = \"IgnoredByUrlHandlingStrategy\";\n  return NavigationSkippedCode;\n}(NavigationSkippedCode || {});\n/**\n * An event triggered when a navigation is canceled, directly or indirectly.\n * This can happen for several reasons including when a route guard\n * returns `false` or initiates a redirect by returning a `UrlTree`.\n *\n * @see {@link NavigationStart}\n * @see {@link NavigationEnd}\n * @see {@link NavigationError}\n *\n * @publicApi\n */\nclass NavigationCancel extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url,\n  /**\n   * A description of why the navigation was cancelled. For debug purposes only. Use `code`\n   * instead for a stable cancellation reason that can be used in production.\n   */\n  reason,\n  /**\n   * A code to indicate why the navigation was canceled. This cancellation code is stable for\n   * the reason and can be relied on whereas the `reason` string could change and should not be\n   * used in production.\n   */\n  code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n    this.type = EventType.NavigationCancel;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationCancel(id: ${this.id}, url: '${this.url}')`;\n  }\n}\n/**\n * An event triggered when a navigation is skipped.\n * This can happen for a couple reasons including onSameUrlHandling\n * is set to `ignore` and the navigation URL is not different than the\n * current state.\n *\n * @publicApi\n */\nclass NavigationSkipped extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url,\n  /**\n   * A description of why the navigation was skipped. For debug purposes only. Use `code`\n   * instead for a stable skipped reason that can be used in production.\n   */\n  reason,\n  /**\n   * A code to indicate why the navigation was skipped. This code is stable for\n   * the reason and can be relied on whereas the `reason` string could change and should not be\n   * used in production.\n   */\n  code) {\n    super(id, url);\n    this.reason = reason;\n    this.code = code;\n    this.type = EventType.NavigationSkipped;\n  }\n}\n/**\n * An event triggered when a navigation fails due to an unexpected error.\n *\n * @see {@link NavigationStart}\n * @see {@link NavigationEnd}\n * @see {@link NavigationCancel}\n *\n * @publicApi\n */\nclass NavigationError extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  error,\n  /**\n   * The target of the navigation when the error occurred.\n   *\n   * Note that this can be `undefined` because an error could have occurred before the\n   * `RouterStateSnapshot` was created for the navigation.\n   */\n  target) {\n    super(id, url);\n    this.error = error;\n    this.target = target;\n    this.type = EventType.NavigationError;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`;\n  }\n}\n/**\n * An event triggered when routes are recognized.\n *\n * @publicApi\n */\nclass RoutesRecognized extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.RoutesRecognized;\n  }\n  /** @docsNotRequired */\n  toString() {\n    return `RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered at the start of the Guard phase of routing.\n *\n * @see {@link GuardsCheckEnd}\n *\n * @publicApi\n */\nclass GuardsCheckStart extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.GuardsCheckStart;\n  }\n  toString() {\n    return `GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered at the end of the Guard phase of routing.\n *\n * @see {@link GuardsCheckStart}\n *\n * @publicApi\n */\nclass GuardsCheckEnd extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state, /** @docsNotRequired */\n  shouldActivate) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.shouldActivate = shouldActivate;\n    this.type = EventType.GuardsCheckEnd;\n  }\n  toString() {\n    return `GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`;\n  }\n}\n/**\n * An event triggered at the start of the Resolve phase of routing.\n *\n * Runs in the \"resolve\" phase whether or not there is anything to resolve.\n * In future, may change to only run when there are things to be resolved.\n *\n * @see {@link ResolveEnd}\n *\n * @publicApi\n */\nclass ResolveStart extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.ResolveStart;\n  }\n  toString() {\n    return `ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered at the end of the Resolve phase of routing.\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ResolveEnd extends RouterEvent {\n  constructor( /** @docsNotRequired */\n  id, /** @docsNotRequired */\n  url, /** @docsNotRequired */\n  urlAfterRedirects, /** @docsNotRequired */\n  state) {\n    super(id, url);\n    this.urlAfterRedirects = urlAfterRedirects;\n    this.state = state;\n    this.type = EventType.ResolveEnd;\n  }\n  toString() {\n    return `ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`;\n  }\n}\n/**\n * An event triggered before lazy loading a route configuration.\n *\n * @see {@link RouteConfigLoadEnd}\n *\n * @publicApi\n */\nclass RouteConfigLoadStart {\n  constructor( /** @docsNotRequired */\n  route) {\n    this.route = route;\n    this.type = EventType.RouteConfigLoadStart;\n  }\n  toString() {\n    return `RouteConfigLoadStart(path: ${this.route.path})`;\n  }\n}\n/**\n * An event triggered when a route has been lazy loaded.\n *\n * @see {@link RouteConfigLoadStart}\n *\n * @publicApi\n */\nclass RouteConfigLoadEnd {\n  constructor( /** @docsNotRequired */\n  route) {\n    this.route = route;\n    this.type = EventType.RouteConfigLoadEnd;\n  }\n  toString() {\n    return `RouteConfigLoadEnd(path: ${this.route.path})`;\n  }\n}\n/**\n * An event triggered at the start of the child-activation\n * part of the Resolve phase of routing.\n * @see {@link ChildActivationEnd}\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ChildActivationStart {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ChildActivationStart;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationStart(path: '${path}')`;\n  }\n}\n/**\n * An event triggered at the end of the child-activation part\n * of the Resolve phase of routing.\n * @see {@link ChildActivationStart}\n * @see {@link ResolveStart}\n * @publicApi\n */\nclass ChildActivationEnd {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ChildActivationEnd;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ChildActivationEnd(path: '${path}')`;\n  }\n}\n/**\n * An event triggered at the start of the activation part\n * of the Resolve phase of routing.\n * @see {@link ActivationEnd}\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ActivationStart {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ActivationStart;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationStart(path: '${path}')`;\n  }\n}\n/**\n * An event triggered at the end of the activation part\n * of the Resolve phase of routing.\n * @see {@link ActivationStart}\n * @see {@link ResolveStart}\n *\n * @publicApi\n */\nclass ActivationEnd {\n  constructor( /** @docsNotRequired */\n  snapshot) {\n    this.snapshot = snapshot;\n    this.type = EventType.ActivationEnd;\n  }\n  toString() {\n    const path = this.snapshot.routeConfig && this.snapshot.routeConfig.path || '';\n    return `ActivationEnd(path: '${path}')`;\n  }\n}\n/**\n * An event triggered by scrolling.\n *\n * @publicApi\n */\nclass Scroll {\n  constructor( /** @docsNotRequired */\n  routerEvent, /** @docsNotRequired */\n  position, /** @docsNotRequired */\n  anchor) {\n    this.routerEvent = routerEvent;\n    this.position = position;\n    this.anchor = anchor;\n    this.type = EventType.Scroll;\n  }\n  toString() {\n    const pos = this.position ? `${this.position[0]}, ${this.position[1]}` : null;\n    return `Scroll(anchor: '${this.anchor}', position: '${pos}')`;\n  }\n}\nclass BeforeActivateRoutes {}\nclass RedirectRequest {\n  constructor(url, navigationBehaviorOptions) {\n    this.url = url;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nfunction stringifyEvent(routerEvent) {\n  switch (routerEvent.type) {\n    case EventType.ActivationEnd:\n      return `ActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ActivationStart:\n      return `ActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationEnd:\n      return `ChildActivationEnd(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.ChildActivationStart:\n      return `ChildActivationStart(path: '${routerEvent.snapshot.routeConfig?.path || ''}')`;\n    case EventType.GuardsCheckEnd:\n      return `GuardsCheckEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state}, shouldActivate: ${routerEvent.shouldActivate})`;\n    case EventType.GuardsCheckStart:\n      return `GuardsCheckStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.NavigationCancel:\n      return `NavigationCancel(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationSkipped:\n      return `NavigationSkipped(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.NavigationEnd:\n      return `NavigationEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}')`;\n    case EventType.NavigationError:\n      return `NavigationError(id: ${routerEvent.id}, url: '${routerEvent.url}', error: ${routerEvent.error})`;\n    case EventType.NavigationStart:\n      return `NavigationStart(id: ${routerEvent.id}, url: '${routerEvent.url}')`;\n    case EventType.ResolveEnd:\n      return `ResolveEnd(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.ResolveStart:\n      return `ResolveStart(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.RouteConfigLoadEnd:\n      return `RouteConfigLoadEnd(path: ${routerEvent.route.path})`;\n    case EventType.RouteConfigLoadStart:\n      return `RouteConfigLoadStart(path: ${routerEvent.route.path})`;\n    case EventType.RoutesRecognized:\n      return `RoutesRecognized(id: ${routerEvent.id}, url: '${routerEvent.url}', urlAfterRedirects: '${routerEvent.urlAfterRedirects}', state: ${routerEvent.state})`;\n    case EventType.Scroll:\n      const pos = routerEvent.position ? `${routerEvent.position[0]}, ${routerEvent.position[1]}` : null;\n      return `Scroll(anchor: '${routerEvent.anchor}', position: '${pos}')`;\n  }\n}\n\n/**\n * Store contextual information about a `RouterOutlet`\n *\n * @publicApi\n */\nclass OutletContext {\n  constructor(injector) {\n    this.injector = injector;\n    this.outlet = null;\n    this.route = null;\n    this.children = new ChildrenOutletContexts(this.injector);\n    this.attachRef = null;\n  }\n}\n/**\n * Store contextual information about the children (= nested) `RouterOutlet`\n *\n * @publicApi\n */\nlet ChildrenOutletContexts = /*#__PURE__*/(() => {\n  class ChildrenOutletContexts {\n    /** @nodoc */\n    constructor(parentInjector) {\n      this.parentInjector = parentInjector;\n      // contexts for child outlets, by name.\n      this.contexts = new Map();\n    }\n    /** Called when a `RouterOutlet` directive is instantiated */\n    onChildOutletCreated(childName, outlet) {\n      const context = this.getOrCreateContext(childName);\n      context.outlet = outlet;\n      this.contexts.set(childName, context);\n    }\n    /**\n     * Called when a `RouterOutlet` directive is destroyed.\n     * We need to keep the context as the outlet could be destroyed inside a NgIf and might be\n     * re-created later.\n     */\n    onChildOutletDestroyed(childName) {\n      const context = this.getContext(childName);\n      if (context) {\n        context.outlet = null;\n        context.attachRef = null;\n      }\n    }\n    /**\n     * Called when the corresponding route is deactivated during navigation.\n     * Because the component get destroyed, all children outlet are destroyed.\n     */\n    onOutletDeactivated() {\n      const contexts = this.contexts;\n      this.contexts = new Map();\n      return contexts;\n    }\n    onOutletReAttached(contexts) {\n      this.contexts = contexts;\n    }\n    getOrCreateContext(childName) {\n      let context = this.getContext(childName);\n      if (!context) {\n        context = new OutletContext(this.parentInjector);\n        this.contexts.set(childName, context);\n      }\n      return context;\n    }\n    getContext(childName) {\n      return this.contexts.get(childName) || null;\n    }\n    static {\n      this.ɵfac = function ChildrenOutletContexts_Factory(t) {\n        return new (t || ChildrenOutletContexts)(i0.ɵɵinject(i0.EnvironmentInjector));\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: ChildrenOutletContexts,\n        factory: ChildrenOutletContexts.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ChildrenOutletContexts;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass Tree {\n  constructor(root) {\n    this._root = root;\n  }\n  get root() {\n    return this._root.value;\n  }\n  /**\n   * @internal\n   */\n  parent(t) {\n    const p = this.pathFromRoot(t);\n    return p.length > 1 ? p[p.length - 2] : null;\n  }\n  /**\n   * @internal\n   */\n  children(t) {\n    const n = findNode(t, this._root);\n    return n ? n.children.map(t => t.value) : [];\n  }\n  /**\n   * @internal\n   */\n  firstChild(t) {\n    const n = findNode(t, this._root);\n    return n && n.children.length > 0 ? n.children[0].value : null;\n  }\n  /**\n   * @internal\n   */\n  siblings(t) {\n    const p = findPath(t, this._root);\n    if (p.length < 2) return [];\n    const c = p[p.length - 2].children.map(c => c.value);\n    return c.filter(cc => cc !== t);\n  }\n  /**\n   * @internal\n   */\n  pathFromRoot(t) {\n    return findPath(t, this._root).map(s => s.value);\n  }\n}\n// DFS for the node matching the value\nfunction findNode(value, node) {\n  if (value === node.value) return node;\n  for (const child of node.children) {\n    const node = findNode(value, child);\n    if (node) return node;\n  }\n  return null;\n}\n// Return the path to the node with the given value using DFS\nfunction findPath(value, node) {\n  if (value === node.value) return [node];\n  for (const child of node.children) {\n    const path = findPath(value, child);\n    if (path.length) {\n      path.unshift(node);\n      return path;\n    }\n  }\n  return [];\n}\nclass TreeNode {\n  constructor(value, children) {\n    this.value = value;\n    this.children = children;\n  }\n  toString() {\n    return `TreeNode(${this.value})`;\n  }\n}\n// Return the list of T indexed by outlet name\nfunction nodeChildrenAsMap(node) {\n  const map = {};\n  if (node) {\n    node.children.forEach(child => map[child.value.outlet] = child);\n  }\n  return map;\n}\n\n/**\n * Represents the state of the router as a tree of activated routes.\n *\n * @usageNotes\n *\n * Every node in the route tree is an `ActivatedRoute` instance\n * that knows about the \"consumed\" URL segments, the extracted parameters,\n * and the resolved data.\n * Use the `ActivatedRoute` properties to traverse the tree from any node.\n *\n * The following fragment shows how a component gets the root node\n * of the current state to establish its own route tree:\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const state: RouterState = router.routerState;\n *     const root: ActivatedRoute = state.root;\n *     const child = root.firstChild;\n *     const id: Observable<string> = child.params.map(p => p.id);\n *     //...\n *   }\n * }\n * ```\n *\n * @see {@link ActivatedRoute}\n * @see [Getting route information](guide/routing/common-router-tasks#getting-route-information)\n *\n * @publicApi\n */\nclass RouterState extends Tree {\n  /** @internal */\n  constructor(root, /** The current snapshot of the router state */\n  snapshot) {\n    super(root);\n    this.snapshot = snapshot;\n    setRouterState(this, root);\n  }\n  toString() {\n    return this.snapshot.toString();\n  }\n}\nfunction createEmptyState(rootComponent) {\n  const snapshot = createEmptyStateSnapshot(rootComponent);\n  const emptyUrl = new BehaviorSubject([new UrlSegment('', {})]);\n  const emptyParams = new BehaviorSubject({});\n  const emptyData = new BehaviorSubject({});\n  const emptyQueryParams = new BehaviorSubject({});\n  const fragment = new BehaviorSubject('');\n  const activated = new ActivatedRoute(emptyUrl, emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, snapshot.root);\n  activated.snapshot = snapshot.root;\n  return new RouterState(new TreeNode(activated, []), snapshot);\n}\nfunction createEmptyStateSnapshot(rootComponent) {\n  const emptyParams = {};\n  const emptyData = {};\n  const emptyQueryParams = {};\n  const fragment = '';\n  const activated = new ActivatedRouteSnapshot([], emptyParams, emptyQueryParams, fragment, emptyData, PRIMARY_OUTLET, rootComponent, null, {});\n  return new RouterStateSnapshot('', new TreeNode(activated, []));\n}\n/**\n * Provides access to information about a route associated with a component\n * that is loaded in an outlet.\n * Use to traverse the `RouterState` tree and extract information from nodes.\n *\n * The following example shows how to construct a component using information from a\n * currently activated route.\n *\n * Note: the observables in this class only emit when the current and previous values differ based\n * on shallow equality. For example, changing deeply nested properties in resolved `data` will not\n * cause the `ActivatedRoute.data` `Observable` to emit a new value.\n *\n * {@example router/activated-route/module.ts region=\"activated-route\"\n *     header=\"activated-route.component.ts\"}\n *\n * @see [Getting route information](guide/routing/common-router-tasks#getting-route-information)\n *\n * @publicApi\n */\nclass ActivatedRoute {\n  /** @internal */\n  constructor( /** @internal */\n  urlSubject, /** @internal */\n  paramsSubject, /** @internal */\n  queryParamsSubject, /** @internal */\n  fragmentSubject, /** @internal */\n  dataSubject, /** The outlet name of the route, a constant. */\n  outlet, /** The component of the route, a constant. */\n  component, futureSnapshot) {\n    this.urlSubject = urlSubject;\n    this.paramsSubject = paramsSubject;\n    this.queryParamsSubject = queryParamsSubject;\n    this.fragmentSubject = fragmentSubject;\n    this.dataSubject = dataSubject;\n    this.outlet = outlet;\n    this.component = component;\n    this._futureSnapshot = futureSnapshot;\n    this.title = this.dataSubject?.pipe(map(d => d[RouteTitleKey])) ?? of(undefined);\n    // TODO(atscott): Verify that these can be changed to `.asObservable()` with TGP.\n    this.url = urlSubject;\n    this.params = paramsSubject;\n    this.queryParams = queryParamsSubject;\n    this.fragment = fragmentSubject;\n    this.data = dataSubject;\n  }\n  /** The configuration used to match this route. */\n  get routeConfig() {\n    return this._futureSnapshot.routeConfig;\n  }\n  /** The root of the router state. */\n  get root() {\n    return this._routerState.root;\n  }\n  /** The parent of this route in the router state tree. */\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  /** The first child of this route in the router state tree. */\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  /** The children of this route in the router state tree. */\n  get children() {\n    return this._routerState.children(this);\n  }\n  /** The path from the root of the router state tree to this route. */\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  /**\n   * An Observable that contains a map of the required and optional parameters\n   * specific to the route.\n   * The map supports retrieving single and multiple values from the same parameter.\n   */\n  get paramMap() {\n    this._paramMap ??= this.params.pipe(map(p => convertToParamMap(p)));\n    return this._paramMap;\n  }\n  /**\n   * An Observable that contains a map of the query parameters available to all routes.\n   * The map supports retrieving single and multiple values from the query parameter.\n   */\n  get queryParamMap() {\n    this._queryParamMap ??= this.queryParams.pipe(map(p => convertToParamMap(p)));\n    return this._queryParamMap;\n  }\n  toString() {\n    return this.snapshot ? this.snapshot.toString() : `Future(${this._futureSnapshot})`;\n  }\n}\n/**\n * Returns the inherited params, data, and resolve for a given route.\n *\n * By default, we do not inherit parent data unless the current route is path-less or the parent\n * route is component-less.\n */\nfunction getInherited(route, parent, paramsInheritanceStrategy = 'emptyOnly') {\n  let inherited;\n  const {\n    routeConfig\n  } = route;\n  if (parent !== null && (paramsInheritanceStrategy === 'always' ||\n  // inherit parent data if route is empty path\n  routeConfig?.path === '' ||\n  // inherit parent data if parent was componentless\n  !parent.component && !parent.routeConfig?.loadComponent)) {\n    inherited = {\n      params: {\n        ...parent.params,\n        ...route.params\n      },\n      data: {\n        ...parent.data,\n        ...route.data\n      },\n      resolve: {\n        // Snapshots are created with data inherited from parent and guards (i.e. canActivate) can\n        // change data because it's not frozen...\n        // This first line could be deleted chose to break/disallow mutating the `data` object in\n        // guards.\n        // Note that data from parents still override this mutated data so anyone relying on this\n        // might be surprised that it doesn't work if parent data is inherited but otherwise does.\n        ...route.data,\n        // Ensure inherited resolved data overrides inherited static data\n        ...parent.data,\n        // static data from the current route overrides any inherited data\n        ...routeConfig?.data,\n        // resolved data from current route overrides everything\n        ...route._resolvedData\n      }\n    };\n  } else {\n    inherited = {\n      params: {\n        ...route.params\n      },\n      data: {\n        ...route.data\n      },\n      resolve: {\n        ...route.data,\n        ...(route._resolvedData ?? {})\n      }\n    };\n  }\n  if (routeConfig && hasStaticTitle(routeConfig)) {\n    inherited.resolve[RouteTitleKey] = routeConfig.title;\n  }\n  return inherited;\n}\n/**\n * @description\n *\n * Contains the information about a route associated with a component loaded in an\n * outlet at a particular moment in time. ActivatedRouteSnapshot can also be used to\n * traverse the router state tree.\n *\n * The following example initializes a component with route information extracted\n * from the snapshot of the root node at the time of creation.\n *\n * ```\n * @Component({templateUrl:'./my-component.html'})\n * class MyComponent {\n *   constructor(route: ActivatedRoute) {\n *     const id: string = route.snapshot.params.id;\n *     const url: string = route.snapshot.url.join('');\n *     const user = route.snapshot.data.user;\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass ActivatedRouteSnapshot {\n  /** The resolved route title */\n  get title() {\n    // Note: This _must_ be a getter because the data is mutated in the resolvers. Title will not be\n    // available at the time of class instantiation.\n    return this.data?.[RouteTitleKey];\n  }\n  /** @internal */\n  constructor( /** The URL segments matched by this route */\n  url,\n  /**\n   *  The matrix parameters scoped to this route.\n   *\n   *  You can compute all params (or data) in the router state or to get params outside\n   *  of an activated component by traversing the `RouterState` tree as in the following\n   *  example:\n   *  ```\n   *  collectRouteParams(router: Router) {\n   *    let params = {};\n   *    let stack: ActivatedRouteSnapshot[] = [router.routerState.snapshot.root];\n   *    while (stack.length > 0) {\n   *      const route = stack.pop()!;\n   *      params = {...params, ...route.params};\n   *      stack.push(...route.children);\n   *    }\n   *    return params;\n   *  }\n   *  ```\n   */\n  params, /** The query parameters shared by all the routes */\n  queryParams, /** The URL fragment shared by all the routes */\n  fragment, /** The static and resolved data of this route */\n  data, /** The outlet name of the route */\n  outlet, /** The component of the route */\n  component, routeConfig, resolve) {\n    this.url = url;\n    this.params = params;\n    this.queryParams = queryParams;\n    this.fragment = fragment;\n    this.data = data;\n    this.outlet = outlet;\n    this.component = component;\n    this.routeConfig = routeConfig;\n    this._resolve = resolve;\n  }\n  /** The root of the router state */\n  get root() {\n    return this._routerState.root;\n  }\n  /** The parent of this route in the router state tree */\n  get parent() {\n    return this._routerState.parent(this);\n  }\n  /** The first child of this route in the router state tree */\n  get firstChild() {\n    return this._routerState.firstChild(this);\n  }\n  /** The children of this route in the router state tree */\n  get children() {\n    return this._routerState.children(this);\n  }\n  /** The path from the root of the router state tree to this route */\n  get pathFromRoot() {\n    return this._routerState.pathFromRoot(this);\n  }\n  get paramMap() {\n    this._paramMap ??= convertToParamMap(this.params);\n    return this._paramMap;\n  }\n  get queryParamMap() {\n    this._queryParamMap ??= convertToParamMap(this.queryParams);\n    return this._queryParamMap;\n  }\n  toString() {\n    const url = this.url.map(segment => segment.toString()).join('/');\n    const matched = this.routeConfig ? this.routeConfig.path : '';\n    return `Route(url:'${url}', path:'${matched}')`;\n  }\n}\n/**\n * @description\n *\n * Represents the state of the router at a moment in time.\n *\n * This is a tree of activated route snapshots. Every node in this tree knows about\n * the \"consumed\" URL segments, the extracted parameters, and the resolved data.\n *\n * The following example shows how a component is initialized with information\n * from the snapshot of the root node's state at the time of creation.\n *\n * ```\n * @Component({templateUrl:'template.html'})\n * class MyComponent {\n *   constructor(router: Router) {\n *     const state: RouterState = router.routerState;\n *     const snapshot: RouterStateSnapshot = state.snapshot;\n *     const root: ActivatedRouteSnapshot = snapshot.root;\n *     const child = root.firstChild;\n *     const id: Observable<string> = child.params.map(p => p.id);\n *     //...\n *   }\n * }\n * ```\n *\n * @publicApi\n */\nclass RouterStateSnapshot extends Tree {\n  /** @internal */\n  constructor( /** The url from which this snapshot was created */\n  url, root) {\n    super(root);\n    this.url = url;\n    setRouterState(this, root);\n  }\n  toString() {\n    return serializeNode(this._root);\n  }\n}\nfunction setRouterState(state, node) {\n  node.value._routerState = state;\n  node.children.forEach(c => setRouterState(state, c));\n}\nfunction serializeNode(node) {\n  const c = node.children.length > 0 ? ` { ${node.children.map(serializeNode).join(', ')} } ` : '';\n  return `${node.value}${c}`;\n}\n/**\n * The expectation is that the activate route is created with the right set of parameters.\n * So we push new values into the observables only when they are not the initial values.\n * And we detect that by checking if the snapshot field is set.\n */\nfunction advanceActivatedRoute(route) {\n  if (route.snapshot) {\n    const currentSnapshot = route.snapshot;\n    const nextSnapshot = route._futureSnapshot;\n    route.snapshot = nextSnapshot;\n    if (!shallowEqual(currentSnapshot.queryParams, nextSnapshot.queryParams)) {\n      route.queryParamsSubject.next(nextSnapshot.queryParams);\n    }\n    if (currentSnapshot.fragment !== nextSnapshot.fragment) {\n      route.fragmentSubject.next(nextSnapshot.fragment);\n    }\n    if (!shallowEqual(currentSnapshot.params, nextSnapshot.params)) {\n      route.paramsSubject.next(nextSnapshot.params);\n    }\n    if (!shallowEqualArrays(currentSnapshot.url, nextSnapshot.url)) {\n      route.urlSubject.next(nextSnapshot.url);\n    }\n    if (!shallowEqual(currentSnapshot.data, nextSnapshot.data)) {\n      route.dataSubject.next(nextSnapshot.data);\n    }\n  } else {\n    route.snapshot = route._futureSnapshot;\n    // this is for resolved data\n    route.dataSubject.next(route._futureSnapshot.data);\n  }\n}\nfunction equalParamsAndUrlSegments(a, b) {\n  const equalUrlParams = shallowEqual(a.params, b.params) && equalSegments(a.url, b.url);\n  const parentsMismatch = !a.parent !== !b.parent;\n  return equalUrlParams && !parentsMismatch && (!a.parent || equalParamsAndUrlSegments(a.parent, b.parent));\n}\nfunction hasStaticTitle(config) {\n  return typeof config.title === 'string' || config.title === null;\n}\n\n/**\n * @description\n *\n * Acts as a placeholder that Angular dynamically fills based on the current router state.\n *\n * Each outlet can have a unique name, determined by the optional `name` attribute.\n * The name cannot be set or changed dynamically. If not set, default value is \"primary\".\n *\n * ```\n * <router-outlet></router-outlet>\n * <router-outlet name='left'></router-outlet>\n * <router-outlet name='right'></router-outlet>\n * ```\n *\n * Named outlets can be the targets of secondary routes.\n * The `Route` object for a secondary route has an `outlet` property to identify the target outlet:\n *\n * `{path: <base-path>, component: <component>, outlet: <target_outlet_name>}`\n *\n * Using named outlets and secondary routes, you can target multiple outlets in\n * the same `RouterLink` directive.\n *\n * The router keeps track of separate branches in a navigation tree for each named outlet and\n * generates a representation of that tree in the URL.\n * The URL for a secondary route uses the following syntax to specify both the primary and secondary\n * routes at the same time:\n *\n * `http://base-path/primary-route-path(outlet-name:route-path)`\n *\n * A router outlet emits an activate event when a new component is instantiated,\n * deactivate event when a component is destroyed.\n * An attached event emits when the `RouteReuseStrategy` instructs the outlet to reattach the\n * subtree, and the detached event emits when the `RouteReuseStrategy` instructs the outlet to\n * detach the subtree.\n *\n * ```\n * <router-outlet\n *   (activate)='onActivate($event)'\n *   (deactivate)='onDeactivate($event)'\n *   (attach)='onAttach($event)'\n *   (detach)='onDetach($event)'></router-outlet>\n * ```\n *\n * @see {@link RouterLink}\n * @see {@link Route}\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet RouterOutlet = /*#__PURE__*/(() => {\n  class RouterOutlet {\n    constructor() {\n      this.activated = null;\n      this._activatedRoute = null;\n      /**\n       * The name of the outlet\n       *\n       */\n      this.name = PRIMARY_OUTLET;\n      this.activateEvents = new EventEmitter();\n      this.deactivateEvents = new EventEmitter();\n      /**\n       * Emits an attached component instance when the `RouteReuseStrategy` instructs to re-attach a\n       * previously detached subtree.\n       **/\n      this.attachEvents = new EventEmitter();\n      /**\n       * Emits a detached component instance when the `RouteReuseStrategy` instructs to detach the\n       * subtree.\n       */\n      this.detachEvents = new EventEmitter();\n      this.parentContexts = inject(ChildrenOutletContexts);\n      this.location = inject(ViewContainerRef);\n      this.changeDetector = inject(ChangeDetectorRef);\n      this.inputBinder = inject(INPUT_BINDER, {\n        optional: true\n      });\n      /** @nodoc */\n      this.supportsBindingToComponentInputs = true;\n    }\n    /** @internal */\n    get activatedComponentRef() {\n      return this.activated;\n    }\n    /** @nodoc */\n    ngOnChanges(changes) {\n      if (changes['name']) {\n        const {\n          firstChange,\n          previousValue\n        } = changes['name'];\n        if (firstChange) {\n          // The first change is handled by ngOnInit. Because ngOnChanges doesn't get called when no\n          // input is set at all, we need to centrally handle the first change there.\n          return;\n        }\n        // unregister with the old name\n        if (this.isTrackedInParentContexts(previousValue)) {\n          this.deactivate();\n          this.parentContexts.onChildOutletDestroyed(previousValue);\n        }\n        // register the new name\n        this.initializeOutletWithName();\n      }\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      // Ensure that the registered outlet is this one before removing it on the context.\n      if (this.isTrackedInParentContexts(this.name)) {\n        this.parentContexts.onChildOutletDestroyed(this.name);\n      }\n      this.inputBinder?.unsubscribeFromRouteData(this);\n    }\n    isTrackedInParentContexts(outletName) {\n      return this.parentContexts.getContext(outletName)?.outlet === this;\n    }\n    /** @nodoc */\n    ngOnInit() {\n      this.initializeOutletWithName();\n    }\n    initializeOutletWithName() {\n      this.parentContexts.onChildOutletCreated(this.name, this);\n      if (this.activated) {\n        return;\n      }\n      // If the outlet was not instantiated at the time the route got activated we need to populate\n      // the outlet when it is initialized (ie inside a NgIf)\n      const context = this.parentContexts.getContext(this.name);\n      if (context?.route) {\n        if (context.attachRef) {\n          // `attachRef` is populated when there is an existing component to mount\n          this.attach(context.attachRef, context.route);\n        } else {\n          // otherwise the component defined in the configuration is created\n          this.activateWith(context.route, context.injector);\n        }\n      }\n    }\n    get isActivated() {\n      return !!this.activated;\n    }\n    /**\n     * @returns The currently activated component instance.\n     * @throws An error if the outlet is not activated.\n     */\n    get component() {\n      if (!this.activated) throw new ɵRuntimeError(4012 /* RuntimeErrorCode.OUTLET_NOT_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      return this.activated.instance;\n    }\n    get activatedRoute() {\n      if (!this.activated) throw new ɵRuntimeError(4012 /* RuntimeErrorCode.OUTLET_NOT_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      return this._activatedRoute;\n    }\n    get activatedRouteData() {\n      if (this._activatedRoute) {\n        return this._activatedRoute.snapshot.data;\n      }\n      return {};\n    }\n    /**\n     * Called when the `RouteReuseStrategy` instructs to detach the subtree\n     */\n    detach() {\n      if (!this.activated) throw new ɵRuntimeError(4012 /* RuntimeErrorCode.OUTLET_NOT_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Outlet is not activated');\n      this.location.detach();\n      const cmp = this.activated;\n      this.activated = null;\n      this._activatedRoute = null;\n      this.detachEvents.emit(cmp.instance);\n      return cmp;\n    }\n    /**\n     * Called when the `RouteReuseStrategy` instructs to re-attach a previously detached subtree\n     */\n    attach(ref, activatedRoute) {\n      this.activated = ref;\n      this._activatedRoute = activatedRoute;\n      this.location.insert(ref.hostView);\n      this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n      this.attachEvents.emit(ref.instance);\n    }\n    deactivate() {\n      if (this.activated) {\n        const c = this.component;\n        this.activated.destroy();\n        this.activated = null;\n        this._activatedRoute = null;\n        this.deactivateEvents.emit(c);\n      }\n    }\n    activateWith(activatedRoute, environmentInjector) {\n      if (this.isActivated) {\n        throw new ɵRuntimeError(4013 /* RuntimeErrorCode.OUTLET_ALREADY_ACTIVATED */, (typeof ngDevMode === 'undefined' || ngDevMode) && 'Cannot activate an already activated outlet');\n      }\n      this._activatedRoute = activatedRoute;\n      const location = this.location;\n      const snapshot = activatedRoute.snapshot;\n      const component = snapshot.component;\n      const childContexts = this.parentContexts.getOrCreateContext(this.name).children;\n      const injector = new OutletInjector(activatedRoute, childContexts, location.injector);\n      this.activated = location.createComponent(component, {\n        index: location.length,\n        injector,\n        environmentInjector: environmentInjector\n      });\n      // Calling `markForCheck` to make sure we will run the change detection when the\n      // `RouterOutlet` is inside a `ChangeDetectionStrategy.OnPush` component.\n      this.changeDetector.markForCheck();\n      this.inputBinder?.bindActivatedRouteToOutletComponent(this);\n      this.activateEvents.emit(this.activated.instance);\n    }\n    static {\n      this.ɵfac = function RouterOutlet_Factory(t) {\n        return new (t || RouterOutlet)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: RouterOutlet,\n        selectors: [[\"router-outlet\"]],\n        inputs: {\n          name: \"name\"\n        },\n        outputs: {\n          activateEvents: \"activate\",\n          deactivateEvents: \"deactivate\",\n          attachEvents: \"attach\",\n          detachEvents: \"detach\"\n        },\n        exportAs: [\"outlet\"],\n        standalone: true,\n        features: [i0.ɵɵNgOnChangesFeature]\n      });\n    }\n  }\n  return RouterOutlet;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass OutletInjector {\n  /**\n   * This injector has a special handing for the `ActivatedRoute` and\n   * `ChildrenOutletContexts` tokens: it returns corresponding values for those\n   * tokens dynamically. This behavior is different from the regular injector logic,\n   * when we initialize and store a value, which is later returned for all inject\n   * requests.\n   *\n   * In some cases (e.g. when using `@defer`), this dynamic behavior requires special\n   * handling. This function allows to identify an instance of the `OutletInjector` and\n   * create an instance of it without referring to the class itself (so this logic can\n   * be invoked from the `core` package). This helps to retain dynamic behavior for the\n   * mentioned tokens.\n   *\n   * Note: it's a temporary solution and we should explore how to support this case better.\n   */\n  __ngOutletInjector(parentInjector) {\n    return new OutletInjector(this.route, this.childContexts, parentInjector);\n  }\n  constructor(route, childContexts, parent) {\n    this.route = route;\n    this.childContexts = childContexts;\n    this.parent = parent;\n  }\n  get(token, notFoundValue) {\n    if (token === ActivatedRoute) {\n      return this.route;\n    }\n    if (token === ChildrenOutletContexts) {\n      return this.childContexts;\n    }\n    return this.parent.get(token, notFoundValue);\n  }\n}\nconst INPUT_BINDER = /*#__PURE__*/new InjectionToken('');\n/**\n * Injectable used as a tree-shakable provider for opting in to binding router data to component\n * inputs.\n *\n * The RouterOutlet registers itself with this service when an `ActivatedRoute` is attached or\n * activated. When this happens, the service subscribes to the `ActivatedRoute` observables (params,\n * queryParams, data) and sets the inputs of the component using `ComponentRef.setInput`.\n * Importantly, when an input does not have an item in the route data with a matching key, this\n * input is set to `undefined`. If it were not done this way, the previous information would be\n * retained if the data got removed from the route (i.e. if a query parameter is removed).\n *\n * The `RouterOutlet` should unregister itself when destroyed via `unsubscribeFromRouteData` so that\n * the subscriptions are cleaned up.\n */\nlet RoutedComponentInputBinder = /*#__PURE__*/(() => {\n  class RoutedComponentInputBinder {\n    constructor() {\n      this.outletDataSubscriptions = new Map();\n    }\n    bindActivatedRouteToOutletComponent(outlet) {\n      this.unsubscribeFromRouteData(outlet);\n      this.subscribeToRouteData(outlet);\n    }\n    unsubscribeFromRouteData(outlet) {\n      this.outletDataSubscriptions.get(outlet)?.unsubscribe();\n      this.outletDataSubscriptions.delete(outlet);\n    }\n    subscribeToRouteData(outlet) {\n      const {\n        activatedRoute\n      } = outlet;\n      const dataSubscription = combineLatest([activatedRoute.queryParams, activatedRoute.params, activatedRoute.data]).pipe(switchMap(([queryParams, params, data], index) => {\n        data = {\n          ...queryParams,\n          ...params,\n          ...data\n        };\n        // Get the first result from the data subscription synchronously so it's available to\n        // the component as soon as possible (and doesn't require a second change detection).\n        if (index === 0) {\n          return of(data);\n        }\n        // Promise.resolve is used to avoid synchronously writing the wrong data when\n        // two of the Observables in the `combineLatest` stream emit one after\n        // another.\n        return Promise.resolve(data);\n      })).subscribe(data => {\n        // Outlet may have been deactivated or changed names to be associated with a different\n        // route\n        if (!outlet.isActivated || !outlet.activatedComponentRef || outlet.activatedRoute !== activatedRoute || activatedRoute.component === null) {\n          this.unsubscribeFromRouteData(outlet);\n          return;\n        }\n        const mirror = reflectComponentType(activatedRoute.component);\n        if (!mirror) {\n          this.unsubscribeFromRouteData(outlet);\n          return;\n        }\n        for (const {\n          templateName\n        } of mirror.inputs) {\n          outlet.activatedComponentRef.setInput(templateName, data[templateName]);\n        }\n      });\n      this.outletDataSubscriptions.set(outlet, dataSubscription);\n    }\n    static {\n      this.ɵfac = function RoutedComponentInputBinder_Factory(t) {\n        return new (t || RoutedComponentInputBinder)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RoutedComponentInputBinder,\n        factory: RoutedComponentInputBinder.ɵfac\n      });\n    }\n  }\n  return RoutedComponentInputBinder;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction createRouterState(routeReuseStrategy, curr, prevState) {\n  const root = createNode(routeReuseStrategy, curr._root, prevState ? prevState._root : undefined);\n  return new RouterState(root, curr);\n}\nfunction createNode(routeReuseStrategy, curr, prevState) {\n  // reuse an activated route that is currently displayed on the screen\n  if (prevState && routeReuseStrategy.shouldReuseRoute(curr.value, prevState.value.snapshot)) {\n    const value = prevState.value;\n    value._futureSnapshot = curr.value;\n    const children = createOrReuseChildren(routeReuseStrategy, curr, prevState);\n    return new TreeNode(value, children);\n  } else {\n    if (routeReuseStrategy.shouldAttach(curr.value)) {\n      // retrieve an activated route that is used to be displayed, but is not currently displayed\n      const detachedRouteHandle = routeReuseStrategy.retrieve(curr.value);\n      if (detachedRouteHandle !== null) {\n        const tree = detachedRouteHandle.route;\n        tree.value._futureSnapshot = curr.value;\n        tree.children = curr.children.map(c => createNode(routeReuseStrategy, c));\n        return tree;\n      }\n    }\n    const value = createActivatedRoute(curr.value);\n    const children = curr.children.map(c => createNode(routeReuseStrategy, c));\n    return new TreeNode(value, children);\n  }\n}\nfunction createOrReuseChildren(routeReuseStrategy, curr, prevState) {\n  return curr.children.map(child => {\n    for (const p of prevState.children) {\n      if (routeReuseStrategy.shouldReuseRoute(child.value, p.value.snapshot)) {\n        return createNode(routeReuseStrategy, child, p);\n      }\n    }\n    return createNode(routeReuseStrategy, child);\n  });\n}\nfunction createActivatedRoute(c) {\n  return new ActivatedRoute(new BehaviorSubject(c.url), new BehaviorSubject(c.params), new BehaviorSubject(c.queryParams), new BehaviorSubject(c.fragment), new BehaviorSubject(c.data), c.outlet, c.component, c);\n}\n\n/**\n * Can be returned by a `Router` guard to instruct the `Router` to redirect rather than continue\n * processing the path of the in-flight navigation. The `redirectTo` indicates _where_ the new\n * navigation should go to and the optional `navigationBehaviorOptions` can provide more information\n * about _how_ to perform the navigation.\n *\n * ```ts\n * const route: Route = {\n *   path: \"user/:userId\",\n *   component: User,\n *   canActivate: [\n *     () => {\n *       const router = inject(Router);\n *       const authService = inject(AuthenticationService);\n *\n *       if (!authService.isLoggedIn()) {\n *         const loginPath = router.parseUrl(\"/login\");\n *         return new RedirectCommand(loginPath, {\n *           skipLocationChange: \"true\",\n *         });\n *       }\n *\n *       return true;\n *     },\n *   ],\n * };\n * ```\n * @see [Routing guide](guide/routing/common-router-tasks#preventing-unauthorized-access)\n *\n * @publicApi\n */\nclass RedirectCommand {\n  constructor(redirectTo, navigationBehaviorOptions) {\n    this.redirectTo = redirectTo;\n    this.navigationBehaviorOptions = navigationBehaviorOptions;\n  }\n}\nconst NAVIGATION_CANCELING_ERROR = 'ngNavigationCancelingError';\nfunction redirectingNavigationError(urlSerializer, redirect) {\n  const {\n    redirectTo,\n    navigationBehaviorOptions\n  } = isUrlTree(redirect) ? {\n    redirectTo: redirect,\n    navigationBehaviorOptions: undefined\n  } : redirect;\n  const error = navigationCancelingError(ngDevMode && `Redirecting to \"${urlSerializer.serialize(redirectTo)}\"`, NavigationCancellationCode.Redirect);\n  error.url = redirectTo;\n  error.navigationBehaviorOptions = navigationBehaviorOptions;\n  return error;\n}\nfunction navigationCancelingError(message, code) {\n  const error = new Error(`NavigationCancelingError: ${message || ''}`);\n  error[NAVIGATION_CANCELING_ERROR] = true;\n  error.cancellationCode = code;\n  return error;\n}\nfunction isRedirectingNavigationCancelingError(error) {\n  return isNavigationCancelingError(error) && isUrlTree(error.url);\n}\nfunction isNavigationCancelingError(error) {\n  return !!error && error[NAVIGATION_CANCELING_ERROR];\n}\n\n/**\n * This component is used internally within the router to be a placeholder when an empty\n * router-outlet is needed. For example, with a config such as:\n *\n * `{path: 'parent', outlet: 'nav', children: [...]}`\n *\n * In order to render, there needs to be a component on this config, which will default\n * to this `EmptyOutletComponent`.\n */\nlet ɵEmptyOutletComponent = /*#__PURE__*/(() => {\n  class ɵEmptyOutletComponent {\n    static {\n      this.ɵfac = function ɵEmptyOutletComponent_Factory(t) {\n        return new (t || ɵEmptyOutletComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: ɵEmptyOutletComponent,\n        selectors: [[\"ng-component\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 1,\n        vars: 0,\n        template: function _EmptyOutletComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelement(0, \"router-outlet\");\n          }\n        },\n        dependencies: [RouterOutlet],\n        encapsulation: 2\n      });\n    }\n  }\n  return ɵEmptyOutletComponent;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Creates an `EnvironmentInjector` if the `Route` has providers and one does not already exist\n * and returns the injector. Otherwise, if the `Route` does not have `providers`, returns the\n * `currentInjector`.\n *\n * @param route The route that might have providers\n * @param currentInjector The parent injector of the `Route`\n */\nfunction getOrCreateRouteInjectorIfNeeded(route, currentInjector) {\n  if (route.providers && !route._injector) {\n    route._injector = createEnvironmentInjector(route.providers, currentInjector, `Route: ${route.path}`);\n  }\n  return route._injector ?? currentInjector;\n}\nfunction getLoadedRoutes(route) {\n  return route._loadedRoutes;\n}\nfunction getLoadedInjector(route) {\n  return route._loadedInjector;\n}\nfunction getLoadedComponent(route) {\n  return route._loadedComponent;\n}\nfunction getProvidersInjector(route) {\n  return route._injector;\n}\nfunction validateConfig(config, parentPath = '', requireStandaloneComponents = false) {\n  // forEach doesn't iterate undefined values\n  for (let i = 0; i < config.length; i++) {\n    const route = config[i];\n    const fullPath = getFullPath(parentPath, route);\n    validateNode(route, fullPath, requireStandaloneComponents);\n  }\n}\nfunction assertStandalone(fullPath, component) {\n  if (component && ɵisNgModule(component)) {\n    throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}'. You are using 'loadComponent' with a module, ` + `but it must be used with standalone components. Use 'loadChildren' instead.`);\n  } else if (component && !isStandalone(component)) {\n    throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}'. The component must be standalone.`);\n  }\n}\nfunction validateNode(route, fullPath, requireStandaloneComponents) {\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    if (!route) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `\n      Invalid configuration of route '${fullPath}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);\n    }\n    if (Array.isArray(route)) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': Array cannot be specified`);\n    }\n    if (!route.redirectTo && !route.component && !route.loadComponent && !route.children && !route.loadChildren && route.outlet && route.outlet !== PRIMARY_OUTLET) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': a componentless route without children or loadChildren cannot have a named outlet set`);\n    }\n    if (route.redirectTo && route.children) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and children cannot be used together`);\n    }\n    if (route.redirectTo && route.loadChildren) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and loadChildren cannot be used together`);\n    }\n    if (route.children && route.loadChildren) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': children and loadChildren cannot be used together`);\n    }\n    if (route.redirectTo && (route.component || route.loadComponent)) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and component/loadComponent cannot be used together`);\n    }\n    if (route.component && route.loadComponent) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': component and loadComponent cannot be used together`);\n    }\n    if (route.redirectTo && route.canActivate) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': redirectTo and canActivate cannot be used together. Redirects happen before activation ` + `so canActivate will never be executed.`);\n    }\n    if (route.path && route.matcher) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': path and matcher cannot be used together`);\n    }\n    if (route.redirectTo === void 0 && !route.component && !route.loadComponent && !route.children && !route.loadChildren) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}'. One of the following must be provided: component, loadComponent, redirectTo, children or loadChildren`);\n    }\n    if (route.path === void 0 && route.matcher === void 0) {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': routes must have either a path or a matcher specified`);\n    }\n    if (typeof route.path === 'string' && route.path.charAt(0) === '/') {\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '${fullPath}': path cannot start with a slash`);\n    }\n    if (route.path === '' && route.redirectTo !== void 0 && route.pathMatch === void 0) {\n      const exp = `The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`;\n      throw new ɵRuntimeError(4014 /* RuntimeErrorCode.INVALID_ROUTE_CONFIG */, `Invalid configuration of route '{path: \"${fullPath}\", redirectTo: \"${route.redirectTo}\"}': please provide 'pathMatch'. ${exp}`);\n    }\n    if (requireStandaloneComponents) {\n      assertStandalone(fullPath, route.component);\n    }\n  }\n  if (route.children) {\n    validateConfig(route.children, fullPath, requireStandaloneComponents);\n  }\n}\nfunction getFullPath(parentPath, currentRoute) {\n  if (!currentRoute) {\n    return parentPath;\n  }\n  if (!parentPath && !currentRoute.path) {\n    return '';\n  } else if (parentPath && !currentRoute.path) {\n    return `${parentPath}/`;\n  } else if (!parentPath && currentRoute.path) {\n    return currentRoute.path;\n  } else {\n    return `${parentPath}/${currentRoute.path}`;\n  }\n}\n/**\n * Makes a copy of the config and adds any default required properties.\n */\nfunction standardizeConfig(r) {\n  const children = r.children && r.children.map(standardizeConfig);\n  const c = children ? {\n    ...r,\n    children\n  } : {\n    ...r\n  };\n  if (!c.component && !c.loadComponent && (children || c.loadChildren) && c.outlet && c.outlet !== PRIMARY_OUTLET) {\n    c.component = ɵEmptyOutletComponent;\n  }\n  return c;\n}\n/** Returns the `route.outlet` or PRIMARY_OUTLET if none exists. */\nfunction getOutlet(route) {\n  return route.outlet || PRIMARY_OUTLET;\n}\n/**\n * Sorts the `routes` such that the ones with an outlet matching `outletName` come first.\n * The order of the configs is otherwise preserved.\n */\nfunction sortByMatchingOutlets(routes, outletName) {\n  const sortedConfig = routes.filter(r => getOutlet(r) === outletName);\n  sortedConfig.push(...routes.filter(r => getOutlet(r) !== outletName));\n  return sortedConfig;\n}\n/**\n * Gets the first injector in the snapshot's parent tree.\n *\n * If the `Route` has a static list of providers, the returned injector will be the one created from\n * those. If it does not exist, the returned injector may come from the parents, which may be from a\n * loaded config or their static providers.\n *\n * Returns `null` if there is neither this nor any parents have a stored injector.\n *\n * Generally used for retrieving the injector to use for getting tokens for guards/resolvers and\n * also used for getting the correct injector to use for creating components.\n */\nfunction getClosestRouteInjector(snapshot) {\n  if (!snapshot) return null;\n  // If the current route has its own injector, which is created from the static providers on the\n  // route itself, we should use that. Otherwise, we start at the parent since we do not want to\n  // include the lazy loaded injector from this route.\n  if (snapshot.routeConfig?._injector) {\n    return snapshot.routeConfig._injector;\n  }\n  for (let s = snapshot.parent; s; s = s.parent) {\n    const route = s.routeConfig;\n    // Note that the order here is important. `_loadedInjector` stored on the route with\n    // `loadChildren: () => NgModule` so it applies to child routes with priority. The `_injector`\n    // is created from the static providers on that parent route, so it applies to the children as\n    // well, but only if there is no lazy loaded NgModuleRef injector.\n    if (route?._loadedInjector) return route._loadedInjector;\n    if (route?._injector) return route._injector;\n  }\n  return null;\n}\nlet warnedAboutUnsupportedInputBinding = false;\nconst activateRoutes = (rootContexts, routeReuseStrategy, forwardEvent, inputBindingEnabled) => map(t => {\n  new ActivateRoutes(routeReuseStrategy, t.targetRouterState, t.currentRouterState, forwardEvent, inputBindingEnabled).activate(rootContexts);\n  return t;\n});\nclass ActivateRoutes {\n  constructor(routeReuseStrategy, futureState, currState, forwardEvent, inputBindingEnabled) {\n    this.routeReuseStrategy = routeReuseStrategy;\n    this.futureState = futureState;\n    this.currState = currState;\n    this.forwardEvent = forwardEvent;\n    this.inputBindingEnabled = inputBindingEnabled;\n  }\n  activate(parentContexts) {\n    const futureRoot = this.futureState._root;\n    const currRoot = this.currState ? this.currState._root : null;\n    this.deactivateChildRoutes(futureRoot, currRoot, parentContexts);\n    advanceActivatedRoute(this.futureState.root);\n    this.activateChildRoutes(futureRoot, currRoot, parentContexts);\n  }\n  // De-activate the child route that are not re-used for the future state\n  deactivateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    // Recurse on the routes active in the future state to de-activate deeper children\n    futureNode.children.forEach(futureChild => {\n      const childOutletName = futureChild.value.outlet;\n      this.deactivateRoutes(futureChild, children[childOutletName], contexts);\n      delete children[childOutletName];\n    });\n    // De-activate the routes that will not be re-used\n    Object.values(children).forEach(v => {\n      this.deactivateRouteAndItsChildren(v, contexts);\n    });\n  }\n  deactivateRoutes(futureNode, currNode, parentContext) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    if (future === curr) {\n      // Reusing the node, check to see if the children need to be de-activated\n      if (future.component) {\n        // If we have a normal route, we need to go through an outlet.\n        const context = parentContext.getContext(future.outlet);\n        if (context) {\n          this.deactivateChildRoutes(futureNode, currNode, context.children);\n        }\n      } else {\n        // if we have a componentless route, we recurse but keep the same outlet map.\n        this.deactivateChildRoutes(futureNode, currNode, parentContext);\n      }\n    } else {\n      if (curr) {\n        // Deactivate the current route which will not be re-used\n        this.deactivateRouteAndItsChildren(currNode, parentContext);\n      }\n    }\n  }\n  deactivateRouteAndItsChildren(route, parentContexts) {\n    // If there is no component, the Route is never attached to an outlet (because there is no\n    // component to attach).\n    if (route.value.component && this.routeReuseStrategy.shouldDetach(route.value.snapshot)) {\n      this.detachAndStoreRouteSubtree(route, parentContexts);\n    } else {\n      this.deactivateRouteAndOutlet(route, parentContexts);\n    }\n  }\n  detachAndStoreRouteSubtree(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context && context.outlet) {\n      const componentRef = context.outlet.detach();\n      const contexts = context.children.onOutletDeactivated();\n      this.routeReuseStrategy.store(route.value.snapshot, {\n        componentRef,\n        route,\n        contexts\n      });\n    }\n  }\n  deactivateRouteAndOutlet(route, parentContexts) {\n    const context = parentContexts.getContext(route.value.outlet);\n    // The context could be `null` if we are on a componentless route but there may still be\n    // children that need deactivating.\n    const contexts = context && route.value.component ? context.children : parentContexts;\n    const children = nodeChildrenAsMap(route);\n    for (const treeNode of Object.values(children)) {\n      this.deactivateRouteAndItsChildren(treeNode, contexts);\n    }\n    if (context) {\n      if (context.outlet) {\n        // Destroy the component\n        context.outlet.deactivate();\n        // Destroy the contexts for all the outlets that were in the component\n        context.children.onOutletDeactivated();\n      }\n      // Clear the information about the attached component on the context but keep the reference to\n      // the outlet. Clear even if outlet was not yet activated to avoid activating later with old\n      // info\n      context.attachRef = null;\n      context.route = null;\n    }\n  }\n  activateChildRoutes(futureNode, currNode, contexts) {\n    const children = nodeChildrenAsMap(currNode);\n    futureNode.children.forEach(c => {\n      this.activateRoutes(c, children[c.value.outlet], contexts);\n      this.forwardEvent(new ActivationEnd(c.value.snapshot));\n    });\n    if (futureNode.children.length) {\n      this.forwardEvent(new ChildActivationEnd(futureNode.value.snapshot));\n    }\n  }\n  activateRoutes(futureNode, currNode, parentContexts) {\n    const future = futureNode.value;\n    const curr = currNode ? currNode.value : null;\n    advanceActivatedRoute(future);\n    // reusing the node\n    if (future === curr) {\n      if (future.component) {\n        // If we have a normal route, we need to go through an outlet.\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        this.activateChildRoutes(futureNode, currNode, context.children);\n      } else {\n        // if we have a componentless route, we recurse but keep the same outlet map.\n        this.activateChildRoutes(futureNode, currNode, parentContexts);\n      }\n    } else {\n      if (future.component) {\n        // if we have a normal route, we need to place the component into the outlet and recurse.\n        const context = parentContexts.getOrCreateContext(future.outlet);\n        if (this.routeReuseStrategy.shouldAttach(future.snapshot)) {\n          const stored = this.routeReuseStrategy.retrieve(future.snapshot);\n          this.routeReuseStrategy.store(future.snapshot, null);\n          context.children.onOutletReAttached(stored.contexts);\n          context.attachRef = stored.componentRef;\n          context.route = stored.route.value;\n          if (context.outlet) {\n            // Attach right away when the outlet has already been instantiated\n            // Otherwise attach from `RouterOutlet.ngOnInit` when it is instantiated\n            context.outlet.attach(stored.componentRef, stored.route.value);\n          }\n          advanceActivatedRoute(stored.route.value);\n          this.activateChildRoutes(futureNode, null, context.children);\n        } else {\n          const injector = getClosestRouteInjector(future.snapshot);\n          context.attachRef = null;\n          context.route = future;\n          context.injector = injector ?? context.injector;\n          if (context.outlet) {\n            // Activate the outlet when it has already been instantiated\n            // Otherwise it will get activated from its `ngOnInit` when instantiated\n            context.outlet.activateWith(future, context.injector);\n          }\n          this.activateChildRoutes(futureNode, null, context.children);\n        }\n      } else {\n        // if we have a componentless route, we recurse but keep the same outlet map.\n        this.activateChildRoutes(futureNode, null, parentContexts);\n      }\n    }\n    if (typeof ngDevMode === 'undefined' || ngDevMode) {\n      const context = parentContexts.getOrCreateContext(future.outlet);\n      const outlet = context.outlet;\n      if (outlet && this.inputBindingEnabled && !outlet.supportsBindingToComponentInputs && !warnedAboutUnsupportedInputBinding) {\n        console.warn(`'withComponentInputBinding' feature is enabled but ` + `this application is using an outlet that may not support binding to component inputs.`);\n        warnedAboutUnsupportedInputBinding = true;\n      }\n    }\n  }\n}\nclass CanActivate {\n  constructor(path) {\n    this.path = path;\n    this.route = this.path[this.path.length - 1];\n  }\n}\nclass CanDeactivate {\n  constructor(component, route) {\n    this.component = component;\n    this.route = route;\n  }\n}\nfunction getAllRouteGuards(future, curr, parentContexts) {\n  const futureRoot = future._root;\n  const currRoot = curr ? curr._root : null;\n  return getChildRouteGuards(futureRoot, currRoot, parentContexts, [futureRoot.value]);\n}\nfunction getCanActivateChild(p) {\n  const canActivateChild = p.routeConfig ? p.routeConfig.canActivateChild : null;\n  if (!canActivateChild || canActivateChild.length === 0) return null;\n  return {\n    node: p,\n    guards: canActivateChild\n  };\n}\nfunction getTokenOrFunctionIdentity(tokenOrFunction, injector) {\n  const NOT_FOUND = Symbol();\n  const result = injector.get(tokenOrFunction, NOT_FOUND);\n  if (result === NOT_FOUND) {\n    if (typeof tokenOrFunction === 'function' && !ɵisInjectable(tokenOrFunction)) {\n      // We think the token is just a function so return it as-is\n      return tokenOrFunction;\n    } else {\n      // This will throw the not found error\n      return injector.get(tokenOrFunction);\n    }\n  }\n  return result;\n}\nfunction getChildRouteGuards(futureNode, currNode, contexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const prevChildren = nodeChildrenAsMap(currNode);\n  // Process the children of the future route\n  futureNode.children.forEach(c => {\n    getRouteGuards(c, prevChildren[c.value.outlet], contexts, futurePath.concat([c.value]), checks);\n    delete prevChildren[c.value.outlet];\n  });\n  // Process any children left from the current route (not active for the future route)\n  Object.entries(prevChildren).forEach(([k, v]) => deactivateRouteAndItsChildren(v, contexts.getContext(k), checks));\n  return checks;\n}\nfunction getRouteGuards(futureNode, currNode, parentContexts, futurePath, checks = {\n  canDeactivateChecks: [],\n  canActivateChecks: []\n}) {\n  const future = futureNode.value;\n  const curr = currNode ? currNode.value : null;\n  const context = parentContexts ? parentContexts.getContext(futureNode.value.outlet) : null;\n  // reusing the node\n  if (curr && future.routeConfig === curr.routeConfig) {\n    const shouldRun = shouldRunGuardsAndResolvers(curr, future, future.routeConfig.runGuardsAndResolvers);\n    if (shouldRun) {\n      checks.canActivateChecks.push(new CanActivate(futurePath));\n    } else {\n      // we need to set the data\n      future.data = curr.data;\n      future._resolvedData = curr._resolvedData;\n    }\n    // If we have a component, we need to go through an outlet.\n    if (future.component) {\n      getChildRouteGuards(futureNode, currNode, context ? context.children : null, futurePath, checks);\n      // if we have a componentless route, we recurse but keep the same outlet map.\n    } else {\n      getChildRouteGuards(futureNode, currNode, parentContexts, futurePath, checks);\n    }\n    if (shouldRun && context && context.outlet && context.outlet.isActivated) {\n      checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, curr));\n    }\n  } else {\n    if (curr) {\n      deactivateRouteAndItsChildren(currNode, context, checks);\n    }\n    checks.canActivateChecks.push(new CanActivate(futurePath));\n    // If we have a component, we need to go through an outlet.\n    if (future.component) {\n      getChildRouteGuards(futureNode, null, context ? context.children : null, futurePath, checks);\n      // if we have a componentless route, we recurse but keep the same outlet map.\n    } else {\n      getChildRouteGuards(futureNode, null, parentContexts, futurePath, checks);\n    }\n  }\n  return checks;\n}\nfunction shouldRunGuardsAndResolvers(curr, future, mode) {\n  if (typeof mode === 'function') {\n    return mode(curr, future);\n  }\n  switch (mode) {\n    case 'pathParamsChange':\n      return !equalPath(curr.url, future.url);\n    case 'pathParamsOrQueryParamsChange':\n      return !equalPath(curr.url, future.url) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'always':\n      return true;\n    case 'paramsOrQueryParamsChange':\n      return !equalParamsAndUrlSegments(curr, future) || !shallowEqual(curr.queryParams, future.queryParams);\n    case 'paramsChange':\n    default:\n      return !equalParamsAndUrlSegments(curr, future);\n  }\n}\nfunction deactivateRouteAndItsChildren(route, context, checks) {\n  const children = nodeChildrenAsMap(route);\n  const r = route.value;\n  Object.entries(children).forEach(([childName, node]) => {\n    if (!r.component) {\n      deactivateRouteAndItsChildren(node, context, checks);\n    } else if (context) {\n      deactivateRouteAndItsChildren(node, context.children.getContext(childName), checks);\n    } else {\n      deactivateRouteAndItsChildren(node, null, checks);\n    }\n  });\n  if (!r.component) {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  } else if (context && context.outlet && context.outlet.isActivated) {\n    checks.canDeactivateChecks.push(new CanDeactivate(context.outlet.component, r));\n  } else {\n    checks.canDeactivateChecks.push(new CanDeactivate(null, r));\n  }\n}\n\n/**\n * Simple function check, but generic so type inference will flow. Example:\n *\n * function product(a: number, b: number) {\n *   return a * b;\n * }\n *\n * if (isFunction<product>(fn)) {\n *   return fn(1, 2);\n * } else {\n *   throw \"Must provide the `product` function\";\n * }\n */\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\nfunction isBoolean(v) {\n  return typeof v === 'boolean';\n}\nfunction isCanLoad(guard) {\n  return guard && isFunction(guard.canLoad);\n}\nfunction isCanActivate(guard) {\n  return guard && isFunction(guard.canActivate);\n}\nfunction isCanActivateChild(guard) {\n  return guard && isFunction(guard.canActivateChild);\n}\nfunction isCanDeactivate(guard) {\n  return guard && isFunction(guard.canDeactivate);\n}\nfunction isCanMatch(guard) {\n  return guard && isFunction(guard.canMatch);\n}\nfunction isEmptyError(e) {\n  return e instanceof EmptyError || e?.name === 'EmptyError';\n}\nconst INITIAL_VALUE = /* @__PURE__ */Symbol('INITIAL_VALUE');\nfunction prioritizedGuardValue() {\n  return switchMap(obs => {\n    return combineLatest(obs.map(o => o.pipe(take(1), startWith(INITIAL_VALUE)))).pipe(map(results => {\n      for (const result of results) {\n        if (result === true) {\n          // If result is true, check the next one\n          continue;\n        } else if (result === INITIAL_VALUE) {\n          // If guard has not finished, we need to stop processing.\n          return INITIAL_VALUE;\n        } else if (result === false || isRedirect(result)) {\n          // Result finished and was not true. Return the result.\n          // Note that we only allow false/UrlTree/RedirectCommand. Other values are considered invalid and\n          // ignored.\n          return result;\n        }\n      }\n      // Everything resolved to true. Return true.\n      return true;\n    }), filter(item => item !== INITIAL_VALUE), take(1));\n  });\n}\nfunction isRedirect(val) {\n  return isUrlTree(val) || val instanceof RedirectCommand;\n}\nfunction checkGuards(injector, forwardEvent) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      currentSnapshot,\n      guards: {\n        canActivateChecks,\n        canDeactivateChecks\n      }\n    } = t;\n    if (canDeactivateChecks.length === 0 && canActivateChecks.length === 0) {\n      return of({\n        ...t,\n        guardsResult: true\n      });\n    }\n    return runCanDeactivateChecks(canDeactivateChecks, targetSnapshot, currentSnapshot, injector).pipe(mergeMap(canDeactivate => {\n      return canDeactivate && isBoolean(canDeactivate) ? runCanActivateChecks(targetSnapshot, canActivateChecks, injector, forwardEvent) : of(canDeactivate);\n    }), map(guardsResult => ({\n      ...t,\n      guardsResult\n    })));\n  });\n}\nfunction runCanDeactivateChecks(checks, futureRSS, currRSS, injector) {\n  return from(checks).pipe(mergeMap(check => runCanDeactivate(check.component, check.route, currRSS, futureRSS, injector)), first(result => {\n    return result !== true;\n  }, true));\n}\nfunction runCanActivateChecks(futureSnapshot, checks, injector, forwardEvent) {\n  return from(checks).pipe(concatMap(check => {\n    return concat(fireChildActivationStart(check.route.parent, forwardEvent), fireActivationStart(check.route, forwardEvent), runCanActivateChild(futureSnapshot, check.path, injector), runCanActivate(futureSnapshot, check.route, injector));\n  }), first(result => {\n    return result !== true;\n  }, true));\n}\n/**\n * This should fire off `ActivationStart` events for each route being activated at this\n * level.\n * In other words, if you're activating `a` and `b` below, `path` will contain the\n * `ActivatedRouteSnapshot`s for both and we will fire `ActivationStart` for both. Always\n * return\n * `true` so checks continue to run.\n */\nfunction fireActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ActivationStart(snapshot));\n  }\n  return of(true);\n}\n/**\n * This should fire off `ChildActivationStart` events for each route being activated at this\n * level.\n * In other words, if you're activating `a` and `b` below, `path` will contain the\n * `ActivatedRouteSnapshot`s for both and we will fire `ChildActivationStart` for both. Always\n * return\n * `true` so checks continue to run.\n */\nfunction fireChildActivationStart(snapshot, forwardEvent) {\n  if (snapshot !== null && forwardEvent) {\n    forwardEvent(new ChildActivationStart(snapshot));\n  }\n  return of(true);\n}\nfunction runCanActivate(futureRSS, futureARS, injector) {\n  const canActivate = futureARS.routeConfig ? futureARS.routeConfig.canActivate : null;\n  if (!canActivate || canActivate.length === 0) return of(true);\n  const canActivateObservables = canActivate.map(canActivate => {\n    return defer(() => {\n      const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n      const guard = getTokenOrFunctionIdentity(canActivate, closestInjector);\n      const guardVal = isCanActivate(guard) ? guard.canActivate(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n      return wrapIntoObservable(guardVal).pipe(first());\n    });\n  });\n  return of(canActivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanActivateChild(futureRSS, path, injector) {\n  const futureARS = path[path.length - 1];\n  const canActivateChildGuards = path.slice(0, path.length - 1).reverse().map(p => getCanActivateChild(p)).filter(_ => _ !== null);\n  const canActivateChildGuardsMapped = canActivateChildGuards.map(d => {\n    return defer(() => {\n      const guardsMapped = d.guards.map(canActivateChild => {\n        const closestInjector = getClosestRouteInjector(d.node) ?? injector;\n        const guard = getTokenOrFunctionIdentity(canActivateChild, closestInjector);\n        const guardVal = isCanActivateChild(guard) ? guard.canActivateChild(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => guard(futureARS, futureRSS));\n        return wrapIntoObservable(guardVal).pipe(first());\n      });\n      return of(guardsMapped).pipe(prioritizedGuardValue());\n    });\n  });\n  return of(canActivateChildGuardsMapped).pipe(prioritizedGuardValue());\n}\nfunction runCanDeactivate(component, currARS, currRSS, futureRSS, injector) {\n  const canDeactivate = currARS && currARS.routeConfig ? currARS.routeConfig.canDeactivate : null;\n  if (!canDeactivate || canDeactivate.length === 0) return of(true);\n  const canDeactivateObservables = canDeactivate.map(c => {\n    const closestInjector = getClosestRouteInjector(currARS) ?? injector;\n    const guard = getTokenOrFunctionIdentity(c, closestInjector);\n    const guardVal = isCanDeactivate(guard) ? guard.canDeactivate(component, currARS, currRSS, futureRSS) : runInInjectionContext(closestInjector, () => guard(component, currARS, currRSS, futureRSS));\n    return wrapIntoObservable(guardVal).pipe(first());\n  });\n  return of(canDeactivateObservables).pipe(prioritizedGuardValue());\n}\nfunction runCanLoadGuards(injector, route, segments, urlSerializer) {\n  const canLoad = route.canLoad;\n  if (canLoad === undefined || canLoad.length === 0) {\n    return of(true);\n  }\n  const canLoadObservables = canLoad.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanLoad(guard) ? guard.canLoad(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    return wrapIntoObservable(guardVal);\n  });\n  return of(canLoadObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nfunction redirectIfUrlTree(urlSerializer) {\n  return pipe(tap(result => {\n    if (typeof result === 'boolean') return;\n    throw redirectingNavigationError(urlSerializer, result);\n  }), map(result => result === true));\n}\nfunction runCanMatchGuards(injector, route, segments, urlSerializer) {\n  const canMatch = route.canMatch;\n  if (!canMatch || canMatch.length === 0) return of(true);\n  const canMatchObservables = canMatch.map(injectionToken => {\n    const guard = getTokenOrFunctionIdentity(injectionToken, injector);\n    const guardVal = isCanMatch(guard) ? guard.canMatch(route, segments) : runInInjectionContext(injector, () => guard(route, segments));\n    return wrapIntoObservable(guardVal);\n  });\n  return of(canMatchObservables).pipe(prioritizedGuardValue(), redirectIfUrlTree(urlSerializer));\n}\nclass NoMatch {\n  constructor(segmentGroup) {\n    this.segmentGroup = segmentGroup || null;\n  }\n}\nclass AbsoluteRedirect extends Error {\n  constructor(urlTree) {\n    super();\n    this.urlTree = urlTree;\n  }\n}\nfunction noMatch$1(segmentGroup) {\n  return throwError(new NoMatch(segmentGroup));\n}\nfunction absoluteRedirect(newTree) {\n  return throwError(new AbsoluteRedirect(newTree));\n}\nfunction namedOutletsRedirect(redirectTo) {\n  return throwError(new ɵRuntimeError(4000 /* RuntimeErrorCode.NAMED_OUTLET_REDIRECT */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Only absolute redirects can have named outlets. redirectTo: '${redirectTo}'`));\n}\nfunction canLoadFails(route) {\n  return throwError(navigationCancelingError((typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot load children because the guard of the route \"path: '${route.path}'\" returned false`, NavigationCancellationCode.GuardRejected));\n}\nclass ApplyRedirects {\n  constructor(urlSerializer, urlTree) {\n    this.urlSerializer = urlSerializer;\n    this.urlTree = urlTree;\n  }\n  lineralizeSegments(route, urlTree) {\n    let res = [];\n    let c = urlTree.root;\n    while (true) {\n      res = res.concat(c.segments);\n      if (c.numberOfChildren === 0) {\n        return of(res);\n      }\n      if (c.numberOfChildren > 1 || !c.children[PRIMARY_OUTLET]) {\n        return namedOutletsRedirect(`${route.redirectTo}`);\n      }\n      c = c.children[PRIMARY_OUTLET];\n    }\n  }\n  applyRedirectCommands(segments, redirectTo, posParams, currentSnapshot, injector) {\n    if (typeof redirectTo !== 'string') {\n      const redirectToFn = redirectTo;\n      const {\n        queryParams,\n        fragment,\n        routeConfig,\n        url,\n        outlet,\n        params,\n        data,\n        title\n      } = currentSnapshot;\n      const newRedirect = runInInjectionContext(injector, () => redirectToFn({\n        params,\n        data,\n        queryParams,\n        fragment,\n        routeConfig,\n        url,\n        outlet,\n        title\n      }));\n      if (newRedirect instanceof UrlTree) {\n        throw new AbsoluteRedirect(newRedirect);\n      }\n      redirectTo = newRedirect;\n    }\n    const newTree = this.applyRedirectCreateUrlTree(redirectTo, this.urlSerializer.parse(redirectTo), segments, posParams);\n    if (redirectTo[0] === '/') {\n      throw new AbsoluteRedirect(newTree);\n    }\n    return newTree;\n  }\n  applyRedirectCreateUrlTree(redirectTo, urlTree, segments, posParams) {\n    const newRoot = this.createSegmentGroup(redirectTo, urlTree.root, segments, posParams);\n    return new UrlTree(newRoot, this.createQueryParams(urlTree.queryParams, this.urlTree.queryParams), urlTree.fragment);\n  }\n  createQueryParams(redirectToParams, actualParams) {\n    const res = {};\n    Object.entries(redirectToParams).forEach(([k, v]) => {\n      const copySourceValue = typeof v === 'string' && v[0] === ':';\n      if (copySourceValue) {\n        const sourceName = v.substring(1);\n        res[k] = actualParams[sourceName];\n      } else {\n        res[k] = v;\n      }\n    });\n    return res;\n  }\n  createSegmentGroup(redirectTo, group, segments, posParams) {\n    const updatedSegments = this.createSegments(redirectTo, group.segments, segments, posParams);\n    let children = {};\n    Object.entries(group.children).forEach(([name, child]) => {\n      children[name] = this.createSegmentGroup(redirectTo, child, segments, posParams);\n    });\n    return new UrlSegmentGroup(updatedSegments, children);\n  }\n  createSegments(redirectTo, redirectToSegments, actualSegments, posParams) {\n    return redirectToSegments.map(s => s.path[0] === ':' ? this.findPosParam(redirectTo, s, posParams) : this.findOrReturn(s, actualSegments));\n  }\n  findPosParam(redirectTo, redirectToUrlSegment, posParams) {\n    const pos = posParams[redirectToUrlSegment.path.substring(1)];\n    if (!pos) throw new ɵRuntimeError(4001 /* RuntimeErrorCode.MISSING_REDIRECT */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Cannot redirect to '${redirectTo}'. Cannot find '${redirectToUrlSegment.path}'.`);\n    return pos;\n  }\n  findOrReturn(redirectToUrlSegment, actualSegments) {\n    let idx = 0;\n    for (const s of actualSegments) {\n      if (s.path === redirectToUrlSegment.path) {\n        actualSegments.splice(idx);\n        return s;\n      }\n      idx++;\n    }\n    return redirectToUrlSegment;\n  }\n}\nconst noMatch = {\n  matched: false,\n  consumedSegments: [],\n  remainingSegments: [],\n  parameters: {},\n  positionalParamSegments: {}\n};\nfunction matchWithChecks(segmentGroup, route, segments, injector, urlSerializer) {\n  const result = match(segmentGroup, route, segments);\n  if (!result.matched) {\n    return of(result);\n  }\n  // Only create the Route's `EnvironmentInjector` if it matches the attempted\n  // navigation\n  injector = getOrCreateRouteInjectorIfNeeded(route, injector);\n  return runCanMatchGuards(injector, route, segments, urlSerializer).pipe(map(v => v === true ? result : {\n    ...noMatch\n  }));\n}\nfunction match(segmentGroup, route, segments) {\n  if (route.path === '**') {\n    return createWildcardMatchResult(segments);\n  }\n  if (route.path === '') {\n    if (route.pathMatch === 'full' && (segmentGroup.hasChildren() || segments.length > 0)) {\n      return {\n        ...noMatch\n      };\n    }\n    return {\n      matched: true,\n      consumedSegments: [],\n      remainingSegments: segments,\n      parameters: {},\n      positionalParamSegments: {}\n    };\n  }\n  const matcher = route.matcher || defaultUrlMatcher;\n  const res = matcher(segments, segmentGroup, route);\n  if (!res) return {\n    ...noMatch\n  };\n  const posParams = {};\n  Object.entries(res.posParams ?? {}).forEach(([k, v]) => {\n    posParams[k] = v.path;\n  });\n  const parameters = res.consumed.length > 0 ? {\n    ...posParams,\n    ...res.consumed[res.consumed.length - 1].parameters\n  } : posParams;\n  return {\n    matched: true,\n    consumedSegments: res.consumed,\n    remainingSegments: segments.slice(res.consumed.length),\n    // TODO(atscott): investigate combining parameters and positionalParamSegments\n    parameters,\n    positionalParamSegments: res.posParams ?? {}\n  };\n}\nfunction createWildcardMatchResult(segments) {\n  return {\n    matched: true,\n    parameters: segments.length > 0 ? last(segments).parameters : {},\n    consumedSegments: segments,\n    remainingSegments: [],\n    positionalParamSegments: {}\n  };\n}\nfunction split(segmentGroup, consumedSegments, slicedSegments, config) {\n  if (slicedSegments.length > 0 && containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(consumedSegments, createChildrenForEmptyPaths(config, new UrlSegmentGroup(slicedSegments, segmentGroup.children)));\n    return {\n      segmentGroup: s,\n      slicedSegments: []\n    };\n  }\n  if (slicedSegments.length === 0 && containsEmptyPathMatches(segmentGroup, slicedSegments, config)) {\n    const s = new UrlSegmentGroup(segmentGroup.segments, addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, config, segmentGroup.children));\n    return {\n      segmentGroup: s,\n      slicedSegments\n    };\n  }\n  const s = new UrlSegmentGroup(segmentGroup.segments, segmentGroup.children);\n  return {\n    segmentGroup: s,\n    slicedSegments\n  };\n}\nfunction addEmptyPathsToChildrenIfNeeded(segmentGroup, slicedSegments, routes, children) {\n  const res = {};\n  for (const r of routes) {\n    if (emptyPathMatch(segmentGroup, slicedSegments, r) && !children[getOutlet(r)]) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return {\n    ...children,\n    ...res\n  };\n}\nfunction createChildrenForEmptyPaths(routes, primarySegment) {\n  const res = {};\n  res[PRIMARY_OUTLET] = primarySegment;\n  for (const r of routes) {\n    if (r.path === '' && getOutlet(r) !== PRIMARY_OUTLET) {\n      const s = new UrlSegmentGroup([], {});\n      res[getOutlet(r)] = s;\n    }\n  }\n  return res;\n}\nfunction containsEmptyPathMatchesWithNamedOutlets(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r) && getOutlet(r) !== PRIMARY_OUTLET);\n}\nfunction containsEmptyPathMatches(segmentGroup, slicedSegments, routes) {\n  return routes.some(r => emptyPathMatch(segmentGroup, slicedSegments, r));\n}\nfunction emptyPathMatch(segmentGroup, slicedSegments, r) {\n  if ((segmentGroup.hasChildren() || slicedSegments.length > 0) && r.pathMatch === 'full') {\n    return false;\n  }\n  return r.path === '';\n}\n/**\n * Determines if `route` is a path match for the `rawSegment`, `segments`, and `outlet` without\n * verifying that its children are a full match for the remainder of the `rawSegment` children as\n * well.\n */\nfunction isImmediateMatch(route, rawSegment, segments, outlet) {\n  // We allow matches to empty paths when the outlets differ so we can match a url like `/(b:b)` to\n  // a config like\n  // * `{path: '', children: [{path: 'b', outlet: 'b'}]}`\n  // or even\n  // * `{path: '', outlet: 'a', children: [{path: 'b', outlet: 'b'}]`\n  //\n  // The exception here is when the segment outlet is for the primary outlet. This would\n  // result in a match inside the named outlet because all children there are written as primary\n  // outlets. So we need to prevent child named outlet matches in a url like `/b` in a config like\n  // * `{path: '', outlet: 'x' children: [{path: 'b'}]}`\n  // This should only match if the url is `/(x:b)`.\n  if (getOutlet(route) !== outlet && (outlet === PRIMARY_OUTLET || !emptyPathMatch(rawSegment, segments, route))) {\n    return false;\n  }\n  return match(rawSegment, route, segments).matched;\n}\nfunction noLeftoversInUrl(segmentGroup, segments, outlet) {\n  return segments.length === 0 && !segmentGroup.children[outlet];\n}\n\n/**\n * Class used to indicate there were no additional route config matches but that all segments of\n * the URL were consumed during matching so the route was URL matched. When this happens, we still\n * try to match child configs in case there are empty path children.\n */\nclass NoLeftoversInUrl {}\nfunction recognize$1(injector, configLoader, rootComponentType, config, urlTree, urlSerializer, paramsInheritanceStrategy = 'emptyOnly') {\n  return new Recognizer(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer).recognize();\n}\nconst MAX_ALLOWED_REDIRECTS = 31;\nclass Recognizer {\n  constructor(injector, configLoader, rootComponentType, config, urlTree, paramsInheritanceStrategy, urlSerializer) {\n    this.injector = injector;\n    this.configLoader = configLoader;\n    this.rootComponentType = rootComponentType;\n    this.config = config;\n    this.urlTree = urlTree;\n    this.paramsInheritanceStrategy = paramsInheritanceStrategy;\n    this.urlSerializer = urlSerializer;\n    this.applyRedirects = new ApplyRedirects(this.urlSerializer, this.urlTree);\n    this.absoluteRedirectCount = 0;\n    this.allowRedirects = true;\n  }\n  noMatchError(e) {\n    return new ɵRuntimeError(4002 /* RuntimeErrorCode.NO_MATCH */, typeof ngDevMode === 'undefined' || ngDevMode ? `Cannot match any routes. URL Segment: '${e.segmentGroup}'` : `'${e.segmentGroup}'`);\n  }\n  recognize() {\n    const rootSegmentGroup = split(this.urlTree.root, [], [], this.config).segmentGroup;\n    return this.match(rootSegmentGroup).pipe(map(({\n      children,\n      rootSnapshot\n    }) => {\n      const rootNode = new TreeNode(rootSnapshot, children);\n      const routeState = new RouterStateSnapshot('', rootNode);\n      const tree = createUrlTreeFromSnapshot(rootSnapshot, [], this.urlTree.queryParams, this.urlTree.fragment);\n      // https://github.com/angular/angular/issues/47307\n      // Creating the tree stringifies the query params\n      // We don't want to do this here so reassign them to the original.\n      tree.queryParams = this.urlTree.queryParams;\n      routeState.url = this.urlSerializer.serialize(tree);\n      return {\n        state: routeState,\n        tree\n      };\n    }));\n  }\n  match(rootSegmentGroup) {\n    // Use Object.freeze to prevent readers of the Router state from modifying it outside\n    // of a navigation, resulting in the router being out of sync with the browser.\n    const rootSnapshot = new ActivatedRouteSnapshot([], Object.freeze({}), Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, Object.freeze({}), PRIMARY_OUTLET, this.rootComponentType, null, {});\n    return this.processSegmentGroup(this.injector, this.config, rootSegmentGroup, PRIMARY_OUTLET, rootSnapshot).pipe(map(children => {\n      return {\n        children,\n        rootSnapshot\n      };\n    }), catchError(e => {\n      if (e instanceof AbsoluteRedirect) {\n        this.urlTree = e.urlTree;\n        return this.match(e.urlTree.root);\n      }\n      if (e instanceof NoMatch) {\n        throw this.noMatchError(e);\n      }\n      throw e;\n    }));\n  }\n  processSegmentGroup(injector, config, segmentGroup, outlet, parentRoute) {\n    if (segmentGroup.segments.length === 0 && segmentGroup.hasChildren()) {\n      return this.processChildren(injector, config, segmentGroup, parentRoute);\n    }\n    return this.processSegment(injector, config, segmentGroup, segmentGroup.segments, outlet, true, parentRoute).pipe(map(child => child instanceof TreeNode ? [child] : []));\n  }\n  /**\n   * Matches every child outlet in the `segmentGroup` to a `Route` in the config. Returns `null` if\n   * we cannot find a match for _any_ of the children.\n   *\n   * @param config - The `Routes` to match against\n   * @param segmentGroup - The `UrlSegmentGroup` whose children need to be matched against the\n   *     config.\n   */\n  processChildren(injector, config, segmentGroup, parentRoute) {\n    // Expand outlets one at a time, starting with the primary outlet. We need to do it this way\n    // because an absolute redirect from the primary outlet takes precedence.\n    const childOutlets = [];\n    for (const child of Object.keys(segmentGroup.children)) {\n      if (child === 'primary') {\n        childOutlets.unshift(child);\n      } else {\n        childOutlets.push(child);\n      }\n    }\n    return from(childOutlets).pipe(concatMap(childOutlet => {\n      const child = segmentGroup.children[childOutlet];\n      // Sort the config so that routes with outlets that match the one being activated\n      // appear first, followed by routes for other outlets, which might match if they have\n      // an empty path.\n      const sortedConfig = sortByMatchingOutlets(config, childOutlet);\n      return this.processSegmentGroup(injector, sortedConfig, child, childOutlet, parentRoute);\n    }), scan((children, outletChildren) => {\n      children.push(...outletChildren);\n      return children;\n    }), defaultIfEmpty(null), last$1(), mergeMap(children => {\n      if (children === null) return noMatch$1(segmentGroup);\n      // Because we may have matched two outlets to the same empty path segment, we can have\n      // multiple activated results for the same outlet. We should merge the children of\n      // these results so the final return value is only one `TreeNode` per outlet.\n      const mergedChildren = mergeEmptyPathMatches(children);\n      if (typeof ngDevMode === 'undefined' || ngDevMode) {\n        // This should really never happen - we are only taking the first match for each\n        // outlet and merge the empty path matches.\n        checkOutletNameUniqueness(mergedChildren);\n      }\n      sortActivatedRouteSnapshots(mergedChildren);\n      return of(mergedChildren);\n    }));\n  }\n  processSegment(injector, routes, segmentGroup, segments, outlet, allowRedirects, parentRoute) {\n    return from(routes).pipe(concatMap(r => {\n      return this.processSegmentAgainstRoute(r._injector ?? injector, routes, r, segmentGroup, segments, outlet, allowRedirects, parentRoute).pipe(catchError(e => {\n        if (e instanceof NoMatch) {\n          return of(null);\n        }\n        throw e;\n      }));\n    }), first(x => !!x), catchError(e => {\n      if (isEmptyError(e)) {\n        if (noLeftoversInUrl(segmentGroup, segments, outlet)) {\n          return of(new NoLeftoversInUrl());\n        }\n        return noMatch$1(segmentGroup);\n      }\n      throw e;\n    }));\n  }\n  processSegmentAgainstRoute(injector, routes, route, rawSegment, segments, outlet, allowRedirects, parentRoute) {\n    if (!isImmediateMatch(route, rawSegment, segments, outlet)) return noMatch$1(rawSegment);\n    if (route.redirectTo === undefined) {\n      return this.matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute);\n    }\n    if (this.allowRedirects && allowRedirects) {\n      return this.expandSegmentAgainstRouteUsingRedirect(injector, rawSegment, routes, route, segments, outlet, parentRoute);\n    }\n    return noMatch$1(rawSegment);\n  }\n  expandSegmentAgainstRouteUsingRedirect(injector, segmentGroup, routes, route, segments, outlet, parentRoute) {\n    const {\n      matched,\n      parameters,\n      consumedSegments,\n      positionalParamSegments,\n      remainingSegments\n    } = match(segmentGroup, route, segments);\n    if (!matched) return noMatch$1(segmentGroup);\n    // TODO(atscott): Move all of this under an if(ngDevMode) as a breaking change and allow stack\n    // size exceeded in production\n    if (typeof route.redirectTo === 'string' && route.redirectTo[0] === '/') {\n      this.absoluteRedirectCount++;\n      if (this.absoluteRedirectCount > MAX_ALLOWED_REDIRECTS) {\n        if (ngDevMode) {\n          throw new ɵRuntimeError(4016 /* RuntimeErrorCode.INFINITE_REDIRECT */, `Detected possible infinite redirect when redirecting from '${this.urlTree}' to '${route.redirectTo}'.\\n` + `This is currently a dev mode only error but will become a` + ` call stack size exceeded error in production in a future major version.`);\n        }\n        this.allowRedirects = false;\n      }\n    }\n    const currentSnapshot = new ActivatedRouteSnapshot(segments, parameters, Object.freeze({\n      ...this.urlTree.queryParams\n    }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n    const inherited = getInherited(currentSnapshot, parentRoute, this.paramsInheritanceStrategy);\n    currentSnapshot.params = Object.freeze(inherited.params);\n    currentSnapshot.data = Object.freeze(inherited.data);\n    const newTree = this.applyRedirects.applyRedirectCommands(consumedSegments, route.redirectTo, positionalParamSegments, currentSnapshot, injector);\n    return this.applyRedirects.lineralizeSegments(route, newTree).pipe(mergeMap(newSegments => {\n      return this.processSegment(injector, routes, segmentGroup, newSegments.concat(remainingSegments), outlet, false, parentRoute);\n    }));\n  }\n  matchSegmentAgainstRoute(injector, rawSegment, route, segments, outlet, parentRoute) {\n    const matchResult = matchWithChecks(rawSegment, route, segments, injector, this.urlSerializer);\n    if (route.path === '**') {\n      // Prior versions of the route matching algorithm would stop matching at the wildcard route.\n      // We should investigate a better strategy for any existing children. Otherwise, these\n      // child segments are silently dropped from the navigation.\n      // https://github.com/angular/angular/issues/40089\n      rawSegment.children = {};\n    }\n    return matchResult.pipe(switchMap(result => {\n      if (!result.matched) {\n        return noMatch$1(rawSegment);\n      }\n      // If the route has an injector created from providers, we should start using that.\n      injector = route._injector ?? injector;\n      return this.getChildConfig(injector, route, segments).pipe(switchMap(({\n        routes: childConfig\n      }) => {\n        const childInjector = route._loadedInjector ?? injector;\n        const {\n          parameters,\n          consumedSegments,\n          remainingSegments\n        } = result;\n        const snapshot = new ActivatedRouteSnapshot(consumedSegments, parameters, Object.freeze({\n          ...this.urlTree.queryParams\n        }), this.urlTree.fragment, getData(route), getOutlet(route), route.component ?? route._loadedComponent ?? null, route, getResolve(route));\n        const inherited = getInherited(snapshot, parentRoute, this.paramsInheritanceStrategy);\n        snapshot.params = Object.freeze(inherited.params);\n        snapshot.data = Object.freeze(inherited.data);\n        const {\n          segmentGroup,\n          slicedSegments\n        } = split(rawSegment, consumedSegments, remainingSegments, childConfig);\n        if (slicedSegments.length === 0 && segmentGroup.hasChildren()) {\n          return this.processChildren(childInjector, childConfig, segmentGroup, snapshot).pipe(map(children => {\n            return new TreeNode(snapshot, children);\n          }));\n        }\n        if (childConfig.length === 0 && slicedSegments.length === 0) {\n          return of(new TreeNode(snapshot, []));\n        }\n        const matchedOnOutlet = getOutlet(route) === outlet;\n        // If we matched a config due to empty path match on a different outlet, we need to\n        // continue passing the current outlet for the segment rather than switch to PRIMARY.\n        // Note that we switch to primary when we have a match because outlet configs look like\n        // this: {path: 'a', outlet: 'a', children: [\n        //  {path: 'b', component: B},\n        //  {path: 'c', component: C},\n        // ]}\n        // Notice that the children of the named outlet are configured with the primary outlet\n        return this.processSegment(childInjector, childConfig, segmentGroup, slicedSegments, matchedOnOutlet ? PRIMARY_OUTLET : outlet, true, snapshot).pipe(map(child => {\n          return new TreeNode(snapshot, child instanceof TreeNode ? [child] : []);\n        }));\n      }));\n    }));\n  }\n  getChildConfig(injector, route, segments) {\n    if (route.children) {\n      // The children belong to the same module\n      return of({\n        routes: route.children,\n        injector\n      });\n    }\n    if (route.loadChildren) {\n      // lazy children belong to the loaded module\n      if (route._loadedRoutes !== undefined) {\n        return of({\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        });\n      }\n      return runCanLoadGuards(injector, route, segments, this.urlSerializer).pipe(mergeMap(shouldLoadResult => {\n        if (shouldLoadResult) {\n          return this.configLoader.loadChildren(injector, route).pipe(tap(cfg => {\n            route._loadedRoutes = cfg.routes;\n            route._loadedInjector = cfg.injector;\n          }));\n        }\n        return canLoadFails(route);\n      }));\n    }\n    return of({\n      routes: [],\n      injector\n    });\n  }\n}\nfunction sortActivatedRouteSnapshots(nodes) {\n  nodes.sort((a, b) => {\n    if (a.value.outlet === PRIMARY_OUTLET) return -1;\n    if (b.value.outlet === PRIMARY_OUTLET) return 1;\n    return a.value.outlet.localeCompare(b.value.outlet);\n  });\n}\nfunction hasEmptyPathConfig(node) {\n  const config = node.value.routeConfig;\n  return config && config.path === '';\n}\n/**\n * Finds `TreeNode`s with matching empty path route configs and merges them into `TreeNode` with\n * the children from each duplicate. This is necessary because different outlets can match a\n * single empty path route config and the results need to then be merged.\n */\nfunction mergeEmptyPathMatches(nodes) {\n  const result = [];\n  // The set of nodes which contain children that were merged from two duplicate empty path nodes.\n  const mergedNodes = new Set();\n  for (const node of nodes) {\n    if (!hasEmptyPathConfig(node)) {\n      result.push(node);\n      continue;\n    }\n    const duplicateEmptyPathNode = result.find(resultNode => node.value.routeConfig === resultNode.value.routeConfig);\n    if (duplicateEmptyPathNode !== undefined) {\n      duplicateEmptyPathNode.children.push(...node.children);\n      mergedNodes.add(duplicateEmptyPathNode);\n    } else {\n      result.push(node);\n    }\n  }\n  // For each node which has children from multiple sources, we need to recompute a new `TreeNode`\n  // by also merging those children. This is necessary when there are multiple empty path configs\n  // in a row. Put another way: whenever we combine children of two nodes, we need to also check\n  // if any of those children can be combined into a single node as well.\n  for (const mergedNode of mergedNodes) {\n    const mergedChildren = mergeEmptyPathMatches(mergedNode.children);\n    result.push(new TreeNode(mergedNode.value, mergedChildren));\n  }\n  return result.filter(n => !mergedNodes.has(n));\n}\nfunction checkOutletNameUniqueness(nodes) {\n  const names = {};\n  nodes.forEach(n => {\n    const routeWithSameOutletName = names[n.value.outlet];\n    if (routeWithSameOutletName) {\n      const p = routeWithSameOutletName.url.map(s => s.toString()).join('/');\n      const c = n.value.url.map(s => s.toString()).join('/');\n      throw new ɵRuntimeError(4006 /* RuntimeErrorCode.TWO_SEGMENTS_WITH_SAME_OUTLET */, (typeof ngDevMode === 'undefined' || ngDevMode) && `Two segments cannot have the same outlet name: '${p}' and '${c}'.`);\n    }\n    names[n.value.outlet] = n.value;\n  });\n}\nfunction getData(route) {\n  return route.data || {};\n}\nfunction getResolve(route) {\n  return route.resolve || {};\n}\nfunction recognize(injector, configLoader, rootComponentType, config, serializer, paramsInheritanceStrategy) {\n  return mergeMap(t => recognize$1(injector, configLoader, rootComponentType, config, t.extractedUrl, serializer, paramsInheritanceStrategy).pipe(map(({\n    state: targetSnapshot,\n    tree: urlAfterRedirects\n  }) => {\n    return {\n      ...t,\n      targetSnapshot,\n      urlAfterRedirects\n    };\n  })));\n}\nfunction resolveData(paramsInheritanceStrategy, injector) {\n  return mergeMap(t => {\n    const {\n      targetSnapshot,\n      guards: {\n        canActivateChecks\n      }\n    } = t;\n    if (!canActivateChecks.length) {\n      return of(t);\n    }\n    // Iterating a Set in javascript  happens in insertion order so it is safe to use a `Set` to\n    // preserve the correct order that the resolvers should run in.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set#description\n    const routesWithResolversToRun = new Set(canActivateChecks.map(check => check.route));\n    const routesNeedingDataUpdates = new Set();\n    for (const route of routesWithResolversToRun) {\n      if (routesNeedingDataUpdates.has(route)) {\n        continue;\n      }\n      // All children under the route with a resolver to run need to recompute inherited data.\n      for (const newRoute of flattenRouteTree(route)) {\n        routesNeedingDataUpdates.add(newRoute);\n      }\n    }\n    let routesProcessed = 0;\n    return from(routesNeedingDataUpdates).pipe(concatMap(route => {\n      if (routesWithResolversToRun.has(route)) {\n        return runResolve(route, targetSnapshot, paramsInheritanceStrategy, injector);\n      } else {\n        route.data = getInherited(route, route.parent, paramsInheritanceStrategy).resolve;\n        return of(void 0);\n      }\n    }), tap(() => routesProcessed++), takeLast(1), mergeMap(_ => routesProcessed === routesNeedingDataUpdates.size ? of(t) : EMPTY));\n  });\n}\n/**\n *  Returns the `ActivatedRouteSnapshot` tree as an array, using DFS to traverse the route tree.\n */\nfunction flattenRouteTree(route) {\n  const descendants = route.children.map(child => flattenRouteTree(child)).flat();\n  return [route, ...descendants];\n}\nfunction runResolve(futureARS, futureRSS, paramsInheritanceStrategy, injector) {\n  const config = futureARS.routeConfig;\n  const resolve = futureARS._resolve;\n  if (config?.title !== undefined && !hasStaticTitle(config)) {\n    resolve[RouteTitleKey] = config.title;\n  }\n  return resolveNode(resolve, futureARS, futureRSS, injector).pipe(map(resolvedData => {\n    futureARS._resolvedData = resolvedData;\n    futureARS.data = getInherited(futureARS, futureARS.parent, paramsInheritanceStrategy).resolve;\n    return null;\n  }));\n}\nfunction resolveNode(resolve, futureARS, futureRSS, injector) {\n  const keys = getDataKeys(resolve);\n  if (keys.length === 0) {\n    return of({});\n  }\n  const data = {};\n  return from(keys).pipe(mergeMap(key => getResolver(resolve[key], futureARS, futureRSS, injector).pipe(first(), tap(value => {\n    if (value instanceof RedirectCommand) {\n      throw redirectingNavigationError(new DefaultUrlSerializer(), value);\n    }\n    data[key] = value;\n  }))), takeLast(1), mapTo(data), catchError(e => isEmptyError(e) ? EMPTY : throwError(e)));\n}\nfunction getResolver(injectionToken, futureARS, futureRSS, injector) {\n  const closestInjector = getClosestRouteInjector(futureARS) ?? injector;\n  const resolver = getTokenOrFunctionIdentity(injectionToken, closestInjector);\n  const resolverValue = resolver.resolve ? resolver.resolve(futureARS, futureRSS) : runInInjectionContext(closestInjector, () => resolver(futureARS, futureRSS));\n  return wrapIntoObservable(resolverValue);\n}\n\n/**\n * Perform a side effect through a switchMap for every emission on the source Observable,\n * but return an Observable that is identical to the source. It's essentially the same as\n * the `tap` operator, but if the side effectful `next` function returns an ObservableInput,\n * it will wait before continuing with the original value.\n */\nfunction switchTap(next) {\n  return switchMap(v => {\n    const nextResult = next(v);\n    if (nextResult) {\n      return from(nextResult).pipe(map(() => v));\n    }\n    return of(v);\n  });\n}\n\n/**\n * Provides a strategy for setting the page title after a router navigation.\n *\n * The built-in implementation traverses the router state snapshot and finds the deepest primary\n * outlet with `title` property. Given the `Routes` below, navigating to\n * `/base/child(popup:aux)` would result in the document title being set to \"child\".\n * ```\n * [\n *   {path: 'base', title: 'base', children: [\n *     {path: 'child', title: 'child'},\n *   ],\n *   {path: 'aux', outlet: 'popup', title: 'popupTitle'}\n * ]\n * ```\n *\n * This class can be used as a base class for custom title strategies. That is, you can create your\n * own class that extends the `TitleStrategy`. Note that in the above example, the `title`\n * from the named outlet is never used. However, a custom strategy might be implemented to\n * incorporate titles in named outlets.\n *\n * @publicApi\n * @see [Page title guide](guide/routing/common-router-tasks#setting-the-page-title)\n */\nlet TitleStrategy = /*#__PURE__*/(() => {\n  class TitleStrategy {\n    /**\n     * @returns The `title` of the deepest primary route.\n     */\n    buildTitle(snapshot) {\n      let pageTitle;\n      let route = snapshot.root;\n      while (route !== undefined) {\n        pageTitle = this.getResolvedTitleForRoute(route) ?? pageTitle;\n        route = route.children.find(child => child.outlet === PRIMARY_OUTLET);\n      }\n      return pageTitle;\n    }\n    /**\n     * Given an `ActivatedRouteSnapshot`, returns the final value of the\n     * `Route.title` property, which can either be a static string or a resolved value.\n     */\n    getResolvedTitleForRoute(snapshot) {\n      return snapshot.data[RouteTitleKey];\n    }\n    static {\n      this.ɵfac = function TitleStrategy_Factory(t) {\n        return new (t || TitleStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: TitleStrategy,\n        factory: () => (() => inject(DefaultTitleStrategy))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return TitleStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * The default `TitleStrategy` used by the router that updates the title using the `Title` service.\n */\nlet DefaultTitleStrategy = /*#__PURE__*/(() => {\n  class DefaultTitleStrategy extends TitleStrategy {\n    constructor(title) {\n      super();\n      this.title = title;\n    }\n    /**\n     * Sets the title of the browser to the given value.\n     *\n     * @param title The `pageTitle` from the deepest primary route.\n     */\n    updateTitle(snapshot) {\n      const title = this.buildTitle(snapshot);\n      if (title !== undefined) {\n        this.title.setTitle(title);\n      }\n    }\n    static {\n      this.ɵfac = function DefaultTitleStrategy_Factory(t) {\n        return new (t || DefaultTitleStrategy)(i0.ɵɵinject(i1.Title));\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: DefaultTitleStrategy,\n        factory: DefaultTitleStrategy.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DefaultTitleStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * A DI token for the router service.\n *\n * @publicApi\n */\nconst ROUTER_CONFIGURATION = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router config' : '', {\n  providedIn: 'root',\n  factory: () => ({})\n});\n\n/**\n * The DI token for a router configuration.\n *\n * `ROUTES` is a low level API for router configuration via dependency injection.\n *\n * We recommend that in almost all cases to use higher level APIs such as `RouterModule.forRoot()`,\n * `provideRouter`, or `Router.resetConfig()`.\n *\n * @publicApi\n */\nconst ROUTES = /*#__PURE__*/new InjectionToken(ngDevMode ? 'ROUTES' : '');\nlet RouterConfigLoader = /*#__PURE__*/(() => {\n  class RouterConfigLoader {\n    constructor() {\n      this.componentLoaders = new WeakMap();\n      this.childrenLoaders = new WeakMap();\n      this.compiler = inject(Compiler);\n    }\n    loadComponent(route) {\n      if (this.componentLoaders.get(route)) {\n        return this.componentLoaders.get(route);\n      } else if (route._loadedComponent) {\n        return of(route._loadedComponent);\n      }\n      if (this.onLoadStartListener) {\n        this.onLoadStartListener(route);\n      }\n      const loadRunner = wrapIntoObservable(route.loadComponent()).pipe(map(maybeUnwrapDefaultExport), tap(component => {\n        if (this.onLoadEndListener) {\n          this.onLoadEndListener(route);\n        }\n        (typeof ngDevMode === 'undefined' || ngDevMode) && assertStandalone(route.path ?? '', component);\n        route._loadedComponent = component;\n      }), finalize(() => {\n        this.componentLoaders.delete(route);\n      }));\n      // Use custom ConnectableObservable as share in runners pipe increasing the bundle size too much\n      const loader = new ConnectableObservable(loadRunner, () => new Subject()).pipe(refCount());\n      this.componentLoaders.set(route, loader);\n      return loader;\n    }\n    loadChildren(parentInjector, route) {\n      if (this.childrenLoaders.get(route)) {\n        return this.childrenLoaders.get(route);\n      } else if (route._loadedRoutes) {\n        return of({\n          routes: route._loadedRoutes,\n          injector: route._loadedInjector\n        });\n      }\n      if (this.onLoadStartListener) {\n        this.onLoadStartListener(route);\n      }\n      const moduleFactoryOrRoutes$ = loadChildren(route, this.compiler, parentInjector, this.onLoadEndListener);\n      const loadRunner = moduleFactoryOrRoutes$.pipe(finalize(() => {\n        this.childrenLoaders.delete(route);\n      }));\n      // Use custom ConnectableObservable as share in runners pipe increasing the bundle size too much\n      const loader = new ConnectableObservable(loadRunner, () => new Subject()).pipe(refCount());\n      this.childrenLoaders.set(route, loader);\n      return loader;\n    }\n    static {\n      this.ɵfac = function RouterConfigLoader_Factory(t) {\n        return new (t || RouterConfigLoader)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouterConfigLoader,\n        factory: RouterConfigLoader.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return RouterConfigLoader;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Executes a `route.loadChildren` callback and converts the result to an array of child routes and\n * an injector if that callback returned a module.\n *\n * This function is used for the route discovery during prerendering\n * in @angular-devkit/build-angular. If there are any updates to the contract here, it will require\n * an update to the extractor.\n */\nfunction loadChildren(route, compiler, parentInjector, onLoadEndListener) {\n  return wrapIntoObservable(route.loadChildren()).pipe(map(maybeUnwrapDefaultExport), mergeMap(t => {\n    if (t instanceof NgModuleFactory || Array.isArray(t)) {\n      return of(t);\n    } else {\n      return from(compiler.compileModuleAsync(t));\n    }\n  }), map(factoryOrRoutes => {\n    if (onLoadEndListener) {\n      onLoadEndListener(route);\n    }\n    // This injector comes from the `NgModuleRef` when lazy loading an `NgModule`. There is\n    // no injector associated with lazy loading a `Route` array.\n    let injector;\n    let rawRoutes;\n    let requireStandaloneComponents = false;\n    if (Array.isArray(factoryOrRoutes)) {\n      rawRoutes = factoryOrRoutes;\n      requireStandaloneComponents = true;\n    } else {\n      injector = factoryOrRoutes.create(parentInjector).injector;\n      // When loading a module that doesn't provide `RouterModule.forChild()` preloader\n      // will get stuck in an infinite loop. The child module's Injector will look to\n      // its parent `Injector` when it doesn't find any ROUTES so it will return routes\n      // for it's parent module instead.\n      rawRoutes = injector.get(ROUTES, [], {\n        optional: true,\n        self: true\n      }).flat();\n    }\n    const routes = rawRoutes.map(standardizeConfig);\n    (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(routes, route.path, requireStandaloneComponents);\n    return {\n      routes,\n      injector\n    };\n  }));\n}\nfunction isWrappedDefaultExport(value) {\n  // We use `in` here with a string key `'default'`, because we expect `DefaultExport` objects to be\n  // dynamically imported ES modules with a spec-mandated `default` key. Thus we don't expect that\n  // `default` will be a renamed property.\n  return value && typeof value === 'object' && 'default' in value;\n}\nfunction maybeUnwrapDefaultExport(input) {\n  // As per `isWrappedDefaultExport`, the `default` key here is generated by the browser and not\n  // subject to property renaming, so we reference it with bracket access.\n  return isWrappedDefaultExport(input) ? input['default'] : input;\n}\n\n/**\n * @description\n *\n * Provides a way to migrate AngularJS applications to Angular.\n *\n * @publicApi\n */\nlet UrlHandlingStrategy = /*#__PURE__*/(() => {\n  class UrlHandlingStrategy {\n    static {\n      this.ɵfac = function UrlHandlingStrategy_Factory(t) {\n        return new (t || UrlHandlingStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: UrlHandlingStrategy,\n        factory: () => (() => inject(DefaultUrlHandlingStrategy))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return UrlHandlingStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @publicApi\n */\nlet DefaultUrlHandlingStrategy = /*#__PURE__*/(() => {\n  class DefaultUrlHandlingStrategy {\n    shouldProcessUrl(url) {\n      return true;\n    }\n    extract(url) {\n      return url;\n    }\n    merge(newUrlPart, wholeUrl) {\n      return newUrlPart;\n    }\n    static {\n      this.ɵfac = function DefaultUrlHandlingStrategy_Factory(t) {\n        return new (t || DefaultUrlHandlingStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: DefaultUrlHandlingStrategy,\n        factory: DefaultUrlHandlingStrategy.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DefaultUrlHandlingStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/// <reference types=\"dom-view-transitions\" />\nconst CREATE_VIEW_TRANSITION = /*#__PURE__*/new InjectionToken(ngDevMode ? 'view transition helper' : '');\nconst VIEW_TRANSITION_OPTIONS = /*#__PURE__*/new InjectionToken(ngDevMode ? 'view transition options' : '');\n/**\n * A helper function for using browser view transitions. This function skips the call to\n * `startViewTransition` if the browser does not support it.\n *\n * @returns A Promise that resolves when the view transition callback begins.\n */\nfunction createViewTransition(injector, from, to) {\n  const transitionOptions = injector.get(VIEW_TRANSITION_OPTIONS);\n  const document = injector.get(DOCUMENT);\n  // Create promises outside the Angular zone to avoid causing extra change detections\n  return injector.get(NgZone).runOutsideAngular(() => {\n    if (!document.startViewTransition || transitionOptions.skipNextTransition) {\n      transitionOptions.skipNextTransition = false;\n      // The timing of `startViewTransition` is closer to a macrotask. It won't be called\n      // until the current event loop exits so we use a promise resolved in a timeout instead\n      // of Promise.resolve().\n      return new Promise(resolve => setTimeout(resolve));\n    }\n    let resolveViewTransitionStarted;\n    const viewTransitionStarted = new Promise(resolve => {\n      resolveViewTransitionStarted = resolve;\n    });\n    const transition = document.startViewTransition(() => {\n      resolveViewTransitionStarted();\n      // We don't actually update dom within the transition callback. The resolving of the above\n      // promise unblocks the Router navigation, which synchronously activates and deactivates\n      // routes (the DOM update). This view transition waits for the next change detection to\n      // complete (below), which includes the update phase of the routed components.\n      return createRenderPromise(injector);\n    });\n    const {\n      onViewTransitionCreated\n    } = transitionOptions;\n    if (onViewTransitionCreated) {\n      runInInjectionContext(injector, () => onViewTransitionCreated({\n        transition,\n        from,\n        to\n      }));\n    }\n    return viewTransitionStarted;\n  });\n}\n/**\n * Creates a promise that resolves after next render.\n */\nfunction createRenderPromise(injector) {\n  return new Promise(resolve => {\n    afterNextRender(resolve, {\n      injector\n    });\n  });\n}\nconst NAVIGATION_ERROR_HANDLER = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'navigation error handler' : '');\nlet NavigationTransitions = /*#__PURE__*/(() => {\n  class NavigationTransitions {\n    get hasRequestedNavigation() {\n      return this.navigationId !== 0;\n    }\n    constructor() {\n      this.currentNavigation = null;\n      this.currentTransition = null;\n      this.lastSuccessfulNavigation = null;\n      /**\n       * These events are used to communicate back to the Router about the state of the transition. The\n       * Router wants to respond to these events in various ways. Because the `NavigationTransition`\n       * class is not public, this event subject is not publicly exposed.\n       */\n      this.events = new Subject();\n      /**\n       * Used to abort the current transition with an error.\n       */\n      this.transitionAbortSubject = new Subject();\n      this.configLoader = inject(RouterConfigLoader);\n      this.environmentInjector = inject(EnvironmentInjector);\n      this.urlSerializer = inject(UrlSerializer);\n      this.rootContexts = inject(ChildrenOutletContexts);\n      this.location = inject(Location);\n      this.inputBindingEnabled = inject(INPUT_BINDER, {\n        optional: true\n      }) !== null;\n      this.titleStrategy = inject(TitleStrategy);\n      this.options = inject(ROUTER_CONFIGURATION, {\n        optional: true\n      }) || {};\n      this.paramsInheritanceStrategy = this.options.paramsInheritanceStrategy || 'emptyOnly';\n      this.urlHandlingStrategy = inject(UrlHandlingStrategy);\n      this.createViewTransition = inject(CREATE_VIEW_TRANSITION, {\n        optional: true\n      });\n      this.navigationErrorHandler = inject(NAVIGATION_ERROR_HANDLER, {\n        optional: true\n      });\n      this.navigationId = 0;\n      /**\n       * Hook that enables you to pause navigation after the preactivation phase.\n       * Used by `RouterModule`.\n       *\n       * @internal\n       */\n      this.afterPreactivation = () => of(void 0);\n      /** @internal */\n      this.rootComponentType = null;\n      const onLoadStart = r => this.events.next(new RouteConfigLoadStart(r));\n      const onLoadEnd = r => this.events.next(new RouteConfigLoadEnd(r));\n      this.configLoader.onLoadEndListener = onLoadEnd;\n      this.configLoader.onLoadStartListener = onLoadStart;\n    }\n    complete() {\n      this.transitions?.complete();\n    }\n    handleNavigationRequest(request) {\n      const id = ++this.navigationId;\n      this.transitions?.next({\n        ...this.transitions.value,\n        ...request,\n        id\n      });\n    }\n    setupNavigations(router, initialUrlTree, initialRouterState) {\n      this.transitions = new BehaviorSubject({\n        id: 0,\n        currentUrlTree: initialUrlTree,\n        currentRawUrl: initialUrlTree,\n        extractedUrl: this.urlHandlingStrategy.extract(initialUrlTree),\n        urlAfterRedirects: this.urlHandlingStrategy.extract(initialUrlTree),\n        rawUrl: initialUrlTree,\n        extras: {},\n        resolve: () => {},\n        reject: () => {},\n        promise: Promise.resolve(true),\n        source: IMPERATIVE_NAVIGATION,\n        restoredState: null,\n        currentSnapshot: initialRouterState.snapshot,\n        targetSnapshot: null,\n        currentRouterState: initialRouterState,\n        targetRouterState: null,\n        guards: {\n          canActivateChecks: [],\n          canDeactivateChecks: []\n        },\n        guardsResult: null\n      });\n      return this.transitions.pipe(filter(t => t.id !== 0),\n      // Extract URL\n      map(t => ({\n        ...t,\n        extractedUrl: this.urlHandlingStrategy.extract(t.rawUrl)\n      })),\n      // Using switchMap so we cancel executing navigations when a new one comes in\n      switchMap(overallTransitionState => {\n        let completed = false;\n        let errored = false;\n        return of(overallTransitionState).pipe(switchMap(t => {\n          // It is possible that `switchMap` fails to cancel previous navigations if a new one happens synchronously while the operator\n          // is processing the `next` notification of that previous navigation. This can happen when a new navigation (say 2) cancels a\n          // previous one (1) and yet another navigation (3) happens synchronously in response to the `NavigationCancel` event for (1).\n          // https://github.com/ReactiveX/rxjs/issues/7455\n          if (this.navigationId > overallTransitionState.id) {\n            const cancellationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n            this.cancelNavigationTransition(overallTransitionState, cancellationReason, NavigationCancellationCode.SupersededByNewNavigation);\n            return EMPTY;\n          }\n          this.currentTransition = overallTransitionState;\n          // Store the Navigation object\n          this.currentNavigation = {\n            id: t.id,\n            initialUrl: t.rawUrl,\n            extractedUrl: t.extractedUrl,\n            trigger: t.source,\n            extras: t.extras,\n            previousNavigation: !this.lastSuccessfulNavigation ? null : {\n              ...this.lastSuccessfulNavigation,\n              previousNavigation: null\n            }\n          };\n          const urlTransition = !router.navigated || this.isUpdatingInternalState() || this.isUpdatedBrowserUrl();\n          const onSameUrlNavigation = t.extras.onSameUrlNavigation ?? router.onSameUrlNavigation;\n          if (!urlTransition && onSameUrlNavigation !== 'reload') {\n            const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation to ${t.rawUrl} was ignored because it is the same as the current Router URL.` : '';\n            this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.rawUrl), reason, NavigationSkippedCode.IgnoredSameUrlNavigation));\n            t.resolve(false);\n            return EMPTY;\n          }\n          if (this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl)) {\n            return of(t).pipe(\n            // Fire NavigationStart event\n            switchMap(t => {\n              const transition = this.transitions?.getValue();\n              this.events.next(new NavigationStart(t.id, this.urlSerializer.serialize(t.extractedUrl), t.source, t.restoredState));\n              if (transition !== this.transitions?.getValue()) {\n                return EMPTY;\n              }\n              // This delay is required to match old behavior that forced\n              // navigation to always be async\n              return Promise.resolve(t);\n            }),\n            // Recognize\n            recognize(this.environmentInjector, this.configLoader, this.rootComponentType, router.config, this.urlSerializer, this.paramsInheritanceStrategy),\n            // Update URL if in `eager` update mode\n            tap(t => {\n              overallTransitionState.targetSnapshot = t.targetSnapshot;\n              overallTransitionState.urlAfterRedirects = t.urlAfterRedirects;\n              this.currentNavigation = {\n                ...this.currentNavigation,\n                finalUrl: t.urlAfterRedirects\n              };\n              // Fire RoutesRecognized\n              const routesRecognized = new RoutesRecognized(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n              this.events.next(routesRecognized);\n            }));\n          } else if (urlTransition && this.urlHandlingStrategy.shouldProcessUrl(t.currentRawUrl)) {\n            /* When the current URL shouldn't be processed, but the previous one\n             * was, we handle this \"error condition\" by navigating to the\n             * previously successful URL, but leaving the URL intact.*/\n            const {\n              id,\n              extractedUrl,\n              source,\n              restoredState,\n              extras\n            } = t;\n            const navStart = new NavigationStart(id, this.urlSerializer.serialize(extractedUrl), source, restoredState);\n            this.events.next(navStart);\n            const targetSnapshot = createEmptyState(this.rootComponentType).snapshot;\n            this.currentTransition = overallTransitionState = {\n              ...t,\n              targetSnapshot,\n              urlAfterRedirects: extractedUrl,\n              extras: {\n                ...extras,\n                skipLocationChange: false,\n                replaceUrl: false\n              }\n            };\n            this.currentNavigation.finalUrl = extractedUrl;\n            return of(overallTransitionState);\n          } else {\n            /* When neither the current or previous URL can be processed, do\n             * nothing other than update router's internal reference to the\n             * current \"settled\" URL. This way the next navigation will be coming\n             * from the current URL in the browser.\n             */\n            const reason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation was ignored because the UrlHandlingStrategy` + ` indicated neither the current URL ${t.currentRawUrl} nor target URL ${t.rawUrl} should be processed.` : '';\n            this.events.next(new NavigationSkipped(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, NavigationSkippedCode.IgnoredByUrlHandlingStrategy));\n            t.resolve(false);\n            return EMPTY;\n          }\n        }),\n        // --- GUARDS ---\n        tap(t => {\n          const guardsStart = new GuardsCheckStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n          this.events.next(guardsStart);\n        }), map(t => {\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            guards: getAllRouteGuards(t.targetSnapshot, t.currentSnapshot, this.rootContexts)\n          };\n          return overallTransitionState;\n        }), checkGuards(this.environmentInjector, evt => this.events.next(evt)), tap(t => {\n          overallTransitionState.guardsResult = t.guardsResult;\n          if (t.guardsResult && typeof t.guardsResult !== 'boolean') {\n            throw redirectingNavigationError(this.urlSerializer, t.guardsResult);\n          }\n          const guardsEnd = new GuardsCheckEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot, !!t.guardsResult);\n          this.events.next(guardsEnd);\n        }), filter(t => {\n          if (!t.guardsResult) {\n            this.cancelNavigationTransition(t, '', NavigationCancellationCode.GuardRejected);\n            return false;\n          }\n          return true;\n        }),\n        // --- RESOLVE ---\n        switchTap(t => {\n          if (t.guards.canActivateChecks.length) {\n            return of(t).pipe(tap(t => {\n              const resolveStart = new ResolveStart(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n              this.events.next(resolveStart);\n            }), switchMap(t => {\n              let dataResolved = false;\n              return of(t).pipe(resolveData(this.paramsInheritanceStrategy, this.environmentInjector), tap({\n                next: () => dataResolved = true,\n                complete: () => {\n                  if (!dataResolved) {\n                    this.cancelNavigationTransition(t, typeof ngDevMode === 'undefined' || ngDevMode ? `At least one route resolver didn't emit any value.` : '', NavigationCancellationCode.NoDataFromResolver);\n                  }\n                }\n              }));\n            }), tap(t => {\n              const resolveEnd = new ResolveEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects), t.targetSnapshot);\n              this.events.next(resolveEnd);\n            }));\n          }\n          return undefined;\n        }),\n        // --- LOAD COMPONENTS ---\n        switchTap(t => {\n          const loadComponents = route => {\n            const loaders = [];\n            if (route.routeConfig?.loadComponent && !route.routeConfig._loadedComponent) {\n              loaders.push(this.configLoader.loadComponent(route.routeConfig).pipe(tap(loadedComponent => {\n                route.component = loadedComponent;\n              }), map(() => void 0)));\n            }\n            for (const child of route.children) {\n              loaders.push(...loadComponents(child));\n            }\n            return loaders;\n          };\n          return combineLatest(loadComponents(t.targetSnapshot.root)).pipe(defaultIfEmpty(null), take(1));\n        }), switchTap(() => this.afterPreactivation()), switchMap(() => {\n          const {\n            currentSnapshot,\n            targetSnapshot\n          } = overallTransitionState;\n          const viewTransitionStarted = this.createViewTransition?.(this.environmentInjector, currentSnapshot.root, targetSnapshot.root);\n          // If view transitions are enabled, block the navigation until the view\n          // transition callback starts. Otherwise, continue immediately.\n          return viewTransitionStarted ? from(viewTransitionStarted).pipe(map(() => overallTransitionState)) : of(overallTransitionState);\n        }), map(t => {\n          const targetRouterState = createRouterState(router.routeReuseStrategy, t.targetSnapshot, t.currentRouterState);\n          this.currentTransition = overallTransitionState = {\n            ...t,\n            targetRouterState\n          };\n          this.currentNavigation.targetRouterState = targetRouterState;\n          return overallTransitionState;\n        }), tap(() => {\n          this.events.next(new BeforeActivateRoutes());\n        }), activateRoutes(this.rootContexts, router.routeReuseStrategy, evt => this.events.next(evt), this.inputBindingEnabled),\n        // Ensure that if some observable used to drive the transition doesn't\n        // complete, the navigation still finalizes This should never happen, but\n        // this is done as a safety measure to avoid surfacing this error (#49567).\n        take(1), tap({\n          next: t => {\n            completed = true;\n            this.lastSuccessfulNavigation = this.currentNavigation;\n            this.events.next(new NavigationEnd(t.id, this.urlSerializer.serialize(t.extractedUrl), this.urlSerializer.serialize(t.urlAfterRedirects)));\n            this.titleStrategy?.updateTitle(t.targetRouterState.snapshot);\n            t.resolve(true);\n          },\n          complete: () => {\n            completed = true;\n          }\n        }),\n        // There used to be a lot more logic happening directly within the\n        // transition Observable. Some of this logic has been refactored out to\n        // other places but there may still be errors that happen there. This gives\n        // us a way to cancel the transition from the outside. This may also be\n        // required in the future to support something like the abort signal of the\n        // Navigation API where the navigation gets aborted from outside the\n        // transition.\n        takeUntil(this.transitionAbortSubject.pipe(tap(err => {\n          throw err;\n        }))), finalize(() => {\n          /* When the navigation stream finishes either through error or success,\n           * we set the `completed` or `errored` flag. However, there are some\n           * situations where we could get here without either of those being set.\n           * For instance, a redirect during NavigationStart. Therefore, this is a\n           * catch-all to make sure the NavigationCancel event is fired when a\n           * navigation gets cancelled but not caught by other means. */\n          if (!completed && !errored) {\n            const cancelationReason = typeof ngDevMode === 'undefined' || ngDevMode ? `Navigation ID ${overallTransitionState.id} is not equal to the current navigation id ${this.navigationId}` : '';\n            this.cancelNavigationTransition(overallTransitionState, cancelationReason, NavigationCancellationCode.SupersededByNewNavigation);\n          }\n          // Only clear current navigation if it is still set to the one that\n          // finalized.\n          if (this.currentTransition?.id === overallTransitionState.id) {\n            this.currentNavigation = null;\n            this.currentTransition = null;\n          }\n        }), catchError(e => {\n          errored = true;\n          /* This error type is issued during Redirect, and is handled as a\n           * cancellation rather than an error. */\n          if (isNavigationCancelingError(e)) {\n            this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e.message, e.cancellationCode));\n            // When redirecting, we need to delay resolving the navigation\n            // promise and push it to the redirect navigation\n            if (!isRedirectingNavigationCancelingError(e)) {\n              overallTransitionState.resolve(false);\n            } else {\n              this.events.next(new RedirectRequest(e.url, e.navigationBehaviorOptions));\n            }\n            /* All other errors should reset to the router's internal URL reference\n             * to the pre-error state. */\n          } else {\n            const navigationError = new NavigationError(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), e, overallTransitionState.targetSnapshot ?? undefined);\n            try {\n              const navigationErrorHandlerResult = runInInjectionContext(this.environmentInjector, () => this.navigationErrorHandler?.(navigationError));\n              if (navigationErrorHandlerResult instanceof RedirectCommand) {\n                const {\n                  message,\n                  cancellationCode\n                } = redirectingNavigationError(this.urlSerializer, navigationErrorHandlerResult);\n                this.events.next(new NavigationCancel(overallTransitionState.id, this.urlSerializer.serialize(overallTransitionState.extractedUrl), message, cancellationCode));\n                this.events.next(new RedirectRequest(navigationErrorHandlerResult.redirectTo, navigationErrorHandlerResult.navigationBehaviorOptions));\n              } else {\n                this.events.next(navigationError);\n                // TODO(atscott): remove deprecation on errorHandler in RouterModule.forRoot and change behavior to provide NAVIGATION_ERROR_HANDLER\n                // Note: Still remove public `Router.errorHandler` property, as this is supposed to be configured in DI.\n                const errorHandlerResult = router.errorHandler(e);\n                overallTransitionState.resolve(!!errorHandlerResult);\n              }\n            } catch (ee) {\n              // TODO(atscott): consider flipping the default behavior of\n              // resolveNavigationPromiseOnError to be `resolve(false)` when\n              // undefined. This is the most sane thing to do given that\n              // applications very rarely handle the promise rejection and, as a\n              // result, would get \"unhandled promise rejection\" console logs.\n              // The vast majority of applications would not be affected by this\n              // change so omitting a migration seems reasonable. Instead,\n              // applications that rely on rejection can specifically opt-in to the\n              // old behavior.\n              if (this.options.resolveNavigationPromiseOnError) {\n                overallTransitionState.resolve(false);\n              } else {\n                overallTransitionState.reject(ee);\n              }\n            }\n          }\n          return EMPTY;\n        }));\n        // casting because `pipe` returns observable({}) when called with 8+ arguments\n      }));\n    }\n    cancelNavigationTransition(t, reason, code) {\n      const navCancel = new NavigationCancel(t.id, this.urlSerializer.serialize(t.extractedUrl), reason, code);\n      this.events.next(navCancel);\n      t.resolve(false);\n    }\n    /**\n     * @returns Whether we're navigating to somewhere that is not what the Router is\n     * currently set to.\n     */\n    isUpdatingInternalState() {\n      // TODO(atscott): The serializer should likely be used instead of\n      // `UrlTree.toString()`. Custom serializers are often written to handle\n      // things better than the default one (objects, for example will be\n      // [Object object] with the custom serializer and be \"the same\" when they\n      // aren't).\n      // (Same for isUpdatedBrowserUrl)\n      return this.currentTransition?.extractedUrl.toString() !== this.currentTransition?.currentUrlTree.toString();\n    }\n    /**\n     * @returns Whether we're updating the browser URL to something new (navigation is going\n     * to somewhere not displayed in the URL bar and we will update the URL\n     * bar if navigation succeeds).\n     */\n    isUpdatedBrowserUrl() {\n      // The extracted URL is the part of the URL that this application cares about. `extract` may\n      // return only part of the browser URL and that part may have not changed even if some other\n      // portion of the URL did.\n      const extractedBrowserUrl = this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(true)));\n      return extractedBrowserUrl.toString() !== this.currentTransition?.extractedUrl.toString() && !this.currentTransition?.extras.skipLocationChange;\n    }\n    static {\n      this.ɵfac = function NavigationTransitions_Factory(t) {\n        return new (t || NavigationTransitions)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: NavigationTransitions,\n        factory: NavigationTransitions.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return NavigationTransitions;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction isBrowserTriggeredNavigation(source) {\n  return source !== IMPERATIVE_NAVIGATION;\n}\n\n/**\n * @description\n *\n * Provides a way to customize when activated routes get reused.\n *\n * @publicApi\n */\nlet RouteReuseStrategy = /*#__PURE__*/(() => {\n  class RouteReuseStrategy {\n    static {\n      this.ɵfac = function RouteReuseStrategy_Factory(t) {\n        return new (t || RouteReuseStrategy)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouteReuseStrategy,\n        factory: () => (() => inject(DefaultRouteReuseStrategy))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return RouteReuseStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @description\n *\n * This base route reuse strategy only reuses routes when the matched router configs are\n * identical. This prevents components from being destroyed and recreated\n * when just the route parameters, query parameters or fragment change\n * (that is, the existing component is _reused_).\n *\n * This strategy does not store any routes for later reuse.\n *\n * Angular uses this strategy by default.\n *\n *\n * It can be used as a base class for custom route reuse strategies, i.e. you can create your own\n * class that extends the `BaseRouteReuseStrategy` one.\n * @publicApi\n */\nclass BaseRouteReuseStrategy {\n  /**\n   * Whether the given route should detach for later reuse.\n   * Always returns false for `BaseRouteReuseStrategy`.\n   * */\n  shouldDetach(route) {\n    return false;\n  }\n  /**\n   * A no-op; the route is never stored since this strategy never detaches routes for later re-use.\n   */\n  store(route, detachedTree) {}\n  /** Returns `false`, meaning the route (and its subtree) is never reattached */\n  shouldAttach(route) {\n    return false;\n  }\n  /** Returns `null` because this strategy does not store routes for later re-use. */\n  retrieve(route) {\n    return null;\n  }\n  /**\n   * Determines if a route should be reused.\n   * This strategy returns `true` when the future route config and current route config are\n   * identical.\n   */\n  shouldReuseRoute(future, curr) {\n    return future.routeConfig === curr.routeConfig;\n  }\n}\nlet DefaultRouteReuseStrategy = /*#__PURE__*/(() => {\n  class DefaultRouteReuseStrategy extends BaseRouteReuseStrategy {\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵDefaultRouteReuseStrategy_BaseFactory;\n        return function DefaultRouteReuseStrategy_Factory(t) {\n          return (ɵDefaultRouteReuseStrategy_BaseFactory || (ɵDefaultRouteReuseStrategy_BaseFactory = i0.ɵɵgetInheritedFactory(DefaultRouteReuseStrategy)))(t || DefaultRouteReuseStrategy);\n        };\n      })();\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: DefaultRouteReuseStrategy,\n        factory: DefaultRouteReuseStrategy.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return DefaultRouteReuseStrategy;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StateManager = /*#__PURE__*/(() => {\n  class StateManager {\n    static {\n      this.ɵfac = function StateManager_Factory(t) {\n        return new (t || StateManager)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: StateManager,\n        factory: () => (() => inject(HistoryStateManager))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return StateManager;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HistoryStateManager = /*#__PURE__*/(() => {\n  class HistoryStateManager extends StateManager {\n    constructor() {\n      super(...arguments);\n      this.location = inject(Location);\n      this.urlSerializer = inject(UrlSerializer);\n      this.options = inject(ROUTER_CONFIGURATION, {\n        optional: true\n      }) || {};\n      this.canceledNavigationResolution = this.options.canceledNavigationResolution || 'replace';\n      this.urlHandlingStrategy = inject(UrlHandlingStrategy);\n      this.urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n      this.currentUrlTree = new UrlTree();\n      this.rawUrlTree = this.currentUrlTree;\n      /**\n       * The id of the currently active page in the router.\n       * Updated to the transition's target id on a successful navigation.\n       *\n       * This is used to track what page the router last activated. When an attempted navigation fails,\n       * the router can then use this to compute how to restore the state back to the previously active\n       * page.\n       */\n      this.currentPageId = 0;\n      this.lastSuccessfulId = -1;\n      this.routerState = createEmptyState(null);\n      this.stateMemento = this.createStateMemento();\n    }\n    getCurrentUrlTree() {\n      return this.currentUrlTree;\n    }\n    getRawUrlTree() {\n      return this.rawUrlTree;\n    }\n    restoredState() {\n      return this.location.getState();\n    }\n    /**\n     * The ɵrouterPageId of whatever page is currently active in the browser history. This is\n     * important for computing the target page id for new navigations because we need to ensure each\n     * page id in the browser history is 1 more than the previous entry.\n     */\n    get browserPageId() {\n      if (this.canceledNavigationResolution !== 'computed') {\n        return this.currentPageId;\n      }\n      return this.restoredState()?.ɵrouterPageId ?? this.currentPageId;\n    }\n    getRouterState() {\n      return this.routerState;\n    }\n    createStateMemento() {\n      return {\n        rawUrlTree: this.rawUrlTree,\n        currentUrlTree: this.currentUrlTree,\n        routerState: this.routerState\n      };\n    }\n    registerNonRouterCurrentEntryChangeListener(listener) {\n      return this.location.subscribe(event => {\n        if (event['type'] === 'popstate') {\n          listener(event['url'], event.state);\n        }\n      });\n    }\n    handleRouterEvent(e, currentTransition) {\n      if (e instanceof NavigationStart) {\n        this.stateMemento = this.createStateMemento();\n      } else if (e instanceof NavigationSkipped) {\n        this.rawUrlTree = currentTransition.initialUrl;\n      } else if (e instanceof RoutesRecognized) {\n        if (this.urlUpdateStrategy === 'eager') {\n          if (!currentTransition.extras.skipLocationChange) {\n            const rawUrl = this.urlHandlingStrategy.merge(currentTransition.finalUrl, currentTransition.initialUrl);\n            this.setBrowserUrl(rawUrl, currentTransition);\n          }\n        }\n      } else if (e instanceof BeforeActivateRoutes) {\n        this.currentUrlTree = currentTransition.finalUrl;\n        this.rawUrlTree = this.urlHandlingStrategy.merge(currentTransition.finalUrl, currentTransition.initialUrl);\n        this.routerState = currentTransition.targetRouterState;\n        if (this.urlUpdateStrategy === 'deferred') {\n          if (!currentTransition.extras.skipLocationChange) {\n            this.setBrowserUrl(this.rawUrlTree, currentTransition);\n          }\n        }\n      } else if (e instanceof NavigationCancel && (e.code === NavigationCancellationCode.GuardRejected || e.code === NavigationCancellationCode.NoDataFromResolver)) {\n        this.restoreHistory(currentTransition);\n      } else if (e instanceof NavigationError) {\n        this.restoreHistory(currentTransition, true);\n      } else if (e instanceof NavigationEnd) {\n        this.lastSuccessfulId = e.id;\n        this.currentPageId = this.browserPageId;\n      }\n    }\n    setBrowserUrl(url, transition) {\n      const path = this.urlSerializer.serialize(url);\n      if (this.location.isCurrentPathEqualTo(path) || !!transition.extras.replaceUrl) {\n        // replacements do not update the target page\n        const currentBrowserPageId = this.browserPageId;\n        const state = {\n          ...transition.extras.state,\n          ...this.generateNgRouterState(transition.id, currentBrowserPageId)\n        };\n        this.location.replaceState(path, '', state);\n      } else {\n        const state = {\n          ...transition.extras.state,\n          ...this.generateNgRouterState(transition.id, this.browserPageId + 1)\n        };\n        this.location.go(path, '', state);\n      }\n    }\n    /**\n     * Performs the necessary rollback action to restore the browser URL to the\n     * state before the transition.\n     */\n    restoreHistory(navigation, restoringFromCaughtError = false) {\n      if (this.canceledNavigationResolution === 'computed') {\n        const currentBrowserPageId = this.browserPageId;\n        const targetPagePosition = this.currentPageId - currentBrowserPageId;\n        if (targetPagePosition !== 0) {\n          this.location.historyGo(targetPagePosition);\n        } else if (this.currentUrlTree === navigation.finalUrl && targetPagePosition === 0) {\n          // We got to the activation stage (where currentUrlTree is set to the navigation's\n          // finalUrl), but we weren't moving anywhere in history (skipLocationChange or replaceUrl).\n          // We still need to reset the router state back to what it was when the navigation started.\n          this.resetState(navigation);\n          this.resetUrlToCurrentUrlTree();\n        } else {\n          // The browser URL and router state was not updated before the navigation cancelled so\n          // there's no restoration needed.\n        }\n      } else if (this.canceledNavigationResolution === 'replace') {\n        // TODO(atscott): It seems like we should _always_ reset the state here. It would be a no-op\n        // for `deferred` navigations that haven't change the internal state yet because guards\n        // reject. For 'eager' navigations, it seems like we also really should reset the state\n        // because the navigation was cancelled. Investigate if this can be done by running TGP.\n        if (restoringFromCaughtError) {\n          this.resetState(navigation);\n        }\n        this.resetUrlToCurrentUrlTree();\n      }\n    }\n    resetState(navigation) {\n      this.routerState = this.stateMemento.routerState;\n      this.currentUrlTree = this.stateMemento.currentUrlTree;\n      // Note here that we use the urlHandlingStrategy to get the reset `rawUrlTree` because it may be\n      // configured to handle only part of the navigation URL. This means we would only want to reset\n      // the part of the navigation handled by the Angular router rather than the whole URL. In\n      // addition, the URLHandlingStrategy may be configured to specifically preserve parts of the URL\n      // when merging, such as the query params so they are not lost on a refresh.\n      this.rawUrlTree = this.urlHandlingStrategy.merge(this.currentUrlTree, navigation.finalUrl ?? this.rawUrlTree);\n    }\n    resetUrlToCurrentUrlTree() {\n      this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree), '', this.generateNgRouterState(this.lastSuccessfulId, this.currentPageId));\n    }\n    generateNgRouterState(navigationId, routerPageId) {\n      if (this.canceledNavigationResolution === 'computed') {\n        return {\n          navigationId,\n          ɵrouterPageId: routerPageId\n        };\n      }\n      return {\n        navigationId\n      };\n    }\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵHistoryStateManager_BaseFactory;\n        return function HistoryStateManager_Factory(t) {\n          return (ɵHistoryStateManager_BaseFactory || (ɵHistoryStateManager_BaseFactory = i0.ɵɵgetInheritedFactory(HistoryStateManager)))(t || HistoryStateManager);\n        };\n      })();\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: HistoryStateManager,\n        factory: HistoryStateManager.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return HistoryStateManager;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar NavigationResult = /*#__PURE__*/function (NavigationResult) {\n  NavigationResult[NavigationResult[\"COMPLETE\"] = 0] = \"COMPLETE\";\n  NavigationResult[NavigationResult[\"FAILED\"] = 1] = \"FAILED\";\n  NavigationResult[NavigationResult[\"REDIRECTING\"] = 2] = \"REDIRECTING\";\n  return NavigationResult;\n}(NavigationResult || {});\n/**\n * Performs the given action once the router finishes its next/current navigation.\n *\n * The navigation is considered complete under the following conditions:\n * - `NavigationCancel` event emits and the code is not `NavigationCancellationCode.Redirect` or\n * `NavigationCancellationCode.SupersededByNewNavigation`. In these cases, the\n * redirecting/superseding navigation must finish.\n * - `NavigationError`, `NavigationEnd`, or `NavigationSkipped` event emits\n */\nfunction afterNextNavigation(router, action) {\n  router.events.pipe(filter(e => e instanceof NavigationEnd || e instanceof NavigationCancel || e instanceof NavigationError || e instanceof NavigationSkipped), map(e => {\n    if (e instanceof NavigationEnd || e instanceof NavigationSkipped) {\n      return NavigationResult.COMPLETE;\n    }\n    const redirecting = e instanceof NavigationCancel ? e.code === NavigationCancellationCode.Redirect || e.code === NavigationCancellationCode.SupersededByNewNavigation : false;\n    return redirecting ? NavigationResult.REDIRECTING : NavigationResult.FAILED;\n  }), filter(result => result !== NavigationResult.REDIRECTING), take(1)).subscribe(() => {\n    action();\n  });\n}\nfunction defaultErrorHandler(error) {\n  throw error;\n}\n/**\n * The equivalent `IsActiveMatchOptions` options for `Router.isActive` is called with `true`\n * (exact = true).\n */\nconst exactMatchOptions = {\n  paths: 'exact',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'exact'\n};\n/**\n * The equivalent `IsActiveMatchOptions` options for `Router.isActive` is called with `false`\n * (exact = false).\n */\nconst subsetMatchOptions = {\n  paths: 'subset',\n  fragment: 'ignored',\n  matrixParams: 'ignored',\n  queryParams: 'subset'\n};\n/**\n * @description\n *\n * A service that provides navigation among views and URL manipulation capabilities.\n *\n * @see {@link Route}\n * @see [Routing and Navigation Guide](guide/routing/common-router-tasks).\n *\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet Router = /*#__PURE__*/(() => {\n  class Router {\n    get currentUrlTree() {\n      return this.stateManager.getCurrentUrlTree();\n    }\n    get rawUrlTree() {\n      return this.stateManager.getRawUrlTree();\n    }\n    /**\n     * An event stream for routing events.\n     */\n    get events() {\n      // TODO(atscott): This _should_ be events.asObservable(). However, this change requires internal\n      // cleanup: tests are doing `(route.events as Subject<Event>).next(...)`. This isn't\n      // allowed/supported but we still have to fix these or file bugs against the teams before making\n      // the change.\n      return this._events;\n    }\n    /**\n     * The current state of routing in this NgModule.\n     */\n    get routerState() {\n      return this.stateManager.getRouterState();\n    }\n    constructor() {\n      this.disposed = false;\n      this.console = inject(ɵConsole);\n      this.stateManager = inject(StateManager);\n      this.options = inject(ROUTER_CONFIGURATION, {\n        optional: true\n      }) || {};\n      this.pendingTasks = inject(ɵPendingTasks);\n      this.urlUpdateStrategy = this.options.urlUpdateStrategy || 'deferred';\n      this.navigationTransitions = inject(NavigationTransitions);\n      this.urlSerializer = inject(UrlSerializer);\n      this.location = inject(Location);\n      this.urlHandlingStrategy = inject(UrlHandlingStrategy);\n      /**\n       * The private `Subject` type for the public events exposed in the getter. This is used internally\n       * to push events to. The separate field allows us to expose separate types in the public API\n       * (i.e., an Observable rather than the Subject).\n       */\n      this._events = new Subject();\n      /**\n       * A handler for navigation errors in this NgModule.\n       *\n       * @deprecated Subscribe to the `Router` events and watch for `NavigationError` instead.\n       *   `provideRouter` has the `withNavigationErrorHandler` feature to make this easier.\n       * @see {@link withNavigationErrorHandler}\n       */\n      this.errorHandler = this.options.errorHandler || defaultErrorHandler;\n      /**\n       * True if at least one navigation event has occurred,\n       * false otherwise.\n       */\n      this.navigated = false;\n      /**\n       * A strategy for re-using routes.\n       *\n       * @deprecated Configure using `providers` instead:\n       *   `{provide: RouteReuseStrategy, useClass: MyStrategy}`.\n       */\n      this.routeReuseStrategy = inject(RouteReuseStrategy);\n      /**\n       * How to handle a navigation request to the current URL.\n       *\n       *\n       * @deprecated Configure this through `provideRouter` or `RouterModule.forRoot` instead.\n       * @see {@link withRouterConfig}\n       * @see {@link provideRouter}\n       * @see {@link RouterModule}\n       */\n      this.onSameUrlNavigation = this.options.onSameUrlNavigation || 'ignore';\n      this.config = inject(ROUTES, {\n        optional: true\n      })?.flat() ?? [];\n      /**\n       * Indicates whether the application has opted in to binding Router data to component inputs.\n       *\n       * This option is enabled by the `withComponentInputBinding` feature of `provideRouter` or\n       * `bindToComponentInputs` in the `ExtraOptions` of `RouterModule.forRoot`.\n       */\n      this.componentInputBindingEnabled = !!inject(INPUT_BINDER, {\n        optional: true\n      });\n      this.eventsSubscription = new Subscription();\n      this.resetConfig(this.config);\n      this.navigationTransitions.setupNavigations(this, this.currentUrlTree, this.routerState).subscribe({\n        error: e => {\n          this.console.warn(ngDevMode ? `Unhandled Navigation Error: ${e}` : e);\n        }\n      });\n      this.subscribeToNavigationEvents();\n    }\n    subscribeToNavigationEvents() {\n      const subscription = this.navigationTransitions.events.subscribe(e => {\n        try {\n          const currentTransition = this.navigationTransitions.currentTransition;\n          const currentNavigation = this.navigationTransitions.currentNavigation;\n          if (currentTransition !== null && currentNavigation !== null) {\n            this.stateManager.handleRouterEvent(e, currentNavigation);\n            if (e instanceof NavigationCancel && e.code !== NavigationCancellationCode.Redirect && e.code !== NavigationCancellationCode.SupersededByNewNavigation) {\n              // It seems weird that `navigated` is set to `true` when the navigation is rejected,\n              // however it's how things were written initially. Investigation would need to be done\n              // to determine if this can be removed.\n              this.navigated = true;\n            } else if (e instanceof NavigationEnd) {\n              this.navigated = true;\n            } else if (e instanceof RedirectRequest) {\n              const opts = e.navigationBehaviorOptions;\n              const mergedTree = this.urlHandlingStrategy.merge(e.url, currentTransition.currentRawUrl);\n              const extras = {\n                // Persist transient navigation info from the original navigation request.\n                info: currentTransition.extras.info,\n                skipLocationChange: currentTransition.extras.skipLocationChange,\n                // The URL is already updated at this point if we have 'eager' URL\n                // updates or if the navigation was triggered by the browser (back\n                // button, URL bar, etc). We want to replace that item in history\n                // if the navigation is rejected.\n                replaceUrl: currentTransition.extras.replaceUrl || this.urlUpdateStrategy === 'eager' || isBrowserTriggeredNavigation(currentTransition.source),\n                // allow developer to override default options with RedirectCommand\n                ...opts\n              };\n              this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras, {\n                resolve: currentTransition.resolve,\n                reject: currentTransition.reject,\n                promise: currentTransition.promise\n              });\n            }\n          }\n          // Note that it's important to have the Router process the events _before_ the event is\n          // pushed through the public observable. This ensures the correct router state is in place\n          // before applications observe the events.\n          if (isPublicRouterEvent(e)) {\n            this._events.next(e);\n          }\n        } catch (e) {\n          this.navigationTransitions.transitionAbortSubject.next(e);\n        }\n      });\n      this.eventsSubscription.add(subscription);\n    }\n    /** @internal */\n    resetRootComponentType(rootComponentType) {\n      // TODO: vsavkin router 4.0 should make the root component set to null\n      // this will simplify the lifecycle of the router.\n      this.routerState.root.component = rootComponentType;\n      this.navigationTransitions.rootComponentType = rootComponentType;\n    }\n    /**\n     * Sets up the location change listener and performs the initial navigation.\n     */\n    initialNavigation() {\n      this.setUpLocationChangeListener();\n      if (!this.navigationTransitions.hasRequestedNavigation) {\n        this.navigateToSyncWithBrowser(this.location.path(true), IMPERATIVE_NAVIGATION, this.stateManager.restoredState());\n      }\n    }\n    /**\n     * Sets up the location change listener. This listener detects navigations triggered from outside\n     * the Router (the browser back/forward buttons, for example) and schedules a corresponding Router\n     * navigation so that the correct events, guards, etc. are triggered.\n     */\n    setUpLocationChangeListener() {\n      // Don't need to use Zone.wrap any more, because zone.js\n      // already patch onPopState, so location change callback will\n      // run into ngZone\n      this.nonRouterCurrentEntryChangeSubscription ??= this.stateManager.registerNonRouterCurrentEntryChangeListener((url, state) => {\n        // The `setTimeout` was added in #12160 and is likely to support Angular/AngularJS\n        // hybrid apps.\n        setTimeout(() => {\n          this.navigateToSyncWithBrowser(url, 'popstate', state);\n        }, 0);\n      });\n    }\n    /**\n     * Schedules a router navigation to synchronize Router state with the browser state.\n     *\n     * This is done as a response to a popstate event and the initial navigation. These\n     * two scenarios represent times when the browser URL/state has been updated and\n     * the Router needs to respond to ensure its internal state matches.\n     */\n    navigateToSyncWithBrowser(url, source, state) {\n      const extras = {\n        replaceUrl: true\n      };\n      // TODO: restoredState should always include the entire state, regardless\n      // of navigationId. This requires a breaking change to update the type on\n      // NavigationStart’s restoredState, which currently requires navigationId\n      // to always be present. The Router used to only restore history state if\n      // a navigationId was present.\n      // The stored navigationId is used by the RouterScroller to retrieve the scroll\n      // position for the page.\n      const restoredState = state?.navigationId ? state : null;\n      // Separate to NavigationStart.restoredState, we must also restore the state to\n      // history.state and generate a new navigationId, since it will be overwritten\n      if (state) {\n        const stateCopy = {\n          ...state\n        };\n        delete stateCopy.navigationId;\n        delete stateCopy.ɵrouterPageId;\n        if (Object.keys(stateCopy).length !== 0) {\n          extras.state = stateCopy;\n        }\n      }\n      const urlTree = this.parseUrl(url);\n      this.scheduleNavigation(urlTree, source, restoredState, extras);\n    }\n    /** The current URL. */\n    get url() {\n      return this.serializeUrl(this.currentUrlTree);\n    }\n    /**\n     * Returns the current `Navigation` object when the router is navigating,\n     * and `null` when idle.\n     */\n    getCurrentNavigation() {\n      return this.navigationTransitions.currentNavigation;\n    }\n    /**\n     * The `Navigation` object of the most recent navigation to succeed and `null` if there\n     *     has not been a successful navigation yet.\n     */\n    get lastSuccessfulNavigation() {\n      return this.navigationTransitions.lastSuccessfulNavigation;\n    }\n    /**\n     * Resets the route configuration used for navigation and generating links.\n     *\n     * @param config The route array for the new configuration.\n     *\n     * @usageNotes\n     *\n     * ```\n     * router.resetConfig([\n     *  { path: 'team/:id', component: TeamCmp, children: [\n     *    { path: 'simple', component: SimpleCmp },\n     *    { path: 'user/:name', component: UserCmp }\n     *  ]}\n     * ]);\n     * ```\n     */\n    resetConfig(config) {\n      (typeof ngDevMode === 'undefined' || ngDevMode) && validateConfig(config);\n      this.config = config.map(standardizeConfig);\n      this.navigated = false;\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.dispose();\n    }\n    /** Disposes of the router. */\n    dispose() {\n      this.navigationTransitions.complete();\n      if (this.nonRouterCurrentEntryChangeSubscription) {\n        this.nonRouterCurrentEntryChangeSubscription.unsubscribe();\n        this.nonRouterCurrentEntryChangeSubscription = undefined;\n      }\n      this.disposed = true;\n      this.eventsSubscription.unsubscribe();\n    }\n    /**\n     * Appends URL segments to the current URL tree to create a new URL tree.\n     *\n     * @param commands An array of URL fragments with which to construct the new URL tree.\n     * If the path is static, can be the literal URL string. For a dynamic path, pass an array of path\n     * segments, followed by the parameters for each segment.\n     * The fragments are applied to the current URL tree or the one provided  in the `relativeTo`\n     * property of the options object, if supplied.\n     * @param navigationExtras Options that control the navigation strategy.\n     * @returns The new URL tree.\n     *\n     * @usageNotes\n     *\n     * ```\n     * // create /team/33/user/11\n     * router.createUrlTree(['/team', 33, 'user', 11]);\n     *\n     * // create /team/33;expand=true/user/11\n     * router.createUrlTree(['/team', 33, {expand: true}, 'user', 11]);\n     *\n     * // you can collapse static segments like this (this works only with the first passed-in value):\n     * router.createUrlTree(['/team/33/user', userId]);\n     *\n     * // If the first segment can contain slashes, and you do not want the router to split it,\n     * // you can do the following:\n     * router.createUrlTree([{segmentPath: '/one/two'}]);\n     *\n     * // create /team/33/(user/11//right:chat)\n     * router.createUrlTree(['/team', 33, {outlets: {primary: 'user/11', right: 'chat'}}]);\n     *\n     * // remove the right secondary node\n     * router.createUrlTree(['/team', 33, {outlets: {primary: 'user/11', right: null}}]);\n     *\n     * // assuming the current url is `/team/33/user/11` and the route points to `user/11`\n     *\n     * // navigate to /team/33/user/11/details\n     * router.createUrlTree(['details'], {relativeTo: route});\n     *\n     * // navigate to /team/33/user/22\n     * router.createUrlTree(['../22'], {relativeTo: route});\n     *\n     * // navigate to /team/44/user/22\n     * router.createUrlTree(['../../team/44/user/22'], {relativeTo: route});\n     *\n     * Note that a value of `null` or `undefined` for `relativeTo` indicates that the\n     * tree should be created relative to the root.\n     * ```\n     */\n    createUrlTree(commands, navigationExtras = {}) {\n      const {\n        relativeTo,\n        queryParams,\n        fragment,\n        queryParamsHandling,\n        preserveFragment\n      } = navigationExtras;\n      const f = preserveFragment ? this.currentUrlTree.fragment : fragment;\n      let q = null;\n      switch (queryParamsHandling) {\n        case 'merge':\n          q = {\n            ...this.currentUrlTree.queryParams,\n            ...queryParams\n          };\n          break;\n        case 'preserve':\n          q = this.currentUrlTree.queryParams;\n          break;\n        default:\n          q = queryParams || null;\n      }\n      if (q !== null) {\n        q = this.removeEmptyProps(q);\n      }\n      let relativeToUrlSegmentGroup;\n      try {\n        const relativeToSnapshot = relativeTo ? relativeTo.snapshot : this.routerState.snapshot.root;\n        relativeToUrlSegmentGroup = createSegmentGroupFromRoute(relativeToSnapshot);\n      } catch (e) {\n        // This is strictly for backwards compatibility with tests that create\n        // invalid `ActivatedRoute` mocks.\n        // Note: the difference between having this fallback for invalid `ActivatedRoute` setups and\n        // just throwing is ~500 test failures. Fixing all of those tests by hand is not feasible at\n        // the moment.\n        if (typeof commands[0] !== 'string' || commands[0][0] !== '/') {\n          // Navigations that were absolute in the old way of creating UrlTrees\n          // would still work because they wouldn't attempt to match the\n          // segments in the `ActivatedRoute` to the `currentUrlTree` but\n          // instead just replace the root segment with the navigation result.\n          // Non-absolute navigations would fail to apply the commands because\n          // the logic could not find the segment to replace (so they'd act like there were no\n          // commands).\n          commands = [];\n        }\n        relativeToUrlSegmentGroup = this.currentUrlTree.root;\n      }\n      return createUrlTreeFromSegmentGroup(relativeToUrlSegmentGroup, commands, q, f ?? null);\n    }\n    /**\n     * Navigates to a view using an absolute route path.\n     *\n     * @param url An absolute path for a defined route. The function does not apply any delta to the\n     *     current URL.\n     * @param extras An object containing properties that modify the navigation strategy.\n     *\n     * @returns A Promise that resolves to 'true' when navigation succeeds,\n     * to 'false' when navigation fails, or is rejected on error.\n     *\n     * @usageNotes\n     *\n     * The following calls request navigation to an absolute path.\n     *\n     * ```\n     * router.navigateByUrl(\"/team/33/user/11\");\n     *\n     * // Navigate without updating the URL\n     * router.navigateByUrl(\"/team/33/user/11\", { skipLocationChange: true });\n     * ```\n     *\n     * @see [Routing and Navigation guide](guide/routing/common-router-tasks)\n     *\n     */\n    navigateByUrl(url, extras = {\n      skipLocationChange: false\n    }) {\n      const urlTree = isUrlTree(url) ? url : this.parseUrl(url);\n      const mergedTree = this.urlHandlingStrategy.merge(urlTree, this.rawUrlTree);\n      return this.scheduleNavigation(mergedTree, IMPERATIVE_NAVIGATION, null, extras);\n    }\n    /**\n     * Navigate based on the provided array of commands and a starting point.\n     * If no starting route is provided, the navigation is absolute.\n     *\n     * @param commands An array of URL fragments with which to construct the target URL.\n     * If the path is static, can be the literal URL string. For a dynamic path, pass an array of path\n     * segments, followed by the parameters for each segment.\n     * The fragments are applied to the current URL or the one provided  in the `relativeTo` property\n     * of the options object, if supplied.\n     * @param extras An options object that determines how the URL should be constructed or\n     *     interpreted.\n     *\n     * @returns A Promise that resolves to `true` when navigation succeeds, or `false` when navigation\n     *     fails. The Promise is rejected when an error occurs if `resolveNavigationPromiseOnError` is\n     * not `true`.\n     *\n     * @usageNotes\n     *\n     * The following calls request navigation to a dynamic route path relative to the current URL.\n     *\n     * ```\n     * router.navigate(['team', 33, 'user', 11], {relativeTo: route});\n     *\n     * // Navigate without updating the URL, overriding the default behavior\n     * router.navigate(['team', 33, 'user', 11], {relativeTo: route, skipLocationChange: true});\n     * ```\n     *\n     * @see [Routing and Navigation guide](guide/routing/common-router-tasks)\n     *\n     */\n    navigate(commands, extras = {\n      skipLocationChange: false\n    }) {\n      validateCommands(commands);\n      return this.navigateByUrl(this.createUrlTree(commands, extras), extras);\n    }\n    /** Serializes a `UrlTree` into a string */\n    serializeUrl(url) {\n      return this.urlSerializer.serialize(url);\n    }\n    /** Parses a string into a `UrlTree` */\n    parseUrl(url) {\n      try {\n        return this.urlSerializer.parse(url);\n      } catch {\n        return this.urlSerializer.parse('/');\n      }\n    }\n    isActive(url, matchOptions) {\n      let options;\n      if (matchOptions === true) {\n        options = {\n          ...exactMatchOptions\n        };\n      } else if (matchOptions === false) {\n        options = {\n          ...subsetMatchOptions\n        };\n      } else {\n        options = matchOptions;\n      }\n      if (isUrlTree(url)) {\n        return containsTree(this.currentUrlTree, url, options);\n      }\n      const urlTree = this.parseUrl(url);\n      return containsTree(this.currentUrlTree, urlTree, options);\n    }\n    removeEmptyProps(params) {\n      return Object.entries(params).reduce((result, [key, value]) => {\n        if (value !== null && value !== undefined) {\n          result[key] = value;\n        }\n        return result;\n      }, {});\n    }\n    scheduleNavigation(rawUrl, source, restoredState, extras, priorPromise) {\n      if (this.disposed) {\n        return Promise.resolve(false);\n      }\n      let resolve;\n      let reject;\n      let promise;\n      if (priorPromise) {\n        resolve = priorPromise.resolve;\n        reject = priorPromise.reject;\n        promise = priorPromise.promise;\n      } else {\n        promise = new Promise((res, rej) => {\n          resolve = res;\n          reject = rej;\n        });\n      }\n      // Indicate that the navigation is happening.\n      const taskId = this.pendingTasks.add();\n      afterNextNavigation(this, () => {\n        // Remove pending task in a microtask to allow for cancelled\n        // initial navigations and redirects within the same task.\n        queueMicrotask(() => this.pendingTasks.remove(taskId));\n      });\n      this.navigationTransitions.handleNavigationRequest({\n        source,\n        restoredState,\n        currentUrlTree: this.currentUrlTree,\n        currentRawUrl: this.currentUrlTree,\n        rawUrl,\n        extras,\n        resolve: resolve,\n        reject: reject,\n        promise,\n        currentSnapshot: this.routerState.snapshot,\n        currentRouterState: this.routerState\n      });\n      // Make sure that the error is propagated even though `processNavigations` catch\n      // handler does not rethrow\n      return promise.catch(e => {\n        return Promise.reject(e);\n      });\n    }\n    static {\n      this.ɵfac = function Router_Factory(t) {\n        return new (t || Router)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: Router,\n        factory: Router.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return Router;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction validateCommands(commands) {\n  for (let i = 0; i < commands.length; i++) {\n    const cmd = commands[i];\n    if (cmd == null) {\n      throw new ɵRuntimeError(4008 /* RuntimeErrorCode.NULLISH_COMMAND */, (typeof ngDevMode === 'undefined' || ngDevMode) && `The requested path contains ${cmd} segment at index ${i}`);\n    }\n  }\n}\nfunction isPublicRouterEvent(e) {\n  return !(e instanceof BeforeActivateRoutes) && !(e instanceof RedirectRequest);\n}\n\n/**\n * @description\n *\n * When applied to an element in a template, makes that element a link\n * that initiates navigation to a route. Navigation opens one or more routed components\n * in one or more `<router-outlet>` locations on the page.\n *\n * Given a route configuration `[{ path: 'user/:name', component: UserCmp }]`,\n * the following creates a static link to the route:\n * `<a routerLink=\"/user/bob\">link to user component</a>`\n *\n * You can use dynamic values to generate the link.\n * For a dynamic link, pass an array of path segments,\n * followed by the params for each segment.\n * For example, `['/team', teamId, 'user', userName, {details: true}]`\n * generates a link to `/team/11/user/bob;details=true`.\n *\n * Multiple static segments can be merged into one term and combined with dynamic segments.\n * For example, `['/team/11/user', userName, {details: true}]`\n *\n * The input that you provide to the link is treated as a delta to the current URL.\n * For instance, suppose the current URL is `/user/(box//aux:team)`.\n * The link `<a [routerLink]=\"['/user/jim']\">Jim</a>` creates the URL\n * `/user/(jim//aux:team)`.\n * See {@link Router#createUrlTree} for more information.\n *\n * @usageNotes\n *\n * You can use absolute or relative paths in a link, set query parameters,\n * control how parameters are handled, and keep a history of navigation states.\n *\n * ### Relative link paths\n *\n * The first segment name can be prepended with `/`, `./`, or `../`.\n * * If the first segment begins with `/`, the router looks up the route from the root of the\n *   app.\n * * If the first segment begins with `./`, or doesn't begin with a slash, the router\n *   looks in the children of the current activated route.\n * * If the first segment begins with `../`, the router goes up one level in the route tree.\n *\n * ### Setting and handling query params and fragments\n *\n * The following link adds a query parameter and a fragment to the generated URL:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [queryParams]=\"{debug: true}\" fragment=\"education\">\n *   link to user component\n * </a>\n * ```\n * By default, the directive constructs the new URL using the given query parameters.\n * The example generates the link: `/user/bob?debug=true#education`.\n *\n * You can instruct the directive to handle query parameters differently\n * by specifying the `queryParamsHandling` option in the link.\n * Allowed values are:\n *\n *  - `'merge'`: Merge the given `queryParams` into the current query params.\n *  - `'preserve'`: Preserve the current query params.\n *\n * For example:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [queryParams]=\"{debug: true}\" queryParamsHandling=\"merge\">\n *   link to user component\n * </a>\n * ```\n *\n * See {@link UrlCreationOptions#queryParamsHandling}.\n *\n * ### Preserving navigation history\n *\n * You can provide a `state` value to be persisted to the browser's\n * [`History.state` property](https://developer.mozilla.org/en-US/docs/Web/API/History#Properties).\n * For example:\n *\n * ```\n * <a [routerLink]=\"['/user/bob']\" [state]=\"{tracingId: 123}\">\n *   link to user component\n * </a>\n * ```\n *\n * Use {@link Router#getCurrentNavigation} to retrieve a saved\n * navigation-state value. For example, to capture the `tracingId` during the `NavigationStart`\n * event:\n *\n * ```\n * // Get NavigationStart events\n * router.events.pipe(filter(e => e instanceof NavigationStart)).subscribe(e => {\n *   const navigation = router.getCurrentNavigation();\n *   tracingService.trace({id: navigation.extras.state.tracingId});\n * });\n * ```\n *\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet RouterLink = /*#__PURE__*/(() => {\n  class RouterLink {\n    constructor(router, route, tabIndexAttribute, renderer, el, locationStrategy) {\n      this.router = router;\n      this.route = route;\n      this.tabIndexAttribute = tabIndexAttribute;\n      this.renderer = renderer;\n      this.el = el;\n      this.locationStrategy = locationStrategy;\n      /**\n       * Represents an `href` attribute value applied to a host element,\n       * when a host element is `<a>`. For other tags, the value is `null`.\n       */\n      this.href = null;\n      this.commands = null;\n      /** @internal */\n      this.onChanges = new Subject();\n      /**\n       * Passed to {@link Router#createUrlTree} as part of the\n       * `UrlCreationOptions`.\n       * @see {@link UrlCreationOptions#preserveFragment}\n       * @see {@link Router#createUrlTree}\n       */\n      this.preserveFragment = false;\n      /**\n       * Passed to {@link Router#navigateByUrl} as part of the\n       * `NavigationBehaviorOptions`.\n       * @see {@link NavigationBehaviorOptions#skipLocationChange}\n       * @see {@link Router#navigateByUrl}\n       */\n      this.skipLocationChange = false;\n      /**\n       * Passed to {@link Router#navigateByUrl} as part of the\n       * `NavigationBehaviorOptions`.\n       * @see {@link NavigationBehaviorOptions#replaceUrl}\n       * @see {@link Router#navigateByUrl}\n       */\n      this.replaceUrl = false;\n      const tagName = el.nativeElement.tagName?.toLowerCase();\n      this.isAnchorElement = tagName === 'a' || tagName === 'area';\n      if (this.isAnchorElement) {\n        this.subscription = router.events.subscribe(s => {\n          if (s instanceof NavigationEnd) {\n            this.updateHref();\n          }\n        });\n      } else {\n        this.setTabIndexIfNotOnNativeEl('0');\n      }\n    }\n    /**\n     * Modifies the tab index if there was not a tabindex attribute on the element during\n     * instantiation.\n     */\n    setTabIndexIfNotOnNativeEl(newTabIndex) {\n      if (this.tabIndexAttribute != null /* both `null` and `undefined` */ || this.isAnchorElement) {\n        return;\n      }\n      this.applyAttributeValue('tabindex', newTabIndex);\n    }\n    /** @nodoc */\n    ngOnChanges(changes) {\n      if (this.isAnchorElement) {\n        this.updateHref();\n      }\n      // This is subscribed to by `RouterLinkActive` so that it knows to update when there are changes\n      // to the RouterLinks it's tracking.\n      this.onChanges.next(this);\n    }\n    /**\n     * Commands to pass to {@link Router#createUrlTree}.\n     *   - **array**: commands to pass to {@link Router#createUrlTree}.\n     *   - **string**: shorthand for array of commands with just the string, i.e. `['/route']`\n     *   - **null|undefined**: effectively disables the `routerLink`\n     * @see {@link Router#createUrlTree}\n     */\n    set routerLink(commands) {\n      if (commands != null) {\n        this.commands = Array.isArray(commands) ? commands : [commands];\n        this.setTabIndexIfNotOnNativeEl('0');\n      } else {\n        this.commands = null;\n        this.setTabIndexIfNotOnNativeEl(null);\n      }\n    }\n    /** @nodoc */\n    onClick(button, ctrlKey, shiftKey, altKey, metaKey) {\n      const urlTree = this.urlTree;\n      if (urlTree === null) {\n        return true;\n      }\n      if (this.isAnchorElement) {\n        if (button !== 0 || ctrlKey || shiftKey || altKey || metaKey) {\n          return true;\n        }\n        if (typeof this.target === 'string' && this.target != '_self') {\n          return true;\n        }\n      }\n      const extras = {\n        skipLocationChange: this.skipLocationChange,\n        replaceUrl: this.replaceUrl,\n        state: this.state,\n        info: this.info\n      };\n      this.router.navigateByUrl(urlTree, extras);\n      // Return `false` for `<a>` elements to prevent default action\n      // and cancel the native behavior, since the navigation is handled\n      // by the Router.\n      return !this.isAnchorElement;\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.subscription?.unsubscribe();\n    }\n    updateHref() {\n      const urlTree = this.urlTree;\n      this.href = urlTree !== null && this.locationStrategy ? this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(urlTree)) : null;\n      const sanitizedValue = this.href === null ? null :\n      // This class represents a directive that can be added to both `<a>` elements,\n      // as well as other elements. As a result, we can't define security context at\n      // compile time. So the security context is deferred to runtime.\n      // The `ɵɵsanitizeUrlOrResourceUrl` selects the necessary sanitizer function\n      // based on the tag and property names. The logic mimics the one from\n      // `packages/compiler/src/schema/dom_security_schema.ts`, which is used at compile time.\n      //\n      // Note: we should investigate whether we can switch to using `@HostBinding('attr.href')`\n      // instead of applying a value via a renderer, after a final merge of the\n      // `RouterLinkWithHref` directive.\n      ɵɵsanitizeUrlOrResourceUrl(this.href, this.el.nativeElement.tagName.toLowerCase(), 'href');\n      this.applyAttributeValue('href', sanitizedValue);\n    }\n    applyAttributeValue(attrName, attrValue) {\n      const renderer = this.renderer;\n      const nativeElement = this.el.nativeElement;\n      if (attrValue !== null) {\n        renderer.setAttribute(nativeElement, attrName, attrValue);\n      } else {\n        renderer.removeAttribute(nativeElement, attrName);\n      }\n    }\n    get urlTree() {\n      if (this.commands === null) {\n        return null;\n      }\n      return this.router.createUrlTree(this.commands, {\n        // If the `relativeTo` input is not defined, we want to use `this.route` by default.\n        // Otherwise, we should use the value provided by the user in the input.\n        relativeTo: this.relativeTo !== undefined ? this.relativeTo : this.route,\n        queryParams: this.queryParams,\n        fragment: this.fragment,\n        queryParamsHandling: this.queryParamsHandling,\n        preserveFragment: this.preserveFragment\n      });\n    }\n    static {\n      this.ɵfac = function RouterLink_Factory(t) {\n        return new (t || RouterLink)(i0.ɵɵdirectiveInject(Router), i0.ɵɵdirectiveInject(ActivatedRoute), i0.ɵɵinjectAttribute('tabindex'), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i3.LocationStrategy));\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: RouterLink,\n        selectors: [[\"\", \"routerLink\", \"\"]],\n        hostVars: 1,\n        hostBindings: function RouterLink_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"click\", function RouterLink_click_HostBindingHandler($event) {\n              return ctx.onClick($event.button, $event.ctrlKey, $event.shiftKey, $event.altKey, $event.metaKey);\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵattribute(\"target\", ctx.target);\n          }\n        },\n        inputs: {\n          target: \"target\",\n          queryParams: \"queryParams\",\n          fragment: \"fragment\",\n          queryParamsHandling: \"queryParamsHandling\",\n          state: \"state\",\n          info: \"info\",\n          relativeTo: \"relativeTo\",\n          preserveFragment: [2, \"preserveFragment\", \"preserveFragment\", booleanAttribute],\n          skipLocationChange: [2, \"skipLocationChange\", \"skipLocationChange\", booleanAttribute],\n          replaceUrl: [2, \"replaceUrl\", \"replaceUrl\", booleanAttribute],\n          routerLink: \"routerLink\"\n        },\n        standalone: true,\n        features: [i0.ɵɵInputTransformsFeature, i0.ɵɵNgOnChangesFeature]\n      });\n    }\n  }\n  return RouterLink;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n *\n * @description\n *\n * Tracks whether the linked route of an element is currently active, and allows you\n * to specify one or more CSS classes to add to the element when the linked route\n * is active.\n *\n * Use this directive to create a visual distinction for elements associated with an active route.\n * For example, the following code highlights the word \"Bob\" when the router\n * activates the associated route:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive=\"active-link\">Bob</a>\n * ```\n *\n * Whenever the URL is either '/user' or '/user/bob', the \"active-link\" class is\n * added to the anchor tag. If the URL changes, the class is removed.\n *\n * You can set more than one class using a space-separated string or an array.\n * For example:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive=\"class1 class2\">Bob</a>\n * <a routerLink=\"/user/bob\" [routerLinkActive]=\"['class1', 'class2']\">Bob</a>\n * ```\n *\n * To add the classes only when the URL matches the link exactly, add the option `exact: true`:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive=\"active-link\" [routerLinkActiveOptions]=\"{exact:\n * true}\">Bob</a>\n * ```\n *\n * To directly check the `isActive` status of the link, assign the `RouterLinkActive`\n * instance to a template variable.\n * For example, the following checks the status without assigning any CSS classes:\n *\n * ```\n * <a routerLink=\"/user/bob\" routerLinkActive #rla=\"routerLinkActive\">\n *   Bob {{ rla.isActive ? '(already open)' : ''}}\n * </a>\n * ```\n *\n * You can apply the `RouterLinkActive` directive to an ancestor of linked elements.\n * For example, the following sets the active-link class on the `<div>`  parent tag\n * when the URL is either '/user/jim' or '/user/bob'.\n *\n * ```\n * <div routerLinkActive=\"active-link\" [routerLinkActiveOptions]=\"{exact: true}\">\n *   <a routerLink=\"/user/jim\">Jim</a>\n *   <a routerLink=\"/user/bob\">Bob</a>\n * </div>\n * ```\n *\n * The `RouterLinkActive` directive can also be used to set the aria-current attribute\n * to provide an alternative distinction for active elements to visually impaired users.\n *\n * For example, the following code adds the 'active' class to the Home Page link when it is\n * indeed active and in such case also sets its aria-current attribute to 'page':\n *\n * ```\n * <a routerLink=\"/\" routerLinkActive=\"active\" ariaCurrentWhenActive=\"page\">Home Page</a>\n * ```\n *\n * @ngModule RouterModule\n *\n * @publicApi\n */\nlet RouterLinkActive = /*#__PURE__*/(() => {\n  class RouterLinkActive {\n    get isActive() {\n      return this._isActive;\n    }\n    constructor(router, element, renderer, cdr, link) {\n      this.router = router;\n      this.element = element;\n      this.renderer = renderer;\n      this.cdr = cdr;\n      this.link = link;\n      this.classes = [];\n      this._isActive = false;\n      /**\n       * Options to configure how to determine if the router link is active.\n       *\n       * These options are passed to the `Router.isActive()` function.\n       *\n       * @see {@link Router#isActive}\n       */\n      this.routerLinkActiveOptions = {\n        exact: false\n      };\n      /**\n       *\n       * You can use the output `isActiveChange` to get notified each time the link becomes\n       * active or inactive.\n       *\n       * Emits:\n       * true  -> Route is active\n       * false -> Route is inactive\n       *\n       * ```\n       * <a\n       *  routerLink=\"/user/bob\"\n       *  routerLinkActive=\"active-link\"\n       *  (isActiveChange)=\"this.onRouterLinkActive($event)\">Bob</a>\n       * ```\n       */\n      this.isActiveChange = new EventEmitter();\n      this.routerEventsSubscription = router.events.subscribe(s => {\n        if (s instanceof NavigationEnd) {\n          this.update();\n        }\n      });\n    }\n    /** @nodoc */\n    ngAfterContentInit() {\n      // `of(null)` is used to force subscribe body to execute once immediately (like `startWith`).\n      of(this.links.changes, of(null)).pipe(mergeAll()).subscribe(_ => {\n        this.update();\n        this.subscribeToEachLinkOnChanges();\n      });\n    }\n    subscribeToEachLinkOnChanges() {\n      this.linkInputChangesSubscription?.unsubscribe();\n      const allLinkChanges = [...this.links.toArray(), this.link].filter(link => !!link).map(link => link.onChanges);\n      this.linkInputChangesSubscription = from(allLinkChanges).pipe(mergeAll()).subscribe(link => {\n        if (this._isActive !== this.isLinkActive(this.router)(link)) {\n          this.update();\n        }\n      });\n    }\n    set routerLinkActive(data) {\n      const classes = Array.isArray(data) ? data : data.split(' ');\n      this.classes = classes.filter(c => !!c);\n    }\n    /** @nodoc */\n    ngOnChanges(changes) {\n      this.update();\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.routerEventsSubscription.unsubscribe();\n      this.linkInputChangesSubscription?.unsubscribe();\n    }\n    update() {\n      if (!this.links || !this.router.navigated) return;\n      queueMicrotask(() => {\n        const hasActiveLinks = this.hasActiveLinks();\n        this.classes.forEach(c => {\n          if (hasActiveLinks) {\n            this.renderer.addClass(this.element.nativeElement, c);\n          } else {\n            this.renderer.removeClass(this.element.nativeElement, c);\n          }\n        });\n        if (hasActiveLinks && this.ariaCurrentWhenActive !== undefined) {\n          this.renderer.setAttribute(this.element.nativeElement, 'aria-current', this.ariaCurrentWhenActive.toString());\n        } else {\n          this.renderer.removeAttribute(this.element.nativeElement, 'aria-current');\n        }\n        // Only emit change if the active state changed.\n        if (this._isActive !== hasActiveLinks) {\n          this._isActive = hasActiveLinks;\n          this.cdr.markForCheck();\n          // Emit on isActiveChange after classes are updated\n          this.isActiveChange.emit(hasActiveLinks);\n        }\n      });\n    }\n    isLinkActive(router) {\n      const options = isActiveMatchOptions(this.routerLinkActiveOptions) ? this.routerLinkActiveOptions :\n      // While the types should disallow `undefined` here, it's possible without strict inputs\n      this.routerLinkActiveOptions.exact || false;\n      return link => {\n        const urlTree = link.urlTree;\n        return urlTree ? router.isActive(urlTree, options) : false;\n      };\n    }\n    hasActiveLinks() {\n      const isActiveCheckFn = this.isLinkActive(this.router);\n      return this.link && isActiveCheckFn(this.link) || this.links.some(isActiveCheckFn);\n    }\n    static {\n      this.ɵfac = function RouterLinkActive_Factory(t) {\n        return new (t || RouterLinkActive)(i0.ɵɵdirectiveInject(Router), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(RouterLink, 8));\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: RouterLinkActive,\n        selectors: [[\"\", \"routerLinkActive\", \"\"]],\n        contentQueries: function RouterLinkActive_ContentQueries(rf, ctx, dirIndex) {\n          if (rf & 1) {\n            i0.ɵɵcontentQuery(dirIndex, RouterLink, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.links = _t);\n          }\n        },\n        inputs: {\n          routerLinkActiveOptions: \"routerLinkActiveOptions\",\n          ariaCurrentWhenActive: \"ariaCurrentWhenActive\",\n          routerLinkActive: \"routerLinkActive\"\n        },\n        outputs: {\n          isActiveChange: \"isActiveChange\"\n        },\n        exportAs: [\"routerLinkActive\"],\n        standalone: true,\n        features: [i0.ɵɵNgOnChangesFeature]\n      });\n    }\n  }\n  return RouterLinkActive;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Use instead of `'paths' in options` to be compatible with property renaming\n */\nfunction isActiveMatchOptions(options) {\n  return !!options.paths;\n}\n\n/**\n * @description\n *\n * Provides a preloading strategy.\n *\n * @publicApi\n */\nclass PreloadingStrategy {}\n/**\n * @description\n *\n * Provides a preloading strategy that preloads all modules as quickly as possible.\n *\n * ```\n * RouterModule.forRoot(ROUTES, {preloadingStrategy: PreloadAllModules})\n * ```\n *\n * @publicApi\n */\nlet PreloadAllModules = /*#__PURE__*/(() => {\n  class PreloadAllModules {\n    preload(route, fn) {\n      return fn().pipe(catchError(() => of(null)));\n    }\n    static {\n      this.ɵfac = function PreloadAllModules_Factory(t) {\n        return new (t || PreloadAllModules)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: PreloadAllModules,\n        factory: PreloadAllModules.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return PreloadAllModules;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @description\n *\n * Provides a preloading strategy that does not preload any modules.\n *\n * This strategy is enabled by default.\n *\n * @publicApi\n */\nlet NoPreloading = /*#__PURE__*/(() => {\n  class NoPreloading {\n    preload(route, fn) {\n      return of(null);\n    }\n    static {\n      this.ɵfac = function NoPreloading_Factory(t) {\n        return new (t || NoPreloading)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: NoPreloading,\n        factory: NoPreloading.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return NoPreloading;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * The preloader optimistically loads all router configurations to\n * make navigations into lazily-loaded sections of the application faster.\n *\n * The preloader runs in the background. When the router bootstraps, the preloader\n * starts listening to all navigation events. After every such event, the preloader\n * will check if any configurations can be loaded lazily.\n *\n * If a route is protected by `canLoad` guards, the preloaded will not load it.\n *\n * @publicApi\n */\nlet RouterPreloader = /*#__PURE__*/(() => {\n  class RouterPreloader {\n    constructor(router, compiler, injector, preloadingStrategy, loader) {\n      this.router = router;\n      this.injector = injector;\n      this.preloadingStrategy = preloadingStrategy;\n      this.loader = loader;\n    }\n    setUpPreloading() {\n      this.subscription = this.router.events.pipe(filter(e => e instanceof NavigationEnd), concatMap(() => this.preload())).subscribe(() => {});\n    }\n    preload() {\n      return this.processRoutes(this.injector, this.router.config);\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n    processRoutes(injector, routes) {\n      const res = [];\n      for (const route of routes) {\n        if (route.providers && !route._injector) {\n          route._injector = createEnvironmentInjector(route.providers, injector, `Route: ${route.path}`);\n        }\n        const injectorForCurrentRoute = route._injector ?? injector;\n        const injectorForChildren = route._loadedInjector ?? injectorForCurrentRoute;\n        // Note that `canLoad` is only checked as a condition that prevents `loadChildren` and not\n        // `loadComponent`. `canLoad` guards only block loading of child routes by design. This\n        // happens as a consequence of needing to descend into children for route matching immediately\n        // while component loading is deferred until route activation. Because `canLoad` guards can\n        // have side effects, we cannot execute them here so we instead skip preloading altogether\n        // when present. Lastly, it remains to be decided whether `canLoad` should behave this way\n        // at all. Code splitting and lazy loading is separate from client-side authorization checks\n        // and should not be used as a security measure to prevent loading of code.\n        if (route.loadChildren && !route._loadedRoutes && route.canLoad === undefined || route.loadComponent && !route._loadedComponent) {\n          res.push(this.preloadConfig(injectorForCurrentRoute, route));\n        }\n        if (route.children || route._loadedRoutes) {\n          res.push(this.processRoutes(injectorForChildren, route.children ?? route._loadedRoutes));\n        }\n      }\n      return from(res).pipe(mergeAll());\n    }\n    preloadConfig(injector, route) {\n      return this.preloadingStrategy.preload(route, () => {\n        let loadedChildren$;\n        if (route.loadChildren && route.canLoad === undefined) {\n          loadedChildren$ = this.loader.loadChildren(injector, route);\n        } else {\n          loadedChildren$ = of(null);\n        }\n        const recursiveLoadChildren$ = loadedChildren$.pipe(mergeMap(config => {\n          if (config === null) {\n            return of(void 0);\n          }\n          route._loadedRoutes = config.routes;\n          route._loadedInjector = config.injector;\n          // If the loaded config was a module, use that as the module/module injector going\n          // forward. Otherwise, continue using the current module/module injector.\n          return this.processRoutes(config.injector ?? injector, config.routes);\n        }));\n        if (route.loadComponent && !route._loadedComponent) {\n          const loadComponent$ = this.loader.loadComponent(route);\n          return from([recursiveLoadChildren$, loadComponent$]).pipe(mergeAll());\n        } else {\n          return recursiveLoadChildren$;\n        }\n      });\n    }\n    static {\n      this.ɵfac = function RouterPreloader_Factory(t) {\n        return new (t || RouterPreloader)(i0.ɵɵinject(Router), i0.ɵɵinject(i0.Compiler), i0.ɵɵinject(i0.EnvironmentInjector), i0.ɵɵinject(PreloadingStrategy), i0.ɵɵinject(RouterConfigLoader));\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouterPreloader,\n        factory: RouterPreloader.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return RouterPreloader;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst ROUTER_SCROLLER = /*#__PURE__*/new InjectionToken('');\nlet RouterScroller = /*#__PURE__*/(() => {\n  class RouterScroller {\n    /** @nodoc */\n    constructor(urlSerializer, transitions, viewportScroller, zone, options = {}) {\n      this.urlSerializer = urlSerializer;\n      this.transitions = transitions;\n      this.viewportScroller = viewportScroller;\n      this.zone = zone;\n      this.options = options;\n      this.lastId = 0;\n      this.lastSource = 'imperative';\n      this.restoredId = 0;\n      this.store = {};\n      this.environmentInjector = inject(EnvironmentInjector);\n      // Default both options to 'disabled'\n      options.scrollPositionRestoration ||= 'disabled';\n      options.anchorScrolling ||= 'disabled';\n    }\n    init() {\n      // we want to disable the automatic scrolling because having two places\n      // responsible for scrolling results race conditions, especially given\n      // that browser don't implement this behavior consistently\n      if (this.options.scrollPositionRestoration !== 'disabled') {\n        this.viewportScroller.setHistoryScrollRestoration('manual');\n      }\n      this.routerEventsSubscription = this.createScrollEvents();\n      this.scrollEventsSubscription = this.consumeScrollEvents();\n    }\n    createScrollEvents() {\n      return this.transitions.events.subscribe(e => {\n        if (e instanceof NavigationStart) {\n          // store the scroll position of the current stable navigations.\n          this.store[this.lastId] = this.viewportScroller.getScrollPosition();\n          this.lastSource = e.navigationTrigger;\n          this.restoredId = e.restoredState ? e.restoredState.navigationId : 0;\n        } else if (e instanceof NavigationEnd) {\n          this.lastId = e.id;\n          this.scheduleScrollEvent(e, this.urlSerializer.parse(e.urlAfterRedirects).fragment);\n        } else if (e instanceof NavigationSkipped && e.code === NavigationSkippedCode.IgnoredSameUrlNavigation) {\n          this.lastSource = undefined;\n          this.restoredId = 0;\n          this.scheduleScrollEvent(e, this.urlSerializer.parse(e.url).fragment);\n        }\n      });\n    }\n    consumeScrollEvents() {\n      return this.transitions.events.subscribe(e => {\n        if (!(e instanceof Scroll)) return;\n        // a popstate event. The pop state event will always ignore anchor scrolling.\n        if (e.position) {\n          if (this.options.scrollPositionRestoration === 'top') {\n            this.viewportScroller.scrollToPosition([0, 0]);\n          } else if (this.options.scrollPositionRestoration === 'enabled') {\n            this.viewportScroller.scrollToPosition(e.position);\n          }\n          // imperative navigation \"forward\"\n        } else {\n          if (e.anchor && this.options.anchorScrolling === 'enabled') {\n            this.viewportScroller.scrollToAnchor(e.anchor);\n          } else if (this.options.scrollPositionRestoration !== 'disabled') {\n            this.viewportScroller.scrollToPosition([0, 0]);\n          }\n        }\n      });\n    }\n    scheduleScrollEvent(routerEvent, anchor) {\n      this.zone.runOutsideAngular(async () => {\n        // The scroll event needs to be delayed until after change detection. Otherwise we may\n        // attempt to restore the scroll position before the router outlet has fully rendered the\n        // component by executing its update block of the template function.\n        await new Promise(resolve => {\n          // TODO(atscott): Attempt to remove the setTimeout in a future PR.\n          setTimeout(() => {\n            resolve();\n          });\n          afterNextRender(() => {\n            resolve();\n          }, {\n            injector: this.environmentInjector\n          });\n        });\n        this.zone.run(() => {\n          this.transitions.events.next(new Scroll(routerEvent, this.lastSource === 'popstate' ? this.store[this.restoredId] : null, anchor));\n        });\n      });\n    }\n    /** @nodoc */\n    ngOnDestroy() {\n      this.routerEventsSubscription?.unsubscribe();\n      this.scrollEventsSubscription?.unsubscribe();\n    }\n    static {\n      this.ɵfac = function RouterScroller_Factory(t) {\n        i0.ɵɵinvalidFactory();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: RouterScroller,\n        factory: RouterScroller.ɵfac\n      });\n    }\n  }\n  return RouterScroller;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Sets up providers necessary to enable `Router` functionality for the application.\n * Allows to configure a set of routes as well as extra features that should be enabled.\n *\n * @usageNotes\n *\n * Basic example of how you can add a Router to your application:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent, {\n *   providers: [provideRouter(appRoutes)]\n * });\n * ```\n *\n * You can also enable optional features in the Router by adding functions from the `RouterFeatures`\n * type:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes,\n *         withDebugTracing(),\n *         withRouterConfig({paramsInheritanceStrategy: 'always'}))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link RouterFeatures}\n *\n * @publicApi\n * @param routes A set of `Route`s to use for the application routing table.\n * @param features Optional features to configure additional router behaviors.\n * @returns A set of providers to setup a Router.\n */\nfunction provideRouter(routes, ...features) {\n  return makeEnvironmentProviders([{\n    provide: ROUTES,\n    multi: true,\n    useValue: routes\n  }, typeof ngDevMode === 'undefined' || ngDevMode ? {\n    provide: ROUTER_IS_PROVIDED,\n    useValue: true\n  } : [], {\n    provide: ActivatedRoute,\n    useFactory: rootRoute,\n    deps: [Router]\n  }, {\n    provide: APP_BOOTSTRAP_LISTENER,\n    multi: true,\n    useFactory: getBootstrapListener\n  }, features.map(feature => feature.ɵproviders)]);\n}\nfunction rootRoute(router) {\n  return router.routerState.root;\n}\n/**\n * Helper function to create an object that represents a Router feature.\n */\nfunction routerFeature(kind, providers) {\n  return {\n    ɵkind: kind,\n    ɵproviders: providers\n  };\n}\n/**\n * An Injection token used to indicate whether `provideRouter` or `RouterModule.forRoot` was ever\n * called.\n */\nconst ROUTER_IS_PROVIDED = /*#__PURE__*/new InjectionToken('', {\n  providedIn: 'root',\n  factory: () => false\n});\nconst routerIsProvidedDevModeCheck = {\n  provide: ENVIRONMENT_INITIALIZER,\n  multi: true,\n  useFactory() {\n    return () => {\n      if (!inject(ROUTER_IS_PROVIDED)) {\n        console.warn('`provideRoutes` was called without `provideRouter` or `RouterModule.forRoot`. ' + 'This is likely a mistake.');\n      }\n    };\n  }\n};\n/**\n * Registers a DI provider for a set of routes.\n * @param routes The route configuration to provide.\n *\n * @usageNotes\n *\n * ```\n * @NgModule({\n *   providers: [provideRoutes(ROUTES)]\n * })\n * class LazyLoadedChildModule {}\n * ```\n *\n * @deprecated If necessary, provide routes using the `ROUTES` `InjectionToken`.\n * @see {@link ROUTES}\n * @publicApi\n */\nfunction provideRoutes(routes) {\n  return [{\n    provide: ROUTES,\n    multi: true,\n    useValue: routes\n  }, typeof ngDevMode === 'undefined' || ngDevMode ? routerIsProvidedDevModeCheck : []];\n}\n/**\n * Enables customizable scrolling behavior for router navigations.\n *\n * @usageNotes\n *\n * Basic example of how you can enable scrolling feature:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withInMemoryScrolling())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n * @see {@link ViewportScroller}\n *\n * @publicApi\n * @param options Set of configuration parameters to customize scrolling behavior, see\n *     `InMemoryScrollingOptions` for additional information.\n * @returns A set of providers for use with `provideRouter`.\n */\nfunction withInMemoryScrolling(options = {}) {\n  const providers = [{\n    provide: ROUTER_SCROLLER,\n    useFactory: () => {\n      const viewportScroller = inject(ViewportScroller);\n      const zone = inject(NgZone);\n      const transitions = inject(NavigationTransitions);\n      const urlSerializer = inject(UrlSerializer);\n      return new RouterScroller(urlSerializer, transitions, viewportScroller, zone, options);\n    }\n  }];\n  return routerFeature(4 /* RouterFeatureKind.InMemoryScrollingFeature */, providers);\n}\nfunction getBootstrapListener() {\n  const injector = inject(Injector);\n  return bootstrappedComponentRef => {\n    const ref = injector.get(ApplicationRef);\n    if (bootstrappedComponentRef !== ref.components[0]) {\n      return;\n    }\n    const router = injector.get(Router);\n    const bootstrapDone = injector.get(BOOTSTRAP_DONE);\n    if (injector.get(INITIAL_NAVIGATION) === 1 /* InitialNavigation.EnabledNonBlocking */) {\n      router.initialNavigation();\n    }\n    injector.get(ROUTER_PRELOADER, null, InjectFlags.Optional)?.setUpPreloading();\n    injector.get(ROUTER_SCROLLER, null, InjectFlags.Optional)?.init();\n    router.resetRootComponentType(ref.componentTypes[0]);\n    if (!bootstrapDone.closed) {\n      bootstrapDone.next();\n      bootstrapDone.complete();\n      bootstrapDone.unsubscribe();\n    }\n  };\n}\n/**\n * A subject used to indicate that the bootstrapping phase is done. When initial navigation is\n * `enabledBlocking`, the first navigation waits until bootstrapping is finished before continuing\n * to the activation phase.\n */\nconst BOOTSTRAP_DONE = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'bootstrap done indicator' : '', {\n  factory: () => {\n    return new Subject();\n  }\n});\nconst INITIAL_NAVIGATION = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'initial navigation' : '', {\n  providedIn: 'root',\n  factory: () => 1 /* InitialNavigation.EnabledNonBlocking */\n});\n/**\n * Configures initial navigation to start before the root component is created.\n *\n * The bootstrap is blocked until the initial navigation is complete. This value is required for\n * [server-side rendering](guide/ssr) to work.\n *\n * @usageNotes\n *\n * Basic example of how you can enable this navigation behavior:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withEnabledBlockingInitialNavigation())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @publicApi\n * @returns A set of providers for use with `provideRouter`.\n */\nfunction withEnabledBlockingInitialNavigation() {\n  const providers = [{\n    provide: INITIAL_NAVIGATION,\n    useValue: 0 /* InitialNavigation.EnabledBlocking */\n  }, {\n    provide: APP_INITIALIZER,\n    multi: true,\n    deps: [Injector],\n    useFactory: injector => {\n      const locationInitialized = injector.get(LOCATION_INITIALIZED, Promise.resolve());\n      return () => {\n        return locationInitialized.then(() => {\n          return new Promise(resolve => {\n            const router = injector.get(Router);\n            const bootstrapDone = injector.get(BOOTSTRAP_DONE);\n            afterNextNavigation(router, () => {\n              // Unblock APP_INITIALIZER in case the initial navigation was canceled or errored\n              // without a redirect.\n              resolve(true);\n            });\n            injector.get(NavigationTransitions).afterPreactivation = () => {\n              // Unblock APP_INITIALIZER once we get to `afterPreactivation`. At this point, we\n              // assume activation will complete successfully (even though this is not\n              // guaranteed).\n              resolve(true);\n              return bootstrapDone.closed ? of(void 0) : bootstrapDone;\n            };\n            router.initialNavigation();\n          });\n        });\n      };\n    }\n  }];\n  return routerFeature(2 /* RouterFeatureKind.EnabledBlockingInitialNavigationFeature */, providers);\n}\n/**\n * Disables initial navigation.\n *\n * Use if there is a reason to have more control over when the router starts its initial navigation\n * due to some complex initialization logic.\n *\n * @usageNotes\n *\n * Basic example of how you can disable initial navigation:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withDisabledInitialNavigation())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withDisabledInitialNavigation() {\n  const providers = [{\n    provide: APP_INITIALIZER,\n    multi: true,\n    useFactory: () => {\n      const router = inject(Router);\n      return () => {\n        router.setUpLocationChangeListener();\n      };\n    }\n  }, {\n    provide: INITIAL_NAVIGATION,\n    useValue: 2 /* InitialNavigation.Disabled */\n  }];\n  return routerFeature(3 /* RouterFeatureKind.DisabledInitialNavigationFeature */, providers);\n}\n/**\n * Enables logging of all internal navigation events to the console.\n * Extra logging might be useful for debugging purposes to inspect Router event sequence.\n *\n * @usageNotes\n *\n * Basic example of how you can enable debug tracing:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withDebugTracing())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withDebugTracing() {\n  let providers = [];\n  if (typeof ngDevMode === 'undefined' || ngDevMode) {\n    providers = [{\n      provide: ENVIRONMENT_INITIALIZER,\n      multi: true,\n      useFactory: () => {\n        const router = inject(Router);\n        return () => router.events.subscribe(e => {\n          // tslint:disable:no-console\n          console.group?.(`Router Event: ${e.constructor.name}`);\n          console.log(stringifyEvent(e));\n          console.log(e);\n          console.groupEnd?.();\n          // tslint:enable:no-console\n        });\n      }\n    }];\n  } else {\n    providers = [];\n  }\n  return routerFeature(1 /* RouterFeatureKind.DebugTracingFeature */, providers);\n}\nconst ROUTER_PRELOADER = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router preloader' : '');\n/**\n * Allows to configure a preloading strategy to use. The strategy is configured by providing a\n * reference to a class that implements a `PreloadingStrategy`.\n *\n * @usageNotes\n *\n * Basic example of how you can configure preloading:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withPreloading(PreloadAllModules))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @param preloadingStrategy A reference to a class that implements a `PreloadingStrategy` that\n *     should be used.\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withPreloading(preloadingStrategy) {\n  const providers = [{\n    provide: ROUTER_PRELOADER,\n    useExisting: RouterPreloader\n  }, {\n    provide: PreloadingStrategy,\n    useExisting: preloadingStrategy\n  }];\n  return routerFeature(0 /* RouterFeatureKind.PreloadingFeature */, providers);\n}\n/**\n * Allows to provide extra parameters to configure Router.\n *\n * @usageNotes\n *\n * Basic example of how you can provide extra configuration options:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withRouterConfig({\n *          onSameUrlNavigation: 'reload'\n *       }))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n *\n * @param options A set of parameters to configure Router, see `RouterConfigOptions` for\n *     additional information.\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withRouterConfig(options) {\n  const providers = [{\n    provide: ROUTER_CONFIGURATION,\n    useValue: options\n  }];\n  return routerFeature(5 /* RouterFeatureKind.RouterConfigurationFeature */, providers);\n}\n/**\n * Provides the location strategy that uses the URL fragment instead of the history API.\n *\n * @usageNotes\n *\n * Basic example of how you can use the hash location option:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withHashLocation())\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link provideRouter}\n * @see {@link HashLocationStrategy}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withHashLocation() {\n  const providers = [{\n    provide: LocationStrategy,\n    useClass: HashLocationStrategy\n  }];\n  return routerFeature(6 /* RouterFeatureKind.RouterHashLocationFeature */, providers);\n}\n/**\n * Provides a function which is called when a navigation error occurs.\n *\n * This function is run inside application's [injection context](guide/di/dependency-injection-context)\n * so you can use the [`inject`](api/core/inject) function.\n *\n * This function can return a `RedirectCommand` to convert the error to a redirect, similar to returning\n * a `UrlTree` or `RedirectCommand` from a guard. This will also prevent the `Router` from emitting\n * `NavigationError`; it will instead emit `NavigationCancel` with code NavigationCancellationCode.Redirect.\n * Return values other than `RedirectCommand` are ignored and do not change any behavior with respect to\n * how the `Router` handles the error.\n *\n * @usageNotes\n *\n * Basic example of how you can use the error handler option:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withNavigationErrorHandler((e: NavigationError) =>\n * inject(MyErrorTracker).trackError(e)))\n *     ]\n *   }\n * );\n * ```\n *\n * @see {@link NavigationError}\n * @see {@link core/inject}\n * @see {@link runInInjectionContext}\n *\n * @returns A set of providers for use with `provideRouter`.\n *\n * @publicApi\n */\nfunction withNavigationErrorHandler(handler) {\n  const providers = [{\n    provide: NAVIGATION_ERROR_HANDLER,\n    useValue: handler\n  }];\n  return routerFeature(7 /* RouterFeatureKind.NavigationErrorHandlerFeature */, providers);\n}\n/**\n * Enables binding information from the `Router` state directly to the inputs of the component in\n * `Route` configurations.\n *\n * @usageNotes\n *\n * Basic example of how you can enable the feature:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withComponentInputBinding())\n *     ]\n *   }\n * );\n * ```\n *\n * @returns A set of providers for use with `provideRouter`.\n */\nfunction withComponentInputBinding() {\n  const providers = [RoutedComponentInputBinder, {\n    provide: INPUT_BINDER,\n    useExisting: RoutedComponentInputBinder\n  }];\n  return routerFeature(8 /* RouterFeatureKind.ComponentInputBindingFeature */, providers);\n}\n/**\n * Enables view transitions in the Router by running the route activation and deactivation inside of\n * `document.startViewTransition`.\n *\n * Note: The View Transitions API is not available in all browsers. If the browser does not support\n * view transitions, the Router will not attempt to start a view transition and continue processing\n * the navigation as usual.\n *\n * @usageNotes\n *\n * Basic example of how you can enable the feature:\n * ```\n * const appRoutes: Routes = [];\n * bootstrapApplication(AppComponent,\n *   {\n *     providers: [\n *       provideRouter(appRoutes, withViewTransitions())\n *     ]\n *   }\n * );\n * ```\n *\n * @returns A set of providers for use with `provideRouter`.\n * @see https://developer.chrome.com/docs/web-platform/view-transitions/\n * @see https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API\n * @experimental\n */\nfunction withViewTransitions(options) {\n  const providers = [{\n    provide: CREATE_VIEW_TRANSITION,\n    useValue: createViewTransition\n  }, {\n    provide: VIEW_TRANSITION_OPTIONS,\n    useValue: {\n      skipNextTransition: !!options?.skipInitialTransition,\n      ...options\n    }\n  }];\n  return routerFeature(9 /* RouterFeatureKind.ViewTransitionsFeature */, providers);\n}\n\n/**\n * The directives defined in the `RouterModule`.\n */\nconst ROUTER_DIRECTIVES = [RouterOutlet, RouterLink, RouterLinkActive, ɵEmptyOutletComponent];\n/**\n * @docsNotRequired\n */\nconst ROUTER_FORROOT_GUARD = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'router duplicate forRoot guard' : 'ROUTER_FORROOT_GUARD');\n// TODO(atscott): All of these except `ActivatedRoute` are `providedIn: 'root'`. They are only kept\n// here to avoid a breaking change whereby the provider order matters based on where the\n// `RouterModule`/`RouterTestingModule` is imported. These can/should be removed as a \"breaking\"\n// change in a major version.\nconst ROUTER_PROVIDERS = [Location, {\n  provide: UrlSerializer,\n  useClass: DefaultUrlSerializer\n}, Router, ChildrenOutletContexts, {\n  provide: ActivatedRoute,\n  useFactory: rootRoute,\n  deps: [Router]\n}, RouterConfigLoader,\n// Only used to warn when `provideRoutes` is used without `RouterModule` or `provideRouter`. Can\n// be removed when `provideRoutes` is removed.\ntypeof ngDevMode === 'undefined' || ngDevMode ? {\n  provide: ROUTER_IS_PROVIDED,\n  useValue: true\n} : []];\n/**\n * @description\n *\n * Adds directives and providers for in-app navigation among views defined in an application.\n * Use the Angular `Router` service to declaratively specify application states and manage state\n * transitions.\n *\n * You can import this NgModule multiple times, once for each lazy-loaded bundle.\n * However, only one `Router` service can be active.\n * To ensure this, there are two ways to register routes when importing this module:\n *\n * * The `forRoot()` method creates an `NgModule` that contains all the directives, the given\n * routes, and the `Router` service itself.\n * * The `forChild()` method creates an `NgModule` that contains all the directives and the given\n * routes, but does not include the `Router` service.\n *\n * @see [Routing and Navigation guide](guide/routing/common-router-tasks) for an\n * overview of how the `Router` service should be used.\n *\n * @publicApi\n */\nlet RouterModule = /*#__PURE__*/(() => {\n  class RouterModule {\n    constructor(guard) {}\n    /**\n     * Creates and configures a module with all the router providers and directives.\n     * Optionally sets up an application listener to perform an initial navigation.\n     *\n     * When registering the NgModule at the root, import as follows:\n     *\n     * ```\n     * @NgModule({\n     *   imports: [RouterModule.forRoot(ROUTES)]\n     * })\n     * class MyNgModule {}\n     * ```\n     *\n     * @param routes An array of `Route` objects that define the navigation paths for the application.\n     * @param config An `ExtraOptions` configuration object that controls how navigation is performed.\n     * @return The new `NgModule`.\n     *\n     */\n    static forRoot(routes, config) {\n      return {\n        ngModule: RouterModule,\n        providers: [ROUTER_PROVIDERS, typeof ngDevMode === 'undefined' || ngDevMode ? config?.enableTracing ? withDebugTracing().ɵproviders : [] : [], {\n          provide: ROUTES,\n          multi: true,\n          useValue: routes\n        }, {\n          provide: ROUTER_FORROOT_GUARD,\n          useFactory: provideForRootGuard,\n          deps: [[Router, new Optional(), new SkipSelf()]]\n        }, {\n          provide: ROUTER_CONFIGURATION,\n          useValue: config ? config : {}\n        }, config?.useHash ? provideHashLocationStrategy() : providePathLocationStrategy(), provideRouterScroller(), config?.preloadingStrategy ? withPreloading(config.preloadingStrategy).ɵproviders : [], config?.initialNavigation ? provideInitialNavigation(config) : [], config?.bindToComponentInputs ? withComponentInputBinding().ɵproviders : [], config?.enableViewTransitions ? withViewTransitions().ɵproviders : [], provideRouterInitializer()]\n      };\n    }\n    /**\n     * Creates a module with all the router directives and a provider registering routes,\n     * without creating a new Router service.\n     * When registering for submodules and lazy-loaded submodules, create the NgModule as follows:\n     *\n     * ```\n     * @NgModule({\n     *   imports: [RouterModule.forChild(ROUTES)]\n     * })\n     * class MyNgModule {}\n     * ```\n     *\n     * @param routes An array of `Route` objects that define the navigation paths for the submodule.\n     * @return The new NgModule.\n     *\n     */\n    static forChild(routes) {\n      return {\n        ngModule: RouterModule,\n        providers: [{\n          provide: ROUTES,\n          multi: true,\n          useValue: routes\n        }]\n      };\n    }\n    static {\n      this.ɵfac = function RouterModule_Factory(t) {\n        return new (t || RouterModule)(i0.ɵɵinject(ROUTER_FORROOT_GUARD, 8));\n      };\n    }\n    static {\n      this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n        type: RouterModule\n      });\n    }\n    static {\n      this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n    }\n  }\n  return RouterModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * For internal use by `RouterModule` only. Note that this differs from `withInMemoryRouterScroller`\n * because it reads from the `ExtraOptions` which should not be used in the standalone world.\n */\nfunction provideRouterScroller() {\n  return {\n    provide: ROUTER_SCROLLER,\n    useFactory: () => {\n      const viewportScroller = inject(ViewportScroller);\n      const zone = inject(NgZone);\n      const config = inject(ROUTER_CONFIGURATION);\n      const transitions = inject(NavigationTransitions);\n      const urlSerializer = inject(UrlSerializer);\n      if (config.scrollOffset) {\n        viewportScroller.setOffset(config.scrollOffset);\n      }\n      return new RouterScroller(urlSerializer, transitions, viewportScroller, zone, config);\n    }\n  };\n}\n// Note: For internal use only with `RouterModule`. Standalone setup via `provideRouter` should\n// provide hash location directly via `{provide: LocationStrategy, useClass: HashLocationStrategy}`.\nfunction provideHashLocationStrategy() {\n  return {\n    provide: LocationStrategy,\n    useClass: HashLocationStrategy\n  };\n}\n// Note: For internal use only with `RouterModule`. Standalone setup via `provideRouter` does not\n// need this at all because `PathLocationStrategy` is the default factory for `LocationStrategy`.\nfunction providePathLocationStrategy() {\n  return {\n    provide: LocationStrategy,\n    useClass: PathLocationStrategy\n  };\n}\nfunction provideForRootGuard(router) {\n  if ((typeof ngDevMode === 'undefined' || ngDevMode) && router) {\n    throw new ɵRuntimeError(4007 /* RuntimeErrorCode.FOR_ROOT_CALLED_TWICE */, `The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector.` + ` Lazy loaded modules should use RouterModule.forChild() instead.`);\n  }\n  return 'guarded';\n}\n// Note: For internal use only with `RouterModule`. Standalone router setup with `provideRouter`\n// users call `withXInitialNavigation` directly.\nfunction provideInitialNavigation(config) {\n  return [config.initialNavigation === 'disabled' ? withDisabledInitialNavigation().ɵproviders : [], config.initialNavigation === 'enabledBlocking' ? withEnabledBlockingInitialNavigation().ɵproviders : []];\n}\n// TODO(atscott): This should not be in the public API\n/**\n * A DI token for the router initializer that\n * is called after the app is bootstrapped.\n *\n * @publicApi\n */\nconst ROUTER_INITIALIZER = /*#__PURE__*/new InjectionToken(typeof ngDevMode === 'undefined' || ngDevMode ? 'Router Initializer' : '');\nfunction provideRouterInitializer() {\n  return [\n  // ROUTER_INITIALIZER token should be removed. It's public API but shouldn't be. We can just\n  // have `getBootstrapListener` directly attached to APP_BOOTSTRAP_LISTENER.\n  {\n    provide: ROUTER_INITIALIZER,\n    useFactory: getBootstrapListener\n  }, {\n    provide: APP_BOOTSTRAP_LISTENER,\n    multi: true,\n    useExisting: ROUTER_INITIALIZER\n  }];\n}\n\n/**\n * Maps an array of injectable classes with canMatch functions to an array of equivalent\n * `CanMatchFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanMatch(providers) {\n  return providers.map(provider => (...params) => inject(provider).canMatch(...params));\n}\n/**\n * Maps an array of injectable classes with canActivate functions to an array of equivalent\n * `CanActivateFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanActivate(providers) {\n  return providers.map(provider => (...params) => inject(provider).canActivate(...params));\n}\n/**\n * Maps an array of injectable classes with canActivateChild functions to an array of equivalent\n * `CanActivateChildFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanActivateChild(providers) {\n  return providers.map(provider => (...params) => inject(provider).canActivateChild(...params));\n}\n/**\n * Maps an array of injectable classes with canDeactivate functions to an array of equivalent\n * `CanDeactivateFn` for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='CanActivate'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToCanDeactivate(providers) {\n  return providers.map(provider => (...params) => inject(provider).canDeactivate(...params));\n}\n/**\n * Maps an injectable class with a resolve function to an equivalent `ResolveFn`\n * for use in a `Route` definition.\n *\n * Usage {@example router/utils/functional_guards.ts region='Resolve'}\n *\n * @publicApi\n * @see {@link Route}\n */\nfunction mapToResolve(provider) {\n  return (...params) => inject(provider).resolve(...params);\n}\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of the router package.\n */\n/**\n * @publicApi\n */\nconst VERSION = /*#__PURE__*/new Version('18.0.3');\n\n/**\n * @module\n * @description\n * Entry point for all public APIs of this package.\n */\n// This file only reexports content of the `src` folder. Keep it that way.\n\n// This file is not used to build this module. It is only used during editing\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ActivatedRoute, ActivatedRouteSnapshot, ActivationEnd, ActivationStart, BaseRouteReuseStrategy, ChildActivationEnd, ChildActivationStart, ChildrenOutletContexts, DefaultTitleStrategy, DefaultUrlSerializer, EventType, GuardsCheckEnd, GuardsCheckStart, NavigationCancel, NavigationCancellationCode, NavigationEnd, NavigationError, NavigationSkipped, NavigationSkippedCode, NavigationStart, NoPreloading, OutletContext, PRIMARY_OUTLET, PreloadAllModules, PreloadingStrategy, ROUTER_CONFIGURATION, ROUTER_INITIALIZER, ROUTES, RedirectCommand, ResolveEnd, ResolveStart, RouteConfigLoadEnd, RouteConfigLoadStart, RouteReuseStrategy, Router, RouterEvent, RouterLink, RouterLinkActive, RouterLink as RouterLinkWithHref, RouterModule, RouterOutlet, RouterPreloader, RouterState, RouterStateSnapshot, RoutesRecognized, Scroll, TitleStrategy, UrlHandlingStrategy, UrlSegment, UrlSegmentGroup, UrlSerializer, UrlTree, VERSION, convertToParamMap, createUrlTreeFromSnapshot, defaultUrlMatcher, mapToCanActivate, mapToCanActivateChild, mapToCanDeactivate, mapToCanMatch, mapToResolve, provideRouter, provideRoutes, withComponentInputBinding, withDebugTracing, withDisabledInitialNavigation, withEnabledBlockingInitialNavigation, withHashLocation, withInMemoryScrolling, withNavigationErrorHandler, withPreloading, withRouterConfig, withViewTransitions, ɵEmptyOutletComponent, ROUTER_PROVIDERS as ɵROUTER_PROVIDERS, afterNextNavigation as ɵafterNextNavigation, loadChildren as ɵloadChildren };\n","import * as i0 from '@angular/core';\nimport { NgZone, Injectable, Inject, LOCALE_ID, ElementRef, Optional, Self, SecurityContext } from '@angular/core';\nimport * as i3 from '@taiga-ui/cdk';\nimport { tuiZoneOptimized, TUI_WINDOW_SIZE, tuiZonefree, EMPTY_CLIENT_RECT, TuiDestroyService, tuiAssert, TUI_IS_WEBKIT } from '@taiga-ui/cdk';\nimport { TUI_MEDIA, TUI_SANITIZER, TUI_ICONS } from '@taiga-ui/core/tokens';\nimport * as i1 from 'rxjs';\nimport { Observable, of, BehaviorSubject, fromEvent, merge, timer, EMPTY } from 'rxjs';\nimport { map, distinctUntilChanged, shareReplay, startWith, share, finalize, takeUntil } from 'rxjs/operators';\nimport { WINDOW, ANIMATION_FRAME } from '@ng-web-apis/common';\nimport * as i2 from '@taiga-ui/core/abstract';\nimport { TuiPositionAccessor } from '@taiga-ui/core/abstract';\nimport * as i1$1 from '@angular/router';\nimport { RouterLinkActive } from '@angular/router';\nimport * as i1$2 from '@angular/platform-browser';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { tuiProcessIcon } from '@taiga-ui/core/utils/dom';\n\n/**\n * Service to provide the current breakpoint based on Taiga UI's media queries\n */\nlet TuiBreakpointService = /*#__PURE__*/(() => {\n  class TuiBreakpointService extends Observable {\n    constructor(media, ngZone, size$) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.media = media;\n      this.ngZone = ngZone;\n      this.size$ = size$;\n      this.sorted = Object.values(this.media).sort((a, b) => a - b);\n      this.invert = Object.keys(this.media).reduce((ret, key) => Object.assign(Object.assign({}, ret), {\n        [this.media[key]]: key\n      }), {});\n      this.stream$ = this.size$.pipe(map(({\n        width\n      }) => this.sorted.find(size => size > width)), map(key => this.invert[key || this.sorted[this.sorted.length - 1]]), distinctUntilChanged(), tuiZoneOptimized(this.ngZone), shareReplay({\n        bufferSize: 1,\n        refCount: true\n      }));\n    }\n  }\n  TuiBreakpointService.ɵfac = function TuiBreakpointService_Factory(t) {\n    return new (t || TuiBreakpointService)(i0.ɵɵinject(TUI_MEDIA), i0.ɵɵinject(NgZone), i0.ɵɵinject(TUI_WINDOW_SIZE));\n  };\n  TuiBreakpointService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiBreakpointService,\n    factory: TuiBreakpointService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiBreakpointService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFormatDateService = /*#__PURE__*/(() => {\n  class TuiFormatDateService {\n    constructor(locale) {\n      this.locale = locale;\n    }\n    format(timestamp) {\n      return of(new Date(timestamp).toLocaleTimeString(this.locale, {\n        hour: 'numeric',\n        minute: '2-digit'\n      }));\n    }\n  }\n  TuiFormatDateService.ɵfac = function TuiFormatDateService_Factory(t) {\n    return new (t || TuiFormatDateService)(i0.ɵɵinject(LOCALE_ID));\n  };\n  TuiFormatDateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiFormatDateService,\n    factory: TuiFormatDateService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiFormatDateService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service for displaying hints/tooltips\n */\nlet TuiHintService = /*#__PURE__*/(() => {\n  class TuiHintService extends BehaviorSubject {\n    constructor() {\n      super([]);\n    }\n    add(directive) {\n      this.next(this.value.concat(directive));\n    }\n    remove(directive) {\n      if (this.value.includes(directive)) {\n        this.next(this.value.filter(hint => hint !== directive));\n      }\n    }\n  }\n  TuiHintService.ɵfac = function TuiHintService_Factory(t) {\n    return new (t || TuiHintService)();\n  };\n  TuiHintService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiHintService,\n    factory: TuiHintService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiHintService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiNightThemeService = /*#__PURE__*/(() => {\n  class TuiNightThemeService extends Observable {\n    constructor(win) {\n      const media = win.matchMedia('(prefers-color-scheme: dark)');\n      const media$ = fromEvent(media, 'change').pipe(startWith(null), map(() => media.matches), share());\n      super(subscriber => media$.subscribe(subscriber));\n    }\n  }\n  TuiNightThemeService.ɵfac = function TuiNightThemeService_Factory(t) {\n    return new (t || TuiNightThemeService)(i0.ɵɵinject(WINDOW));\n  };\n  TuiNightThemeService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiNightThemeService,\n    factory: TuiNightThemeService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiNightThemeService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPositionService = /*#__PURE__*/(() => {\n  class TuiPositionService extends Observable {\n    constructor(\n    // Destructuring here causes memory leak\n    el, animationFrame, zone, accessor) {\n      super(subscriber => animationFrame.pipe(map(() => el.nativeElement.getBoundingClientRect()), map(rect => accessor.getPosition(rect)), tuiZonefree(zone), finalize(() => accessor.getPosition(EMPTY_CLIENT_RECT))).subscribe(subscriber));\n    }\n  }\n  TuiPositionService.ɵfac = function TuiPositionService_Factory(t) {\n    return new (t || TuiPositionService)(i0.ɵɵinject(ElementRef), i0.ɵɵinject(ANIMATION_FRAME), i0.ɵɵinject(NgZone), i0.ɵɵinject(TuiPositionAccessor));\n  };\n  TuiPositionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiPositionService,\n    factory: TuiPositionService.ɵfac\n  });\n  return TuiPositionService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Remove when Angular is update and `RouterLinkActive` has output\nlet TuiRouterLinkActiveService = /*#__PURE__*/(() => {\n  class TuiRouterLinkActiveService extends Observable {\n    constructor(routerLinkActive, zone, animationFrame$, destroy$) {\n      const stream$ = routerLinkActive ? merge(timer(0),\n      // SSR (animationFrame$ never emits value during SSR)\n      animationFrame$).pipe(map(() => routerLinkActive.isActive), distinctUntilChanged(), tuiZoneOptimized(zone), takeUntil(destroy$)) : EMPTY;\n      super(subscriber => stream$.subscribe(subscriber));\n    }\n  }\n  TuiRouterLinkActiveService.ɵfac = function TuiRouterLinkActiveService_Factory(t) {\n    return new (t || TuiRouterLinkActiveService)(i0.ɵɵinject(RouterLinkActive, 8), i0.ɵɵinject(NgZone), i0.ɵɵinject(ANIMATION_FRAME), i0.ɵɵinject(TuiDestroyService, 2));\n  };\n  TuiRouterLinkActiveService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiRouterLinkActiveService,\n    factory: TuiRouterLinkActiveService.ɵfac\n  });\n  return TuiRouterLinkActiveService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service for reusing SVGs without inlining each instance\n */\nlet TuiSvgService = /*#__PURE__*/(() => {\n  class TuiSvgService {\n    constructor(tuiSanitizer, sanitizer, icons) {\n      this.tuiSanitizer = tuiSanitizer;\n      this.sanitizer = sanitizer;\n      this.originals = {};\n      this.items$ = new BehaviorSubject(new Map());\n      this.define(icons);\n    }\n    define(icons) {\n      const {\n        value\n      } = this.items$;\n      Object.keys(icons).forEach(key => {\n        this.defineIcon(key, icons[key], value);\n      });\n      this.items$.next(value);\n    }\n    getOriginal(name) {\n      return this.originals[name] || null;\n    }\n    defineIcon(name, src, map) {\n      if (map.has(name)) {\n        return;\n      }\n      const parsed = this.parseSrc(name, src);\n      if (!parsed) {\n        ngDevMode && tuiAssert.assert(false, 'Unable to parse given SVG src');\n        return;\n      }\n      map.set(name, parsed);\n      this.originals = Object.assign(Object.assign({}, this.originals), {\n        [name]: src\n      });\n    }\n    parseSrc(name, src) {\n      return this.sanitize(tuiProcessIcon(src, name));\n    }\n    sanitize(src) {\n      return this.sanitizer.bypassSecurityTrustHtml((this.tuiSanitizer ? this.tuiSanitizer.sanitize(SecurityContext.HTML, src) : this.sanitizer.sanitize(SecurityContext.HTML, src)) || '');\n    }\n  }\n  TuiSvgService.ɵfac = function TuiSvgService_Factory(t) {\n    return new (t || TuiSvgService)(i0.ɵɵinject(TUI_SANITIZER, 8), i0.ɵɵinject(DomSanitizer), i0.ɵɵinject(TUI_ICONS));\n  };\n  TuiSvgService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiSvgService,\n    factory: TuiSvgService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiSvgService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiVisualViewportService = /*#__PURE__*/(() => {\n  class TuiVisualViewportService {\n    constructor(win, isWebkit) {\n      this.win = win;\n      this.isWebkit = isWebkit;\n    }\n    // https://bugs.webkit.org/show_bug.cgi?id=207089\n    correct([y, x]) {\n      return [this.correctY(y), this.correctX(x)];\n    }\n    correctX(x) {\n      var _a, _b;\n      return this.isWebkit ? x + ((_b = (_a = this.win.visualViewport) === null || _a === void 0 ? void 0 : _a.offsetLeft) !== null && _b !== void 0 ? _b : 0) : x;\n    }\n    correctY(y) {\n      var _a, _b;\n      return this.isWebkit ? y + ((_b = (_a = this.win.visualViewport) === null || _a === void 0 ? void 0 : _a.offsetTop) !== null && _b !== void 0 ? _b : 0) : y;\n    }\n  }\n  TuiVisualViewportService.ɵfac = function TuiVisualViewportService_Factory(t) {\n    return new (t || TuiVisualViewportService)(i0.ɵɵinject(WINDOW), i0.ɵɵinject(TUI_IS_WEBKIT));\n  };\n  TuiVisualViewportService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiVisualViewportService,\n    factory: TuiVisualViewportService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiVisualViewportService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiBreakpointService, TuiFormatDateService, TuiHintService, TuiNightThemeService, TuiPositionService, TuiRouterLinkActiveService, TuiSvgService, TuiVisualViewportService };\n","import { __decorate } from 'tslib';\nimport * as i2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, InjectionToken, SkipSelf, Optional, SecurityContext, ElementRef, Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport * as i4 from '@angular/platform-browser';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { WINDOW } from '@ng-web-apis/common';\nimport * as i1 from '@taiga-ui/cdk';\nimport { tuiSvgLinearGradientProcessor, tuiCreateTokenFromFactory, tuiIsString, tuiAssert, tuiGetDocumentOrShadowRoot, TuiStaticRequestService, TUI_BASE_HREF, tuiPure, TuiLetModule } from '@taiga-ui/cdk';\nimport { TUI_CACHE_BUSTING_PAYLOAD, TUI_ICON_ERROR } from '@taiga-ui/core/constants';\nimport * as i3 from '@taiga-ui/core/services';\nimport { TuiSvgService } from '@taiga-ui/core/services';\nimport { TUI_DEFAULT_ICONS_PLACE, TUI_ICONS_PLACE, TUI_ICONS_PATH, TUI_SVG_SRC_PROCESSOR, TUI_SVG_CONTENT_PROCESSOR, TUI_SANITIZER } from '@taiga-ui/core/tokens';\nimport { tuiIsPresumedHTMLString } from '@taiga-ui/core/utils/miscellaneous';\nimport { identity, ReplaySubject, of } from 'rxjs';\nimport { switchMap, startWith, catchError, map } from 'rxjs/operators';\nimport { tuiIconsPathFactory } from '@taiga-ui/core/utils';\nfunction TuiSvgComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 3);\n  }\n  if (rf & 2) {\n    const innerHTML_r1 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵproperty(\"innerHTML\", innerHTML_r1, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction TuiSvgComponent_ng_container_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 4);\n    i0.ɵɵlistener(\"error\", function TuiSvgComponent_ng_container_0_ng_template_2_Template_svg_error_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onError());\n    });\n    i0.ɵɵelement(1, \"use\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"href\", ctx_r2.use, null, \"xlink\");\n  }\n}\nfunction TuiSvgComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiSvgComponent_ng_container_0_div_1_Template, 1, 1, \"div\", 2)(2, TuiSvgComponent_ng_container_0_ng_template_2_Template, 2, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const useTemplate_r4 = i0.ɵɵreference(3);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isInnerHTML)(\"ngIfElse\", useTemplate_r4);\n  }\n}\nconst TUI_DEPRECATED_ICONS = {\n  tuiIconAttach: 'tuiIconPaperclip',\n  tuiIconAttention: 'tuiIconAlertCircle',\n  tuiIconBackCircle: 'tuiIconArrowLeftCircle',\n  tuiIconCall: 'tuiIconPhone',\n  tuiIconCallIn: 'tuiIconPhoneIncoming',\n  tuiIconCallOut: 'tuiIconPhoneOutgoing',\n  tuiIconCallTransfer: 'tuiIconPhoneForwarded',\n  tuiIconCancel: 'tuiIconXCircle',\n  tuiIconCancelCircle: 'tuiIconSlash',\n  tuiIconCard: 'tuiIconCreditCard',\n  tuiIconCards: 'tuiIconCreditCard',\n  tuiIconChartBar: 'tuiIconBarChart',\n  tuiIconChart: 'tuiIconBarChart',\n  tuiIconCheckList: 'tuiIconClipboard',\n  tuiIconCloseCircle: 'tuiIconXCircle',\n  tuiIconCollapse: 'tuiIconMinimize',\n  tuiIconComment: 'tuiIconMessageSquare',\n  tuiIconCommentFw: 'tuiIconMessageForward',\n  tuiIconCompany: 'tuiIconBriefcase',\n  tuiIconDefaultDoc: 'tuiIconFile',\n  tuiIconDesktop: 'tuiIconMonitor',\n  tuiIconDesktopOff: 'tuiIconMonitorOff',\n  tuiIconDislike: 'tuiIconThumbsDown',\n  tuiIconDone: 'tuiIconCheckCircle',\n  tuiIconDraft: 'tuiIconEdit2',\n  tuiIconEyeOpen: 'tuiIconEye',\n  tuiIconEyeClosed: 'tuiIconEyeOff',\n  tuiIconExpand: 'tuiIconMaximize',\n  tuiIconExternal: 'tuiIconExternalLink',\n  tuiIconFrame: 'tuiIconLayout',\n  tuiIconGeo: 'tuiIconMapPin',\n  tuiIconHeartFilled: 'tuiIconHeart',\n  tuiIconHide: 'tuiIconEyeOff',\n  tuiIconImg: 'tuiIconImage',\n  tuiIconInfoCircle: 'tuiIconInfo',\n  tuiIconLike: 'tuiIconThumbsUp',\n  tuiIconLockOpen: 'tuiIconUnlock',\n  tuiIconMobile: 'tuiIconSmartphone',\n  tuiIconMoreHor: 'tuiIconMoreHorizontal',\n  tuiIconMoreVer: 'tuiIconMoreVertical',\n  tuiIconMoreVert: 'tuiIconMoreVertical',\n  tuiIconPicture: 'tuiIconImage',\n  tuiIconPin: 'tuiIconMapPin',\n  tuiIconPrint: 'tuiIconPrinter',\n  tuiIconRefresh: 'tuiIconRefreshCw',\n  tuiIconRemove: 'tuiIconX',\n  tuiIconShow: 'tuiIconEye',\n  tuiIconSound: 'tuiIconVolume',\n  tuiIconSoundOff: 'tuiIconVolumeX',\n  tuiIconStarFilled: 'tuiIconStar',\n  tuiIconStop: 'tuiIconSquare',\n  tuiIconStructure: 'tuiIconGrid',\n  tuiIconTime: 'tuiIconClock',\n  tuiIconTooltip: 'tuiIconHelpCircle',\n  tuiIconViewList: 'tuiIconList',\n  tuiIconWifiOn: 'tuiIconWifi'\n};\nconst TUI_SVG_DEFAULT_OPTIONS = {\n  iconsPlace: TUI_DEFAULT_ICONS_PLACE,\n  path: tuiIconsPathFactory(TUI_DEFAULT_ICONS_PLACE),\n  srcProcessor: identity,\n  contentProcessor: tuiSvgLinearGradientProcessor,\n  deprecated: src => {\n    const oldIcon = src.replace('Large', '').replace('Outline', '');\n    const newIcon = TUI_DEPRECATED_ICONS[oldIcon];\n    return newIcon ? `${oldIcon}/(Large|Outline) is deprecated, use ${newIcon}/(Large|Outline) instead` : '';\n  }\n};\n/**\n * SVG component options\n */\nconst TUI_SVG_OPTIONS = tuiCreateTokenFromFactory(() => ({\n  iconsPlace: inject(TUI_ICONS_PLACE),\n  path: inject(TUI_ICONS_PATH),\n  deprecated: TUI_SVG_DEFAULT_OPTIONS.deprecated,\n  srcProcessor: inject(TUI_SVG_SRC_PROCESSOR),\n  contentProcessor: inject(TUI_SVG_CONTENT_PROCESSOR)\n}));\nconst TUI_SVG_SRC_INTERCEPTORS = new InjectionToken('[TUI_SVG_SRC_INTERCEPTORS]');\nfunction tuiSvgSrcInterceptors(interceptor) {\n  return {\n    provide: TUI_SVG_SRC_INTERCEPTORS,\n    useValue: interceptor,\n    multi: true\n  };\n}\nconst tuiSvgOptionsProvider = options => ({\n  provide: TUI_SVG_OPTIONS,\n  deps: [[new SkipSelf(), new Optional(), TUI_SVG_OPTIONS], [new Optional(), TUI_ICONS_PLACE], [new Optional(), TUI_ICONS_PATH], [new Optional(), TUI_SVG_SRC_PROCESSOR], [new Optional(), TUI_SVG_CONTENT_PROCESSOR]],\n  useFactory: (fallback, iconsPlace, path, srcProcessor, contentProcessor) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\n    return {\n      iconsPlace: (_c = (_b = (_a = options.iconsPlace) !== null && _a !== void 0 ? _a : fallback === null || fallback === void 0 ? void 0 : fallback.iconsPlace) !== null && _b !== void 0 ? _b : iconsPlace) !== null && _c !== void 0 ? _c : TUI_SVG_DEFAULT_OPTIONS.iconsPlace,\n      path: tuiIsString(options.path) ? tuiIconsPathFactory(options.path) : (_f = (_e = (_d = options.path) !== null && _d !== void 0 ? _d : fallback === null || fallback === void 0 ? void 0 : fallback.path) !== null && _e !== void 0 ? _e : path) !== null && _f !== void 0 ? _f : TUI_SVG_DEFAULT_OPTIONS.path,\n      deprecated: (_h = (_g = options.deprecated) !== null && _g !== void 0 ? _g : fallback === null || fallback === void 0 ? void 0 : fallback.deprecated) !== null && _h !== void 0 ? _h : TUI_SVG_DEFAULT_OPTIONS.deprecated,\n      srcProcessor: (_l = (_k = (_j = options.srcProcessor) !== null && _j !== void 0 ? _j : fallback === null || fallback === void 0 ? void 0 : fallback.srcProcessor) !== null && _k !== void 0 ? _k : srcProcessor) !== null && _l !== void 0 ? _l : TUI_SVG_DEFAULT_OPTIONS.srcProcessor,\n      contentProcessor: (_p = (_o = (_m = options.contentProcessor) !== null && _m !== void 0 ? _m : fallback === null || fallback === void 0 ? void 0 : fallback.contentProcessor) !== null && _o !== void 0 ? _o : contentProcessor) !== null && _p !== void 0 ? _p : TUI_SVG_DEFAULT_OPTIONS.contentProcessor\n    };\n  }\n});\nconst UNDEFINED_NAMED_ICON = 'Attempted to use undefined named icon';\nconst MISSING_EXTERNAL_ICON = 'External icon is missing on the given URL';\nconst FAILED_EXTERNAL_ICON = 'Failed to load external SVG';\n// TODO: Consider moving to CDK along with SvgService and SvgDefsHostComponent\nlet TuiSvgComponent = /*#__PURE__*/(() => {\n  class TuiSvgComponent {\n    constructor(doc, win, options, srcInterceptors, tuiSanitizer, svgService, staticRequestService, sanitizer, el, baseHref) {\n      this.doc = doc;\n      this.win = win;\n      this.options = options;\n      this.srcInterceptors = srcInterceptors;\n      this.tuiSanitizer = tuiSanitizer;\n      this.svgService = svgService;\n      this.staticRequestService = staticRequestService;\n      this.sanitizer = sanitizer;\n      this.el = el;\n      this.baseHref = baseHref;\n      this.src$ = new ReplaySubject(1);\n      this.icon = '';\n      this.innerHTML$ = this.src$.pipe(switchMap(() => {\n        if (tuiIsString(this.icon)) {\n          return this.isExternal ? this.getExternalIcon(this.icon) : of(this.getSafeHtml(this.icon));\n        }\n        return of(this.icon);\n      }), startWith(''));\n    }\n    set src(src) {\n      var _a;\n      const deprecated = this.options.deprecated(String(src));\n      ngDevMode && tuiAssert.assert(!deprecated, deprecated);\n      this.icon = ((_a = this.srcInterceptors) !== null && _a !== void 0 ? _a : []).reduce((newSrc, interceptor) => interceptor(newSrc, this.options), this.options.srcProcessor(src || ''));\n      this.src$.next();\n    }\n    get src() {\n      return this.icon;\n    }\n    get use() {\n      if (tuiIsString(this.icon)) {\n        return this.icon.includes('.svg#') ? this.icon : this.resolveName(this.icon, this.options.path);\n      }\n      return '';\n    }\n    get isInnerHTML() {\n      return !tuiIsString(this.icon) || this.isSrc || this.isExternal || this.isName && this.isShadowDOM;\n    }\n    get isShadowDOM() {\n      return tuiGetDocumentOrShadowRoot(this.el.nativeElement) !== this.doc;\n    }\n    get isUse() {\n      return this.use.replace(TUI_CACHE_BUSTING_PAYLOAD, '').includes('.svg#');\n    }\n    get isExternal() {\n      return this.isUrl || this.isCrossDomain;\n    }\n    get isUrl() {\n      return tuiIsString(this.icon) && this.icon.replace(TUI_CACHE_BUSTING_PAYLOAD, '').endsWith('.svg');\n    }\n    get isSrc() {\n      return tuiIsString(this.icon) && tuiIsPresumedHTMLString(this.icon);\n    }\n    get isName() {\n      return !this.isUrl && !this.isUse && !this.isSrc;\n    }\n    get isCrossDomain() {\n      const {\n        use,\n        isUse,\n        win\n      } = this;\n      return isUse && use.startsWith('http') && !!win.origin && !use.startsWith(win.origin);\n    }\n    onError(message = MISSING_EXTERNAL_ICON) {\n      const {\n        icon\n      } = this;\n      const event = new CustomEvent(TUI_ICON_ERROR, {\n        bubbles: true,\n        detail: {\n          message,\n          icon: icon\n        }\n      });\n      ngDevMode && tuiAssert.assert(false, message, icon);\n      this.el.nativeElement.dispatchEvent(event);\n    }\n    resolveName(name, iconsPath) {\n      return iconsPath(name, this.baseHref);\n    }\n    getSafeHtml(src) {\n      return this.isSrc ? this.sanitize(src) : this.process(src);\n    }\n    process(src) {\n      const icon = this.svgService.getOriginal(src);\n      if (this.isName && !icon && !!src) {\n        this.onError(UNDEFINED_NAMED_ICON);\n      }\n      // Empty line for innerHTML when icon is shown through USE tag\n      return !this.isShadowDOM || !this.isName ? '' : this.sanitize(icon || '');\n    }\n    sanitize(src) {\n      src = this.options.contentProcessor(src);\n      return this.tuiSanitizer && tuiIsString(src) ? this.sanitizer.bypassSecurityTrustHtml(this.tuiSanitizer.sanitize(SecurityContext.HTML, src) || '') : src;\n    }\n    getExternalIcon(src) {\n      const url = src.includes('.svg') ? src : this.use;\n      return this.staticRequestService.request(url).pipe(catchError(() => {\n        this.onError(FAILED_EXTERNAL_ICON);\n        return of('');\n      }), map(response => this.sanitize(response.replace('<svg', '<svg focusable=\"false\"'))));\n    }\n  }\n  TuiSvgComponent.ɵfac = function TuiSvgComponent_Factory(t) {\n    return new (t || TuiSvgComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(WINDOW), i0.ɵɵdirectiveInject(TUI_SVG_OPTIONS), i0.ɵɵdirectiveInject(TUI_SVG_SRC_INTERCEPTORS, 8), i0.ɵɵdirectiveInject(TUI_SANITIZER, 8), i0.ɵɵdirectiveInject(TuiSvgService), i0.ɵɵdirectiveInject(TuiStaticRequestService), i0.ɵɵdirectiveInject(DomSanitizer), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_BASE_HREF));\n  };\n  TuiSvgComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiSvgComponent,\n    selectors: [[\"tui-svg\"]],\n    inputs: {\n      src: \"src\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"useTemplate\", \"\"], [4, \"tuiLet\"], [\"class\", \"t-src\", 3, \"innerHTML\", 4, \"ngIf\", \"ngIfElse\"], [1, \"t-src\", 3, \"innerHTML\"], [\"focusable\", \"false\", \"height\", \"100%\", \"version\", \"1.1\", \"width\", \"100%\", 0, \"xmlns\", \"xlink\", \"http://www.w3.org/1999/xlink\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"t-svg\", 3, \"error\"]],\n    template: function TuiSvgComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiSvgComponent_ng_container_0_Template, 4, 2, \"ng-container\", 1);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.innerHTML$));\n      }\n    },\n    dependencies: [i1.TuiLetDirective, i2.NgIf, i2.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{display:inline-flex;vertical-align:middle;flex-shrink:0;align-items:center;justify-content:center;line-height:0;height:1.5rem;width:1.5rem;fill:transparent;stroke:transparent;font-size:1rem}.t-src[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.t-svg[_ngcontent-%COMP%]{overflow:visible}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiSvgComponent.prototype, \"resolveName\", null);\n  return TuiSvgComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiSvgModule = /*#__PURE__*/(() => {\n  class TuiSvgModule {}\n  TuiSvgModule.ɵfac = function TuiSvgModule_Factory(t) {\n    return new (t || TuiSvgModule)();\n  };\n  TuiSvgModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiSvgModule\n  });\n  TuiSvgModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiLetModule]]\n  });\n  return TuiSvgModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_DEPRECATED_ICONS, TUI_SVG_DEFAULT_OPTIONS, TUI_SVG_OPTIONS, TUI_SVG_SRC_INTERCEPTORS, TuiSvgComponent, TuiSvgModule, tuiSvgOptionsProvider, tuiSvgSrcInterceptors };\n","import { trigger, transition, style, animate, query, stagger } from '@angular/animations';\nconst TRANSITION = '{{duration}}ms ease-in-out';\nconst DURATION = {\n  params: {\n    duration: 300\n  }\n};\nconst STAGGER = 300;\nconst tuiHeightCollapse = trigger('tuiHeightCollapse', [transition(':enter', [style({\n  height: 0\n}), animate(TRANSITION, style({\n  height: '*'\n}))], DURATION), transition(':leave', [style({\n  height: '*'\n}), animate(TRANSITION, style({\n  height: 0\n}))], DURATION)]);\nconst tuiHeightCollapseList = trigger('tuiHeightCollapseList', [transition('* => *', [query(':enter', [style({\n  height: 0\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  height: '*'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  height: '*'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  height: 0\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiWidthCollapse = trigger('tuiWidthCollapse', [transition(':enter', [style({\n  width: 0\n}), animate(TRANSITION, style({\n  width: '*'\n}))], DURATION), transition(':leave', [style({\n  width: '*'\n}), animate(TRANSITION, style({\n  width: 0\n}))], DURATION)]);\nconst tuiWidthCollapseList = trigger('tuiWidthCollapseList', [transition('* => *', [query(':enter', [style({\n  width: 0\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  width: '*'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  width: '*'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  width: 0\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiFadeIn = trigger('tuiFadeIn', [transition(':enter', [style({\n  opacity: 0\n}), animate(TRANSITION, style({\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  opacity: 1\n}), animate(TRANSITION, style({\n  opacity: 0\n}))], DURATION)]);\nconst tuiFadeInList = trigger('tuiFadeInList', [transition('* => *', [query(':enter', [style({\n  opacity: 0\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  opacity: 1\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  opacity: 1\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  opacity: 0\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiFadeInTop = trigger('tuiFadeInTop', [transition(':enter', [style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)',\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)',\n  opacity: 1\n}), animate(TRANSITION, style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}))], DURATION)]);\nconst tuiFadeInBottom = trigger('tuiFadeInBottom', [transition(':enter', [style({\n  transform: 'translateY(10px)',\n  opacity: 0\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)',\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)',\n  opacity: 1\n}), animate(TRANSITION, style({\n  transform: 'translateY(10px)',\n  opacity: 0\n}))], DURATION)]);\nconst tuiDropdownAnimation = trigger('tuiDropdownAnimation', [transition(':enter', [style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)',\n  opacity: 1\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)',\n  opacity: 1\n}), animate(TRANSITION, style({\n  transform: 'translateY(-10px)',\n  opacity: 0\n}))], DURATION)]);\nconst tuiScaleIn = trigger('tuiScaleIn', [transition(':enter', [style({\n  transform: 'scale(0)'\n}), animate(TRANSITION, style({\n  transform: 'scale(1)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'scale(1)'\n}), animate(TRANSITION, style({\n  transform: 'scale(0)'\n}))], DURATION)]);\nconst tuiPop = trigger('tuiPop', [transition(':enter', [style({\n  transform: 'scale(0)'\n}), animate(TRANSITION, style({\n  transform: 'scale(1.1)'\n})), animate(TRANSITION, style({\n  transform: 'scale(1)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'scale(1)'\n}), animate(TRANSITION, style({\n  transform: 'scale(1.1)'\n})), animate(TRANSITION, style({\n  transform: 'scale(0)'\n}))], DURATION)]);\nconst tuiScaleInList = trigger('tuiScaleInList', [transition('* => *', [query(':enter', [style({\n  transform: 'scale(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'scale(1)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'scale(1)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'scale(0)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideIn = trigger('tuiSlideIn', [transition('* => left', [style({\n  transform: 'translateX(-100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition('left => *', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(-100%)'\n}))], DURATION), transition('* => right', [style({\n  transform: 'translateX(100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition('right => *', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(100%)'\n}))], DURATION)]);\nconst tuiSlideInLeft = trigger('tuiSlideInLeft', [transition(':enter', [style({\n  transform: 'translateX(-100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(-100%)'\n}))], DURATION)]);\nconst tuiSlideInLeftList = trigger('tuiSlideInLeftList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateX(-100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateX(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(-100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideInRight = trigger('tuiSlideInRight', [transition(':enter', [style({\n  transform: 'translateX(100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateX(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateX(100%)'\n}))], DURATION)]);\nconst tuiSlideInRightList = trigger('tuiSlideInRightList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateX(100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateX(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateX(100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideInTop = trigger('tuiSlideInTop', [transition(':enter', [style({\n  transform: 'translate3d(0,{{start}},0)'\n}), animate(TRANSITION, style({\n  transform: 'translate3d(0,{{end}},0)'\n}))], {\n  params: {\n    end: 0,\n    start: '100%',\n    duration: 300\n  }\n}), transition(':leave', [style({\n  transform: 'translate3d(0,{{end}},0)',\n  pointerEvents: 'none'\n}), animate(TRANSITION, style({\n  transform: 'translate3d(0,{{start}},0)'\n}))], {\n  params: {\n    end: 0,\n    start: '100%',\n    duration: 300\n  }\n})]);\nconst tuiSlideInTopList = trigger('tuiSlideInTopList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateY(100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateY(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\nconst tuiSlideInBottom = trigger('tuiSlideInBottom', [transition(':enter', [style({\n  transform: 'translateY(-100%)'\n}), animate(TRANSITION, style({\n  transform: 'translateY(0)'\n}))], DURATION), transition(':leave', [style({\n  transform: 'translateY(0)'\n}), animate(TRANSITION, style({\n  transform: 'translateY(-100%)'\n}))], DURATION)]);\nconst tuiSlideInBottomList = trigger('tuiSlideInBottomList', [transition('* => *', [query(':enter', [style({\n  transform: 'translateY(-100%)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(0)'\n}))])], {\n  optional: true\n}), query(':leave', [style({\n  transform: 'translateY(0)'\n}), stagger(STAGGER, [animate(TRANSITION, style({\n  transform: 'translateY(-100%)'\n}))])], {\n  optional: true\n})], DURATION)]);\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiDropdownAnimation, tuiFadeIn, tuiFadeInBottom, tuiFadeInList, tuiFadeInTop, tuiHeightCollapse, tuiHeightCollapseList, tuiPop, tuiScaleIn, tuiScaleInList, tuiSlideIn, tuiSlideInBottom, tuiSlideInBottomList, tuiSlideInLeft, tuiSlideInLeftList, tuiSlideInRight, tuiSlideInRightList, tuiSlideInTop, tuiSlideInTopList, tuiWidthCollapse, tuiWidthCollapseList };\n","import * as i0 from '@angular/core';\nimport { Directive, Input, NgModule } from '@angular/core';\nimport { AbstractTuiController } from '@taiga-ui/cdk';\nlet TuiModeDirective = /*#__PURE__*/(() => {\n  class TuiModeDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.mode = null;\n    }\n  }\n  TuiModeDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiModeDirective_BaseFactory;\n    return function TuiModeDirective_Factory(t) {\n      return (ɵTuiModeDirective_BaseFactory || (ɵTuiModeDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiModeDirective)))(t || TuiModeDirective);\n    };\n  })();\n  TuiModeDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiModeDirective,\n    selectors: [[\"\", \"tuiMode\", \"\"]],\n    inputs: {\n      mode: [0, \"tuiMode\", \"mode\"]\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiModeDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiModeModule = /*#__PURE__*/(() => {\n  class TuiModeModule {}\n  TuiModeModule.ɵfac = function TuiModeModule_Factory(t) {\n    return new (t || TuiModeModule)();\n  };\n  TuiModeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiModeModule\n  });\n  TuiModeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiModeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiModeDirective, TuiModeModule };\n","import { SkipSelf, ElementRef, Optional } from '@angular/core';\nimport { TUI_IS_MOBILE_RES, TUI_MODE } from '@taiga-ui/core/tokens';\nimport { TuiModeDirective } from '@taiga-ui/core/directives/mode';\nimport { of } from 'rxjs';\nimport { startWith, map, takeUntil } from 'rxjs/operators';\nimport { tuiWatch } from '@taiga-ui/cdk';\n\n/**\n * @deprecated: drop in v4.0\n */\nconst TUI_IS_MOBILE_RES_PROVIDER = {\n  provide: TUI_IS_MOBILE_RES,\n  deps: [[new SkipSelf(), TUI_IS_MOBILE_RES], ElementRef],\n  useFactory: (mobile$, {\n    nativeElement\n  }) => {\n    nativeElement['$.class._mobile'] = mobile$;\n    return mobile$;\n  }\n};\nconst MODE_PROVIDER = {\n  provide: TUI_MODE,\n  deps: [[new Optional(), TuiModeDirective], ElementRef],\n  useFactory: (mode, {\n    nativeElement\n  }) => {\n    const mode$ = mode ? mode.change$.pipe(startWith(null), map(() => mode.mode)) : of(null);\n    nativeElement['$.data-mode.attr'] = mode$;\n    return mode$;\n  }\n};\nfunction tuiWatchedControllerFactory(controller, cdr, destroy$) {\n  controller.change$.pipe(tuiWatch(cdr), takeUntil(destroy$)).subscribe();\n  return controller;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MODE_PROVIDER, TUI_IS_MOBILE_RES_PROVIDER, tuiWatchedControllerFactory };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, Component, ChangeDetectionStrategy, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport * as i1 from '@taiga-ui/cdk';\nimport { TUI_SCROLL_REF, tuiIsFirefox, tuiGetElementOffset, TUI_IS_IOS, TuiScrollControlsModule } from '@taiga-ui/cdk';\nimport { TUI_SCROLLABLE, TUI_SCROLL_INTO_VIEW } from '@taiga-ui/core/constants';\nimport { CSS, USER_AGENT } from '@ng-web-apis/common';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/** @deprecated import from `@taiga-ui/cdk` instead */\nconst _c0 = [\"*\"];\nfunction TuiScrollbarComponent_tui_scroll_controls_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-scroll-controls\", 2);\n  }\n}\nconst SCROLL_REF_SELECTOR = '[tuiScrollRef]';\n/** @deprecated import from `@taiga-ui/cdk` instead */\nlet TuiScrollRefDirective = /*#__PURE__*/(() => {\n  class TuiScrollRefDirective {}\n  TuiScrollRefDirective.ɵfac = function TuiScrollRefDirective_Factory(t) {\n    return new (t || TuiScrollRefDirective)();\n  };\n  TuiScrollRefDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollRefDirective,\n    selectors: [[\"\", \"tuiScrollRef\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_SCROLL_REF,\n      useExisting: ElementRef\n    }])]\n  });\n  return TuiScrollRefDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollableDirective = /*#__PURE__*/(() => {\n  class TuiScrollableDirective {\n    constructor(el) {\n      this.el = el;\n    }\n    ngOnInit() {\n      this.el.nativeElement.dispatchEvent(new CustomEvent(TUI_SCROLLABLE, {\n        bubbles: true,\n        detail: this.el.nativeElement\n      }));\n    }\n  }\n  TuiScrollableDirective.ɵfac = function TuiScrollableDirective_Factory(t) {\n    return new (t || TuiScrollableDirective)(i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiScrollableDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiScrollableDirective,\n    selectors: [[\"\", \"tuiScrollable\", \"\"]]\n  });\n  return TuiScrollableDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Remove all legacy code in 4.0\nlet TuiScrollbarComponent = /*#__PURE__*/(() => {\n  class TuiScrollbarComponent {\n    constructor(cssRef, el, userAgent, isIos) {\n      this.cssRef = cssRef;\n      this.el = el;\n      this.userAgent = userAgent;\n      this.isIos = isIos;\n      this.isLegacy = !this.cssRef.supports('position', 'sticky') || tuiIsFirefox(this.userAgent) && !this.cssRef.supports('scrollbar-width', 'none');\n      this.hidden = false;\n      this.browserScrollRef = new ElementRef(this.el.nativeElement);\n    }\n    get delegated() {\n      return this.browserScrollRef.nativeElement !== this.el.nativeElement;\n    }\n    get showScrollbars() {\n      return !this.hidden && !this.isIos && (!this.isLegacy || this.delegated);\n    }\n    get showNative() {\n      return this.isLegacy && !this.hidden && !this.delegated;\n    }\n    onScrollable(element) {\n      this.browserScrollRef.nativeElement = element;\n    }\n    scrollIntoView(detail) {\n      var _a;\n      if (this.delegated) {\n        return;\n      }\n      const {\n        nativeElement\n      } = this.browserScrollRef;\n      const {\n        offsetTop,\n        offsetLeft\n      } = tuiGetElementOffset(nativeElement, detail);\n      const {\n        clientHeight,\n        clientWidth\n      } = nativeElement;\n      const {\n        offsetHeight,\n        offsetWidth\n      } = detail;\n      const scrollTop = offsetTop + offsetHeight / 2 - clientHeight / 2;\n      const scrollLeft = offsetLeft + offsetWidth / 2 - clientWidth / 2;\n      // ?. for our clients on Windows XP and Chrome 49\n      (_a = nativeElement.scrollTo) === null || _a === void 0 ? void 0 : _a.call(nativeElement, scrollLeft, scrollTop);\n    }\n  }\n  TuiScrollbarComponent.ɵfac = function TuiScrollbarComponent_Factory(t) {\n    return new (t || TuiScrollbarComponent)(i0.ɵɵdirectiveInject(CSS), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(USER_AGENT), i0.ɵɵdirectiveInject(TUI_IS_IOS));\n  };\n  TuiScrollbarComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiScrollbarComponent,\n    selectors: [[\"tui-scrollbar\"]],\n    hostVars: 2,\n    hostBindings: function TuiScrollbarComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"tui-scrollable.stop\", function TuiScrollbarComponent_tui_scrollable_stop_HostBindingHandler($event) {\n          return ctx.onScrollable($event.detail);\n        })(\"tui-scroll-into-view.stop\", function TuiScrollbarComponent_tui_scroll_into_view_stop_HostBindingHandler($event) {\n          return ctx.scrollIntoView($event.detail);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_legacy\", ctx.showNative);\n      }\n    },\n    inputs: {\n      hidden: \"hidden\"\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_SCROLL_REF,\n      deps: [TuiScrollbarComponent],\n      useFactory: ({\n        browserScrollRef\n      }) => browserScrollRef\n    }])],\n    ngContentSelectors: _c0,\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"t-bars\", 4, \"ngIf\"], [1, \"t-content\"], [1, \"t-bars\"]],\n    template: function TuiScrollbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiScrollbarComponent_tui_scroll_controls_0_Template, 1, 0, \"tui-scroll-controls\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵprojection(2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showScrollbars);\n        i0.ɵɵadvance();\n        i0.ɵɵclassProp(\"t-content_delegated\", ctx.delegated);\n      }\n    },\n    dependencies: [i1.TuiScrollControlsComponent, i2.NgIf],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:flex;isolation:isolate;overflow:auto}[_nghost-%COMP%]:not(._legacy){scrollbar-width:none;-ms-overflow-style:none}[_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar, [_nghost-%COMP%]:not(._legacy)::-webkit-scrollbar-thumb{background:transparent;width:0;height:0}._legacy[_nghost-%COMP%]{overflow:overlay}@media all and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm){._legacy[_nghost-%COMP%]::-webkit-scrollbar, ._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{width:1rem;height:1rem;border-radius:6.25rem;background-clip:padding-box;border:.375rem solid transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar{background-color:transparent}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--tui-clear-hover)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--tui-clear-active)}._legacy[_nghost-%COMP%]::-webkit-scrollbar-thumb:active{background-color:var(--tui-text-03)}}.t-content[_ngcontent-%COMP%]{isolation:isolate;flex:1;flex-basis:auto;width:100%;height:-webkit-max-content;height:max-content}.t-content_delegated[_ngcontent-%COMP%]{height:100%}.t-bars[_ngcontent-%COMP%]{color:var(--tui-text-01)}\"],\n    changeDetection: 0\n  });\n  return TuiScrollbarComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiScrollbarModule = /*#__PURE__*/(() => {\n  class TuiScrollbarModule {}\n  TuiScrollbarModule.ɵfac = function TuiScrollbarModule_Factory(t) {\n    return new (t || TuiScrollbarModule)();\n  };\n  TuiScrollbarModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiScrollbarModule\n  });\n  TuiScrollbarModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiScrollControlsModule]]\n  });\n  return TuiScrollbarModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { SCROLL_REF_SELECTOR, TuiScrollRefDirective, TuiScrollableDirective, TuiScrollbarComponent, TuiScrollbarModule };\n","import { EVENT_MANAGER_PLUGINS } from '@angular/platform-browser';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, inject, NgModule, Inject } from '@angular/core';\nimport { EMPTY, concat, defer } from 'rxjs';\nimport { takeWhile } from 'rxjs/operators';\nimport { DOCUMENT } from '@angular/common';\nfunction dasharize(camel) {\n  return camel.replace(/[a-z][A-Z]/g, letterLetter => {\n    return `${letterLetter[0]}-${letterLetter[1].toLowerCase()}`;\n  });\n}\nclass AbstractEventPlugin {\n  supports(event) {\n    return event.includes(this.modifier);\n  }\n  /** This is not used in Ivy anymore */\n  addGlobalEventListener() {\n    return () => {};\n  }\n  unwrap(event) {\n    return event.split('.').filter(v => !this.modifier.includes(v)).join('.');\n  }\n}\nlet BindEventPlugin = /*#__PURE__*/(() => {\n  class BindEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '$';\n    }\n    addEventListener(element, event) {\n      element[event] = element[event] || EMPTY;\n      const method = this.getMethod(element, event);\n      const zone$ = this.manager.getZone().onStable;\n      const sub = concat(zone$.pipe(takeWhile(() => element[event] === EMPTY)), defer(() => element[event])).subscribe(method);\n      return () => sub.unsubscribe();\n    }\n    getMethod(element, event) {\n      const [, key, value, unit = ''] = event.split('.');\n      if (event.endsWith('.attr')) {\n        return v => v === null ? element.removeAttribute(key) : element.setAttribute(key, String(v));\n      }\n      if (key === 'class') {\n        return v => element.classList.toggle(value, !!v);\n      }\n      if (key === 'style') {\n        return v => element.style.setProperty(dasharize(value), `${v}${unit}`);\n      }\n      return v => element[key] = v;\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */BindEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵBindEventPlugin_BaseFactory;\n    return function BindEventPlugin_Factory(t) {\n      return (ɵBindEventPlugin_BaseFactory || (ɵBindEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(BindEventPlugin)))(t || BindEventPlugin);\n    };\n  })();\n  BindEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: BindEventPlugin,\n    factory: BindEventPlugin.ɵfac\n  });\n  return BindEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst GLOBAL_HANDLER = new InjectionToken('[GLOBAL_HANDLER]: Global event target handler', {\n  factory: () => {\n    const document = inject(DOCUMENT);\n    return name => name === 'body' ? document.body : document.defaultView[name] || document.createElement('div');\n  }\n});\nlet GlobalEventPlugin = /*#__PURE__*/(() => {\n  class GlobalEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.handler = inject(GLOBAL_HANDLER);\n      this.modifier = '>';\n    }\n    addEventListener(_, event, handler) {\n      return this.manager.addEventListener(this.handler(event.split('>')[0]), event.split('>')[1], handler);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */GlobalEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵGlobalEventPlugin_BaseFactory;\n    return function GlobalEventPlugin_Factory(t) {\n      return (ɵGlobalEventPlugin_BaseFactory || (ɵGlobalEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(GlobalEventPlugin)))(t || GlobalEventPlugin);\n    };\n  })();\n  GlobalEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: GlobalEventPlugin,\n    factory: GlobalEventPlugin.ɵfac\n  });\n  return GlobalEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OptionsEventPlugin = /*#__PURE__*/(() => {\n  class OptionsEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = 'capture.once.passive';\n    }\n    supports(event) {\n      return event.includes('.') && !this.unwrap(event).includes('.');\n    }\n    addEventListener(element, event, handler) {\n      element.addEventListener(this.unwrap(event), handler, {\n        once: event.includes('.once'),\n        passive: event.includes('.passive'),\n        capture: event.includes('.capture')\n      });\n      return () => element.removeEventListener(this.unwrap(event), handler, event.includes('.capture'));\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */OptionsEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵOptionsEventPlugin_BaseFactory;\n    return function OptionsEventPlugin_Factory(t) {\n      return (ɵOptionsEventPlugin_BaseFactory || (ɵOptionsEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(OptionsEventPlugin)))(t || OptionsEventPlugin);\n    };\n  })();\n  OptionsEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OptionsEventPlugin,\n    factory: OptionsEventPlugin.ɵfac\n  });\n  return OptionsEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PreventEventPlugin = /*#__PURE__*/(() => {\n  class PreventEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.prevent';\n    }\n    addEventListener(element, event, handler) {\n      const wrapped = event => {\n        event.preventDefault();\n        handler(event);\n      };\n      return this.manager.addEventListener(element, this.unwrap(event), wrapped);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */PreventEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵPreventEventPlugin_BaseFactory;\n    return function PreventEventPlugin_Factory(t) {\n      return (ɵPreventEventPlugin_BaseFactory || (ɵPreventEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(PreventEventPlugin)))(t || PreventEventPlugin);\n    };\n  })();\n  PreventEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PreventEventPlugin,\n    factory: PreventEventPlugin.ɵfac\n  });\n  return PreventEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SelfEventPlugin = /*#__PURE__*/(() => {\n  class SelfEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.self';\n    }\n    addEventListener(element, event, handler) {\n      const wrapped = event => {\n        if (event.target === event.currentTarget) {\n          handler(event);\n        }\n      };\n      return this.manager.addEventListener(element, this.unwrap(event), wrapped);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */SelfEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵSelfEventPlugin_BaseFactory;\n    return function SelfEventPlugin_Factory(t) {\n      return (ɵSelfEventPlugin_BaseFactory || (ɵSelfEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(SelfEventPlugin)))(t || SelfEventPlugin);\n    };\n  })();\n  SelfEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SelfEventPlugin,\n    factory: SelfEventPlugin.ɵfac\n  });\n  return SelfEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SilentEventPlugin = /*#__PURE__*/(() => {\n  class SilentEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.silent';\n    }\n    addEventListener(element, event, handler) {\n      SilentEventPlugin.ngZone = this.manager.getZone();\n      return SilentEventPlugin.ngZone.runOutsideAngular(() => this.manager.addEventListener(element, this.unwrap(event), handler));\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */SilentEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵSilentEventPlugin_BaseFactory;\n    return function SilentEventPlugin_Factory(t) {\n      return (ɵSilentEventPlugin_BaseFactory || (ɵSilentEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(SilentEventPlugin)))(t || SilentEventPlugin);\n    };\n  })();\n  SilentEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SilentEventPlugin,\n    factory: SilentEventPlugin.ɵfac\n  });\n  return SilentEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StopEventPlugin = /*#__PURE__*/(() => {\n  class StopEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.stop';\n    }\n    addEventListener(element, event, handler) {\n      const wrapped = event => {\n        event.stopPropagation();\n        handler(event);\n      };\n      return this.manager.addEventListener(element, this.unwrap(event), wrapped);\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */StopEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵStopEventPlugin_BaseFactory;\n    return function StopEventPlugin_Factory(t) {\n      return (ɵStopEventPlugin_BaseFactory || (ɵStopEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(StopEventPlugin)))(t || StopEventPlugin);\n    };\n  })();\n  StopEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: StopEventPlugin,\n    factory: StopEventPlugin.ɵfac\n  });\n  return StopEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\r\n * TODO: Remove in v4.0.0\r\n * @deprecated\r\n */\nlet ZoneEventPlugin = /*#__PURE__*/(() => {\n  class ZoneEventPlugin extends AbstractEventPlugin {\n    constructor() {\n      super(...arguments);\n      this.modifier = '.init';\n    }\n    addEventListener() {\n      console.warn('.init plugin is no longer necessary as of v3.1.0');\n      return () => {};\n    }\n  }\n  /** @nocollapse */\n  /** @nocollapse */ZoneEventPlugin.ɵfac = /* @__PURE__ */(() => {\n    let ɵZoneEventPlugin_BaseFactory;\n    return function ZoneEventPlugin_Factory(t) {\n      return (ɵZoneEventPlugin_BaseFactory || (ɵZoneEventPlugin_BaseFactory = i0.ɵɵgetInheritedFactory(ZoneEventPlugin)))(t || ZoneEventPlugin);\n    };\n  })();\n  ZoneEventPlugin.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ZoneEventPlugin,\n    factory: ZoneEventPlugin.ɵfac\n  });\n  return ZoneEventPlugin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst PLUGINS = [SilentEventPlugin, BindEventPlugin, GlobalEventPlugin, OptionsEventPlugin, PreventEventPlugin, SelfEventPlugin, StopEventPlugin, ZoneEventPlugin];\nconst NG_EVENT_PLUGINS = PLUGINS.map(useClass => ({\n  provide: EVENT_MANAGER_PLUGINS,\n  multi: true,\n  useClass\n}));\nfunction shouldCall(predicate) {\n  return (_target, _key, desc) => {\n    const {\n      value\n    } = desc;\n    desc.value = function (...args) {\n      if (!predicate.apply(this, args)) {\n        return;\n      }\n      if (SilentEventPlugin.ngZone) {\n        SilentEventPlugin.ngZone.run(() => value.apply(this, args));\n      } else {\n        value.apply(this, args);\n      }\n    };\n  };\n}\nfunction asCallable(a) {\n  return a;\n}\nlet EventPluginsModule = /*#__PURE__*/(() => {\n  class EventPluginsModule {\n    constructor([plugin]) {\n      console.assert(!(plugin instanceof SilentEventPlugin) || EventPluginsModule.initialized, 'EventPluginsModule must come after BrowserModule in imports');\n      EventPluginsModule.initialized = true;\n    }\n  }\n  EventPluginsModule.initialized = false;\n  /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */\n  EventPluginsModule.ɵfac = function EventPluginsModule_Factory(t) {\n    return new (t || EventPluginsModule)(i0.ɵɵinject(EVENT_MANAGER_PLUGINS));\n  };\n  EventPluginsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: EventPluginsModule\n  });\n  EventPluginsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: NG_EVENT_PLUGINS\n  });\n  return EventPluginsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\r\n * Public API Surface of @tinkoff/ng-event-plugins\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { BindEventPlugin, EventPluginsModule, GLOBAL_HANDLER, GlobalEventPlugin, NG_EVENT_PLUGINS, OptionsEventPlugin, PreventEventPlugin, SilentEventPlugin, StopEventPlugin, ZoneEventPlugin, asCallable, shouldCall };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Directive, Input, Output, ElementRef, INJECTOR, Self, Inject, Optional, SkipSelf, forwardRef, Component, ChangeDetectionStrategy, HostBinding, HostListener, ViewContainerRef, NgModule } from '@angular/core';\nimport { WINDOW } from '@ng-web-apis/common';\nimport * as i2 from '@taiga-ui/cdk';\nimport { tuiCreateTokenFromFactory, TuiDestroyService, TuiDropdownPortalService, tuiPure, tuiCreateToken, tuiProvideOptions, TuiHoveredService, EMPTY_CLIENT_RECT, tuiPx, tuiGetClosestFocusable, tuiPointToClientRect, TuiActiveZoneDirective, TUI_IS_IOS, TUI_TOUCH_SUPPORTED, ALWAYS_TRUE_HANDLER, tuiIsTextNode, tuiIsString, tuiIsElement, tuiGetNativeFocused, tuiIsTextfield, CHAR_ZERO_WIDTH_SPACE, CHAR_NO_BREAK_SPACE, TUI_RANGE, TuiActiveZoneModule, TuiOverscrollModule, TuiHoveredModule } from '@taiga-ui/cdk';\nimport * as i1$1 from '@taiga-ui/core/abstract';\nimport { tuiAsRectAccessor, tuiAsVehicle, TuiDriver, tuiAsDriver, TuiPositionAccessor, tuiFallbackRectAccessor, TuiRectAccessor, tuiPositionAccessorFor, tuiRectAccessorFor, AbstractTuiDriverDirective, TuiVehicle, tuiAsPositionAccessor } from '@taiga-ui/core/abstract';\nimport { tuiDropdownAnimation } from '@taiga-ui/core/animations';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport * as i4 from '@taiga-ui/core/services';\nimport { TuiVisualViewportService, TuiPositionService } from '@taiga-ui/core/services';\nimport { TUI_VIEWPORT, TUI_ANIMATION_OPTIONS, TUI_MODE, TUI_SELECTION_STREAM } from '@taiga-ui/core/tokens';\nimport { throttleTime, takeUntil, switchMap, delay, tap, share, map, distinctUntilChanged } from 'rxjs/operators';\nimport { __decorate } from 'tslib';\nimport { tuiCheckFixedPosition, tuiOverrideOptions, tuiGetWordRange } from '@taiga-ui/core/utils';\nimport * as i3 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusComponent, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i1 from 'rxjs';\nimport { Subject, merge, of, BehaviorSubject, combineLatest } from 'rxjs';\nimport * as i1$2 from '@taiga-ui/core/components/scrollbar';\nimport { TuiScrollbarModule } from '@taiga-ui/core/components/scrollbar';\nimport { shouldCall } from '@tinkoff/ng-event-plugins';\nimport { DOCUMENT } from '@angular/common';\n\n/**\n * A component to display a dropdown\n */\nconst _c0 = a0 => ({\n  $implicit: a0\n});\nfunction TuiDropdownComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r2 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r2, \" \");\n  }\n}\nconst TUI_DROPDOWN_COMPONENT = tuiCreateTokenFromFactory(() => TuiDropdownComponent);\nlet TuiDropdownOpenDirective = /*#__PURE__*/(() => {\n  class TuiDropdownOpenDirective {\n    constructor() {\n      this.tuiDropdownOpen = false;\n      this.tuiDropdownOpenChange = new EventEmitter();\n    }\n    update(open) {\n      this.tuiDropdownOpen = open;\n      this.tuiDropdownOpenChange.emit(open);\n    }\n    ngOnChanges() {\n      var _a;\n      (_a = this.dropdown) === null || _a === void 0 ? void 0 : _a.toggle(this.tuiDropdownOpen);\n    }\n  }\n  TuiDropdownOpenDirective.ɵfac = function TuiDropdownOpenDirective_Factory(t) {\n    return new (t || TuiDropdownOpenDirective)();\n  };\n  TuiDropdownOpenDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownOpenDirective,\n    selectors: [[\"\", \"tuiDropdownOpen\", \"\"], [\"\", \"tuiDropdownOpenChange\", \"\"]],\n    inputs: {\n      tuiDropdownOpen: \"tuiDropdownOpen\"\n    },\n    outputs: {\n      tuiDropdownOpenChange: \"tuiDropdownOpenChange\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return TuiDropdownOpenDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownDirective = /*#__PURE__*/(() => {\n  class TuiDropdownDirective {\n    constructor(destroy$, el, dropdown, injector, dropdownService, open) {\n      this.el = el;\n      this.dropdown = dropdown;\n      this.injector = injector;\n      this.dropdownService = dropdownService;\n      this.open = open;\n      this.refresh$ = new Subject();\n      this.dropdownBoxRef = null;\n      this.type = 'dropdown';\n      this.component = new PolymorpheusComponent(this.dropdown, this.injector);\n      if (this.open && !this.open.dropdown) {\n        this.open.dropdown = this;\n      } else {\n        this.open = null;\n      }\n      // Ignore multiple change detection triggers at the same frame\n      this.refresh$.pipe(throttleTime(0), takeUntil(destroy$)).subscribe(() => {\n        var _a, _b;\n        (_a = this.dropdownBoxRef) === null || _a === void 0 ? void 0 : _a.changeDetectorRef.detectChanges();\n        (_b = this.dropdownBoxRef) === null || _b === void 0 ? void 0 : _b.changeDetectorRef.markForCheck();\n      });\n    }\n    get position() {\n      return tuiCheckFixedPosition(this.el.nativeElement) ? 'fixed' : 'absolute';\n    }\n    ngAfterViewChecked() {\n      this.refresh$.next();\n    }\n    ngAfterViewInit() {\n      if (this.open) {\n        this.toggle(this.open.tuiDropdownOpen);\n      }\n    }\n    ngOnChanges() {\n      if (!this.content) {\n        this.toggle(false);\n      }\n    }\n    ngOnDestroy() {\n      this.toggle(false);\n      if (this.open) {\n        this.open.dropdown = undefined;\n      }\n    }\n    getClientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n    toggle(show) {\n      var _a, _b;\n      if (show && this.content && !this.dropdownBoxRef) {\n        this.dropdownBoxRef = this.dropdownService.add(this.component);\n        (_a = this.open) === null || _a === void 0 ? void 0 : _a.update(true);\n      } else if (!show && this.dropdownBoxRef) {\n        this.dropdownService.remove(this.dropdownBoxRef);\n        this.dropdownBoxRef = null;\n        (_b = this.open) === null || _b === void 0 ? void 0 : _b.update(false);\n      }\n    }\n  }\n  TuiDropdownDirective.ɵfac = function TuiDropdownDirective_Factory(t) {\n    return new (t || TuiDropdownDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_DROPDOWN_COMPONENT), i0.ɵɵdirectiveInject(INJECTOR), i0.ɵɵdirectiveInject(TuiDropdownPortalService), i0.ɵɵdirectiveInject(TuiDropdownOpenDirective, 8));\n  };\n  TuiDropdownDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", 5, \"ng-container\"]],\n    inputs: {\n      content: [0, \"tuiDropdown\", \"content\"]\n    },\n    exportAs: [\"tuiDropdown\"],\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, tuiAsRectAccessor(TuiDropdownDirective), tuiAsVehicle(TuiDropdownDirective)]), i0.ɵɵNgOnChangesFeature]\n  });\n  __decorate([tuiPure], TuiDropdownDirective.prototype, \"position\", null);\n  return TuiDropdownDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Default values for hint options */\nconst TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS = {\n  showDelay: 200,\n  hideDelay: 500\n};\n/**\n * Default parameters for dropdown hover directive\n */\nconst TUI_DROPDOWN_HOVER_OPTIONS = tuiCreateToken(TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS);\nfunction tuiDropdownHoverOptionsProvider(options) {\n  return tuiProvideOptions(TUI_DROPDOWN_HOVER_OPTIONS, options, TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS);\n}\nlet TuiDropdownHoverDirective = /*#__PURE__*/(() => {\n  class TuiDropdownHoverDirective extends TuiDriver {\n    constructor(hovered$, options, parentHover) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.hovered$ = hovered$;\n      this.options = options;\n      this.parentHover = parentHover;\n      this.toggle$ = new Subject();\n      this.stream$ = merge(this.toggle$, this.hovered$).pipe(switchMap(visible => of(visible).pipe(delay(visible ? this.showDelay : this.hideDelay))), tap(visible => {\n        this.hovered = visible;\n      }), share());\n      this.showDelay = this.options.showDelay;\n      this.hideDelay = this.options.hideDelay;\n      this.hovered = false;\n      this.type = 'dropdown';\n    }\n    toggle(visible) {\n      var _a;\n      (_a = this.parentHover) === null || _a === void 0 ? void 0 : _a.toggle(visible);\n      this.toggle$.next(visible);\n    }\n  }\n  TuiDropdownHoverDirective.ɵfac = function TuiDropdownHoverDirective_Factory(t) {\n    return new (t || TuiDropdownHoverDirective)(i0.ɵɵdirectiveInject(TuiHoveredService), i0.ɵɵdirectiveInject(TUI_DROPDOWN_HOVER_OPTIONS), i0.ɵɵdirectiveInject(TuiDropdownHoverDirective, 12));\n  };\n  TuiDropdownHoverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownHoverDirective,\n    selectors: [[\"\", \"tuiDropdownHover\", \"\", 5, \"ng-container\"]],\n    inputs: {\n      showDelay: [0, \"tuiDropdownShowDelay\", \"showDelay\"],\n      hideDelay: [0, \"tuiDropdownHideDelay\", \"hideDelay\"]\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownHoverDirective), TuiHoveredService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownHoverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Default values for dropdown options */\nconst TUI_DROPDOWN_DEFAULT_OPTIONS = {\n  align: 'left',\n  direction: null,\n  limitWidth: 'auto',\n  maxHeight: 400,\n  minHeight: 80,\n  offset: 4,\n  appearance: ''\n};\n/**\n * Default parameters for dropdown directive\n */\nconst TUI_DROPDOWN_OPTIONS = tuiCreateToken(TUI_DROPDOWN_DEFAULT_OPTIONS);\nconst tuiDropdownOptionsProvider = override => ({\n  provide: TUI_DROPDOWN_OPTIONS,\n  deps: [[new Optional(), TuiDropdownOptionsDirective], [new Optional(), new SkipSelf(), TUI_DROPDOWN_OPTIONS]],\n  useFactory: tuiOverrideOptions(override, TUI_DROPDOWN_DEFAULT_OPTIONS)\n});\nlet TuiDropdownOptionsDirective = /*#__PURE__*/(() => {\n  class TuiDropdownOptionsDirective {\n    constructor(options) {\n      this.options = options;\n      this.align = this.options.align;\n      this.appearance = this.options.appearance;\n      this.direction = this.options.direction;\n      this.limitWidth = this.options.limitWidth;\n      this.minHeight = this.options.minHeight;\n      this.maxHeight = this.options.maxHeight;\n      this.offset = this.options.offset;\n    }\n  }\n  TuiDropdownOptionsDirective.ɵfac = function TuiDropdownOptionsDirective_Factory(t) {\n    return new (t || TuiDropdownOptionsDirective)(i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS, 4));\n  };\n  TuiDropdownOptionsDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownOptionsDirective,\n    selectors: [[\"\", \"tuiDropdownAlign\", \"\"], [\"\", \"tuiDropdownAppearance\", \"\"], [\"\", \"tuiDropdownDirection\", \"\"], [\"\", \"tuiDropdownLimitWidth\", \"\"], [\"\", \"tuiDropdownMinHeight\", \"\"], [\"\", \"tuiDropdownMaxHeight\", \"\"], [\"\", \"tuiDropdownOffset\", \"\"]],\n    inputs: {\n      align: [0, \"tuiDropdownAlign\", \"align\"],\n      appearance: [0, \"tuiDropdownAppearance\", \"appearance\"],\n      direction: [0, \"tuiDropdownDirection\", \"direction\"],\n      limitWidth: [0, \"tuiDropdownLimitWidth\", \"limitWidth\"],\n      minHeight: [0, \"tuiDropdownMinHeight\", \"minHeight\"],\n      maxHeight: [0, \"tuiDropdownMaxHeight\", \"maxHeight\"],\n      offset: [0, \"tuiDropdownOffset\", \"offset\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_DROPDOWN_OPTIONS,\n      useExisting: forwardRef(() => TuiDropdownOptionsDirective)\n    }])]\n  });\n  return TuiDropdownOptionsDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownPositionDirective = /*#__PURE__*/(() => {\n  class TuiDropdownPositionDirective extends TuiPositionAccessor {\n    constructor(options, viewport, accessors, directive) {\n      super();\n      this.options = options;\n      this.viewport = viewport;\n      this.accessors = accessors;\n      this.directive = directive;\n      this.type = 'dropdown';\n    }\n    getPosition({\n      width,\n      height\n    }) {\n      var _a, _b;\n      if (!width && !height) {\n        this.previous = undefined;\n      }\n      const hostRect = (_b = (_a = this.accessor) === null || _a === void 0 ? void 0 : _a.getClientRect()) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n      const viewportRect = this.viewport.getClientRect();\n      const {\n        minHeight,\n        align,\n        direction,\n        offset,\n        limitWidth\n      } = this.options;\n      const viewport = {\n        top: viewportRect.top - offset,\n        bottom: viewportRect.bottom + offset,\n        right: viewportRect.right - offset,\n        left: viewportRect.left + offset\n      };\n      const previous = this.previous || direction || 'bottom';\n      const available = {\n        top: hostRect.top - 2 * offset - viewport.top,\n        bottom: viewport.bottom - hostRect.bottom - 2 * offset\n      };\n      const rectWidth = limitWidth === 'fixed' ? hostRect.width : width;\n      const right = Math.max(hostRect.right - rectWidth, offset);\n      const left = hostRect.left + width < viewport.right ? hostRect.left : right;\n      const position = {\n        top: hostRect.top - offset - height,\n        bottom: hostRect.bottom + offset,\n        right: Math.max(viewport.left, right),\n        center: hostRect.left + hostRect.width / 2 + width / 2 < viewport.right ? hostRect.left + hostRect.width / 2 - width / 2 : right,\n        left: Math.max(viewport.left, left)\n      };\n      const better = available.top > available.bottom ? 'top' : 'bottom';\n      if (available[previous] > minHeight && direction || available[previous] > height) {\n        return [position[previous], position[align]];\n      }\n      this.previous = better;\n      return [position[better], position[align]];\n    }\n    get accessor() {\n      return tuiFallbackRectAccessor('dropdown')(this.accessors, this.directive);\n    }\n  }\n  TuiDropdownPositionDirective.ɵfac = function TuiDropdownPositionDirective_Factory(t) {\n    return new (t || TuiDropdownPositionDirective)(i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS), i0.ɵɵdirectiveInject(TUI_VIEWPORT), i0.ɵɵdirectiveInject(TuiRectAccessor), i0.ɵɵdirectiveInject(TuiDropdownDirective));\n  };\n  TuiDropdownPositionDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownPositionDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\"]],\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  __decorate([tuiPure], TuiDropdownPositionDirective.prototype, \"accessor\", null);\n  return TuiDropdownPositionDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @description:\n * This component is used to show template in a portal\n * using default style of white rounded box with a shadow\n */\nlet TuiDropdownComponent = /*#__PURE__*/(() => {\n  class TuiDropdownComponent {\n    constructor(vvs, position$, destroy$, directive, animation, el, accessor, win, mode$, options, hoverDirective) {\n      this.directive = directive;\n      this.animation = animation;\n      this.el = el;\n      this.accessor = accessor;\n      this.win = win;\n      this.mode$ = mode$;\n      this.options = options;\n      this.hoverDirective = hoverDirective;\n      position$.pipe(map(point => this.directive.position === 'fixed' ? vvs.correct(point) : point), takeUntil(destroy$)).subscribe(([top, left]) => {\n        if (this.directive.el.nativeElement.isConnected) {\n          this.update(top, left);\n        } else {\n          this.directive.toggle(false);\n        }\n      });\n      this.updateWidth(this.accessor.getClientRect().width);\n    }\n    onHoveredChange(hovered) {\n      var _a;\n      (_a = this.hoverDirective) === null || _a === void 0 ? void 0 : _a.toggle(hovered);\n    }\n    onTopFocus() {\n      this.moveFocusOutside(true);\n    }\n    onBottomFocus() {\n      this.moveFocusOutside(false);\n    }\n    update(top, left) {\n      var _a;\n      const {\n        style\n      } = this.el.nativeElement;\n      const {\n        right\n      } = this.el.nativeElement.getBoundingClientRect();\n      const {\n        maxHeight,\n        minHeight,\n        offset\n      } = this.options;\n      const {\n        innerHeight\n      } = this.win;\n      const clientRect = (_a = this.el.nativeElement.offsetParent) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n      const {\n        position\n      } = this.directive;\n      const rect = this.accessor.getClientRect();\n      const offsetX = position === 'fixed' ? 0 : -((clientRect === null || clientRect === void 0 ? void 0 : clientRect.left) || 0);\n      const offsetY = position === 'fixed' ? 0 : -((clientRect === null || clientRect === void 0 ? void 0 : clientRect.top) || 0);\n      top += offsetY;\n      left += offsetX;\n      const isIntersecting = left < rect.right && right > rect.left && top < offsetY + 2 * offset;\n      const available = isIntersecting ? rect.top - 2 * offset : offsetY + innerHeight - top - offset;\n      const sided = right <= rect.left || left >= rect.right;\n      style.position = position;\n      style.top = tuiPx(Math.max(top, offsetY + offset));\n      style.left = tuiPx(left);\n      style.maxHeight = sided ? `${maxHeight}px` : tuiPx(Math.min(maxHeight, Math.max(available, minHeight)));\n      style.width = '';\n      style.minWidth = '';\n      this.updateWidth(rect.width);\n    }\n    updateWidth(width) {\n      const {\n        style\n      } = this.el.nativeElement;\n      switch (this.options.limitWidth) {\n        case 'min':\n          style.minWidth = tuiPx(width);\n          break;\n        case 'fixed':\n          style.width = tuiPx(width);\n          break;\n        case 'auto':\n          break;\n      }\n    }\n    moveFocusOutside(previous) {\n      const {\n        nativeElement\n      } = this.directive.el;\n      const {\n        ownerDocument\n      } = nativeElement;\n      const root = ownerDocument ? ownerDocument.body : nativeElement;\n      let focusable = tuiGetClosestFocusable({\n        initial: nativeElement,\n        root,\n        previous\n      });\n      while (focusable !== null && nativeElement.contains(focusable)) {\n        focusable = tuiGetClosestFocusable({\n          initial: focusable,\n          root,\n          previous\n        });\n      }\n      focusable === null || focusable === void 0 ? void 0 : focusable.focus();\n    }\n  }\n  TuiDropdownComponent.ɵfac = function TuiDropdownComponent_Factory(t) {\n    return new (t || TuiDropdownComponent)(i0.ɵɵdirectiveInject(TuiVisualViewportService), i0.ɵɵdirectiveInject(TuiPositionService), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDropdownDirective), i0.ɵɵdirectiveInject(TUI_ANIMATION_OPTIONS), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiRectAccessor), i0.ɵɵdirectiveInject(WINDOW), i0.ɵɵdirectiveInject(TUI_MODE), i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS), i0.ɵɵdirectiveInject(TuiDropdownHoverDirective, 8));\n  };\n  TuiDropdownComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDropdownComponent,\n    selectors: [[\"tui-dropdown\"]],\n    hostVars: 2,\n    hostBindings: function TuiDropdownComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"$.data-mode.attr\", function TuiDropdownComponent___data_mode_attr_HostBindingHandler() {\n          return ctx.mode$;\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiDropdownAnimation\", ctx.animation);\n        i0.ɵɵattribute(\"data-appearance\", ctx.options.appearance);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPositionService, tuiPositionAccessorFor('dropdown', TuiDropdownPositionDirective), tuiRectAccessorFor('dropdown', TuiDropdownDirective), MODE_PROVIDER])],\n    decls: 5,\n    vars: 4,\n    consts: [[\"activeZone\", \"tuiActiveZone\"], [\"tuiActiveZone\", \"\", \"tuiOverscroll\", \"all\", 1, \"t-scroll\", 3, \"tuiHoveredChange\"], [\"tabindex\", \"0\", 3, \"focus\"], [\"class\", \"t-primitive\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [1, \"t-primitive\"]],\n    template: function TuiDropdownComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"tui-scrollbar\", 1, 0);\n        i0.ɵɵlistener(\"tuiHoveredChange\", function TuiDropdownComponent_Template_tui_scrollbar_tuiHoveredChange_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onHoveredChange($event));\n        });\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵlistener(\"focus\", function TuiDropdownComponent_Template_div_focus_2_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onTopFocus());\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, TuiDropdownComponent_div_3_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵlistener(\"focus\", function TuiDropdownComponent_Template_div_focus_4_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onBottomFocus());\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        const activeZone_r3 = i0.ɵɵreference(1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.directive.content)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c0, activeZone_r3));\n      }\n    },\n    dependencies: [i1$2.TuiScrollbarComponent, i2.TuiActiveZoneDirective, i2.TuiOverscrollDirective, i2.TuiHoveredDirective, i3.PolymorpheusOutletDirective],\n    styles: [\"[_nghost-%COMP%]{position:absolute;display:flex;box-shadow:var(--tui-shadow-dropdown);background:var(--tui-elevation-02);border-radius:var(--tui-radius-m);overflow:hidden;border:1px solid var(--tui-base-04);box-sizing:border-box;max-width:calc(100% - 8px);isolation:isolate;pointer-events:auto}.ng-animating[_nghost-%COMP%]{pointer-events:none}[_nghost-%COMP%]:not([style*=\\\"top\\\"]){visibility:hidden}[data-mode=onDark][_nghost-%COMP%]{--tui-text-01: var(--tui-text-01-night);--tui-clear: var(--tui-clear-inverse);background:#222;border:1px solid #808080}.t-scroll[_ngcontent-%COMP%]{flex-grow:1;max-width:100%}.t-primitive[_ngcontent-%COMP%]{padding:1rem}\"],\n    data: {\n      animation: [tuiDropdownAnimation]\n    }\n  });\n  return TuiDropdownComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction activeZoneFilter(target) {\n  return !this.activeZone.contains(target);\n}\nconst TAP_DELAY = 700;\nconst MOVE_THRESHOLD = 15;\nlet TuiDropdownContextDirective = /*#__PURE__*/(() => {\n  class TuiDropdownContextDirective extends TuiDriver {\n    constructor(activeZone, isIOS, isTouch) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.activeZone = activeZone;\n      this.isIOS = isIOS;\n      this.isTouch = isTouch;\n      this.stream$ = new Subject();\n      this.currentRect = EMPTY_CLIENT_RECT;\n      this.longTapTimeout = NaN;\n      this.type = 'dropdown';\n    }\n    get userSelect() {\n      return this.isTouch ? 'none' : null;\n    }\n    onContextMenu(x, y) {\n      this.currentRect = tuiPointToClientRect(x, y);\n      this.stream$.next(true);\n    }\n    closeDropdown() {\n      this.stream$.next(false);\n      this.currentRect = EMPTY_CLIENT_RECT;\n    }\n    onTouchMove(x, y) {\n      if (this.isIOS && this.isTouch && this.currentRect !== EMPTY_CLIENT_RECT && Math.hypot(x - this.currentRect.x, y - this.currentRect.y) > MOVE_THRESHOLD) {\n        this.onTouchEnd();\n      }\n    }\n    onTouchStart(x, y) {\n      if (!this.isIOS || !this.isTouch || this.currentRect !== EMPTY_CLIENT_RECT) {\n        return;\n      }\n      this.currentRect = tuiPointToClientRect(x, y);\n      this.longTapTimeout = setTimeout(() => {\n        this.stream$.next(true);\n      }, TAP_DELAY);\n    }\n    onTouchEnd() {\n      if (this.isIOS && this.isTouch) {\n        clearTimeout(this.longTapTimeout);\n      }\n    }\n    getClientRect() {\n      return this.currentRect;\n    }\n  }\n  TuiDropdownContextDirective.ɵfac = function TuiDropdownContextDirective_Factory(t) {\n    return new (t || TuiDropdownContextDirective)(i0.ɵɵdirectiveInject(TuiActiveZoneDirective), i0.ɵɵdirectiveInject(TUI_IS_IOS), i0.ɵɵdirectiveInject(TUI_TOUCH_SUPPORTED));\n  };\n  TuiDropdownContextDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownContextDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownContext\", \"\"]],\n    hostVars: 6,\n    hostBindings: function TuiDropdownContextDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"contextmenu.prevent.stop\", function TuiDropdownContextDirective_contextmenu_prevent_stop_HostBindingHandler($event) {\n          return ctx.onContextMenu($event.clientX, $event.clientY);\n        })(\"click.silent\", function TuiDropdownContextDirective_click_silent_HostBindingHandler($event) {\n          return ctx.closeDropdown($event.target);\n        }, false, i0.ɵɵresolveDocument)(\"contextmenu.capture.silent\", function TuiDropdownContextDirective_contextmenu_capture_silent_HostBindingHandler($event) {\n          return ctx.closeDropdown($event.target);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.esc\", function TuiDropdownContextDirective_keydown_esc_HostBindingHandler($event) {\n          return ctx.closeDropdown($event.currentTarget);\n        }, false, i0.ɵɵresolveDocument)(\"touchmove.silent.passive\", function TuiDropdownContextDirective_touchmove_silent_passive_HostBindingHandler($event) {\n          return ctx.onTouchMove($event.touches[0].clientX, $event.touches[0].clientY);\n        })(\"touchstart.silent.passive\", function TuiDropdownContextDirective_touchstart_silent_passive_HostBindingHandler($event) {\n          return ctx.onTouchStart($event.touches[0].clientX, $event.touches[0].clientY);\n        })(\"touchend.silent.passive\", function TuiDropdownContextDirective_touchend_silent_passive_HostBindingHandler() {\n          return ctx.onTouchEnd();\n        })(\"touchcancel.silent.passive\", function TuiDropdownContextDirective_touchcancel_silent_passive_HostBindingHandler() {\n          return ctx.onTouchEnd();\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"user-select\", ctx.userSelect)(\"-webkit-touch-callout\", ctx.userSelect)(\"-webkit-user-select\", ctx.userSelect);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TuiActiveZoneDirective, tuiAsDriver(TuiDropdownContextDirective), tuiAsRectAccessor(TuiDropdownContextDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  __decorate([shouldCall(activeZoneFilter)], TuiDropdownContextDirective.prototype, \"closeDropdown\", null);\n  return TuiDropdownContextDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownDriverDirective = /*#__PURE__*/(() => {\n  class TuiDropdownDriverDirective extends AbstractTuiDriverDirective {\n    // TODO: Figure out why this is necessary under nx test runner\n    constructor(destroy$, drivers, vehicles) {\n      super(destroy$, drivers, vehicles);\n      this.type = 'dropdown';\n    }\n  }\n  TuiDropdownDriverDirective.ɵfac = function TuiDropdownDriverDirective_Factory(t) {\n    return new (t || TuiDropdownDriverDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDriver), i0.ɵɵdirectiveInject(TuiVehicle));\n  };\n  TuiDropdownDriverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownDriverDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownDriverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownHostDirective = /*#__PURE__*/(() => {\n  class TuiDropdownHostDirective extends TuiRectAccessor {\n    constructor() {\n      super(...arguments);\n      this.type = 'dropdown';\n    }\n    getClientRect() {\n      var _a;\n      return ((_a = this.tuiDropdownHost) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) || EMPTY_CLIENT_RECT;\n    }\n  }\n  TuiDropdownHostDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownHostDirective_BaseFactory;\n    return function TuiDropdownHostDirective_Factory(t) {\n      return (ɵTuiDropdownHostDirective_BaseFactory || (ɵTuiDropdownHostDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownHostDirective)))(t || TuiDropdownHostDirective);\n    };\n  })();\n  TuiDropdownHostDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownHostDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownHost\", \"\"]],\n    inputs: {\n      tuiDropdownHost: \"tuiDropdownHost\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiDropdownHostDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownHostDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownManualDirective = /*#__PURE__*/(() => {\n  class TuiDropdownManualDirective extends TuiDriver {\n    constructor() {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.stream$ = new BehaviorSubject(false);\n      this.tuiDropdownManual = false;\n      this.type = 'dropdown';\n    }\n    ngOnChanges() {\n      this.stream$.next(this.tuiDropdownManual);\n    }\n  }\n  TuiDropdownManualDirective.ɵfac = function TuiDropdownManualDirective_Factory(t) {\n    return new (t || TuiDropdownManualDirective)();\n  };\n  TuiDropdownManualDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownManualDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownManual\", \"\"]],\n    inputs: {\n      tuiDropdownManual: \"tuiDropdownManual\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownManualDirective)]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return TuiDropdownManualDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownPositionSidedDirective = /*#__PURE__*/(() => {\n  class TuiDropdownPositionSidedDirective extends TuiPositionAccessor {\n    constructor(options, viewport, vertical) {\n      super();\n      this.options = options;\n      this.viewport = viewport;\n      this.vertical = vertical;\n      this.previous = this.options.direction || 'bottom';\n      this.tuiDropdownSided = '';\n      this.tuiDropdownSidedOffset = 4;\n      this.type = 'dropdown';\n    }\n    getPosition(rect) {\n      var _a, _b;\n      if (this.tuiDropdownSided === false) {\n        return this.vertical.getPosition(rect);\n      }\n      const {\n        height,\n        width\n      } = rect;\n      const hostRect = (_b = (_a = this.vertical.accessor) === null || _a === void 0 ? void 0 : _a.getClientRect()) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n      const viewport = this.viewport.getClientRect();\n      const {\n        direction,\n        minHeight,\n        offset\n      } = this.options;\n      const align = this.options.align === 'center' ? 'left' : this.options.align;\n      const available = {\n        top: hostRect.bottom - viewport.top,\n        left: hostRect.left - offset - viewport.left,\n        right: viewport.right - hostRect.right - offset,\n        bottom: viewport.bottom - hostRect.top\n      };\n      const position = {\n        top: hostRect.bottom - height + this.tuiDropdownSidedOffset + 1,\n        left: hostRect.left - width - offset,\n        right: hostRect.right + offset,\n        bottom: hostRect.top - this.tuiDropdownSidedOffset - 1 // 1 for border\n      };\n      const better = available.top > available.bottom ? 'top' : 'bottom';\n      const maxLeft = available.left > available.right ? position.left : position.right;\n      const left = available[align] > width ? position[align] : maxLeft;\n      if (available[this.previous] > minHeight && direction || this.previous === better) {\n        return [position[this.previous], left];\n      }\n      this.previous = better;\n      return [position[better], left];\n    }\n  }\n  TuiDropdownPositionSidedDirective.ɵfac = function TuiDropdownPositionSidedDirective_Factory(t) {\n    return new (t || TuiDropdownPositionSidedDirective)(i0.ɵɵdirectiveInject(TUI_DROPDOWN_OPTIONS), i0.ɵɵdirectiveInject(TUI_VIEWPORT), i0.ɵɵdirectiveInject(TuiDropdownPositionDirective));\n  };\n  TuiDropdownPositionSidedDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownPositionSidedDirective,\n    selectors: [[\"\", \"tuiDropdownSided\", \"\"]],\n    inputs: {\n      tuiDropdownSided: \"tuiDropdownSided\",\n      tuiDropdownSidedOffset: \"tuiDropdownSidedOffset\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDropdownPositionDirective, tuiAsPositionAccessor(TuiDropdownPositionSidedDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownPositionSidedDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownSelectionDirective = /*#__PURE__*/(() => {\n  class TuiDropdownSelectionDirective extends TuiDriver {\n    constructor(range, doc, selection$, el, vcr, dropdown) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.range = range;\n      this.doc = doc;\n      this.selection$ = selection$;\n      this.el = el;\n      this.vcr = vcr;\n      this.dropdown = dropdown;\n      this.handler$ = new BehaviorSubject(ALWAYS_TRUE_HANDLER);\n      this.stream$ = combineLatest([this.handler$, this.selection$.pipe(map(() => this.getRange()), distinctUntilChanged((x, y) => x.startOffset === y.startOffset && x.endOffset === y.endOffset && x.commonAncestorContainer === y.commonAncestorContainer))]).pipe(map(([handler, range]) => {\n        const contained = this.el.nativeElement.contains(range.commonAncestorContainer);\n        this.range = contained && tuiIsTextNode(range.commonAncestorContainer) ? range : this.range;\n        return contained && handler(this.range) || this.inDropdown(range);\n      }));\n      this.position = 'selection';\n      this.type = 'dropdown';\n    }\n    set tuiDropdownSelection(visible) {\n      if (!tuiIsString(visible)) {\n        this.handler$.next(visible);\n      }\n    }\n    getClientRect() {\n      switch (this.position) {\n        case 'tag':\n          {\n            const {\n              commonAncestorContainer\n            } = this.range;\n            const element = tuiIsElement(commonAncestorContainer) ? commonAncestorContainer : commonAncestorContainer.parentNode;\n            return element && tuiIsElement(element) ? element.getBoundingClientRect() : EMPTY_CLIENT_RECT;\n          }\n        case 'word':\n          return tuiGetWordRange(this.range).getBoundingClientRect();\n        default:\n          return this.range.getBoundingClientRect();\n      }\n    }\n    ngOnDestroy() {\n      if (this.ghost) {\n        this.vcr.element.nativeElement.removeChild(this.ghost);\n      }\n    }\n    getRange() {\n      const active = tuiGetNativeFocused(this.doc);\n      const selection = this.doc.getSelection();\n      const range = active && tuiIsTextfield(active) && this.el.nativeElement.contains(active) ? this.veryVerySadInputFix(active) : (selection === null || selection === void 0 ? void 0 : selection.rangeCount) && selection.getRangeAt(0) || this.range;\n      return range.cloneRange();\n    }\n    /**\n     * Check if given range is at least partially inside dropdown\n     */\n    inDropdown(range) {\n      const {\n        startContainer,\n        endContainer\n      } = range;\n      const {\n        nativeElement\n      } = this.el;\n      const inDropdown = this.boxContains(range.commonAncestorContainer);\n      const hostToDropdown = this.boxContains(endContainer) && nativeElement.contains(startContainer);\n      const dropdownToHost = this.boxContains(startContainer) && nativeElement.contains(endContainer);\n      return inDropdown || hostToDropdown || dropdownToHost;\n    }\n    veryVerySadInputFix(element) {\n      const {\n        ghost = this.initGhost(element)\n      } = this;\n      const {\n        top,\n        left,\n        width,\n        height\n      } = element.getBoundingClientRect();\n      const {\n        selectionStart,\n        selectionEnd,\n        value\n      } = element;\n      const range = this.doc.createRange();\n      const hostRect = this.el.nativeElement.getBoundingClientRect();\n      ghost.style.top = tuiPx(top - hostRect.top);\n      ghost.style.left = tuiPx(left - hostRect.left);\n      ghost.style.width = tuiPx(width);\n      ghost.style.height = tuiPx(height);\n      ghost.textContent = CHAR_ZERO_WIDTH_SPACE + value + CHAR_NO_BREAK_SPACE;\n      range.setStart(ghost.firstChild, selectionStart || 0);\n      range.setEnd(ghost.firstChild, selectionEnd || 0);\n      return range;\n    }\n    /**\n     * Check if Node is inside dropdown\n     */\n    boxContains(node) {\n      var _a;\n      return !!((_a = this.dropdown.dropdownBoxRef) === null || _a === void 0 ? void 0 : _a.location.nativeElement.contains(node));\n    }\n    /**\n     * Create an invisible DIV styled exactly like input/textarea element inside directive\n     */\n    initGhost(element) {\n      const ghost = this.doc.createElement('div');\n      const {\n        font,\n        letterSpacing,\n        textTransform,\n        padding\n      } = getComputedStyle(element);\n      ghost.style.position = 'absolute';\n      ghost.style.pointerEvents = 'none';\n      ghost.style.opacity = '0';\n      ghost.style.whiteSpace = 'pre-wrap';\n      ghost.style.font = font;\n      ghost.style.letterSpacing = letterSpacing;\n      ghost.style.textTransform = textTransform;\n      ghost.style.padding = padding;\n      this.vcr.element.nativeElement.appendChild(ghost);\n      this.ghost = ghost;\n      return ghost;\n    }\n  }\n  TuiDropdownSelectionDirective.ɵfac = function TuiDropdownSelectionDirective_Factory(t) {\n    return new (t || TuiDropdownSelectionDirective)(i0.ɵɵdirectiveInject(TUI_RANGE), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TUI_SELECTION_STREAM), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(ViewContainerRef), i0.ɵɵdirectiveInject(TuiDropdownDirective));\n  };\n  TuiDropdownSelectionDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownSelectionDirective,\n    selectors: [[\"\", \"tuiDropdown\", \"\", \"tuiDropdownSelection\", \"\"]],\n    inputs: {\n      position: [0, \"tuiDropdownSelectionPosition\", \"position\"],\n      tuiDropdownSelection: \"tuiDropdownSelection\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownSelectionDirective), tuiAsRectAccessor(TuiDropdownSelectionDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownSelectionDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDropdownModule = /*#__PURE__*/(() => {\n  class TuiDropdownModule {}\n  TuiDropdownModule.ɵfac = function TuiDropdownModule_Factory(t) {\n    return new (t || TuiDropdownModule)();\n  };\n  TuiDropdownModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDropdownModule\n  });\n  TuiDropdownModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[PolymorpheusModule, TuiActiveZoneModule, TuiOverscrollModule, TuiScrollbarModule, TuiHoveredModule]]\n  });\n  return TuiDropdownModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_DROPDOWN_COMPONENT, TUI_DROPDOWN_DEFAULT_OPTIONS, TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS, TUI_DROPDOWN_HOVER_OPTIONS, TUI_DROPDOWN_OPTIONS, TuiDropdownComponent, TuiDropdownContextDirective, TuiDropdownDirective, TuiDropdownDriverDirective, TuiDropdownHostDirective, TuiDropdownHoverDirective, TuiDropdownManualDirective, TuiDropdownModule, TuiDropdownOpenDirective, TuiDropdownOptionsDirective, TuiDropdownPositionDirective, TuiDropdownPositionSidedDirective, TuiDropdownSelectionDirective, tuiDropdownHoverOptionsProvider, tuiDropdownOptionsProvider };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { Optional, SkipSelf, forwardRef, Directive, Inject, Input, ElementRef, INJECTOR, HostListener, Component, ChangeDetectionStrategy, Self, HostBinding, NgZone, TemplateRef, NgModule } from '@angular/core';\nimport * as i3 from '@taiga-ui/cdk';\nimport { tuiCreateTokenFromFactory, tuiCreateToken, AbstractTuiController, TuiActiveZoneDirective, TuiHoveredService, EMPTY_CLIENT_RECT, tuiPointToClientRect, tuiPure, tuiClamp, tuiPx, TuiDestroyService, tuiIfMap, tuiTypedFromEvent, tuiIsPresent, tuiZoneOptimized, tuiIsNativeFocused, TUI_PARENT_ANIMATION } from '@taiga-ui/cdk';\nimport * as i1$1 from '@taiga-ui/core/abstract';\nimport { tuiAsRectAccessor, tuiAsVehicle, TuiDriver, tuiAsDriver, TuiPositionAccessor, tuiFallbackRectAccessor, TuiRectAccessor, tuiPositionAccessorFor, tuiRectAccessorFor, AbstractTuiDriverDirective, TuiVehicle } from '@taiga-ui/core/abstract';\nimport { tuiFadeIn } from '@taiga-ui/core/animations';\nimport * as i5 from '@taiga-ui/core/directives/mode';\nimport { TuiModeDirective } from '@taiga-ui/core/directives/mode';\nimport * as i2 from '@taiga-ui/core/services';\nimport { TuiHintService, TuiPositionService, TuiVisualViewportService } from '@taiga-ui/core/services';\nimport { TUI_VIEWPORT, TUI_ANIMATION_OPTIONS } from '@taiga-ui/core/tokens';\nimport { tuiOverrideOptions, tuiIsObscured } from '@taiga-ui/core/utils';\nimport * as i1 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusComponent, POLYMORPHEUS_CONTEXT, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport { switchMap, delay, takeUntil, repeat, filter, map, tap, debounce, startWith, distinctUntilChanged, skip } from 'rxjs/operators';\nimport * as i2$1 from 'rxjs';\nimport { Subject, merge, of, ReplaySubject, timer, BehaviorSubject } from 'rxjs';\nimport { TUI_HINT_DIRECTIONS } from '@taiga-ui/core/constants';\nimport { DOCUMENT, CommonModule } from '@angular/common';\n\n/**\n * A component to display a hint\n */\nconst _c0 = [\"*\"];\nfunction TuiHintComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 1);\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"innerHTML\", text_r1, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction TuiHintUnstyledComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst TUI_HINT_COMPONENT = tuiCreateTokenFromFactory(() => TuiHintComponent);\n\n/** Default values for hint options */\nconst TUI_HINT_DEFAULT_OPTIONS = {\n  direction: 'bottom-left',\n  showDelay: 500,\n  hideDelay: 200,\n  appearance: '',\n  icon: 'tuiIconHelpCircle'\n};\n/**\n * Default parameters for hint directive\n */\nconst TUI_HINT_OPTIONS = tuiCreateToken(TUI_HINT_DEFAULT_OPTIONS);\nconst tuiHintOptionsProvider = override => ({\n  provide: TUI_HINT_OPTIONS,\n  deps: [[new Optional(), TuiHintOptionsDirective], [new Optional(), new SkipSelf(), TUI_HINT_OPTIONS]],\n  useFactory: tuiOverrideOptions(override, TUI_HINT_DEFAULT_OPTIONS)\n});\nlet TuiHintOptionsDirective = /*#__PURE__*/(() => {\n  class TuiHintOptionsDirective extends AbstractTuiController {\n    constructor(options) {\n      super();\n      this.options = options;\n      this.direction = this.options.direction;\n      this.appearance = this.options.appearance;\n      this.showDelay = this.options.showDelay;\n      this.hideDelay = this.options.hideDelay;\n      this.icon = this.options.icon;\n    }\n  }\n  TuiHintOptionsDirective.ɵfac = function TuiHintOptionsDirective_Factory(t) {\n    return new (t || TuiHintOptionsDirective)(i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS, 4));\n  };\n  TuiHintOptionsDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintOptionsDirective,\n    selectors: [[\"\", \"tuiHintContent\", \"\"]],\n    inputs: {\n      content: [0, \"tuiHintContent\", \"content\"],\n      direction: [0, \"tuiHintDirection\", \"direction\"],\n      appearance: [0, \"tuiHintAppearance\", \"appearance\"],\n      showDelay: [0, \"tuiHintShowDelay\", \"showDelay\"],\n      hideDelay: [0, \"tuiHintHideDelay\", \"hideDelay\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_HINT_OPTIONS,\n      useExisting: forwardRef(() => TuiHintOptionsDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintOptionsDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintDirective = /*#__PURE__*/(() => {\n  class TuiHintDirective {\n    constructor(el, component, hintService, options, activeZone) {\n      this.el = el;\n      this.component = component;\n      this.hintService = hintService;\n      this.options = options;\n      this.activeZone = activeZone;\n      this.tuiHintAppearance = null;\n      this.type = 'hint';\n    }\n    set tuiHint(content) {\n      this.content = content;\n      if (!content) {\n        this.toggle(false);\n      }\n    }\n    get appearance() {\n      var _a;\n      return (_a = this.tuiHintAppearance) !== null && _a !== void 0 ? _a : this.options.appearance;\n    }\n    ngOnDestroy() {\n      this.toggle(false);\n    }\n    getClientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n    toggle(show) {\n      if (show && this.content) {\n        this.hintService.add(this);\n      } else {\n        this.hintService.remove(this);\n      }\n    }\n  }\n  TuiHintDirective.ɵfac = function TuiHintDirective_Factory(t) {\n    return new (t || TuiHintDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(PolymorpheusComponent), i0.ɵɵdirectiveInject(TuiHintService), i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS), i0.ɵɵdirectiveInject(TuiActiveZoneDirective, 8));\n  };\n  TuiHintDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    inputs: {\n      tuiHint: \"tuiHint\",\n      context: [0, \"tuiHintContext\", \"context\"],\n      tuiHintAppearance: \"tuiHintAppearance\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiHintDirective), tuiAsVehicle(TuiHintDirective), {\n      provide: PolymorpheusComponent,\n      deps: [TUI_HINT_COMPONENT, INJECTOR],\n      useClass: PolymorpheusComponent\n    }])]\n  });\n  return TuiHintDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/* eslint-disable rxjs/no-unsafe-takeuntil */\nlet TuiHintHoverDirective = /*#__PURE__*/(() => {\n  class TuiHintHoverDirective extends TuiDriver {\n    constructor(hovered$, options, el, parent) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.hovered$ = hovered$;\n      this.options = options;\n      this.el = el;\n      this.parent = parent;\n      this.visible = false;\n      this.toggle$ = new Subject();\n      this.stream$ = merge(this.toggle$.pipe(switchMap(visible => of(visible).pipe(delay(visible ? 0 : this.hideDelay))), takeUntil(this.hovered$), repeat()), this.hovered$.pipe(switchMap(visible => of(visible).pipe(delay(visible ? this.showDelay : this.hideDelay))), takeUntil(this.toggle$), repeat())).pipe(filter(() => this.enabled), map(value => value && (this.el.nativeElement.hasAttribute('tuiHintPointer') || !tuiIsObscured(this.el.nativeElement))), tap(visible => {\n        this.visible = visible;\n      }));\n      this.showDelay = this.options.showDelay;\n      this.hideDelay = this.options.hideDelay;\n      this.type = 'hint';\n      this.enabled = true;\n    }\n    toggle(visible = !this.visible) {\n      var _a;\n      this.toggle$.next(visible);\n      (_a = this.parent) === null || _a === void 0 ? void 0 : _a.toggle(visible);\n    }\n  }\n  TuiHintHoverDirective.ɵfac = function TuiHintHoverDirective_Factory(t) {\n    return new (t || TuiHintHoverDirective)(i0.ɵɵdirectiveInject(TuiHoveredService), i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiHintHoverDirective, 12));\n  };\n  TuiHintHoverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintHoverDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    inputs: {\n      showDelay: [0, \"tuiHintShowDelay\", \"showDelay\"],\n      hideDelay: [0, \"tuiHintHideDelay\", \"hideDelay\"]\n    },\n    exportAs: [\"tuiHintHover\"],\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiHintHoverDirective), TuiHoveredService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintHoverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintPointerDirective = /*#__PURE__*/(() => {\n  class TuiHintPointerDirective extends TuiHintHoverDirective {\n    constructor() {\n      super(...arguments);\n      this.currentRect = EMPTY_CLIENT_RECT;\n    }\n    onMove({\n      clientX,\n      clientY\n    }) {\n      this.currentRect = tuiPointToClientRect(clientX, clientY);\n    }\n    getClientRect() {\n      return this.currentRect;\n    }\n  }\n  TuiHintPointerDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiHintPointerDirective_BaseFactory;\n    return function TuiHintPointerDirective_Factory(t) {\n      return (ɵTuiHintPointerDirective_BaseFactory || (ɵTuiHintPointerDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiHintPointerDirective)))(t || TuiHintPointerDirective);\n    };\n  })();\n  TuiHintPointerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintPointerDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", \"tuiHintPointer\", \"\"]],\n    hostBindings: function TuiHintPointerDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousemove.silent\", function TuiHintPointerDirective_mousemove_silent_HostBindingHandler($event) {\n          return ctx.onMove($event);\n        });\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiHintPointerDirective), tuiAsDriver(TuiHintPointerDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintPointerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst OFFSET = 8;\nconst ARROW_OFFSET = 22;\nconst TOP = 0;\nconst LEFT = 1;\nlet TuiHintPositionDirective = /*#__PURE__*/(() => {\n  class TuiHintPositionDirective extends TuiPositionAccessor {\n    constructor(options, viewport, directive, accessors) {\n      super();\n      this.options = options;\n      this.viewport = viewport;\n      this.directive = directive;\n      this.accessors = accessors;\n      this.points = TUI_HINT_DIRECTIONS.reduce((acc, direction) => Object.assign(Object.assign({}, acc), {\n        [direction]: [0, 0]\n      }), {});\n      this.direction = this.options.direction;\n      this.type = 'hint';\n    }\n    getPosition({\n      width,\n      height\n    }) {\n      var _a, _b;\n      const hostRect = (_b = (_a = this.accessor) === null || _a === void 0 ? void 0 : _a.getClientRect()) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n      const leftCenter = hostRect.left + hostRect.width / 2;\n      const topCenter = hostRect.top + hostRect.height / 2;\n      this.points['top-left'][TOP] = hostRect.top - height - OFFSET;\n      this.points['top-left'][LEFT] = leftCenter - width + ARROW_OFFSET;\n      this.points.top[TOP] = this.points['top-left'][TOP];\n      this.points.top[LEFT] = leftCenter - width / 2;\n      this.points['top-right'][TOP] = this.points['top-left'][TOP];\n      this.points['top-right'][LEFT] = leftCenter - ARROW_OFFSET;\n      this.points['bottom-left'][TOP] = hostRect.bottom + OFFSET;\n      this.points['bottom-left'][LEFT] = this.points['top-left'][LEFT];\n      this.points.bottom[TOP] = this.points['bottom-left'][TOP];\n      this.points.bottom[LEFT] = this.points.top[LEFT];\n      this.points['bottom-right'][TOP] = this.points['bottom-left'][TOP];\n      this.points['bottom-right'][LEFT] = this.points['top-right'][LEFT];\n      this.points['left-top'][TOP] = topCenter - height + ARROW_OFFSET;\n      this.points['left-top'][LEFT] = hostRect.left - width - OFFSET;\n      this.points.left[TOP] = topCenter - height / 2;\n      this.points.left[LEFT] = this.points['left-top'][LEFT];\n      this.points['left-bottom'][TOP] = topCenter - ARROW_OFFSET;\n      this.points['left-bottom'][LEFT] = this.points['left-top'][LEFT];\n      this.points['right-top'][TOP] = this.points['left-top'][TOP];\n      this.points['right-top'][LEFT] = hostRect.right + OFFSET;\n      this.points.right[TOP] = this.points.left[TOP];\n      this.points.right[LEFT] = this.points['right-top'][LEFT];\n      this.points['right-bottom'][TOP] = this.points['left-bottom'][TOP];\n      this.points['right-bottom'][LEFT] = this.points['right-top'][LEFT];\n      if (this.checkPosition(this.points[this.direction], width, height)) {\n        return this.points[this.direction];\n      }\n      const direction = TUI_HINT_DIRECTIONS.find(direction => this.checkPosition(this.points[direction], width, height));\n      return this.points[direction || this.fallback];\n    }\n    get accessor() {\n      return tuiFallbackRectAccessor('hint')(this.accessors, this.directive);\n    }\n    get fallback() {\n      return this.points.top[TOP] > this.viewport.getClientRect().bottom - this.points.bottom[TOP] ? 'top' : 'bottom';\n    }\n    checkPosition([top, left], width, height) {\n      const viewport = this.viewport.getClientRect();\n      return top > OFFSET / 4 && left > OFFSET / 4 && top + height < viewport.bottom - OFFSET / 4 && left + width < viewport.right - OFFSET / 4;\n    }\n  }\n  TuiHintPositionDirective.ɵfac = function TuiHintPositionDirective_Factory(t) {\n    return new (t || TuiHintPositionDirective)(i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS), i0.ɵɵdirectiveInject(TUI_VIEWPORT), i0.ɵɵdirectiveInject(TuiHintDirective), i0.ɵɵdirectiveInject(TuiRectAccessor));\n  };\n  TuiHintPositionDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintPositionDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    inputs: {\n      direction: [0, \"tuiHintDirection\", \"direction\"]\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  __decorate([tuiPure], TuiHintPositionDirective.prototype, \"accessor\", null);\n  return TuiHintPositionDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst GAP = 4;\nlet TuiHintComponent = /*#__PURE__*/(() => {\n  class TuiHintComponent {\n    constructor(hovered$, position$, destroy$, animation, pointer, accessor, el, polymorpheus, hover, mode, vvs, viewport) {\n      var _a;\n      this.animation = animation;\n      this.pointer = pointer;\n      this.accessor = accessor;\n      this.el = el;\n      this.polymorpheus = polymorpheus;\n      this.hover = hover;\n      this.mode = mode;\n      this.vvs = vvs;\n      this.viewport = viewport;\n      this.appearance = this.polymorpheus.$implicit.appearance || ((_a = this.mode) === null || _a === void 0 ? void 0 : _a.mode);\n      position$.pipe(map(point => this.vvs.correct(point)), takeUntil(destroy$)).subscribe(([top, left]) => {\n        this.update(top, left);\n      });\n      hovered$.pipe(takeUntil(destroy$)).subscribe(hover => this.hover.toggle(hover));\n    }\n    get content() {\n      return this.polymorpheus.$implicit.content;\n    }\n    get context() {\n      return this.polymorpheus.$implicit.context;\n    }\n    onClick(target) {\n      if (!target.closest('tui-hint') && !this.hover.el.nativeElement.contains(target) || tuiIsObscured(this.hover.el.nativeElement)) {\n        this.hover.toggle(false);\n      }\n    }\n    update(top, left) {\n      if (!this.hover.el.nativeElement.isConnected) {\n        this.hover.toggle(false);\n        return;\n      }\n      const {\n        height,\n        width\n      } = this.el.nativeElement.getBoundingClientRect();\n      const {\n        style\n      } = this.el.nativeElement;\n      const rect = this.accessor.getClientRect();\n      const viewport = this.viewport.getClientRect();\n      if (rect === EMPTY_CLIENT_RECT) {\n        return;\n      }\n      const safeLeft = tuiClamp(left, GAP, viewport.width - width - GAP);\n      const [beakTop, beakLeft] = this.vvs.correct([rect.top + rect.height / 2 - top, rect.left + rect.width / 2 - safeLeft]);\n      style.top = tuiPx(top);\n      style.left = tuiPx(safeLeft);\n      style.setProperty('--top', tuiPx(tuiClamp(beakTop, 0.5, height - 1)));\n      style.setProperty('--left', tuiPx(tuiClamp(beakLeft, 0.5, width - 1)));\n    }\n  }\n  TuiHintComponent.ɵfac = function TuiHintComponent_Factory(t) {\n    return new (t || TuiHintComponent)(i0.ɵɵdirectiveInject(TuiHoveredService), i0.ɵɵdirectiveInject(TuiPositionService), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TUI_ANIMATION_OPTIONS), i0.ɵɵdirectiveInject(TuiHintPointerDirective, 8), i0.ɵɵdirectiveInject(TuiRectAccessor), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT), i0.ɵɵdirectiveInject(TuiHintHoverDirective), i0.ɵɵdirectiveInject(TuiModeDirective, 8), i0.ɵɵdirectiveInject(TuiVisualViewportService), i0.ɵɵdirectiveInject(TUI_VIEWPORT));\n  };\n  TuiHintComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHintComponent,\n    selectors: [[\"tui-hint\"]],\n    hostVars: 4,\n    hostBindings: function TuiHintComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function TuiHintComponent_click_HostBindingHandler($event) {\n          return ctx.onClick($event.target);\n        }, false, i0.ɵɵresolveDocument);\n      }\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiFadeIn\", ctx.animation);\n        i0.ɵɵattribute(\"data-appearance\", ctx.appearance);\n        i0.ɵɵclassProp(\"_untouchable\", ctx.pointer);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPositionService, TuiHoveredService, tuiPositionAccessorFor('hint', TuiHintPositionDirective), tuiRectAccessorFor('hint', TuiHintDirective)])],\n    ngContentSelectors: _c0,\n    decls: 2,\n    vars: 2,\n    consts: [[3, \"innerHTML\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [3, \"innerHTML\"]],\n    template: function TuiHintComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n        i0.ɵɵtemplate(1, TuiHintComponent_span_1_Template, 1, 1, \"span\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.content)(\"polymorpheusOutletContext\", ctx.context);\n      }\n    },\n    dependencies: [i1.PolymorpheusOutletDirective],\n    styles: [\"[_nghost-%COMP%]{position:absolute;max-width:18rem;min-height:var(--tui-height-m);padding:.75rem 1rem;background:var(--tui-primary);border-radius:var(--tui-radius-l);color:var(--tui-primary-text);box-sizing:border-box;font:var(--tui-font-text-s);white-space:pre-line;word-wrap:break-word;line-height:1.25rem}[_nghost-%COMP%]:before{content:\\\"\\\";position:absolute;top:var(--top);left:var(--left);width:.5rem;height:.5rem;border-radius:.125rem;box-sizing:border-box;background:inherit;transform:translate(-50%,-50%) rotate(45deg)}[data-appearance=error][_nghost-%COMP%]{background:var(--tui-error-fill)}[data-appearance=onDark][_nghost-%COMP%]{background:var(--tui-elevation-02);color:var(--tui-text-01);filter:drop-shadow(0 0 .125rem rgba(0,0,0,.16)) drop-shadow(0 1.5rem 1rem rgba(0,0,0,.03)) drop-shadow(0 .75rem .75rem rgba(0,0,0,.04)) drop-shadow(0 .25rem .375rem rgba(0,0,0,.05))}[_nghost-%COMP%]:not([style*=\\\"top\\\"]){visibility:hidden}._untouchable[_nghost-%COMP%]{pointer-events:none}\"],\n    data: {\n      animation: [tuiFadeIn]\n    },\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiHintComponent.prototype, \"update\", null);\n  return TuiHintComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintDescribeDirective = /*#__PURE__*/(() => {\n  class TuiHintDescribeDirective extends TuiDriver {\n    constructor(zone, doc, el) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.zone = zone;\n      this.doc = doc;\n      this.el = el;\n      this.id$ = new ReplaySubject(1);\n      this.stream$ = this.id$.pipe(tuiIfMap(() => tuiTypedFromEvent(this.doc, 'keydown', {\n        capture: true\n      }), tuiIsPresent), switchMap(() => this.focused ? of(false) : merge(tuiTypedFromEvent(this.doc, 'keyup'), tuiTypedFromEvent(this.element, 'blur')).pipe(map(() => this.focused))), debounce(visible => visible ? timer(1000) : of(null)), startWith(false), distinctUntilChanged(), skip(1), tuiZoneOptimized(this.zone));\n      this.tuiHintDescribe = '';\n      this.type = 'hint';\n    }\n    ngOnChanges() {\n      this.id$.next(this.tuiHintDescribe);\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.element);\n    }\n    get element() {\n      return this.doc.getElementById(this.tuiHintDescribe || '') || this.el.nativeElement;\n    }\n  }\n  TuiHintDescribeDirective.ɵfac = function TuiHintDescribeDirective_Factory(t) {\n    return new (t || TuiHintDescribeDirective)(i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiHintDescribeDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintDescribeDirective,\n    selectors: [[\"\", \"tuiHintDescribe\", \"\"]],\n    inputs: {\n      tuiHintDescribe: \"tuiHintDescribe\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiHintDescribeDirective)]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  __decorate([tuiPure], TuiHintDescribeDirective.prototype, \"element\", null);\n  return TuiHintDescribeDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintDriverDirective = /*#__PURE__*/(() => {\n  class TuiHintDriverDirective extends AbstractTuiDriverDirective {\n    // TODO: Figure out why this is necessary under nx test runner\n    constructor(destroy$, drivers, vehicles) {\n      super(destroy$, drivers, vehicles);\n      this.type = 'hint';\n    }\n  }\n  TuiHintDriverDirective.ɵfac = function TuiHintDriverDirective_Factory(t) {\n    return new (t || TuiHintDriverDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDriver), i0.ɵɵdirectiveInject(TuiVehicle));\n  };\n  TuiHintDriverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintDriverDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", 5, \"ng-container\", 5, \"ng-template\"]],\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintDriverDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintHostDirective = /*#__PURE__*/(() => {\n  class TuiHintHostDirective extends TuiRectAccessor {\n    constructor() {\n      super(...arguments);\n      this.type = 'hint';\n    }\n    getClientRect() {\n      var _a;\n      return ((_a = this.tuiHintHost) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) || EMPTY_CLIENT_RECT;\n    }\n  }\n  TuiHintHostDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiHintHostDirective_BaseFactory;\n    return function TuiHintHostDirective_Factory(t) {\n      return (ɵTuiHintHostDirective_BaseFactory || (ɵTuiHintHostDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiHintHostDirective)))(t || TuiHintHostDirective);\n    };\n  })();\n  TuiHintHostDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintHostDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", \"tuiHintHost\", \"\"]],\n    inputs: {\n      tuiHintHost: \"tuiHintHost\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsRectAccessor(TuiHintHostDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiHintHostDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintManualDirective = /*#__PURE__*/(() => {\n  class TuiHintManualDirective extends TuiDriver {\n    constructor(hover) {\n      super(subscriber => this.stream$.subscribe(subscriber));\n      this.stream$ = new BehaviorSubject(false);\n      this.tuiHintManual = false;\n      this.type = 'hint';\n      hover.enabled = false;\n    }\n    ngOnChanges() {\n      this.stream$.next(this.tuiHintManual);\n    }\n  }\n  TuiHintManualDirective.ɵfac = function TuiHintManualDirective_Factory(t) {\n    return new (t || TuiHintManualDirective)(i0.ɵɵdirectiveInject(TuiHintHoverDirective));\n  };\n  TuiHintManualDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintManualDirective,\n    selectors: [[\"\", \"tuiHint\", \"\", \"tuiHintManual\", \"\"]],\n    inputs: {\n      tuiHintManual: \"tuiHintManual\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiHintManualDirective)]), i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return TuiHintManualDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintUnstyledComponent = /*#__PURE__*/(() => {\n  class TuiHintUnstyledComponent {\n    constructor(context) {\n      this.context = context;\n    }\n  }\n  TuiHintUnstyledComponent.ɵfac = function TuiHintUnstyledComponent_Factory(t) {\n    return new (t || TuiHintUnstyledComponent)(i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT));\n  };\n  TuiHintUnstyledComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHintUnstyledComponent,\n    selectors: [[\"ng-component\"]],\n    hostVars: 1,\n    hostBindings: function TuiHintUnstyledComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiParentAnimation\", undefined);\n      }\n    },\n    decls: 1,\n    vars: 2,\n    consts: [[4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"]],\n    template: function TuiHintUnstyledComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiHintUnstyledComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.context.$implicit.content)(\"polymorpheusOutletContext\", ctx.context);\n      }\n    },\n    dependencies: [i1.PolymorpheusOutletDirective],\n    encapsulation: 2,\n    data: {\n      animation: [TUI_PARENT_ANIMATION]\n    },\n    changeDetection: 0\n  });\n  return TuiHintUnstyledComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintUnstyledDirective = /*#__PURE__*/(() => {\n  class TuiHintUnstyledDirective {\n    constructor(templateRef, hint) {\n      hint.component = new PolymorpheusComponent(TuiHintUnstyledComponent);\n      hint.content = templateRef;\n    }\n  }\n  TuiHintUnstyledDirective.ɵfac = function TuiHintUnstyledDirective_Factory(t) {\n    return new (t || TuiHintUnstyledDirective)(i0.ɵɵdirectiveInject(TemplateRef), i0.ɵɵdirectiveInject(TuiHintDirective));\n  };\n  TuiHintUnstyledDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHintUnstyledDirective,\n    selectors: [[\"ng-template\", \"tuiHint\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: POLYMORPHEUS_CONTEXT,\n      useValue: {\n        $implicit: {}\n      }\n    }])]\n  });\n  return TuiHintUnstyledDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHintModule = /*#__PURE__*/(() => {\n  class TuiHintModule {}\n  TuiHintModule.ɵfac = function TuiHintModule_Factory(t) {\n    return new (t || TuiHintModule)();\n  };\n  TuiHintModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHintModule\n  });\n  TuiHintModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule]]\n  });\n  return TuiHintModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_HINT_COMPONENT, TUI_HINT_DEFAULT_OPTIONS, TUI_HINT_OPTIONS, TuiHintComponent, TuiHintDescribeDirective, TuiHintDirective, TuiHintDriverDirective, TuiHintHostDirective, TuiHintHoverDirective, TuiHintManualDirective, TuiHintModule, TuiHintOptionsDirective, TuiHintPointerDirective, TuiHintPositionDirective, TuiHintUnstyledComponent, TuiHintUnstyledDirective, tuiHintOptionsProvider };\n","import { tuiCreateToken, tuiProvideOptions, tuiCreateTokenFromFactory, AbstractTuiController, TuiDestroyService, tuiWatch } from '@taiga-ui/cdk';\nimport * as i0 from '@angular/core';\nimport { forwardRef, Directive, Input, NgModule, InjectionToken, ChangeDetectorRef } from '@angular/core';\nimport { TUI_TEXTFIELD_APPEARANCE } from '@taiga-ui/core/tokens';\nimport { merge, NEVER } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nclass TuiTextfieldController {\n  constructor(change$, options, legacyAppearance, appearanceDirective, cleanerDirective, customContentDirective, iconDirective, iconLeftDirective, labelOutsideDirective, sizeDirective, prefixDirective, postfixDirective, fillerDirective) {\n    this.change$ = change$;\n    this.options = options;\n    this.legacyAppearance = legacyAppearance;\n    this.appearanceDirective = appearanceDirective;\n    this.cleanerDirective = cleanerDirective;\n    this.customContentDirective = customContentDirective;\n    this.iconDirective = iconDirective;\n    this.iconLeftDirective = iconLeftDirective;\n    this.labelOutsideDirective = labelOutsideDirective;\n    this.sizeDirective = sizeDirective;\n    this.prefixDirective = prefixDirective;\n    this.postfixDirective = postfixDirective;\n    this.fillerDirective = fillerDirective;\n  }\n  get appearance() {\n    return this.appearanceDirective.appearance || this.legacyAppearance;\n  }\n  get cleaner() {\n    return this.cleanerDirective.cleaner;\n  }\n  get customContent() {\n    return this.customContentDirective.customContent || '';\n  }\n  get icon() {\n    return this.iconDirective.icon;\n  }\n  get iconLeft() {\n    return this.iconLeftDirective.iconLeft;\n  }\n  get labelOutside() {\n    return this.labelOutsideDirective.labelOutside;\n  }\n  get size() {\n    return this.sizeDirective.size;\n  }\n  get prefix() {\n    return this.prefixDirective.prefix;\n  }\n  get postfix() {\n    return this.postfixDirective.postfix;\n  }\n  get filler() {\n    return this.fillerDirective.filler;\n  }\n}\n\n/** Default values for primitive textfield options */\nconst TUI_TEXTFIELD_DEFAULT_OPTIONS = {\n  iconCleaner: 'tuiIconClose',\n  hintOnDisabled: false\n};\n/**\n * Default parameters for textfield\n */\nconst TUI_TEXTFIELD_OPTIONS = tuiCreateToken(TUI_TEXTFIELD_DEFAULT_OPTIONS);\nfunction tuiTextfieldOptionsProvider(options) {\n  return tuiProvideOptions(TUI_TEXTFIELD_OPTIONS, options, TUI_TEXTFIELD_DEFAULT_OPTIONS);\n}\n\n// TODO: rename to TUI_TEXTFIELD_APPEARANCE in v4\nconst TUI_TEXTFIELD_APPEARANCE_DIRECTIVE = tuiCreateTokenFromFactory(() => new TuiTextfieldAppearanceDirective());\nlet TuiTextfieldAppearanceDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldAppearanceDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      // it's an empty string by default for backward compatibility\n      // (see comment https://github.com/taiga-family/taiga-ui/pull/3007#issuecomment-1315179508)\n      this.appearance = '';\n    }\n  }\n  TuiTextfieldAppearanceDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldAppearanceDirective_BaseFactory;\n    return function TuiTextfieldAppearanceDirective_Factory(t) {\n      return (ɵTuiTextfieldAppearanceDirective_BaseFactory || (ɵTuiTextfieldAppearanceDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldAppearanceDirective)))(t || TuiTextfieldAppearanceDirective);\n    };\n  })();\n  TuiTextfieldAppearanceDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldAppearanceDirective,\n    selectors: [[\"\", \"tuiTextfieldAppearance\", \"\"]],\n    inputs: {\n      appearance: [0, \"tuiTextfieldAppearance\", \"appearance\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_APPEARANCE_DIRECTIVE,\n      useExisting: forwardRef(() => TuiTextfieldAppearanceDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldAppearanceDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_CLEANER = tuiCreateTokenFromFactory(() => new TuiTextfieldCleanerDirective());\nlet TuiTextfieldCleanerDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldCleanerDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.cleaner = false;\n    }\n  }\n  TuiTextfieldCleanerDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldCleanerDirective_BaseFactory;\n    return function TuiTextfieldCleanerDirective_Factory(t) {\n      return (ɵTuiTextfieldCleanerDirective_BaseFactory || (ɵTuiTextfieldCleanerDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldCleanerDirective)))(t || TuiTextfieldCleanerDirective);\n    };\n  })();\n  TuiTextfieldCleanerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldCleanerDirective,\n    selectors: [[\"\", \"tuiTextfieldCleaner\", \"\"]],\n    inputs: {\n      cleaner: [0, \"tuiTextfieldCleaner\", \"cleaner\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_CLEANER,\n      useExisting: forwardRef(() => TuiTextfieldCleanerDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldCleanerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_CUSTOM_CONTENT = tuiCreateTokenFromFactory(() => new TuiTextfieldCustomContentDirective());\nlet TuiTextfieldCustomContentDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldCustomContentDirective extends AbstractTuiController {}\n  TuiTextfieldCustomContentDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldCustomContentDirective_BaseFactory;\n    return function TuiTextfieldCustomContentDirective_Factory(t) {\n      return (ɵTuiTextfieldCustomContentDirective_BaseFactory || (ɵTuiTextfieldCustomContentDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldCustomContentDirective)))(t || TuiTextfieldCustomContentDirective);\n    };\n  })();\n  TuiTextfieldCustomContentDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldCustomContentDirective,\n    selectors: [[\"\", \"tuiTextfieldCustomContent\", \"\"]],\n    inputs: {\n      customContent: [0, \"tuiTextfieldCustomContent\", \"customContent\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_CUSTOM_CONTENT,\n      useExisting: forwardRef(() => TuiTextfieldCustomContentDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldCustomContentDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_FILLER = tuiCreateTokenFromFactory(() => new TuiTextfieldFillerDirective());\nlet TuiTextfieldFillerDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldFillerDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.filler = '';\n    }\n  }\n  TuiTextfieldFillerDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldFillerDirective_BaseFactory;\n    return function TuiTextfieldFillerDirective_Factory(t) {\n      return (ɵTuiTextfieldFillerDirective_BaseFactory || (ɵTuiTextfieldFillerDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldFillerDirective)))(t || TuiTextfieldFillerDirective);\n    };\n  })();\n  TuiTextfieldFillerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldFillerDirective,\n    selectors: [[\"\", \"tuiTextfieldFiller\", \"\"]],\n    inputs: {\n      filler: [0, \"tuiTextfieldFiller\", \"filler\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_FILLER,\n      useExisting: forwardRef(() => TuiTextfieldFillerDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldFillerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_ICON = tuiCreateTokenFromFactory(() => new TuiTextfieldIconDirective());\nlet TuiTextfieldIconDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldIconDirective extends AbstractTuiController {}\n  TuiTextfieldIconDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldIconDirective_BaseFactory;\n    return function TuiTextfieldIconDirective_Factory(t) {\n      return (ɵTuiTextfieldIconDirective_BaseFactory || (ɵTuiTextfieldIconDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldIconDirective)))(t || TuiTextfieldIconDirective);\n    };\n  })();\n  TuiTextfieldIconDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldIconDirective,\n    selectors: [[\"\", \"tuiTextfieldIcon\", \"\"]],\n    inputs: {\n      icon: [0, \"tuiTextfieldIcon\", \"icon\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_ICON,\n      useExisting: forwardRef(() => TuiTextfieldIconDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldIconDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_ICON_LEFT = tuiCreateTokenFromFactory(() => new TuiTextfieldIconLeftDirective());\nlet TuiTextfieldIconLeftDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldIconLeftDirective extends AbstractTuiController {}\n  TuiTextfieldIconLeftDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldIconLeftDirective_BaseFactory;\n    return function TuiTextfieldIconLeftDirective_Factory(t) {\n      return (ɵTuiTextfieldIconLeftDirective_BaseFactory || (ɵTuiTextfieldIconLeftDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldIconLeftDirective)))(t || TuiTextfieldIconLeftDirective);\n    };\n  })();\n  TuiTextfieldIconLeftDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldIconLeftDirective,\n    selectors: [[\"\", \"tuiTextfieldIconLeft\", \"\"]],\n    inputs: {\n      iconLeft: [0, \"tuiTextfieldIconLeft\", \"iconLeft\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_ICON_LEFT,\n      useExisting: forwardRef(() => TuiTextfieldIconLeftDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldIconLeftDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_LABEL_OUTSIDE = tuiCreateTokenFromFactory(() => new TuiTextfieldLabelOutsideDirective());\nlet TuiTextfieldLabelOutsideDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldLabelOutsideDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.labelOutside = false;\n    }\n  }\n  TuiTextfieldLabelOutsideDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldLabelOutsideDirective_BaseFactory;\n    return function TuiTextfieldLabelOutsideDirective_Factory(t) {\n      return (ɵTuiTextfieldLabelOutsideDirective_BaseFactory || (ɵTuiTextfieldLabelOutsideDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldLabelOutsideDirective)))(t || TuiTextfieldLabelOutsideDirective);\n    };\n  })();\n  TuiTextfieldLabelOutsideDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldLabelOutsideDirective,\n    selectors: [[\"\", \"tuiTextfieldLabelOutside\", \"\"]],\n    inputs: {\n      labelOutside: [0, \"tuiTextfieldLabelOutside\", \"labelOutside\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_LABEL_OUTSIDE,\n      useExisting: forwardRef(() => TuiTextfieldLabelOutsideDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldLabelOutsideDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_POSTFIX = tuiCreateTokenFromFactory(() => new TuiTextfieldPostfixDirective());\nlet TuiTextfieldPostfixDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldPostfixDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.postfix = '';\n    }\n  }\n  TuiTextfieldPostfixDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldPostfixDirective_BaseFactory;\n    return function TuiTextfieldPostfixDirective_Factory(t) {\n      return (ɵTuiTextfieldPostfixDirective_BaseFactory || (ɵTuiTextfieldPostfixDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldPostfixDirective)))(t || TuiTextfieldPostfixDirective);\n    };\n  })();\n  TuiTextfieldPostfixDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldPostfixDirective,\n    selectors: [[\"\", \"tuiTextfieldPostfix\", \"\"]],\n    inputs: {\n      postfix: [0, \"tuiTextfieldPostfix\", \"postfix\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_POSTFIX,\n      useExisting: forwardRef(() => TuiTextfieldPostfixDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldPostfixDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_PREFIX = tuiCreateTokenFromFactory(() => new TuiTextfieldPrefixDirective());\nlet TuiTextfieldPrefixDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldPrefixDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.prefix = '';\n    }\n  }\n  TuiTextfieldPrefixDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldPrefixDirective_BaseFactory;\n    return function TuiTextfieldPrefixDirective_Factory(t) {\n      return (ɵTuiTextfieldPrefixDirective_BaseFactory || (ɵTuiTextfieldPrefixDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldPrefixDirective)))(t || TuiTextfieldPrefixDirective);\n    };\n  })();\n  TuiTextfieldPrefixDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldPrefixDirective,\n    selectors: [[\"\", \"tuiTextfieldPrefix\", \"\"]],\n    inputs: {\n      prefix: [0, \"tuiTextfieldPrefix\", \"prefix\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_PREFIX,\n      useExisting: forwardRef(() => TuiTextfieldPrefixDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldPrefixDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_SIZE = tuiCreateTokenFromFactory(() => new TuiTextfieldSizeDirective());\nlet TuiTextfieldSizeDirective = /*#__PURE__*/(() => {\n  class TuiTextfieldSizeDirective extends AbstractTuiController {\n    constructor() {\n      super(...arguments);\n      this.size = 'l';\n    }\n  }\n  TuiTextfieldSizeDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiTextfieldSizeDirective_BaseFactory;\n    return function TuiTextfieldSizeDirective_Factory(t) {\n      return (ɵTuiTextfieldSizeDirective_BaseFactory || (ɵTuiTextfieldSizeDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiTextfieldSizeDirective)))(t || TuiTextfieldSizeDirective);\n    };\n  })();\n  TuiTextfieldSizeDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTextfieldSizeDirective,\n    selectors: [[\"\", \"tuiTextfieldSize\", \"\"]],\n    inputs: {\n      size: [0, \"tuiTextfieldSize\", \"size\"]\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TUI_TEXTFIELD_SIZE,\n      useExisting: forwardRef(() => TuiTextfieldSizeDirective)\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiTextfieldSizeDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTextfieldControllerModule = /*#__PURE__*/(() => {\n  class TuiTextfieldControllerModule {}\n  TuiTextfieldControllerModule.ɵfac = function TuiTextfieldControllerModule_Factory(t) {\n    return new (t || TuiTextfieldControllerModule)();\n  };\n  TuiTextfieldControllerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTextfieldControllerModule\n  });\n  TuiTextfieldControllerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiTextfieldControllerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_TEXTFIELD_WATCHED_CONTROLLER = new InjectionToken('[TUI_TEXTFIELD_WATCHED_CONTROLLER]');\nconst TEXTFIELD_CONTROLLER_PROVIDER = [TuiDestroyService, {\n  provide: TUI_TEXTFIELD_WATCHED_CONTROLLER,\n  deps: [ChangeDetectorRef, TuiDestroyService, TUI_TEXTFIELD_OPTIONS, TUI_TEXTFIELD_APPEARANCE, TUI_TEXTFIELD_APPEARANCE_DIRECTIVE, TUI_TEXTFIELD_CLEANER, TUI_TEXTFIELD_CUSTOM_CONTENT, TUI_TEXTFIELD_ICON, TUI_TEXTFIELD_ICON_LEFT, TUI_TEXTFIELD_LABEL_OUTSIDE, TUI_TEXTFIELD_SIZE, TUI_TEXTFIELD_PREFIX, TUI_TEXTFIELD_POSTFIX, TUI_TEXTFIELD_FILLER],\n  useFactory: (cdr, destroy$, options, legacyAppearance, ...controllers) => {\n    const change$ = merge(...controllers.map(({\n      change$\n    }) => change$ || NEVER)).pipe(tuiWatch(cdr), takeUntil(destroy$));\n    change$.subscribe();\n    return new TuiTextfieldController(change$, options, legacyAppearance, ...controllers);\n  }\n}];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TEXTFIELD_CONTROLLER_PROVIDER, TUI_TEXTFIELD_APPEARANCE_DIRECTIVE, TUI_TEXTFIELD_CLEANER, TUI_TEXTFIELD_CUSTOM_CONTENT, TUI_TEXTFIELD_DEFAULT_OPTIONS, TUI_TEXTFIELD_FILLER, TUI_TEXTFIELD_ICON, TUI_TEXTFIELD_ICON_LEFT, TUI_TEXTFIELD_LABEL_OUTSIDE, TUI_TEXTFIELD_OPTIONS, TUI_TEXTFIELD_POSTFIX, TUI_TEXTFIELD_PREFIX, TUI_TEXTFIELD_SIZE, TUI_TEXTFIELD_WATCHED_CONTROLLER, TuiTextfieldAppearanceDirective, TuiTextfieldCleanerDirective, TuiTextfieldController, TuiTextfieldControllerModule, TuiTextfieldCustomContentDirective, TuiTextfieldFillerDirective, TuiTextfieldIconDirective, TuiTextfieldIconLeftDirective, TuiTextfieldLabelOutsideDirective, TuiTextfieldPostfixDirective, TuiTextfieldPrefixDirective, TuiTextfieldSizeDirective, tuiTextfieldOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { Optional, Directive, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, DefaultValueAccessor } from '@angular/forms';\nimport { TUI_VALUE_ACCESSOR } from '@taiga-ui/core/tokens';\nlet TuiMaskAccessorDirective = /*#__PURE__*/(() => {\n  class TuiMaskAccessorDirective {}\n  TuiMaskAccessorDirective.ɵfac = function TuiMaskAccessorDirective_Factory(t) {\n    return new (t || TuiMaskAccessorDirective)();\n  };\n  TuiMaskAccessorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiMaskAccessorDirective,\n    selectors: [[\"input\", \"tuiMaskAccessor\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: NG_VALUE_ACCESSOR,\n      deps: [[new Optional(), TUI_VALUE_ACCESSOR], DefaultValueAccessor],\n      multi: true,\n      useFactory: (accessor, fallback) => accessor ? accessor[0] : fallback\n    }])]\n  });\n  return TuiMaskAccessorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @internal\n */\nlet TuiMaskAccessorModule = /*#__PURE__*/(() => {\n  class TuiMaskAccessorModule {}\n  TuiMaskAccessorModule.ɵfac = function TuiMaskAccessorModule_Factory(t) {\n    return new (t || TuiMaskAccessorModule)();\n  };\n  TuiMaskAccessorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiMaskAccessorModule\n  });\n  TuiMaskAccessorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiMaskAccessorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiMaskAccessorDirective, TuiMaskAccessorModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Inject, Input, HostBinding, NgModule } from '@angular/core';\nimport { TuiInteractiveState } from '@taiga-ui/core/enums';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport { TUI_MODE } from '@taiga-ui/core/tokens';\nimport * as i1 from 'rxjs';\nlet TuiWrapperDirective = /*#__PURE__*/(() => {\n  class TuiWrapperDirective {\n    constructor(mode$) {\n      this.mode$ = mode$;\n      this.disabled = false;\n      this.readOnly = false;\n      this.hover = null;\n      this.active = null;\n      this.focus = false;\n      this.invalid = false;\n      this.appearance = '';\n    }\n    get computedInvalid() {\n      return !this.disabled && !this.readOnly && this.invalid;\n    }\n    get computedFocused() {\n      return this.focus && !this.disabled;\n    }\n    get interactiveState() {\n      if (this.disabled) {\n        return TuiInteractiveState.Disabled;\n      }\n      if (this.readOnly) {\n        return TuiInteractiveState.Readonly;\n      }\n      if (this.active) {\n        return TuiInteractiveState.Active;\n      }\n      if (this.hover) {\n        return TuiInteractiveState.Hover;\n      }\n      return null;\n    }\n    get noHover() {\n      return this.readOnly || this.hover === false;\n    }\n    get noActive() {\n      return this.readOnly || this.active === false;\n    }\n  }\n  TuiWrapperDirective.ɵfac = function TuiWrapperDirective_Factory(t) {\n    return new (t || TuiWrapperDirective)(i0.ɵɵdirectiveInject(TUI_MODE));\n  };\n  TuiWrapperDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiWrapperDirective,\n    selectors: [[\"\", \"tuiWrapper\", \"\"]],\n    hostVars: 10,\n    hostBindings: function TuiWrapperDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"$.data-mode.attr\", function TuiWrapperDirective___data_mode_attr_HostBindingHandler() {\n          return ctx.mode$;\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-appearance\", ctx.appearance)(\"data-state\", ctx.interactiveState);\n        i0.ɵɵclassProp(\"_invalid\", ctx.computedInvalid)(\"_focused\", ctx.computedFocused)(\"_no-hover\", ctx.noHover)(\"_no-active\", ctx.noActive);\n      }\n    },\n    inputs: {\n      disabled: \"disabled\",\n      readOnly: \"readOnly\",\n      hover: \"hover\",\n      active: \"active\",\n      focus: \"focus\",\n      invalid: \"invalid\",\n      appearance: \"appearance\"\n    },\n    features: [i0.ɵɵProvidersFeature([MODE_PROVIDER])]\n  });\n  return TuiWrapperDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiWrapperModule = /*#__PURE__*/(() => {\n  class TuiWrapperModule {}\n  TuiWrapperModule.ɵfac = function TuiWrapperModule_Factory(t) {\n    return new (t || TuiWrapperModule)();\n  };\n  TuiWrapperModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiWrapperModule\n  });\n  TuiWrapperModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiWrapperModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiWrapperDirective, TuiWrapperModule };\n","import * as i1 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Inject, Input, HostBinding, NgModule } from '@angular/core';\nimport { tuiCreateToken, tuiProvideOptions, tuiIsSafari, tuiBlurNativeFocused, tuiIsNativeFocusedIn, TUI_IS_IOS } from '@taiga-ui/cdk';\nimport { tuiSizeBigger } from '@taiga-ui/core/utils/miscellaneous';\nimport * as i2 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\n\n/** Default values for the loader options. */\nconst _c0 = [\"*\"];\nfunction TuiLoaderComponent_div_2_div_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiLoaderComponent_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, TuiLoaderComponent_div_2_div_3_ng_container_1_Template, 2, 1, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"t-text_horizontal\", ctx_r1.isHorizontal);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.textContent);\n  }\n}\nfunction TuiLoaderComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 3);\n    i0.ɵɵelement(2, \"circle\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TuiLoaderComponent_div_2_div_3_Template, 2, 3, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-loader_horizontal\", ctx_r1.isHorizontal)(\"t-loader_inherit-color\", ctx_r1.inheritColor);\n    i0.ɵɵattribute(\"data-size\", ctx_r1.size);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasText);\n  }\n}\nconst TUI_LOADER_DEFAULT_OPTIONS = {\n  size: 'm',\n  inheritColor: false,\n  overlay: false\n};\n/**\n * Default parameters for loader component\n */\nconst TUI_LOADER_OPTIONS = tuiCreateToken(TUI_LOADER_DEFAULT_OPTIONS);\nfunction tuiLoaderOptionsProvider(options) {\n  return tuiProvideOptions(TUI_LOADER_OPTIONS, options, TUI_LOADER_DEFAULT_OPTIONS);\n}\nlet TuiLoaderComponent = /*#__PURE__*/(() => {\n  class TuiLoaderComponent {\n    constructor(doc, el, isIos, options) {\n      this.doc = doc;\n      this.el = el;\n      this.isIos = isIos;\n      this.options = options;\n      this.size = this.options.size;\n      this.inheritColor = this.options.inheritColor;\n      this.overlay = this.options.overlay;\n      this.loading = true;\n      this.isApple = tuiIsSafari(this.el.nativeElement) || this.isIos;\n    }\n    set showLoader(value) {\n      // @bad TODO: https://github.com/angular/angular/issues/32083 think of a better way\n      if (value && this.focused) {\n        tuiBlurNativeFocused(this.doc);\n      }\n      this.loading = value;\n    }\n    get hasOverlay() {\n      return this.overlay && this.loading;\n    }\n    get hasText() {\n      return !!this.textContent;\n    }\n    get isHorizontal() {\n      return !tuiSizeBigger(this.size);\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.el.nativeElement);\n    }\n  }\n  TuiLoaderComponent.ɵfac = function TuiLoaderComponent_Factory(t) {\n    return new (t || TuiLoaderComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_IS_IOS), i0.ɵɵdirectiveInject(TUI_LOADER_OPTIONS));\n  };\n  TuiLoaderComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLoaderComponent,\n    selectors: [[\"tui-loader\"]],\n    hostVars: 2,\n    hostBindings: function TuiLoaderComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_loading\", ctx.loading);\n      }\n    },\n    inputs: {\n      size: \"size\",\n      inheritColor: \"inheritColor\",\n      overlay: \"overlay\",\n      textContent: \"textContent\",\n      showLoader: \"showLoader\"\n    },\n    ngContentSelectors: _c0,\n    decls: 3,\n    vars: 7,\n    consts: [[1, \"t-content\", 3, \"disabled\"], [\"class\", \"t-loader\", 3, \"t-loader_horizontal\", \"t-loader_inherit-color\", 4, \"ngIf\"], [1, \"t-loader\"], [\"automation-id\", \"tui-loader__loader\", \"focusable\", \"false\", \"viewBox\", \"0 0 100 100\", \"xmlns\", \"http://www.w3.org/2000/svg\", 1, \"t-icon\"], [\"cx\", \"50\", \"cy\", \"50\", \"r\", \"50\", \"stroke-dasharray\", \"314\", 1, \"t-circle\"], [\"automation-id\", \"tui-loader__text\", \"class\", \"t-text\", 3, \"t-text_horizontal\", 4, \"ngIf\"], [\"automation-id\", \"tui-loader__text\", 1, \"t-text\"], [4, \"polymorpheusOutlet\"]],\n    template: function TuiLoaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"fieldset\", 0);\n        i0.ɵɵprojection(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, TuiLoaderComponent_div_2_Template, 4, 6, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"t-content_has-overlay\", ctx.hasOverlay)(\"t-content_loading\", ctx.loading);\n        i0.ɵɵproperty(\"disabled\", ctx.loading && !ctx.isApple);\n        i0.ɵɵattribute(\"inert\", ctx.loading || null);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    dependencies: [i1.NgIf, i2.PolymorpheusOutletDirective],\n    styles: [\"@keyframes _ngcontent-%COMP%_tuiLoaderDashOffset{0%{stroke-dashoffset:-66}50%{stroke-dashoffset:-314}to{stroke-dashoffset:-66}}@keyframes _ngcontent-%COMP%_tuiLoaderRotate{0%{transform:rotate(0)}50%{transform:rotate(1turn)}to{transform:rotate(3turn)}}[_nghost-%COMP%]{position:relative;display:flex;min-width:1.5rem}._loading[_nghost-%COMP%]{overflow:hidden}.t-content[_ngcontent-%COMP%]{z-index:0;min-width:100%;height:100%;padding:0;margin:0;border:none}.t-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.t-content_loading[_ngcontent-%COMP%]{pointer-events:none}.t-loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;flex-shrink:0;align-self:center;color:var(--tui-text-01);stroke:var(--tui-primary);animation:tuiFadeIn var(--tui-duration)}.t-loader.t-loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.t-loader.t-loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.t-loader[data-size=xs][_ngcontent-%COMP%]{font-size:.75rem;stroke-width:38}.t-loader[data-size=s][_ngcontent-%COMP%]{font-size:1rem;stroke-width:25}.t-loader[data-size=m][_ngcontent-%COMP%]{font-size:1.5rem;stroke-width:17}.t-loader[data-size=l][_ngcontent-%COMP%]{font-size:2.5rem;stroke-width:15}.t-loader[data-size=xl][_ngcontent-%COMP%]{font-size:3.5rem;stroke-width:14}.t-loader[data-size=xxl][_ngcontent-%COMP%]{font-size:5rem;stroke-width:10}.t-text[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:1rem;color:inherit;max-width:100%;text-align:center;stroke-width:0}.t-text_horizontal[_ngcontent-%COMP%]{margin:0 0 0 1rem}.t-icon[_ngcontent-%COMP%]{display:block;min-width:1em;max-width:1em;min-height:1em;max-height:1em;margin:.25rem -.5em;border-radius:100%;overflow:hidden;transform:scaleY(-1);animation:_ngcontent-%COMP%_tuiLoaderRotate 3s linear infinite}@supports (-webkit-hyphens: none){.t-icon[_ngcontent-%COMP%]{overflow:visible}}.t-circle[_ngcontent-%COMP%]{fill:none;stroke:inherit;stroke-width:inherit;animation:_ngcontent-%COMP%_tuiLoaderDashOffset 3s linear infinite}\"],\n    changeDetection: 0\n  });\n  return TuiLoaderComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLoaderModule = /*#__PURE__*/(() => {\n  class TuiLoaderModule {}\n  TuiLoaderModule.ɵfac = function TuiLoaderModule_Factory(t) {\n    return new (t || TuiLoaderModule)();\n  };\n  TuiLoaderModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLoaderModule\n  });\n  TuiLoaderModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule]]\n  });\n  return TuiLoaderModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_LOADER_DEFAULT_OPTIONS, TUI_LOADER_OPTIONS, TuiLoaderComponent, TuiLoaderModule, tuiLoaderOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Optional, Inject, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { tuiCreateToken, tuiProvideOptions, AbstractTuiInteractive, tuiIsNativeFocused, tuiAsFocusableItemAccessor, TuiDestroyService } from '@taiga-ui/cdk';\nimport * as i6 from '@taiga-ui/core/directives';\nimport { TuiModeDirective } from '@taiga-ui/core/directives';\nimport { EMPTY } from 'rxjs';\nimport { startWith, map, distinctUntilChanged } from 'rxjs/operators';\nimport { TuiAppearance } from '@taiga-ui/core/enums';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport * as i2 from '@taiga-ui/core/components/loader';\nimport { TuiLoaderModule } from '@taiga-ui/core/components/loader';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@taiga-ui/core/directives/wrapper';\nimport { TuiWrapperModule } from '@taiga-ui/core/directives/wrapper';\nimport * as i5 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nconst _c0 = [\"tuiButton\", \"\"];\nconst _c1 = [\"*\"];\nfunction TuiButtonComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiButtonComponent_span_4_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 8);\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", text_r1);\n  }\n}\nfunction TuiButtonComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 6);\n    i0.ɵɵtemplate(1, TuiButtonComponent_span_4_tui_svg_1_Template, 1, 1, \"tui-svg\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.icon);\n  }\n}\nfunction TuiButtonComponent_span_6_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 8);\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", text_r3);\n  }\n}\nfunction TuiButtonComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 9);\n    i0.ɵɵtemplate(1, TuiButtonComponent_span_6_tui_svg_1_Template, 1, 1, \"tui-svg\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.iconRight);\n  }\n}\nfunction TuiButtonComponent_tui_loader_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 10);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"inheritColor\", true)(\"size\", ctx_r1.loaderSize);\n  }\n}\nconst TUI_BUTTON_DEFAULT_OPTIONS = {\n  size: 'l',\n  shape: null,\n  appearance: TuiAppearance.Primary\n};\n/**\n * Default parameters for button component\n */\nconst TUI_BUTTON_OPTIONS = tuiCreateToken(TUI_BUTTON_DEFAULT_OPTIONS);\nfunction tuiButtonOptionsProvider(options) {\n  return tuiProvideOptions(TUI_BUTTON_OPTIONS, options, TUI_BUTTON_DEFAULT_OPTIONS);\n}\nlet TuiButtonComponent = /*#__PURE__*/(() => {\n  class TuiButtonComponent extends AbstractTuiInteractive {\n    constructor(mode, el, options) {\n      var _a;\n      super();\n      this.mode = mode;\n      this.el = el;\n      this.options = options;\n      this.mode$ = ((_a = this.mode) === null || _a === void 0 ? void 0 : _a.change$) || EMPTY;\n      this.appearance = null;\n      this.disabled = false;\n      this.shape = this.options.shape;\n      this.showLoader = false;\n      this.size = this.options.size;\n      this.appearance$ = this.mode$.pipe(startWith(null), map(() => this.computedAppearance), distinctUntilChanged());\n    }\n    get nativeFocusableElement() {\n      return this.nativeDisabled ? null : this.el.nativeElement;\n    }\n    get focused() {\n      return !this.showLoader && tuiIsNativeFocused(this.el.nativeElement);\n    }\n    get loaderSize() {\n      return this.size === 'l' || this.size === 'xl' ? 'm' : 's';\n    }\n    get computedAppearance() {\n      var _a;\n      return (_a = this.appearance) !== null && _a !== void 0 ? _a : this.options.appearance || '';\n    }\n    get nativeDisabled() {\n      return this.computedDisabled || this.showLoader ? '' : null;\n    }\n    get tabIndex() {\n      return this.focusable ? 0 : -1;\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n  }\n  TuiButtonComponent.ɵfac = function TuiButtonComponent_Factory(t) {\n    return new (t || TuiButtonComponent)(i0.ɵɵdirectiveInject(TuiModeDirective, 8), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_BUTTON_OPTIONS));\n  };\n  TuiButtonComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiButtonComponent,\n    selectors: [[\"button\", \"tuiButton\", \"\"], [\"button\", \"tuiIconButton\", \"\"], [\"a\", \"tuiButton\", \"\"], [\"a\", \"tuiIconButton\", \"\"]],\n    hostVars: 7,\n    hostBindings: function TuiButtonComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focusin\", function TuiButtonComponent_focusin_HostBindingHandler() {\n          return ctx.onFocused(true);\n        })(\"focusout\", function TuiButtonComponent_focusout_HostBindingHandler() {\n          return ctx.onFocused(false);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"tabIndex\", ctx.tabIndex);\n        i0.ɵɵattribute(\"data-shape\", ctx.shape)(\"data-size\", ctx.size)(\"data-appearance\", ctx.computedAppearance)(\"disabled\", ctx.nativeDisabled);\n        i0.ɵɵclassProp(\"_loading\", ctx.showLoader);\n      }\n    },\n    inputs: {\n      appearance: \"appearance\",\n      disabled: \"disabled\",\n      icon: \"icon\",\n      iconRight: \"iconRight\",\n      shape: \"shape\",\n      showLoader: \"showLoader\",\n      size: \"size\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiButtonComponent), TuiDestroyService]), i0.ɵɵInheritDefinitionFeature],\n    attrs: _c0,\n    ngContentSelectors: _c1,\n    decls: 8,\n    vars: 10,\n    consts: [[4, \"ngIf\"], [\"tuiWrapper\", \"\", 1, \"t-wrapper\", 3, \"active\", \"appearance\", \"disabled\", \"hover\"], [1, \"t-content\"], [\"class\", \"t-left\", 4, \"ngIf\"], [\"class\", \"t-right\", 4, \"ngIf\"], [\"class\", \"t-loader\", 3, \"inheritColor\", \"size\", 4, \"ngIf\"], [1, \"t-left\"], [\"class\", \"t-icon\", 3, \"src\", 4, \"polymorpheusOutlet\"], [1, \"t-icon\", 3, \"src\"], [1, \"t-right\"], [1, \"t-loader\", 3, \"inheritColor\", \"size\"]],\n    template: function TuiButtonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiButtonComponent_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"span\", 2);\n        i0.ɵɵtemplate(4, TuiButtonComponent_span_4_Template, 2, 1, \"span\", 3);\n        i0.ɵɵprojection(5);\n        i0.ɵɵtemplate(6, TuiButtonComponent_span_6_Template, 2, 1, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, TuiButtonComponent_tui_loader_7_Template, 1, 2, \"tui-loader\", 5);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 8, ctx.appearance$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"active\", ctx.pseudoActive)(\"appearance\", ctx.computedAppearance)(\"disabled\", ctx.computedDisabled)(\"hover\", ctx.pseudoHover);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.icon);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.iconRight);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.TuiLoaderComponent, i3.NgIf, i4.TuiWrapperDirective, i5.PolymorpheusOutletDirective, i3.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:inline-block;flex-shrink:0;vertical-align:top;border-radius:var(--tui-radius-m);-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;color:inherit}[data-shape=rounded][_nghost-%COMP%]{border-radius:6.25rem}[data-size=xs][_nghost-%COMP%]{height:var(--tui-height-xs);font-weight:normal}[data-size=xs][data-shape=square][_nghost-%COMP%], [data-size=xs][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-xs)}[data-size=s][_nghost-%COMP%]{height:var(--tui-height-s);font-weight:normal}[data-size=s][data-shape=square][_nghost-%COMP%], [data-size=s][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]{height:var(--tui-height-m);font:var(--tui-font-text-m);font-weight:bold}[data-size=m][data-shape=square][_nghost-%COMP%], [data-size=m][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]{height:var(--tui-height-l);font:var(--tui-font-text-m);font-weight:bold}[data-size=l][data-shape=square][_nghost-%COMP%], [data-size=l][tuiIconButton][_nghost-%COMP%]{width:var(--tui-height-l)}[data-size=xl][_nghost-%COMP%]{height:3.75rem;font:var(--tui-font-text-m);font-weight:bold}[data-size=xl][data-shape=square][_nghost-%COMP%], [data-size=xl][tuiIconButton][_nghost-%COMP%]{width:3.75rem}[tuiIconButton][_nghost-%COMP%]{font-size:0!important}[tuiIconButton][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0!important}.t-loader[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;cursor:default}.t-left[_ngcontent-%COMP%]{margin-right:.5rem}[data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%]{margin-right:.375rem}[data-size=xs][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%]{margin-right:.25rem}.t-right[_ngcontent-%COMP%]{margin:0 -.25rem 0 .25rem}[data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0 -.25rem 0 .375rem}[data-size=xs][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{margin:0 -.125rem 0 .25rem}.t-icon[_ngcontent-%COMP%]{display:flex;max-width:100%;max-height:100%;align-items:center;justify-content:center}.t-left[_ngcontent-%COMP%], .t-right[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}[data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%], [data-size=xs][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [data-size=xs][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{width:1rem;height:1rem}[tuiIconButton][data-appearance=icon][data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][data-appearance=icon][data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%], [tuiIconButton][data-appearance=link][data-size=s][_nghost-%COMP%]   .t-left[_ngcontent-%COMP%], [tuiIconButton][data-appearance=link][data-size=s][_nghost-%COMP%]   .t-right[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.t-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;isolation:isolate}[data-size=xs][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, .375rem)}[data-size=xs][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-width:1px}[data-size=s][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, .75rem)}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 1.5rem)}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 2.25rem)}[data-size=xl][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0 var(--tui-padding, 2.5rem)}[data-shape=square][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%], [tuiIconButton][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:0}.t-content[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center;text-align:center}._loading[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{opacity:0}\"],\n    changeDetection: 0\n  });\n  return TuiButtonComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiButtonModule = /*#__PURE__*/(() => {\n  class TuiButtonModule {}\n  TuiButtonModule.ɵfac = function TuiButtonModule_Factory(t) {\n    return new (t || TuiButtonModule)();\n  };\n  TuiButtonModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiButtonModule\n  });\n  TuiButtonModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule, TuiWrapperModule, TuiSvgModule, TuiLoaderModule]]\n  });\n  return TuiButtonModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_BUTTON_DEFAULT_OPTIONS, TUI_BUTTON_OPTIONS, TuiButtonComponent, TuiButtonModule, tuiButtonOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Inject, Input, HostBinding, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiTypedFromEvent, ALWAYS_TRUE_HANDLER, ALWAYS_FALSE_HANDLER, tuiIsNativeFocused, TuiFocusVisibleService, tuiAsFocusableItemAccessor, TuiDestroyService } from '@taiga-ui/cdk';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport { TUI_MODE } from '@taiga-ui/core/tokens';\nimport * as i3 from 'rxjs';\nimport { merge } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n// @bad TODO: Think about extending Interactive\nconst _c0 = [\"tuiLink\", \"\"];\nconst _c1 = [\"*\"];\nfunction TuiLinkComponent_tui_svg_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.icon || \"\");\n  }\n}\nfunction TuiLinkComponent_tui_svg_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.icon || \"\");\n  }\n}\nlet TuiLinkComponent = /*#__PURE__*/(() => {\n  class TuiLinkComponent {\n    constructor(el, mode$, focusVisible$) {\n      this.el = el;\n      this.mode$ = mode$;\n      this.pseudo = false;\n      this.icon = '';\n      this.iconAlign = 'right';\n      this.iconRotated = false;\n      this.mode = null;\n      this.focusVisible = false;\n      this.focusedChange = merge(tuiTypedFromEvent(this.el.nativeElement, 'focusin').pipe(map(ALWAYS_TRUE_HANDLER)), tuiTypedFromEvent(this.el.nativeElement, 'focusout').pipe(map(ALWAYS_FALSE_HANDLER)));\n      focusVisible$.subscribe(visible => {\n        this.focusVisible = visible;\n      });\n    }\n    get nativeFocusableElement() {\n      return this.el.nativeElement;\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.nativeFocusableElement);\n    }\n    get hasIcon() {\n      return !!this.icon;\n    }\n    get iconAlignLeft() {\n      return this.hasIcon && this.iconAlign === 'left';\n    }\n    get iconAlignRight() {\n      return this.hasIcon && this.iconAlign === 'right';\n    }\n  }\n  TuiLinkComponent.ɵfac = function TuiLinkComponent_Factory(t) {\n    return new (t || TuiLinkComponent)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_MODE), i0.ɵɵdirectiveInject(TuiFocusVisibleService));\n  };\n  TuiLinkComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLinkComponent,\n    selectors: [[\"a\", \"tuiLink\", \"\"], [\"button\", \"tuiLink\", \"\"]],\n    hostVars: 7,\n    hostBindings: function TuiLinkComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"$.data-mode.attr\", function TuiLinkComponent___data_mode_attr_HostBindingHandler() {\n          return ctx.mode$;\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-host-mode\", ctx.mode);\n        i0.ɵɵclassProp(\"_pseudo\", ctx.pseudo)(\"_icon-rotated\", ctx.iconRotated)(\"_focus-visible\", ctx.focusVisible);\n      }\n    },\n    inputs: {\n      pseudo: \"pseudo\",\n      icon: \"icon\",\n      iconAlign: \"iconAlign\",\n      iconRotated: \"iconRotated\",\n      mode: \"mode\"\n    },\n    exportAs: [\"tuiLink\"],\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiLinkComponent), TuiFocusVisibleService, TuiDestroyService, MODE_PROVIDER])],\n    attrs: _c0,\n    ngContentSelectors: _c1,\n    decls: 4,\n    vars: 2,\n    consts: [[\"class\", \"t-icon t-icon_left\", 3, \"src\", 4, \"ngIf\"], [1, \"t-content\"], [\"class\", \"t-icon t-icon_right\", 3, \"src\", 4, \"ngIf\"], [1, \"t-icon\", \"t-icon_left\", 3, \"src\"], [1, \"t-icon\", \"t-icon_right\", 3, \"src\"]],\n    template: function TuiLinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiLinkComponent_tui_svg_0_Template, 1, 1, \"tui-svg\", 0);\n        i0.ɵɵelementStart(1, \"span\", 1);\n        i0.ɵɵprojection(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, TuiLinkComponent_tui_svg_3_Template, 1, 1, \"tui-svg\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.iconAlignLeft);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.iconAlignRight);\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.NgIf],\n    styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-link);text-align:left;text-transform:inherit;font-weight:inherit;cursor:pointer;outline:none}[_nghost-%COMP%]:hover{color:var(--tui-link-hover)}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}[data-mode=onLight][_nghost-%COMP%]{color:var(--tui-text-02)}[data-mode=onLight][_nghost-%COMP%]:hover, [data-mode=onLight]._active[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01)}[data-mode=onLight]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(0,0,0,.48);text-decoration-color:#0000007a}[data-mode=onLight]._pseudo[_nghost-%COMP%]:hover, [data-mode=onLight]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative-night)}[data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:hover, [data-mode=onLight][data-host-mode=negative][_nghost-%COMP%]:active, [data-mode=onLight][data-host-mode=negative]._active[_nghost-%COMP%]{color:var(--tui-negative-night-hover)}[data-mode=onDark][_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][_nghost-%COMP%]:hover, [data-mode=onDark][_nghost-%COMP%]:active, [data-mode=onDark]._active[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]{color:var(--tui-text-01-night)}[data-mode=onDark]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(255,255,255,.48);text-decoration-color:#ffffff7a}[data-mode=onDark]._pseudo[_nghost-%COMP%]:hover, [data-mode=onDark]._pseudo[_nghost-%COMP%]:active, [data-mode=onDark]._pseudo._active[_nghost-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive-night)}[data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:hover, [data-mode=onDark][data-host-mode=positive][_nghost-%COMP%]:active, [data-mode=onDark][data-host-mode=positive]._active[_nghost-%COMP%]{color:var(--tui-positive-night-hover)}[data-host-mode=negative][_nghost-%COMP%]{color:var(--tui-negative)}[data-host-mode=negative][_nghost-%COMP%]:hover{color:var(--tui-negative-hover)}[data-host-mode=negative]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(222,76,30,.48);text-decoration-color:#de4c1e7a}[data-host-mode=positive][_nghost-%COMP%]{color:var(--tui-positive)}[data-host-mode=positive][_nghost-%COMP%]:hover{color:var(--tui-positive-hover)}[data-host-mode=positive]._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{-webkit-text-decoration-color:rgba(58,169,129,.48);text-decoration-color:#3aa9817a}._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-selection)}[data-mode=onLight]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear);color:var(--tui-text-01)}[data-mode=onDark]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-clear-inverse);color:var(--tui-text-01-night)}[data-host-mode=positive]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-success-bg)}[data-host-mode=negative]._focus-visible[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{background:var(--tui-error-bg)}._pseudo[_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding-bottom:.15em;-webkit-text-decoration:underline dashed rgba(51,111,238,.48);text-decoration:underline dashed rgba(51,111,238,.48);text-underline-offset:.2em;text-decoration-thickness:.7px}.t-icon[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;width:var(--tui-link-icon-size, 1.5rem);height:var(--tui-link-icon-size, 1.5rem);margin-top:-.125rem}.t-icon_left[_ngcontent-%COMP%]{margin-right:.25rem}.t-icon_right[_ngcontent-%COMP%]{margin-left:.25rem}._icon-rotated[_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{transform:rotate(180deg)}\"],\n    changeDetection: 0\n  });\n  return TuiLinkComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinkModule = /*#__PURE__*/(() => {\n  class TuiLinkModule {}\n  TuiLinkModule.ɵfac = function TuiLinkModule_Factory(t) {\n    return new (t || TuiLinkModule)();\n  };\n  TuiLinkModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLinkModule\n  });\n  TuiLinkModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiSvgModule]]\n  });\n  return TuiLinkModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLinkComponent, TuiLinkModule };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Injectable, Inject, Component, ChangeDetectionStrategy, Self, HostBinding, inject, Directive, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiCreateToken, tuiProvideOptions, tuiTypedFromEvent, tuiGetActualTarget, tuiIsElement, tuiContainsOrAfter, ALWAYS_TRUE_HANDLER, TUI_IS_MOBILE, TuiDestroyService, AbstractTuiDialogService, AbstractTuiDialogDirective, TuiAutoFocusModule, tuiAsDialog } from '@taiga-ui/cdk';\nimport { tuiSlideInTop, tuiFadeIn } from '@taiga-ui/core/animations';\nimport { TUI_ANIMATIONS_DURATION, TUI_CLOSE_WORD, TUI_COMMON_ICONS } from '@taiga-ui/core/tokens';\nimport * as i3 from '@tinkoff/ng-polymorpheus';\nimport { POLYMORPHEUS_CONTEXT, PolymorpheusComponent, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i5 from 'rxjs';\nimport { EMPTY, Observable, merge, isObservable, of, Subject } from 'rxjs';\nimport { filter, switchMap, take, map, takeUntil } from 'rxjs/operators';\nimport * as i2 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { WINDOW } from '@ng-web-apis/common';\nimport { tuiGetViewportWidth } from '@taiga-ui/core/utils';\nimport * as i1 from '@taiga-ui/core/components/button';\nimport { TuiButtonModule } from '@taiga-ui/core/components/button';\nfunction TuiDialogComponent_header_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiDialogComponent_header_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"header\", 6);\n    i0.ɵɵtemplate(1, TuiDialogComponent_header_0_ng_container_1_Template, 2, 1, \"ng-container\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.header)(\"polymorpheusOutletContext\", ctx_r1.context);\n  }\n}\nfunction TuiDialogComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8)(3, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TuiDialogComponent_ng_container_4_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.context.$implicit.complete());\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r4 = ctx.polymorpheusOutlet;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"innerHTML\", text_r4, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r1.context.data == null ? null : ctx_r1.context.data.button) || \"OK\", \" \");\n  }\n}\nfunction TuiDialogComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"button\", 11);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵlistener(\"click\", function TuiDialogComponent_div_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.close$.next());\n    })(\"mousedown.prevent.silent\", function TuiDialogComponent_div_6_Template_button_mousedown_prevent_silent_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      return i0.ɵɵresetView(0);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"appearance\", ctx_r1.fullscreen ? \"secondary\" : \"\")(\"icon\", ctx_r1.icons.close)(\"title\", i0.ɵɵpipeBind1(2, 3, ctx_r1.closeWord$));\n  }\n}\nconst TUI_DIALOG_DEFAULT_OPTIONS = {\n  size: 'm',\n  required: false,\n  closeable: true,\n  dismissible: true,\n  label: '',\n  header: ''\n};\n/**\n * A stream to close dialogs\n */\nconst TUI_DIALOGS_CLOSE = tuiCreateToken(EMPTY);\n/**\n * Default parameters for dialog component\n */\nconst TUI_DIALOG_OPTIONS = tuiCreateToken(TUI_DIALOG_DEFAULT_OPTIONS);\nfunction tuiDialogOptionsProvider(options) {\n  return tuiProvideOptions(TUI_DIALOG_OPTIONS, options, TUI_DIALOG_DEFAULT_OPTIONS);\n}\nconst SCROLLBAR_PLACEHOLDER = 17;\nlet TuiDialogCloseService = /*#__PURE__*/(() => {\n  class TuiDialogCloseService extends Observable {\n    constructor(win, doc, el) {\n      super(subscriber => merge(this.esc$, this.mousedown$).subscribe(subscriber));\n      this.win = win;\n      this.doc = doc;\n      this.el = el;\n      this.esc$ = tuiTypedFromEvent(this.doc, 'keydown').pipe(filter(event => {\n        const target = tuiGetActualTarget(event);\n        return event.key === 'Escape' && !event.defaultPrevented && (this.element.contains(target) || this.isOutside(target));\n      }));\n      this.mousedown$ = tuiTypedFromEvent(this.doc, 'mousedown').pipe(filter(event => tuiGetViewportWidth(this.win) - event.clientX > SCROLLBAR_PLACEHOLDER && this.isOutside(tuiGetActualTarget(event))), switchMap(() => tuiTypedFromEvent(this.doc, 'mouseup').pipe(take(1), map(tuiGetActualTarget), filter(target => this.isOutside(target)))));\n    }\n    get element() {\n      return this.el.nativeElement;\n    }\n    isOutside(target) {\n      return tuiIsElement(target) && (!tuiContainsOrAfter(this.element, target) || target === this.element);\n    }\n  }\n  TuiDialogCloseService.ɵfac = function TuiDialogCloseService_Factory(t) {\n    return new (t || TuiDialogCloseService)(i0.ɵɵinject(WINDOW), i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(ElementRef));\n  };\n  TuiDialogCloseService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiDialogCloseService,\n    factory: TuiDialogCloseService.ɵfac\n  });\n  return TuiDialogCloseService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst REQUIRED_ERROR = new Error('Required dialog was dismissed');\nfunction toObservable(valueOrStream) {\n  return isObservable(valueOrStream) ? valueOrStream : of(valueOrStream);\n}\nlet TuiDialogComponent = /*#__PURE__*/(() => {\n  class TuiDialogComponent {\n    constructor(duration, isMobile, context, destroy$, dialogClose$, close$, closeWord$, icons) {\n      this.duration = duration;\n      this.isMobile = isMobile;\n      this.context = context;\n      this.closeWord$ = closeWord$;\n      this.icons = icons;\n      this.animation = {\n        value: '',\n        params: {\n          start: '40px',\n          duration: this.duration\n        }\n      };\n      this.fullscreenAnimation = {\n        value: '',\n        params: {\n          start: '100vh',\n          duration: this.duration\n        }\n      };\n      this.close$ = new Subject();\n      merge(this.close$.pipe(switchMap(() => toObservable(context.closeable))), dialogClose$.pipe(switchMap(() => toObservable(context.dismissible))), close$.pipe(map(ALWAYS_TRUE_HANDLER))).pipe(filter(Boolean), takeUntil(destroy$)).subscribe(() => {\n        this.close();\n      });\n    }\n    get size() {\n      return this.context.size;\n    }\n    get header() {\n      return this.context.header;\n    }\n    get slideInTop() {\n      return this.fullscreen || this.isMobile ? this.fullscreenAnimation : this.animation;\n    }\n    get fullscreen() {\n      return !this.isMobile && (this.size === 'fullscreen' || this.size === 'page');\n    }\n    close() {\n      if (this.context.required) {\n        this.context.$implicit.error(REQUIRED_ERROR);\n      } else {\n        this.context.$implicit.complete();\n      }\n    }\n  }\n  TuiDialogComponent.ɵfac = function TuiDialogComponent_Factory(t) {\n    return new (t || TuiDialogComponent)(i0.ɵɵdirectiveInject(TUI_ANIMATIONS_DURATION), i0.ɵɵdirectiveInject(TUI_IS_MOBILE), i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TuiDialogCloseService), i0.ɵɵdirectiveInject(TUI_DIALOGS_CLOSE), i0.ɵɵdirectiveInject(TUI_CLOSE_WORD), i0.ɵɵdirectiveInject(TUI_COMMON_ICONS));\n  };\n  TuiDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDialogComponent,\n    selectors: [[\"tui-dialog\"]],\n    hostVars: 6,\n    hostBindings: function TuiDialogComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiSlideInTop\", ctx.slideInTop)(\"@tuiFadeIn\", ctx.slideInTop);\n        i0.ɵɵattribute(\"data-appearance\", ctx.context.appearance)(\"data-size\", ctx.size);\n        i0.ɵɵclassProp(\"_centered\", ctx.header);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiDialogCloseService])],\n    decls: 7,\n    vars: 6,\n    consts: [[\"class\", \"t-header\", 4, \"ngIf\"], [1, \"t-content\"], [1, \"t-heading\", 3, \"id\", \"textContent\"], [4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [1, \"t-filler\"], [\"class\", \"t-wrapper\", 4, \"ngIf\"], [1, \"t-header\"], [3, \"innerHTML\"], [1, \"t-buttons\"], [\"size\", \"m\", \"tuiAutoFocus\", \"\", \"tuiButton\", \"\", \"type\", \"button\", 3, \"click\"], [1, \"t-wrapper\"], [\"automation-id\", \"tui-dialog__close\", \"shape\", \"rounded\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-close\", 3, \"click\", \"mousedown.prevent.silent\", \"appearance\", \"icon\", \"title\"]],\n    template: function TuiDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiDialogComponent_header_0_Template, 2, 2, \"header\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"h2\", 2);\n        i0.ɵɵelementStart(3, \"section\");\n        i0.ɵɵtemplate(4, TuiDialogComponent_ng_container_4_Template, 5, 2, \"ng-container\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(5, \"div\", 4);\n        i0.ɵɵtemplate(6, TuiDialogComponent_div_6_Template, 3, 5, \"div\", 5);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.header);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"id\", ctx.context.id)(\"textContent\", ctx.context.label);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.context.content)(\"polymorpheusOutletContext\", ctx.context);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.context.closeable);\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.NgIf, i3.PolymorpheusOutletDirective, i4.TuiAutoFocusDirective, i2.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:flex;font:var(--tui-font-text-m);flex-direction:column;box-sizing:border-box;margin:auto;border-radius:1rem;border:2.5rem solid transparent}[_nghost-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";border-radius:inherit;pointer-events:none;box-shadow:var(--tui-shadow-modal)}[data-size=auto][_nghost-%COMP%]{width:auto}[data-size=s][_nghost-%COMP%]{width:30rem}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[data-size=s][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.5rem;font:var(--tui-font-heading-5)}[data-size=m][_nghost-%COMP%]{width:42.5rem}[data-size=m][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.75rem;font:var(--tui-font-heading-4)}[data-size=l][_nghost-%COMP%]{width:55rem}[data-size=l][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:1rem}[data-size=fullscreen][_nghost-%COMP%], [data-size=page][_nghost-%COMP%]{min-width:100vw;min-height:100%;border-radius:0;border:none;background:var(--tui-elevation-01);box-shadow:0 4rem var(--tui-elevation-01)}[data-size=fullscreen][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:3rem calc(50vw - (45rem / 2))}[data-size=fullscreen][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], [data-size=page][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:1rem}[data-size=page][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0}._centered[_nghost-%COMP%]{text-align:center}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]{min-width:100%;width:100%;max-width:100%;border-radius:0;border:none;margin:auto 0 0}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:1.5rem}[_nghost-%COMP%]   tui-root._mobile[data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%], tui-root._mobile   [data-size][_nghost-%COMP%]   .t-heading[_ngcontent-%COMP%]{margin-bottom:.5rem;font:var(--tui-font-heading-5)}.t-heading[_ngcontent-%COMP%]{margin:0;word-wrap:break-word;font:var(--tui-font-heading-3)}.t-heading[_ngcontent-%COMP%]:empty{display:none}.t-header[_ngcontent-%COMP%]{display:flex;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden}[data-size=fullscreen][_nghost-%COMP%]   tui-root._mobile[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{flex:1}.t-content[_ngcontent-%COMP%]{border-radius:inherit;padding:2rem;background:var(--tui-elevation-01)}.t-content[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-top-right-radius:0}.t-wrapper[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1;order:-1}.t-filler[_ngcontent-%COMP%]{flex-grow:1}.t-close[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:fixed;top:1.5rem;right:1.5rem;display:none;color:var(--tui-base-01)}.t-dialog:last-of-type[_nghost-%COMP%]   .t-close[_ngcontent-%COMP%], .t-dialog:last-of-type   [_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]:not([data-size=\\\"fullscreen\\\"]):not([data-size=\\\"page\\\"])   .t-close[_ngcontent-%COMP%]{animation:tuiFadeIn var(--tui-duration);background:rgba(104,104,104,.96)}[_nghost-%COMP%]:not([data-size=\\\"fullscreen\\\"]):not([data-size=\\\"page\\\"])   .t-close[_ngcontent-%COMP%]:hover{background:rgba(159,159,159,.86)}[_nghost-%COMP%]:not([data-size=\\\"fullscreen\\\"]).ng-animating   .t-close[_ngcontent-%COMP%]{display:none}tui-root._mobile[_nghost-%COMP%]   .t-close[_ngcontent-%COMP%], tui-root._mobile   [_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:transparent!important;color:var(--tui-text-01);opacity:.5}.t-buttons[_ngcontent-%COMP%]{margin-top:1.25rem;text-align:right}\"],\n    data: {\n      animation: [tuiSlideInTop, tuiFadeIn]\n    }\n  });\n  return TuiDialogComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst DIALOG = new PolymorpheusComponent(TuiDialogComponent);\nlet TuiDialogService = /*#__PURE__*/(() => {\n  class TuiDialogService extends AbstractTuiDialogService {\n    constructor() {\n      super(...arguments);\n      this.component = DIALOG;\n      this.defaultOptions = Object.assign(Object.assign({}, inject(TUI_DIALOG_OPTIONS)), {\n        data: undefined\n      });\n    }\n  }\n  TuiDialogService.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDialogService_BaseFactory;\n    return function TuiDialogService_Factory(t) {\n      return (ɵTuiDialogService_BaseFactory || (ɵTuiDialogService_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDialogService)))(t || TuiDialogService);\n    };\n  })();\n  TuiDialogService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiDialogService,\n    factory: TuiDialogService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiDialogService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDialogDirective = /*#__PURE__*/(() => {\n  class TuiDialogDirective extends AbstractTuiDialogDirective {}\n  TuiDialogDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDialogDirective_BaseFactory;\n    return function TuiDialogDirective_Factory(t) {\n      return (ɵTuiDialogDirective_BaseFactory || (ɵTuiDialogDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDialogDirective)))(t || TuiDialogDirective);\n    };\n  })();\n  TuiDialogDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDialogDirective,\n    selectors: [[\"ng-template\", \"tuiDialog\", \"\"]],\n    inputs: {\n      options: [0, \"tuiDialogOptions\", \"options\"],\n      open: [0, \"tuiDialog\", \"open\"]\n    },\n    outputs: {\n      openChange: \"tuiDialogChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: AbstractTuiDialogService,\n      useExisting: TuiDialogService\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDialogDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDialogModule = /*#__PURE__*/(() => {\n  class TuiDialogModule {}\n  TuiDialogModule.ɵfac = function TuiDialogModule_Factory(t) {\n    return new (t || TuiDialogModule)();\n  };\n  TuiDialogModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDialogModule\n  });\n  TuiDialogModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [tuiAsDialog(TuiDialogService)],\n    imports: [[PolymorpheusModule, TuiButtonModule, CommonModule, TuiAutoFocusModule]]\n  });\n  return TuiDialogModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_DIALOGS_CLOSE, TUI_DIALOG_DEFAULT_OPTIONS, TUI_DIALOG_OPTIONS, TuiDialogCloseService, TuiDialogComponent, TuiDialogDirective, TuiDialogModule, TuiDialogService, tuiDialogOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { Pipe, Inject, NgModule } from '@angular/core';\nimport * as i1 from '@taiga-ui/core/services';\nimport { TuiFormatDateService } from '@taiga-ui/core/services';\nlet TuiFormatDatePipe = /*#__PURE__*/(() => {\n  class TuiFormatDatePipe {\n    constructor(service) {\n      this.service = service;\n    }\n    transform(timestampOrDate) {\n      return this.service.format(timestampOrDate.valueOf());\n    }\n  }\n  TuiFormatDatePipe.ɵfac = function TuiFormatDatePipe_Factory(t) {\n    return new (t || TuiFormatDatePipe)(i0.ɵɵdirectiveInject(TuiFormatDateService, 16));\n  };\n  TuiFormatDatePipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiFormatDate\",\n    type: TuiFormatDatePipe,\n    pure: true\n  });\n  return TuiFormatDatePipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFormatDatePipeModule = /*#__PURE__*/(() => {\n  class TuiFormatDatePipeModule {}\n  TuiFormatDatePipeModule.ɵfac = function TuiFormatDatePipeModule_Factory(t) {\n    return new (t || TuiFormatDatePipeModule)();\n  };\n  TuiFormatDatePipeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFormatDatePipeModule\n  });\n  TuiFormatDatePipeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiFormatDatePipeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFormatDatePipe, TuiFormatDatePipeModule };\n","import * as i0 from '@angular/core';\nimport { Pipe, Inject, NgModule } from '@angular/core';\nimport { TUI_MONTHS } from '@taiga-ui/core/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\nlet TuiMonthPipe = /*#__PURE__*/(() => {\n  class TuiMonthPipe {\n    constructor(months$) {\n      this.months$ = months$;\n    }\n    transform({\n      month\n    }) {\n      return this.months$.pipe(map(months => months[month]));\n    }\n  }\n  TuiMonthPipe.ɵfac = function TuiMonthPipe_Factory(t) {\n    return new (t || TuiMonthPipe)(i0.ɵɵdirectiveInject(TUI_MONTHS, 16));\n  };\n  TuiMonthPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiMonth\",\n    type: TuiMonthPipe,\n    pure: true\n  });\n  return TuiMonthPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiMonthPipeModule = /*#__PURE__*/(() => {\n  class TuiMonthPipeModule {}\n  TuiMonthPipeModule.ɵfac = function TuiMonthPipeModule_Factory(t) {\n    return new (t || TuiMonthPipeModule)();\n  };\n  TuiMonthPipeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiMonthPipeModule\n  });\n  TuiMonthPipeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiMonthPipeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiMonthPipe, TuiMonthPipeModule };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { forwardRef, ElementRef, Component, ChangeDetectionStrategy, Inject, Optional, Self, Input, HostBinding, HostListener, ViewEncapsulation, ContentChildren, Directive, NgModule } from '@angular/core';\nimport { tuiIsNativeFocused, TUI_IS_MOBILE, EMPTY_QUERY, tuiQueryListChanges, tuiMoveFocus, tuiIsNativeFocusedIn, tuiSetNativeMouseFocused, tuiIsPresent, tuiIsElement, tuiPure } from '@taiga-ui/cdk';\nimport * as i3 from '@taiga-ui/core/directives';\nimport { TUI_TEXTFIELD_WATCHED_CONTROLLER, TEXTFIELD_CONTROLLER_PROVIDER } from '@taiga-ui/core/directives';\nimport { TUI_OPTION_CONTENT, TUI_DATA_LIST_HOST, TUI_COMMON_ICONS, TUI_NOTHING_FOUND_MESSAGE, tuiAsDataListAccessor } from '@taiga-ui/core/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i5 from '@taiga-ui/core/directives/dropdown';\nimport { TuiDropdownDirective } from '@taiga-ui/core/directives/dropdown';\nimport { shouldCall } from '@tinkoff/ng-event-plugins';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport * as i2 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from 'rxjs';\nconst _c0 = [\"tuiOption\", \"\"];\nconst _c1 = [\"*\"];\nconst _c2 = a0 => ({\n  $implicit: a0\n});\nfunction TuiOptionComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \"\\n\");\n  }\n}\nfunction TuiOptionComponent_ng_template_1_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 3);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.icons.more);\n  }\n}\nfunction TuiOptionComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n    i0.ɵɵtemplate(1, TuiOptionComponent_ng_template_1_tui_svg_1_Template, 1, 1, \"tui-svg\", 2);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.dropdown);\n  }\n}\nfunction TuiDataListComponent_div_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiDataListComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, TuiDataListComponent_div_2_ng_container_1_Template, 2, 1, \"ng-container\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.emptyContent || i0.ɵɵpipeBind1(2, 1, ctx_r1.defaultEmptyContent$));\n  }\n}\nfunction shouldFocus({\n  currentTarget\n}) {\n  return !this.isMobile && !tuiIsNativeFocused(currentTarget);\n}\n// TODO: Consider all use cases for aria roles\nlet TuiOptionComponent = /*#__PURE__*/(() => {\n  class TuiOptionComponent {\n    constructor(isMobile, content, dataList, el, host, dropdown, icons) {\n      this.isMobile = isMobile;\n      this.content = content;\n      this.dataList = dataList;\n      this.el = el;\n      this.host = host;\n      this.dropdown = dropdown;\n      this.icons = icons;\n      /** @deprecated use size on {@link TuiDataListComponent} instead */\n      this.size = null;\n      this.role = 'option';\n      this.disabled = false;\n    }\n    get active() {\n      return !!this.dropdown && !!this.dropdown.dropdownBoxRef;\n    }\n    onClick() {\n      if (this.host && this.value !== undefined) {\n        this.host.handleOption(this.value);\n      }\n    }\n    // @bad TODO: Consider aria-activedescendant for proper accessibility implementation\n    onMouseMove({\n      currentTarget\n    }) {\n      currentTarget.focus({\n        preventScroll: true\n      });\n    }\n    // Preventing focus loss upon focused option removal\n    ngOnDestroy() {\n      var _a;\n      (_a = this.dataList) === null || _a === void 0 ? void 0 : _a.handleFocusLossIfNecessary(this.el.nativeElement);\n    }\n  }\n  TuiOptionComponent.ɵfac = function TuiOptionComponent_Factory(t) {\n    return new (t || TuiOptionComponent)(i0.ɵɵdirectiveInject(TUI_IS_MOBILE), i0.ɵɵdirectiveInject(TUI_OPTION_CONTENT, 8), i0.ɵɵdirectiveInject(forwardRef(() => TuiDataListComponent), 8), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_DATA_LIST_HOST, 8), i0.ɵɵdirectiveInject(TuiDropdownDirective, 10), i0.ɵɵdirectiveInject(TUI_COMMON_ICONS));\n  };\n  TuiOptionComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiOptionComponent,\n    selectors: [[\"button\", \"tuiOption\", \"\"], [\"a\", \"tuiOption\", \"\"]],\n    hostAttrs: [\"tabIndex\", \"-1\", \"type\", \"button\"],\n    hostVars: 5,\n    hostBindings: function TuiOptionComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function TuiOptionComponent_click_HostBindingHandler() {\n          return ctx.onClick();\n        })(\"mousemove.silent\", function TuiOptionComponent_mousemove_silent_HostBindingHandler($event) {\n          return ctx.onMouseMove($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"disabled\", ctx.disabled || null)(\"data-size\", ctx.size)(\"role\", ctx.role);\n        i0.ɵɵclassProp(\"_with-dropdown\", ctx.active);\n      }\n    },\n    inputs: {\n      size: \"size\",\n      role: \"role\",\n      disabled: \"disabled\",\n      value: \"value\"\n    },\n    attrs: _c0,\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 4,\n    consts: [[\"base\", \"\"], [4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"class\", \"t-arrow\", 3, \"src\", 4, \"ngIf\"], [1, \"t-arrow\", 3, \"src\"]],\n    template: function TuiOptionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiOptionComponent_ng_container_0_Template, 2, 1, \"ng-container\", 1)(1, TuiOptionComponent_ng_template_1_Template, 2, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const base_r3 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.content || base_r3)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c2, base_r3));\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.PolymorpheusOutletDirective, i1$1.NgIf],\n    styles: [\"[_nghost-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;justify-content:space-between;text-align:left;color:var(--tui-text-01);border-radius:var(--tui-radius-s);outline:none;cursor:pointer;background-clip:padding-box}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:default}[_nghost-%COMP%]:focus, ._with-dropdown[_nghost-%COMP%]{background-color:var(--tui-clear)}[_nghost-%COMP%]   [data-list-size=\\\"s\\\"][_nghost-%COMP%], [data-list-size=\\\"s\\\"]   [_nghost-%COMP%], [_nghost-%COMP%]   [data-list-size=\\\"xs\\\"][_nghost-%COMP%], [data-list-size=\\\"xs\\\"]   [_nghost-%COMP%], [data-size=s][data-size=s][_nghost-%COMP%], [data-size=xs][data-size=xs][_nghost-%COMP%]{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2rem;padding:.3125rem .5rem}[_nghost-%COMP%]   [data-list-size=\\\"m\\\"][_nghost-%COMP%], [data-list-size=\\\"m\\\"]   [_nghost-%COMP%], [data-size=m][data-size=m][_nghost-%COMP%]{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2.5rem;padding:.375rem .5rem}[_nghost-%COMP%]   [data-list-size=\\\"l\\\"][_nghost-%COMP%], [data-list-size=\\\"l\\\"]   [_nghost-%COMP%], [data-size=l][data-size=l][_nghost-%COMP%]{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-m);min-height:2.75rem;padding:.375rem .625rem}.t-arrow[_ngcontent-%COMP%]{margin:0 -.5rem 0 .75rem}\"],\n    changeDetection: 0\n  });\n  __decorate([shouldCall(shouldFocus)], TuiOptionComponent.prototype, \"onMouseMove\", null);\n  return TuiOptionComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Consider aria-activedescendant for proper accessibility implementation\nlet TuiDataListComponent = /*#__PURE__*/(() => {\n  class TuiDataListComponent {\n    constructor(controller, el, defaultEmptyContent$) {\n      var _a;\n      this.controller = controller;\n      this.el = el;\n      this.defaultEmptyContent$ = defaultEmptyContent$;\n      this.options = EMPTY_QUERY;\n      this.role = 'listbox';\n      this.size = ((_a = this.controller) === null || _a === void 0 ? void 0 : _a.size) || 'm';\n    }\n    get empty$() {\n      return tuiQueryListChanges(this.options).pipe(map(({\n        length\n      }) => !length));\n    }\n    onFocusIn(relatedTarget, currentTarget) {\n      if (!currentTarget.contains(relatedTarget) && !this.origin) {\n        this.origin = relatedTarget;\n      }\n    }\n    noop() {}\n    onKeyDownArrow(current, step) {\n      const {\n        elements\n      } = this;\n      tuiMoveFocus(elements.indexOf(current), elements, step);\n    }\n    // TODO: Consider aria-activedescendant for proper accessibility implementation\n    handleFocusLossIfNecessary(element = this.el.nativeElement) {\n      if (this.origin && tuiIsNativeFocusedIn(element)) {\n        tuiSetNativeMouseFocused(this.origin, true, true);\n      }\n    }\n    getOptions(includeDisabled = false) {\n      return this.options.filter(({\n        disabled\n      }) => includeDisabled || !disabled).map(({\n        value\n      }) => value).filter(tuiIsPresent);\n    }\n    onFocus({\n      target\n    }, top) {\n      if (!tuiIsElement(target)) {\n        return;\n      }\n      const {\n        elements\n      } = this;\n      tuiMoveFocus(top ? -1 : elements.length, elements, top ? 1 : -1);\n      this.handleFocusLossIfNecessary(target);\n    }\n    get elements() {\n      return Array.from(this.el.nativeElement.querySelectorAll('[tuiOption]'));\n    }\n  }\n  TuiDataListComponent.ɵfac = function TuiDataListComponent_Factory(t) {\n    return new (t || TuiDataListComponent)(i0.ɵɵdirectiveInject(TUI_TEXTFIELD_WATCHED_CONTROLLER, 8), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TUI_NOTHING_FOUND_MESSAGE));\n  };\n  TuiDataListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDataListComponent,\n    selectors: [[\"tui-data-list\"]],\n    contentQueries: function TuiDataListComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, TuiOptionComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.options = _t);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function TuiDataListComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focusin\", function TuiDataListComponent_focusin_HostBindingHandler($event) {\n          return ctx.onFocusIn($event.relatedTarget, $event.currentTarget);\n        })(\"mousedown.prevent\", function TuiDataListComponent_mousedown_prevent_HostBindingHandler() {\n          return ctx.noop();\n        })(\"keydown.arrowDown.prevent\", function TuiDataListComponent_keydown_arrowDown_prevent_HostBindingHandler($event) {\n          return ctx.onKeyDownArrow($event.target, 1);\n        })(\"keydown.arrowUp.prevent\", function TuiDataListComponent_keydown_arrowUp_prevent_HostBindingHandler($event) {\n          return ctx.onKeyDownArrow($event.target, -1);\n        })(\"wheel.silent.passive\", function TuiDataListComponent_wheel_silent_passive_HostBindingHandler() {\n          return ctx.handleFocusLossIfNecessary();\n        })(\"mouseleave\", function TuiDataListComponent_mouseleave_HostBindingHandler($event) {\n          return ctx.handleFocusLossIfNecessary($event.target);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"role\", ctx.role)(\"data-list-size\", ctx.size);\n      }\n    },\n    inputs: {\n      role: \"role\",\n      emptyContent: \"emptyContent\",\n      size: \"size\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDataListAccessor(TuiDataListComponent), TEXTFIELD_CONTROLLER_PROVIDER])],\n    ngContentSelectors: _c1,\n    decls: 5,\n    vars: 3,\n    consts: [[\"tabindex\", \"0\", 1, \"t-trap\", 3, \"focusin\"], [\"class\", \"t-empty\", 4, \"ngIf\"], [1, \"t-empty\"], [4, \"polymorpheusOutlet\"]],\n    template: function TuiDataListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"focusin\", function TuiDataListComponent_Template_div_focusin_0_listener($event) {\n          return ctx.onFocus($event, true);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵprojection(1);\n        i0.ɵɵtemplate(2, TuiDataListComponent_div_2_Template, 3, 3, \"div\", 1);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementStart(4, \"div\", 0);\n        i0.ɵɵlistener(\"focusin\", function TuiDataListComponent_Template_div_focusin_4_listener($event) {\n          return ctx.onFocus($event, false);\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 1, ctx.empty$));\n      }\n    },\n    dependencies: [i1$1.NgIf, i2.PolymorpheusOutletDirective, i1$1.AsyncPipe],\n    styles: [\"tui-data-list{--tui-data-list-padding: .25rem;--tui-data-list-margin: .0625rem;display:flex;font:var(--tui-font-text-m);flex-direction:column;padding:calc(var(--tui-data-list-padding) - var(--tui-data-list-margin)) var(--tui-data-list-padding);color:var(--tui-text-03)}tui-data-list:focus-within .t-trap{display:none}tui-data-list:focus-within [tuiOption]._with-dropdown:not(:focus){background-color:transparent}tui-data-list[data-list-size=s]{--tui-data-list-margin: 0rem}tui-data-list[data-list-size=s]>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2rem;padding:.3125rem .5rem}tui-data-list[data-list-size=m]>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-s);min-height:2.5rem;padding:.375rem .5rem}tui-data-list[data-list-size=l]{--tui-data-list-padding: .375rem;--tui-data-list-margin: .125rem}tui-data-list[data-list-size=l]>.t-empty{display:flex;align-items:center;box-sizing:border-box;margin:var(--tui-data-list-margin) 0;font:var(--tui-font-text-m);min-height:2.75rem;padding:.375rem .625rem}tui-opt-group{position:relative;display:flex;font:var(--tui-font-text-xs);color:var(--tui-text-02);flex-direction:column;line-height:1rem}tui-data-list[data-list-size=l] tui-opt-group{font:var(--tui-font-text-s);line-height:1.25rem}tui-data-list[data-list-size=l] tui-opt-group:before{padding-left:.625rem;padding-right:.625rem}tui-data-list[data-list-size=l] tui-opt-group:after{left:.625rem;right:.625rem}tui-opt-group:empty:before,tui-opt-group:empty:after{display:none}tui-opt-group:before{content:attr(data-label);padding:var(--tui-data-list-padding) .5rem var(--tui-data-list-padding);margin:var(--tui-data-list-margin) 0;white-space:normal;word-break:break-word}tui-opt-group:after{position:absolute;left:.5rem;right:.5rem;top:var(--tui-data-list-padding);height:1px;background:var(--tui-base-03)}tui-opt-group:not(:empty)~tui-opt-group:before{padding-top:calc(.75rem + var(--tui-data-list-padding))}tui-opt-group:not(:empty)~tui-opt-group[data-label=\\\"\\\"]:before,tui-opt-group:not(:empty)~tui-opt-group:not([data-label]):before{padding:var(--tui-data-list-padding) 0}tui-opt-group:not(:empty)~tui-opt-group:after{content:\\\"\\\"}tui-opt-group[data-label=\\\"\\\"]:before,tui-opt-group:not([data-label]):before{padding:0;margin:0}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiDataListComponent.prototype, \"empty$\", null);\n  return TuiDataListComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDataListDirective = /*#__PURE__*/(() => {\n  class TuiDataListDirective {}\n  TuiDataListDirective.ɵfac = function TuiDataListDirective_Factory(t) {\n    return new (t || TuiDataListDirective)();\n  };\n  TuiDataListDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDataListDirective,\n    selectors: [[\"ng-template\", \"tuiDataList\", \"\"]]\n  });\n  return TuiDataListDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction tuiAsDataList(useExisting) {\n  return {\n    provide: TuiDataListDirective,\n    useExisting\n  };\n}\nlet TuiOptGroupDirective = /*#__PURE__*/(() => {\n  class TuiOptGroupDirective {}\n  TuiOptGroupDirective.ɵfac = function TuiOptGroupDirective_Factory(t) {\n    return new (t || TuiOptGroupDirective)();\n  };\n  TuiOptGroupDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiOptGroupDirective,\n    selectors: [[\"tui-opt-group\"]],\n    hostAttrs: [\"role\", \"group\"],\n    hostVars: 1,\n    hostBindings: function TuiOptGroupDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-label\", ctx.label);\n      }\n    },\n    inputs: {\n      label: \"label\"\n    }\n  });\n  return TuiOptGroupDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDataListModule = /*#__PURE__*/(() => {\n  class TuiDataListModule {}\n  TuiDataListModule.ɵfac = function TuiDataListModule_Factory(t) {\n    return new (t || TuiDataListModule)();\n  };\n  TuiDataListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDataListModule\n  });\n  TuiDataListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiSvgModule, PolymorpheusModule]]\n  });\n  return TuiDataListModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDataListComponent, TuiDataListDirective, TuiDataListModule, TuiOptGroupDirective, TuiOptionComponent, tuiAsDataList };\n","import * as i0 from '@angular/core';\nimport { Optional, SkipSelf, Directive, InjectionToken, Self, Inject, EventEmitter, ElementRef, Component, ChangeDetectionStrategy, ContentChild, ViewChild, Input, Output, HostListener, NgModule } from '@angular/core';\nimport { TuiPositionAccessor } from '@taiga-ui/core/abstract';\nimport * as i1$1 from '@taiga-ui/cdk';\nimport { TuiDestroyService, tuiTypedFromEvent, tuiGetActualTarget, tuiIsNativeKeyboardFocusable, tuiGetClosestFocusable, tuiIsNativeFocusedIn, tuiIsHTMLElement, tuiIsElementEditable, tuiIsElement, tuiAsFocusableItemAccessor, TuiActiveZoneDirective, TuiLetModule, TuiObscuredModule, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport * as i2 from '@taiga-ui/core/directives';\nimport { TuiDropdownDirective, TuiDropdownOpenDirective } from '@taiga-ui/core/directives';\nimport { filter, takeUntil, map, switchMap, delay, skip, distinctUntilChanged, share } from 'rxjs/operators';\nimport * as i1 from 'rxjs';\nimport { BehaviorSubject, combineLatest, of, EMPTY, merge } from 'rxjs';\nimport { __decorate } from 'tslib';\nimport * as i4 from '@taiga-ui/core/directives/dropdown';\nimport { TuiDropdownHoverDirective, TuiDropdownDirective as TuiDropdownDirective$1, TuiDropdownModule, TuiDropdownOptionsDirective } from '@taiga-ui/core/directives/dropdown';\nimport { tuiIsEditingKey } from '@taiga-ui/core/utils/miscellaneous';\nimport { shouldCall } from '@tinkoff/ng-event-plugins';\nimport * as i5 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i6 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nconst _c0 = [\"wrapper\"];\nconst _c1 = [\"*\"];\nconst _c2 = (a0, a1) => ({\n  $implicit: a0,\n  close: a1\n});\nfunction TuiHostedDropdownComponent_div_0_ng_template_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r4 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r4, \" \");\n  }\n}\nfunction TuiHostedDropdownComponent_div_0_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6, 2);\n    i0.ɵɵlistener(\"keydown\", function TuiHostedDropdownComponent_div_0_ng_template_3_Template_div_keydown_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onKeydown($event));\n    });\n    i0.ɵɵtemplate(2, TuiHostedDropdownComponent_div_0_ng_template_3_div_2_Template, 2, 1, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\");\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const activeZone_r5 = i0.ɵɵreference(1);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.content)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction2(2, _c2, activeZone_r5, ctx_r1.close));\n  }\n}\nfunction TuiHostedDropdownComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4, 0);\n    i0.ɵɵlistener(\"tuiActiveZoneChange\", function TuiHostedDropdownComponent_div_0_Template_div_tuiActiveZoneChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onActiveZone($event));\n    })(\"tuiObscured\", function TuiHostedDropdownComponent_div_0_Template_div_tuiObscured_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onHostObscured($event));\n    });\n    i0.ɵɵprojection(2);\n    i0.ɵɵtemplate(3, TuiHostedDropdownComponent_div_0_ng_template_3_Template, 4, 5, \"ng-template\", 5, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const isOpen_r6 = ctx.tuiLet;\n    const dropdown_r7 = i0.ɵɵreference(4);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"tuiDropdown\", dropdown_r7)(\"tuiDropdownManual\", isOpen_r6 && ctx_r1.canOpen)(\"tuiDropdownSided\", ctx_r1.sided)(\"tuiObscuredEnabled\", isOpen_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"polymorpheus\", ctx_r1.context);\n  }\n}\nlet TuiAccessorProxyDirective = /*#__PURE__*/(() => {\n  class TuiAccessorProxyDirective extends TuiPositionAccessor {\n    constructor() {\n      super(...arguments);\n      this.type = 'dummy';\n    }\n    getPosition() {\n      return [0, 0];\n    }\n  }\n  TuiAccessorProxyDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiAccessorProxyDirective_BaseFactory;\n    return function TuiAccessorProxyDirective_Factory(t) {\n      return (ɵTuiAccessorProxyDirective_BaseFactory || (ɵTuiAccessorProxyDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiAccessorProxyDirective)))(t || TuiAccessorProxyDirective);\n    };\n  })();\n  TuiAccessorProxyDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiAccessorProxyDirective,\n    selectors: [[\"\", \"tuiAccessorProxy\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TuiPositionAccessor,\n      multi: true,\n      deps: [[new Optional(), new SkipSelf(), TuiAccessorProxyDirective], TuiAccessorProxyDirective],\n      useFactory: (accessor, fallback) => accessor || fallback\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiAccessorProxyDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_HOSTED_DROPDOWN_COMPONENT = new InjectionToken('[TUI_HOSTED_DROPDOWN_COMPONENT]');\nlet TuiDropdownOpenMonitorDirective = /*#__PURE__*/(() => {\n  class TuiDropdownOpenMonitorDirective {\n    constructor(destroy$, hosted, dropdown, open) {\n      open === null || open === void 0 ? void 0 : open.tuiDropdownOpenChange.pipe(filter(value => value && open.dropdown === dropdown && !hosted.focused), takeUntil(destroy$)).subscribe(() => {\n        var _a;\n        (_a = hosted.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.focus();\n        hosted.updateOpen(true);\n      });\n    }\n  }\n  TuiDropdownOpenMonitorDirective.ɵfac = function TuiDropdownOpenMonitorDirective_Factory(t) {\n    return new (t || TuiDropdownOpenMonitorDirective)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TUI_HOSTED_DROPDOWN_COMPONENT), i0.ɵɵdirectiveInject(TuiDropdownDirective, 2), i0.ɵɵdirectiveInject(TuiDropdownOpenDirective, 8));\n  };\n  TuiDropdownOpenMonitorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownOpenMonitorDirective,\n    selectors: [[\"\", \"tuiDropdownOpenMonitor\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiDropdownOpenMonitorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHostedDropdownConnectorDirective = /*#__PURE__*/(() => {\n  class TuiHostedDropdownConnectorDirective {}\n  TuiHostedDropdownConnectorDirective.ɵfac = function TuiHostedDropdownConnectorDirective_Factory(t) {\n    return new (t || TuiHostedDropdownConnectorDirective)();\n  };\n  TuiHostedDropdownConnectorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiHostedDropdownConnectorDirective,\n    selectors: [[\"\", \"tuiHostedDropdownHost\", \"\"]]\n  });\n  return TuiHostedDropdownConnectorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction shouldClose(event) {\n  var _a;\n  return 'key' in event && event.key.toLowerCase() === 'escape' && this.canOpen && this.open && !((_a = this.dropdown) === null || _a === void 0 ? void 0 : _a.nextElementSibling);\n}\nlet TuiHostedDropdownComponent = /*#__PURE__*/(() => {\n  class TuiHostedDropdownComponent {\n    constructor(hover$, el) {\n      this.hover$ = hover$;\n      this.el = el;\n      this.openChange$ = new BehaviorSubject(false);\n      this.hostHover$ = combineLatest([tuiTypedFromEvent(this.el.nativeElement, 'mouseover').pipe(map(e => this.computedHost.contains(tuiGetActualTarget(e))), switchMap(visible => {\n        var _a, _b;\n        return of(visible).pipe(delay((visible ? (_a = this.hover$) === null || _a === void 0 ? void 0 : _a.showDelay : (_b = this.hover$) === null || _b === void 0 ? void 0 : _b.hideDelay) || 0));\n      })), this.hover$ || EMPTY]).pipe(map(([visible, hovered]) => visible && hovered));\n      this.sided = false;\n      this.canOpen = true;\n      this.open$ = merge(this.openChange$, this.hostHover$).pipe(skip(1), distinctUntilChanged(), share());\n      this.focusedChange = new EventEmitter();\n      /** TODO: rename in 4.0 */\n      this.openChange = this.openChange$;\n      this.close = () => this.updateOpen(false);\n    }\n    set open(open) {\n      this.openChange.next(open);\n    }\n    get open() {\n      return this.openChange.value;\n    }\n    get host() {\n      var _a;\n      return ((_a = this.dropdownHost) === null || _a === void 0 ? void 0 : _a.nativeElement) || this.el.nativeElement;\n    }\n    get computedHost() {\n      var _a;\n      return ((_a = this.dropdownHost) === null || _a === void 0 ? void 0 : _a.nativeElement) || this.nativeFocusableElement || this.el.nativeElement;\n    }\n    get dropdown() {\n      var _a, _b;\n      return (_b = (_a = this.dropdownDirective) === null || _a === void 0 ? void 0 : _a.dropdownBoxRef) === null || _b === void 0 ? void 0 : _b.location.nativeElement;\n    }\n    get nativeFocusableElement() {\n      return tuiIsNativeKeyboardFocusable(this.host) ? this.host : tuiGetClosestFocusable({\n        initial: this.host,\n        root: this.el.nativeElement\n      });\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.host) || this.open && !!this.wrapper && tuiIsNativeFocusedIn(this.wrapper.nativeElement);\n    }\n    onFocusInOut() {\n      this.el.nativeElement.classList.toggle('_hosted_dropdown_focused', this.focused);\n    }\n    onFocusIn(target) {\n      if (!this.computedHost.contains(target)) {\n        this.updateOpen(false);\n      }\n    }\n    onClick(target) {\n      var _a;\n      if (!this.hostEditable && this.computedHost.contains(target) && !((_a = this.hover$) === null || _a === void 0 ? void 0 : _a.hovered)) {\n        this.updateOpen(!this.open);\n      }\n    }\n    onKeyDownEsc(event) {\n      event.preventDefault();\n      this.closeDropdown();\n    }\n    onArrow(event, down) {\n      this.focusDropdown(event, down);\n    }\n    onKeydown({\n      key,\n      target,\n      defaultPrevented\n    }) {\n      if (!defaultPrevented && tuiIsEditingKey(key) && this.hostEditable && tuiIsHTMLElement(target) && !tuiIsElementEditable(target)) {\n        this.focusHost();\n      }\n    }\n    onActiveZone(active) {\n      this.updateFocused(active);\n      if (!active) {\n        this.updateOpen(false);\n      }\n    }\n    onHostObscured(obscured) {\n      if (obscured) {\n        this.closeDropdown();\n      }\n    }\n    updateOpen(open) {\n      if (!open || this.canOpen) {\n        this.open = open;\n      }\n    }\n    get hostEditable() {\n      return tuiIsElementEditable(this.computedHost);\n    }\n    focusDropdown(event, first) {\n      const host = this.nativeFocusableElement;\n      if (!host || !tuiIsHTMLElement(host) || !tuiIsElement(event.target) || !host.contains(event.target)) {\n        return;\n      }\n      if (!this.wrapper || !this.open || !this.dropdown || !tuiIsHTMLElement(this.wrapper.nativeElement.nextElementSibling)) {\n        this.updateOpen(true);\n        if (!tuiIsElementEditable(host)) {\n          event.preventDefault();\n        }\n        return;\n      }\n      const initial = first ? this.wrapper.nativeElement : this.wrapper.nativeElement.nextElementSibling;\n      const focusable = tuiGetClosestFocusable({\n        initial,\n        root: this.wrapper.nativeElement,\n        previous: !first\n      });\n      if (!focusable) {\n        return;\n      }\n      focusable.focus();\n      event.preventDefault();\n    }\n    closeDropdown() {\n      if (this.focused) {\n        this.focusHost();\n      }\n      this.updateOpen(false);\n    }\n    focusHost() {\n      const host = this.nativeFocusableElement;\n      if (host) {\n        host.focus({\n          preventScroll: true\n        });\n      }\n    }\n    updateFocused(focused) {\n      this.focusedChange.emit(focused);\n    }\n  }\n  TuiHostedDropdownComponent.ɵfac = function TuiHostedDropdownComponent_Factory(t) {\n    return new (t || TuiHostedDropdownComponent)(i0.ɵɵdirectiveInject(TuiDropdownHoverDirective, 10), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiHostedDropdownComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHostedDropdownComponent,\n    selectors: [[\"tui-hosted-dropdown\"]],\n    contentQueries: function TuiHostedDropdownComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, TuiHostedDropdownConnectorDirective, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdownHost = _t.first);\n      }\n    },\n    viewQuery: function TuiHostedDropdownComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ElementRef);\n        i0.ɵɵviewQuery(TuiDropdownDirective$1, 5);\n        i0.ɵɵviewQuery(TuiActiveZoneDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.wrapper = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdownDirective = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.activeZone = _t.first);\n      }\n    },\n    hostBindings: function TuiHostedDropdownComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focusin.capture.silent\", function TuiHostedDropdownComponent_focusin_capture_silent_HostBindingHandler() {\n          return ctx.onFocusInOut();\n        })(\"focusout.capture.silent\", function TuiHostedDropdownComponent_focusout_capture_silent_HostBindingHandler() {\n          return ctx.onFocusInOut();\n        })(\"focusin\", function TuiHostedDropdownComponent_focusin_HostBindingHandler($event) {\n          return ctx.onFocusIn($event.target);\n        })(\"click\", function TuiHostedDropdownComponent_click_HostBindingHandler($event) {\n          return ctx.onClick($event.target);\n        })(\"keydown.silent.capture\", function TuiHostedDropdownComponent_keydown_silent_capture_HostBindingHandler($event) {\n          return ctx.onKeyDownEsc($event);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.arrowDown\", function TuiHostedDropdownComponent_keydown_arrowDown_HostBindingHandler($event) {\n          return ctx.onArrow($event, true);\n        })(\"keydown.arrowUp\", function TuiHostedDropdownComponent_keydown_arrowUp_HostBindingHandler($event) {\n          return ctx.onArrow($event, false);\n        });\n      }\n    },\n    inputs: {\n      content: \"content\",\n      sided: \"sided\",\n      canOpen: \"canOpen\",\n      open: \"open\"\n    },\n    outputs: {\n      open$: \"openChange\",\n      focusedChange: \"focusedChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiHostedDropdownComponent), {\n      provide: TuiAccessorProxyDirective,\n      deps: [[new Optional(), new Self(), TuiPositionAccessor]],\n      useFactory: position => position === null || position === void 0 ? void 0 : position[0]\n    }, {\n      provide: TUI_HOSTED_DROPDOWN_COMPONENT,\n      useExisting: TuiHostedDropdownComponent\n    }])],\n    ngContentSelectors: _c1,\n    decls: 2,\n    vars: 3,\n    consts: [[\"activeZone\", \"tuiActiveZone\"], [\"dropdown\", \"polymorpheus\"], [\"wrapper\", \"\"], [\"tuiAccessorProxy\", \"\", \"tuiDropdownOpenMonitor\", \"\", \"class\", \"t-wrapper\", 3, \"tuiDropdown\", \"tuiDropdownManual\", \"tuiDropdownSided\", \"tuiObscuredEnabled\", \"tuiActiveZoneChange\", \"tuiObscured\", 4, \"tuiLet\"], [\"tuiAccessorProxy\", \"\", \"tuiDropdownOpenMonitor\", \"\", 1, \"t-wrapper\", 3, \"tuiActiveZoneChange\", \"tuiObscured\", \"tuiDropdown\", \"tuiDropdownManual\", \"tuiDropdownSided\", \"tuiObscuredEnabled\"], [3, \"polymorpheus\"], [1, \"t-dropdown\", 3, \"keydown\"], [\"class\", \"t-primitive\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [1, \"t-primitive\"]],\n    template: function TuiHostedDropdownComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, TuiHostedDropdownComponent_div_0_Template, 5, 5, \"div\", 3);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵproperty(\"tuiLet\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.open$)) !== null && tmp_0_0 !== undefined ? tmp_0_0 : ctx.openChange.value);\n      }\n    },\n    dependencies: [i1$1.TuiLetDirective, TuiAccessorProxyDirective, TuiDropdownOpenMonitorDirective, i4.TuiDropdownDirective, i4.TuiDropdownDriverDirective, i4.TuiDropdownPositionDirective, i4.TuiDropdownManualDirective, i4.TuiDropdownPositionSidedDirective, i1$1.TuiActiveZoneDirective, i1$1.TuiObscuredDirective, i5.PolymorpheusTemplate, i5.PolymorpheusOutletDirective, i6.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{display:inline-flex}.t-wrapper[_ngcontent-%COMP%]{border-radius:inherit;height:inherit;flex:1 1 auto;width:100%}.t-dropdown[_ngcontent-%COMP%]{height:100%}.t-primitive[_ngcontent-%COMP%]{padding:1rem}\"],\n    changeDetection: 0\n  });\n  __decorate([shouldCall(shouldClose)], TuiHostedDropdownComponent.prototype, \"onKeyDownEsc\", null);\n  return TuiHostedDropdownComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHostedDropdownModule = /*#__PURE__*/(() => {\n  class TuiHostedDropdownModule {}\n  TuiHostedDropdownModule.ɵfac = function TuiHostedDropdownModule_Factory(t) {\n    return new (t || TuiHostedDropdownModule)();\n  };\n  TuiHostedDropdownModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHostedDropdownModule\n  });\n  TuiHostedDropdownModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, PolymorpheusModule, TuiLetModule, TuiObscuredModule, TuiActiveZoneModule, TuiDropdownModule]]\n  });\n  return TuiHostedDropdownModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAccessorProxyDirective, TuiDropdownOpenMonitorDirective, TuiHostedDropdownComponent, TuiHostedDropdownConnectorDirective, TuiHostedDropdownModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Self, Inject, ViewChild, Input, HostBinding, HostListener, NgModule } from '@angular/core';\nimport { TuiDestroyService, TUI_IS_MOBILE } from '@taiga-ui/cdk';\nimport { TuiHintOptionsDirective, TUI_HINT_OPTIONS, TuiHintHoverDirective } from '@taiga-ui/core/directives';\nimport { MODE_PROVIDER } from '@taiga-ui/core/providers';\nimport { TUI_MODE } from '@taiga-ui/core/tokens';\nimport { takeUntil } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport * as i2 from '@taiga-ui/core/directives/wrapper';\nimport { TuiWrapperModule } from '@taiga-ui/core/directives/wrapper';\nimport * as i3 from '@taiga-ui/core/directives/hint';\nimport { TuiHintModule } from '@taiga-ui/core/directives/hint';\nimport * as i4 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport * as i5 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i6 from 'rxjs';\nfunction TuiTooltipComponent_tui_svg_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 3);\n  }\n  if (rf & 2) {\n    const src_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r1);\n  }\n}\nlet TuiTooltipComponent = /*#__PURE__*/(() => {\n  class TuiTooltipComponent extends TuiHintOptionsDirective {\n    constructor(destroy$, mode$, options, isMobile) {\n      super(options);\n      this.isMobile = isMobile;\n      this.mode = null;\n      this.describeId = '';\n      mode$.pipe(takeUntil(destroy$)).subscribe(mode => {\n        this.mode = mode;\n      });\n    }\n    get computedAppearance() {\n      return this.appearance || this.mode || '';\n    }\n    stopOnMobile(event) {\n      var _a;\n      if (this.isMobile) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      (_a = this.driver$) === null || _a === void 0 ? void 0 : _a.toggle();\n    }\n  }\n  TuiTooltipComponent.ɵfac = function TuiTooltipComponent_Factory(t) {\n    return new (t || TuiTooltipComponent)(i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(TUI_MODE), i0.ɵɵdirectiveInject(TUI_HINT_OPTIONS), i0.ɵɵdirectiveInject(TUI_IS_MOBILE));\n  };\n  TuiTooltipComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTooltipComponent,\n    selectors: [[\"tui-tooltip\"]],\n    viewQuery: function TuiTooltipComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(TuiHintHoverDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.driver$ = _t.first);\n      }\n    },\n    hostVars: 1,\n    hostBindings: function TuiTooltipComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function TuiTooltipComponent_mousedown_HostBindingHandler($event) {\n          return ctx.stopOnMobile($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-appearance\", ctx.computedAppearance);\n      }\n    },\n    inputs: {\n      content: \"content\",\n      direction: \"direction\",\n      appearance: \"appearance\",\n      showDelay: \"showDelay\",\n      hideDelay: \"hideDelay\",\n      describeId: \"describeId\",\n      context: \"context\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, MODE_PROVIDER]), i0.ɵɵInheritDefinitionFeature],\n    decls: 4,\n    vars: 11,\n    consts: [[\"driver\", \"tuiHintHover\"], [\"appearance\", \"icon\", \"automation-id\", \"tui-tooltip__icon\", \"tuiWrapper\", \"\", 1, \"t-tooltip-icon\", 3, \"hover\", \"tuiHint\", \"tuiHintAppearance\", \"tuiHintContext\", \"tuiHintDescribe\", \"tuiHintDirection\", \"tuiHintHideDelay\", \"tuiHintShowDelay\"], [3, \"src\", 4, \"polymorpheusOutlet\"], [3, \"src\"]],\n    template: function TuiTooltipComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"span\", 1, 0);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵtemplate(3, TuiTooltipComponent_tui_svg_3_Template, 1, 1, \"tui-svg\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const driver_r2 = i0.ɵɵreference(1);\n        i0.ɵɵproperty(\"hover\", i0.ɵɵpipeBind1(2, 9, driver_r2) || null)(\"tuiHint\", ctx.content)(\"tuiHintAppearance\", ctx.computedAppearance)(\"tuiHintContext\", ctx.context)(\"tuiHintDescribe\", ctx.describeId)(\"tuiHintDirection\", ctx.direction)(\"tuiHintHideDelay\", ctx.hideDelay)(\"tuiHintShowDelay\", ctx.showDelay);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"polymorpheusOutlet\", ctx.icon);\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, i2.TuiWrapperDirective, i3.TuiHintDirective, i3.TuiHintDriverDirective, i3.TuiHintHoverDirective, i3.TuiHintPositionDirective, i3.TuiHintDescribeDirective, i4.PolymorpheusOutletDirective, i5.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:inline-block;width:1.5rem;height:1.5rem;vertical-align:middle;font-size:0;line-height:0;pointer-events:auto;cursor:pointer;color:var(--tui-text-01)}[data-appearance=error][_nghost-%COMP%]{color:var(--tui-error-fill)}.t-tooltip-icon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:100%;color:inherit}[tuiWrapper][data-appearance=\\\"textfield\\\"][data-state=\\\"disabled\\\"][_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%], [tuiWrapper][data-appearance=\\\"textfield\\\"][data-state=\\\"disabled\\\"]   [_nghost-%COMP%]   .t-tooltip-icon[_ngcontent-%COMP%]{opacity:1}\"],\n    changeDetection: 0\n  });\n  return TuiTooltipComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTooltipModule = /*#__PURE__*/(() => {\n  class TuiTooltipModule {}\n  TuiTooltipModule.ɵfac = function TuiTooltipModule_Factory(t) {\n    return new (t || TuiTooltipModule)();\n  };\n  TuiTooltipModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTooltipModule\n  });\n  TuiTooltipModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiWrapperModule, TuiSvgModule, TuiHintModule, PolymorpheusModule]]\n  });\n  return TuiTooltipModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTooltipComponent, TuiTooltipModule };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { ElementRef, Component, ChangeDetectionStrategy, Inject, ViewChild, HostBinding, HostListener, EventEmitter, Optional, Input, Output, ContentChildren, Directive, NgModule } from '@angular/core';\nimport * as i6 from '@taiga-ui/cdk';\nimport { TUI_FOCUSABLE_ITEM_ACCESSOR, TUI_FONTS_READY, AbstractTuiInteractive, tuiIsNativeFocusedIn, tuiRetargetedBoundaryCrossing, tuiAsFocusableItemAccessor, tuiPure, TuiIdService, TuiFocusableModule, TuiAutofilledModule } from '@taiga-ui/cdk';\nimport * as i11 from '@taiga-ui/core/directives/hint';\nimport { TuiHintOptionsDirective } from '@taiga-ui/core/directives/hint';\nimport * as i10 from '@taiga-ui/core/directives/textfield-controller';\nimport { TUI_TEXTFIELD_WATCHED_CONTROLLER, TUI_TEXTFIELD_OPTIONS, TEXTFIELD_CONTROLLER_PROVIDER } from '@taiga-ui/core/directives/textfield-controller';\nimport { tuiGetBorder } from '@taiga-ui/core/utils/miscellaneous';\nimport * as i9 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusOutletDirective, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport { BehaviorSubject, merge, fromEvent } from 'rxjs';\nimport { delay, filter, map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core/components/svg';\nimport { TuiSvgModule } from '@taiga-ui/core/components/svg';\nimport { TuiAppearance } from '@taiga-ui/core/enums';\nimport * as i3 from '@taiga-ui/core/components/tooltip';\nimport { TuiTooltipModule } from '@taiga-ui/core/components/tooltip';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@taiga-ui/core/directives/wrapper';\nimport { TuiWrapperModule } from '@taiga-ui/core/directives/wrapper';\nimport * as i7 from '@taiga-ui/core/directives/mask-accessor';\nimport { TuiMaskAccessorModule } from '@taiga-ui/core/directives/mask-accessor';\nimport * as i8 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport { AbstractTuiTextfieldHost } from '@taiga-ui/core/abstract';\nimport { tuiAsTextfieldHost, TUI_TEXTFIELD_HOST, TUI_LEGACY_MASK } from '@taiga-ui/core/tokens';\nimport * as i1$1 from '@taiga-ui/core/directives';\nimport { TUI_TEXTFIELD_WATCHED_CONTROLLER as TUI_TEXTFIELD_WATCHED_CONTROLLER$1, TEXTFIELD_CONTROLLER_PROVIDER as TEXTFIELD_CONTROLLER_PROVIDER$1, TUI_TEXTFIELD_DEFAULT_OPTIONS, TUI_TEXTFIELD_OPTIONS as TUI_TEXTFIELD_OPTIONS$1, tuiTextfieldOptionsProvider } from '@taiga-ui/core/directives';\nconst _c0 = [\"pre\"];\nconst _c1 = [\"focusableElement\"];\nconst _c2 = [[[\"input\"]], [[\"select\"]], [[\"tuiContent\"]], \"*\"];\nconst _c3 = [\"input\", \"select\", \"tuiContent\", \"*\"];\nconst _c4 = a0 => ({\n  $implicit: a0\n});\nfunction TuiPrimitiveTextfieldComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵprojection(1, 2);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_div_12_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 20);\n  }\n  if (rf & 2) {\n    const src_r2 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r2);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, TuiPrimitiveTextfieldComponent_div_12_tui_svg_1_Template, 1, 1, \"tui-svg\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.iconLeftContent)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c4, ctx_r2.size));\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_label_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"label\", 21);\n    i0.ɵɵprojection(1, 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-placeholder_raised\", ctx_r2.placeholderRaised);\n    i0.ɵɵproperty(\"for\", ctx_r2.computedId);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_div_20_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 24);\n  }\n  if (rf & 2) {\n    const src_r4 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r4);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtemplate(1, TuiPrimitiveTextfieldComponent_div_20_tui_svg_1_Template, 1, 1, \"tui-svg\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.controller.customContent);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_span_21_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 27);\n  }\n  if (rf & 2) {\n    const src_r6 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r6);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵlistener(\"click.stop\", function TuiPrimitiveTextfieldComponent_span_21_Template_span_click_stop_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.clear());\n    });\n    i0.ɵɵtemplate(1, TuiPrimitiveTextfieldComponent_span_21_tui_svg_1_Template, 1, 1, \"tui-svg\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.iconCleaner || ctx_r2.controller.options.iconCleaner)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c4, ctx_r2.size));\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_tui_tooltip_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-tooltip\", 28);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", ctx_r2.hintOptions == null ? null : ctx_r2.hintOptions.content)(\"describeId\", ctx_r2.computedId);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_div_23_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 20);\n  }\n  if (rf & 2) {\n    const src_r7 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r7);\n  }\n}\nfunction TuiPrimitiveTextfieldComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtemplate(1, TuiPrimitiveTextfieldComponent_div_23_tui_svg_1_Template, 1, 1, \"tui-svg\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.iconContent)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c4, ctx_r2.size));\n  }\n}\nconst _c5 = [\"tuiTextfield\", \"\"];\nlet TuiValueDecorationComponent = /*#__PURE__*/(() => {\n  class TuiValueDecorationComponent {\n    constructor(textfield, fontsReady$) {\n      this.textfield = textfield;\n      this.fontsReady$ = fontsReady$;\n      this.prefix$ = new BehaviorSubject('');\n      this.pre$ = merge(this.fontsReady$, this.prefix$).pipe(delay(0), filter(() => {\n        var _a;\n        return !!((_a = this.pre) === null || _a === void 0 ? void 0 : _a.nativeElement.isConnected);\n      }), map(() => {\n        var _a;\n        return ((_a = this.pre) === null || _a === void 0 ? void 0 : _a.nativeElement.offsetWidth) || 0;\n      }), distinctUntilChanged());\n    }\n    get isContextTable() {\n      return this.textfield.appearance === TuiAppearance.Table;\n    }\n    get value() {\n      return this.textfield.value;\n    }\n    get filler() {\n      const {\n        focused,\n        placeholder,\n        exampleText,\n        value,\n        textfield\n      } = this;\n      if (placeholder && exampleText) {\n        return '';\n      }\n      return focused ? exampleText || textfield.filler.slice(value.length) : '';\n    }\n    get prefix() {\n      return this.decorationsVisible ? this.textfield.prefix : '';\n    }\n    get postfix() {\n      return this.decorationsVisible ? this.computedPostfix : '';\n    }\n    ngDoCheck() {\n      this.prefix$.next(this.prefix);\n    }\n    get placeholder() {\n      var _a;\n      return ((_a = this.textfield.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.placeholder) || '';\n    }\n    get exampleText() {\n      return !this.value && this.focused ? this.placeholder : '';\n    }\n    get decorationsVisible() {\n      return !!this.value || this.focused && !this.placeholder;\n    }\n    get focused() {\n      return this.textfield.computedFocused && !this.textfield.readOnly;\n    }\n    get computedPostfix() {\n      return this.textfield.postfix && (this.filler || this.value) ? ` ${this.textfield.postfix}` : this.textfield.postfix;\n    }\n  }\n  TuiValueDecorationComponent.ɵfac = function TuiValueDecorationComponent_Factory(t) {\n    return new (t || TuiValueDecorationComponent)(i0.ɵɵdirectiveInject(TUI_FOCUSABLE_ITEM_ACCESSOR), i0.ɵɵdirectiveInject(TUI_FONTS_READY));\n  };\n  TuiValueDecorationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiValueDecorationComponent,\n    selectors: [[\"tui-value-decoration\"]],\n    viewQuery: function TuiValueDecorationComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 7, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.pre = _t.first);\n      }\n    },\n    hostVars: 4,\n    hostBindings: function TuiValueDecorationComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"animationstart\", function TuiValueDecorationComponent_animationstart_HostBindingHandler() {\n          return ctx.ngDoCheck();\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_table\", ctx.isContextTable)(\"_filler\", ctx.filler);\n      }\n    },\n    decls: 5,\n    vars: 4,\n    consts: [[\"pre\", \"\"], [1, \"t-prefix\", 3, \"textContent\"], [1, \"t-ghost\", 3, \"textContent\"], [1, \"t-filler\", 3, \"textContent\"], [1, \"t-postfix\", 3, \"textContent\"]],\n    template: function TuiValueDecorationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"span\", 1, 0)(2, \"span\", 2)(3, \"span\", 3)(4, \"span\", 4);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"textContent\", ctx.prefix);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"textContent\", ctx.value);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"textContent\", ctx.filler);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"textContent\", ctx.postfix);\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:absolute;display:block;width:100%;line-height:var(--tui-height);margin-top:calc(var(--tui-height) / -2);box-sizing:content-box;color:var(--tui-text-03);animation:tuiPresent 1s;white-space:nowrap}._table[_nghost-%COMP%]{position:static;margin-top:0}._filler[_nghost-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}tui-primitive-textfield   [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]{color:var(--tui-text-03-night)}tui-primitive-textfield[data-size=\\\"m\\\"]:not(._label-outside)   [_nghost-%COMP%]{line-height:calc(var(--tui-height) - .25rem)}.t-ghost[_ngcontent-%COMP%]{visibility:hidden;white-space:pre;text-overflow:clip}.t-prefix[_ngcontent-%COMP%], .t-postfix[_ngcontent-%COMP%]{white-space:pre;color:var(--tui-text-01)}tui-primitive-textfield   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]   .t-prefix[_ngcontent-%COMP%], tui-primitive-textfield   [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]   .t-prefix[_ngcontent-%COMP%], tui-primitive-textfield   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]   .t-postfix[_ngcontent-%COMP%], tui-primitive-textfield   [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]   .t-postfix[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}.t-filler[_ngcontent-%COMP%]{max-width:100%;white-space:nowrap}\"]\n  });\n  return TuiValueDecorationComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_ICON_PADDINGS = {\n  s: 1.25,\n  m: 1.75,\n  l: 2.25\n};\nlet TuiPrimitiveTextfieldComponent = /*#__PURE__*/(() => {\n  class TuiPrimitiveTextfieldComponent extends AbstractTuiInteractive {\n    constructor(controller, hintOptions, options, el) {\n      super();\n      this.controller = controller;\n      this.hintOptions = hintOptions;\n      this.options = options;\n      this.el = el;\n      this.editable = true;\n      /** @deprecated use `tuiTextfieldFiller` from {@link TuiTextfieldControllerModule} instead */\n      this.textfieldFiller = '';\n      /**\n       * @deprecated:\n       * use `tuiTextfieldOptionsProvider({iconCleaner: `tuiIconChevronUp`})`\n       */\n      this.iconCleaner = this.options.iconCleaner;\n      this.readOnly = false;\n      this.invalid = false;\n      this.disabled = false;\n      /** @deprecated use `tuiTextfieldPrefix` from {@link TuiTextfieldControllerModule} instead */\n      this.textfieldPrefix = '';\n      /** @deprecated use `tuiTextfieldPostfix` from {@link TuiTextfieldControllerModule} instead */\n      this.textfieldPostfix = '';\n      this.value = '';\n      this.valueChange = new EventEmitter();\n      this.autofilled = false;\n    }\n    get prefix() {\n      return this.textfieldPrefix || this.controller.prefix;\n    }\n    get postfix() {\n      return this.textfieldPostfix || this.controller.postfix;\n    }\n    get filler() {\n      return this.textfieldFiller || this.controller.filler;\n    }\n    get nativeFocusableElement() {\n      if (this.computedDisabled || !this.focusableElement) {\n        return null;\n      }\n      const {\n        nativeElement\n      } = this.focusableElement;\n      return nativeElement.previousElementSibling || nativeElement;\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.el.nativeElement);\n    }\n    get appearance() {\n      return this.controller.appearance;\n    }\n    get size() {\n      return this.controller.size;\n    }\n    get computedInvalid() {\n      return !this.readOnly && !this.disabled && this.invalid;\n    }\n    get inputHidden() {\n      var _a;\n      return !!((_a = this.content) === null || _a === void 0 ? void 0 : _a.length);\n    }\n    get hasValue() {\n      return !!this.value;\n    }\n    get hasCleaner() {\n      return this.controller.cleaner && this.hasValue && !this.computedDisabled && !this.readOnly;\n    }\n    get hasTooltip() {\n      var _a;\n      return !!((_a = this.hintOptions) === null || _a === void 0 ? void 0 : _a.content) && !this.computedDisabled;\n    }\n    get hasCustomContent() {\n      return !!this.controller.customContent;\n    }\n    get placeholderVisible() {\n      var _a;\n      const hasDecor = ((_a = this.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.placeholder) || this.prefix || this.postfix || this.filler;\n      const showDecor = hasDecor && !this.readOnly && this.computedFocused;\n      return !this.hasValue && !showDecor;\n    }\n    get hasPlaceholder() {\n      return this.placeholderRaisable || this.placeholderVisible;\n    }\n    get placeholderRaised() {\n      return this.placeholderRaisable && (this.computedFocused && !this.readOnly || this.hasValue || this.autofilled);\n    }\n    get borderStart() {\n      return this.iconLeftContent ? this.iconPaddingLeft : 0;\n    }\n    get borderEnd() {\n      return tuiGetBorder(!!this.iconContent, this.hasCleaner, this.hasTooltip, this.hasCustomContent, this.size);\n    }\n    get iconContent() {\n      return this.controller.icon;\n    }\n    get iconLeftContent() {\n      return this.controller.iconLeft;\n    }\n    get showHint() {\n      var _a;\n      return !!((_a = this.hintOptions) === null || _a === void 0 ? void 0 : _a.content) && (this.options.hintOnDisabled || !this.computedDisabled);\n    }\n    // Safari expiration date autofill workaround\n    get name() {\n      var _a;\n      return ((_a = this.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.autocomplete) === 'cc-exp' ? 'ccexpiryyear' : null;\n    }\n    get computedId() {\n      var _a;\n      return ((_a = this.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.id) || '';\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n    getIndent$(element) {\n      return fromEvent(element, 'scroll').pipe(map(() => -1 * Math.max(element.scrollLeft, 0)));\n    }\n    clear() {\n      if (this.nativeFocusableElement) {\n        this.nativeFocusableElement.value = '';\n      }\n      this.updateValue('');\n    }\n    onMouseDown(event) {\n      const {\n        nativeFocusableElement\n      } = this;\n      if (!nativeFocusableElement || event.target === nativeFocusableElement) {\n        return;\n      }\n      event.preventDefault();\n      nativeFocusableElement.focus();\n    }\n    onModelChange(value) {\n      this.updateValue(value);\n    }\n    onAutofilled(autofilled) {\n      this.updateAutofilled(autofilled);\n    }\n    detectRetargetFromLabel(event) {\n      if (tuiRetargetedBoundaryCrossing(event)) {\n        event.stopImmediatePropagation();\n      }\n    }\n    get iconPaddingLeft() {\n      return TUI_ICON_PADDINGS[this.size];\n    }\n    get placeholderRaisable() {\n      return this.size !== 's' && !this.controller.labelOutside;\n    }\n    updateAutofilled(autofilled) {\n      if (this.autofilled === autofilled) {\n        return;\n      }\n      this.autofilled = autofilled;\n    }\n    updateValue(value) {\n      this.value = value;\n      this.valueChange.emit(value);\n    }\n  }\n  TuiPrimitiveTextfieldComponent.ɵfac = function TuiPrimitiveTextfieldComponent_Factory(t) {\n    return new (t || TuiPrimitiveTextfieldComponent)(i0.ɵɵdirectiveInject(TUI_TEXTFIELD_WATCHED_CONTROLLER), i0.ɵɵdirectiveInject(TuiHintOptionsDirective, 8), i0.ɵɵdirectiveInject(TUI_TEXTFIELD_OPTIONS), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiPrimitiveTextfieldComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiPrimitiveTextfieldComponent,\n    selectors: [[\"tui-primitive-textfield\"]],\n    contentQueries: function TuiPrimitiveTextfieldComponent_ContentQueries(rf, ctx, dirIndex) {\n      if (rf & 1) {\n        i0.ɵɵcontentQuery(dirIndex, PolymorpheusOutletDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t);\n      }\n    },\n    viewQuery: function TuiPrimitiveTextfieldComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.focusableElement = _t.first);\n      }\n    },\n    hostVars: 15,\n    hostBindings: function TuiPrimitiveTextfieldComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focusin\", function TuiPrimitiveTextfieldComponent_focusin_HostBindingHandler() {\n          return ctx.onFocused(true);\n        })(\"focusout\", function TuiPrimitiveTextfieldComponent_focusout_HostBindingHandler() {\n          return ctx.onFocused(false);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-size\", ctx.size);\n        i0.ɵɵstyleProp(\"--border-start\", ctx.borderStart, \"rem\")(\"--border-end\", ctx.borderEnd, \"rem\");\n        i0.ɵɵclassProp(\"_autofilled\", ctx.autofilled)(\"_label-outside\", ctx.controller.labelOutside)(\"_readonly\", ctx.readOnly)(\"_invalid\", ctx.computedInvalid)(\"_hidden\", ctx.inputHidden);\n      }\n    },\n    inputs: {\n      editable: \"editable\",\n      textfieldFiller: [0, \"filler\", \"textfieldFiller\"],\n      iconCleaner: \"iconCleaner\",\n      readOnly: \"readOnly\",\n      invalid: \"invalid\",\n      disabled: \"disabled\",\n      textfieldPrefix: [0, \"prefix\", \"textfieldPrefix\"],\n      textfieldPostfix: [0, \"postfix\", \"textfieldPostfix\"],\n      value: \"value\"\n    },\n    outputs: {\n      valueChange: \"valueChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiPrimitiveTextfieldComponent), TEXTFIELD_CONTROLLER_PROVIDER]), i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c3,\n    decls: 24,\n    vars: 37,\n    consts: [[\"focusableElement\", \"\"], [\"decor\", \"\"], [4, \"ngIf\"], [\"automation-id\", \"tui-primitive-textfield__wrapper\", \"tuiWrapper\", \"\", 3, \"click.prevent.silent\", \"mousedown\", \"tuiAutofilledChange\", \"active\", \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\"], [\"automation-id\", \"tui-primitive-textfield__native-input\", \"tuiMaskAccessor\", \"\", 1, \"t-input\", 3, \"ngModelChange\", \"disabled\", \"id\", \"ngModel\", \"readOnly\", \"tuiFocusable\"], [\"automation-id\", \"tui-primitive-textfield__value\", \"class\", \"t-input t-input_template\", 4, \"ngIf\"], [1, \"t-content\"], [\"class\", \"t-icon t-icon_left t-textfield-icon\", 4, \"ngIf\"], [1, \"t-wrapper\"], [\"automation-id\", \"tui-primitive-textfield__placeholder\", \"class\", \"t-placeholder\", 3, \"t-placeholder_raised\", \"for\", 4, \"ngIf\"], [1, \"t-wrapper-value-decoration\"], [\"aria-hidden\", \"true\", \"automation-id\", \"tui-primitive-textfield__value-decoration\", 1, \"t-value-decoration\"], [1, \"t-icons\"], [\"automation-id\", \"tui-primitive-textfield__custom-content\", \"class\", \"t-custom-content\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"automation-id\", \"tui-primitive-textfield__cleaner\", \"tuiWrapper\", \"\", \"class\", \"t-cleaner\", 3, \"click.stop\", 4, \"ngIf\"], [\"automation-id\", \"tui-primitive-textfield__tooltip\", \"class\", \"t-tooltip\", 3, \"content\", \"describeId\", 4, \"ngIf\"], [\"class\", \"t-icon t-textfield-icon\", 4, \"ngIf\"], [\"automation-id\", \"tui-primitive-textfield__value\", 1, \"t-input\", \"t-input_template\"], [1, \"t-icon\", \"t-icon_left\", \"t-textfield-icon\"], [\"appearance\", \"icon\", \"tuiWrapper\", \"\", 3, \"src\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"appearance\", \"icon\", \"tuiWrapper\", \"\", 3, \"src\"], [\"automation-id\", \"tui-primitive-textfield__placeholder\", 1, \"t-placeholder\", 3, \"for\"], [\"automation-id\", \"tui-primitive-textfield__custom-content\", 1, \"t-custom-content\"], [\"class\", \"t-custom-icon\", 3, \"src\", 4, \"polymorpheusOutlet\"], [1, \"t-custom-icon\", 3, \"src\"], [\"appearance\", \"icon\", \"automation-id\", \"tui-primitive-textfield__cleaner\", \"tuiWrapper\", \"\", 1, \"t-cleaner\", 3, \"click.stop\"], [3, \"src\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [3, \"src\"], [\"automation-id\", \"tui-primitive-textfield__tooltip\", 1, \"t-tooltip\", 3, \"content\", \"describeId\"], [1, \"t-icon\", \"t-textfield-icon\"]],\n    template: function TuiPrimitiveTextfieldComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵprojectionDef(_c2);\n        i0.ɵɵtemplate(0, TuiPrimitiveTextfieldComponent_ng_container_0_Template, 1, 0, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, TuiPrimitiveTextfieldComponent_ng_container_2_Template, 1, 0, \"ng-container\", 2);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵlistener(\"click.prevent.silent\", function TuiPrimitiveTextfieldComponent_Template_div_click_prevent_silent_4_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.detectRetargetFromLabel($event));\n        })(\"mousedown\", function TuiPrimitiveTextfieldComponent_Template_div_mousedown_4_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onMouseDown($event));\n        })(\"tuiAutofilledChange\", function TuiPrimitiveTextfieldComponent_Template_div_tuiAutofilledChange_4_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onAutofilled($event));\n        });\n        i0.ɵɵprojection(6);\n        i0.ɵɵprojection(7, 1);\n        i0.ɵɵelementStart(8, \"input\", 4, 0);\n        i0.ɵɵlistener(\"ngModelChange\", function TuiPrimitiveTextfieldComponent_Template_input_ngModelChange_8_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onModelChange($event));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, TuiPrimitiveTextfieldComponent_div_10_Template, 2, 0, \"div\", 5);\n        i0.ɵɵelementStart(11, \"div\", 6);\n        i0.ɵɵtemplate(12, TuiPrimitiveTextfieldComponent_div_12_Template, 2, 4, \"div\", 7);\n        i0.ɵɵelementStart(13, \"div\", 8);\n        i0.ɵɵtemplate(14, TuiPrimitiveTextfieldComponent_label_14_Template, 2, 3, \"label\", 9);\n        i0.ɵɵelementStart(15, \"div\", 10);\n        i0.ɵɵelement(16, \"tui-value-decoration\", 11, 1);\n        i0.ɵɵpipe(18, \"async\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 12);\n        i0.ɵɵtemplate(20, TuiPrimitiveTextfieldComponent_div_20_Template, 2, 1, \"div\", 13)(21, TuiPrimitiveTextfieldComponent_span_21_Template, 2, 4, \"span\", 14)(22, TuiPrimitiveTextfieldComponent_tui_tooltip_22_Template, 1, 2, \"tui-tooltip\", 15)(23, TuiPrimitiveTextfieldComponent_div_23_Template, 2, 4, \"div\", 16);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        const focusableElement_r8 = i0.ɵɵreference(9);\n        const decor_r9 = i0.ɵɵreference(17);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 29, ctx.content == null ? null : ctx.content.changes));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 31, ctx.hintOptions == null ? null : ctx.hintOptions.change$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"--text-indent\", i0.ɵɵpipeBind1(5, 33, decor_r9.pre$), \"px\");\n        i0.ɵɵproperty(\"active\", ctx.pseudoActive)(\"appearance\", ctx.appearance)(\"disabled\", ctx.disabled)(\"focus\", ctx.computedFocused)(\"hover\", ctx.pseudoHover)(\"invalid\", ctx.computedInvalid)(\"readOnly\", ctx.readOnly);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.computedDisabled)(\"id\", ctx.id)(\"ngModel\", ctx.value)(\"readOnly\", ctx.readOnly || !ctx.editable)(\"tuiFocusable\", ctx.computedFocusable);\n        i0.ɵɵattribute(\"aria-invalid\", ctx.computedInvalid)(\"name\", ctx.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputHidden);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.iconLeftContent);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasPlaceholder);\n        i0.ɵɵadvance(2);\n        i0.ɵɵstyleProp(\"text-indent\", i0.ɵɵpipeBind1(18, 35, ctx.getIndent$(focusableElement_r8)), \"px\");\n        i0.ɵɵclassProp(\"t-has-value\", ctx.value);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasCustomContent);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.hasCleaner);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showHint);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.iconContent);\n      }\n    },\n    dependencies: [i1.TuiSvgComponent, TuiValueDecorationComponent, i3.TuiTooltipComponent, i4.NgIf, i5.TuiWrapperDirective, i6.TuiAutofilledDirective, i7.TuiMaskAccessorDirective, i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgModel, i6.TuiFocusableDirective, i9.PolymorpheusOutletDirective, i4.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);position:relative;display:block;text-align:left;border-radius:var(--tui-radius-m);height:var(--tui-height);min-height:var(--tui-height);max-height:var(--tui-height)}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);font:var(--tui-font-text-m);line-height:1.25rem}.t-input[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);text-indent:var(--text-indent);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}@supports (-webkit-touch-callout: none){.t-input[_ngcontent-%COMP%]:active{font-size:1rem}}.t-input[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}.t-input[_ngcontent-%COMP%]::-webkit-caps-lock-indicator, .t-input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-03);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{opacity:1}[tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]:-webkit-autofill, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]:-webkit-autofill, [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]:-webkit-autofill:hover, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]:-webkit-autofill:hover, [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus, .t-input   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]:-webkit-autofill:focus, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01-night)!important;border-color:var(--tui-autofill-night);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill-night) inset!important}[tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, .t-input   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]::placeholder, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]::placeholder{color:var(--tui-text-03-night)}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], .t-input   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], .t-input   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"l\\\"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"l\\\"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"m\\\"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"m\\\"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input.t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em;-webkit-user-select:none}.t-content[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;box-sizing:border-box;align-items:center;overflow:hidden}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l)}.t-wrapper[_ngcontent-%COMP%]{flex:1;min-width:0;-webkit-padding-end:.25rem;padding-inline-end:.25rem}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-02);pointer-events:none;will-change:transform;transform:translateY(0)}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}._invalid[_nghost-%COMP%]:not(._focused)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}._focused[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}[data-size=s][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{-webkit-margin-start:-.375rem;margin-inline-start:-.375rem}[data-size=m][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{-webkit-margin-start:-.125rem;margin-inline-start:-.125rem;-webkit-margin-end:.375rem;margin-inline-end:.375rem}[data-size=l][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{-webkit-margin-end:.75rem;margin-inline-end:.75rem}.t-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{-webkit-margin-end:-.125rem;margin-inline-end:-.125rem}[data-size=s][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{-webkit-margin-end:-.375rem;margin-inline-end:-.375rem}[_nghost-%COMP%]:not([data-size=\\\"s\\\"])   .t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){-webkit-margin-start:.25rem;margin-inline-start:.25rem}._autofilled[data-size=s][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], ._autofilled._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], ._autofilled[_nghost-%COMP%]   .t-value-decoration[_ngcontent-%COMP%]:not(.t-has-value){visibility:hidden}.t-custom-content[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;min-width:2rem;height:2rem;pointer-events:none}.t-custom-icon[_ngcontent-%COMP%]{width:2rem;height:100%}.t-input[_ngcontent-%COMP%]:not(:first-child){display:none}[data-size][_nghost-%COMP%]   .t-input_template[_ngcontent-%COMP%]{display:flex;width:calc(100% - 1rem);max-width:calc(100% - 1rem);align-items:center;pointer-events:none;-webkit-padding-end:0;padding-inline-end:0}.t-text-template[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-wrapper-value-decoration[_ngcontent-%COMP%]{position:relative;pointer-events:none}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiPrimitiveTextfieldComponent.prototype, \"getIndent$\", null);\n  return TuiPrimitiveTextfieldComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPrimitiveTextfieldDirective = /*#__PURE__*/(() => {\n  class TuiPrimitiveTextfieldDirective extends AbstractTuiTextfieldHost {\n    constructor(textfield) {\n      /**\n       * TuiPrimitiveTextfieldComponent satisfies all required parts of\n       * AbstractTuiControl interface. A new interface is not introduced\n       * so AbstractTuiControl is automatically injected for all other controls.\n       */\n      super(textfield);\n      this.textfield = textfield;\n    }\n    get readOnly() {\n      return this.textfield.readOnly || !this.textfield.editable;\n    }\n    onValueChange(value) {\n      this.textfield.onModelChange(value);\n    }\n  }\n  TuiPrimitiveTextfieldDirective.ɵfac = function TuiPrimitiveTextfieldDirective_Factory(t) {\n    return new (t || TuiPrimitiveTextfieldDirective)(i0.ɵɵdirectiveInject(TuiPrimitiveTextfieldComponent));\n  };\n  TuiPrimitiveTextfieldDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiPrimitiveTextfieldDirective,\n    selectors: [[\"tui-primitive-textfield\"]],\n    features: [i0.ɵɵProvidersFeature([tuiAsTextfieldHost(TuiPrimitiveTextfieldDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiPrimitiveTextfieldDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTextfieldComponent = /*#__PURE__*/(() => {\n  class TuiTextfieldComponent {\n    constructor(host, controller, el, idService, legacyMask) {\n      this.host = host;\n      this.controller = controller;\n      this.el = el;\n      this.idService = idService;\n      this.legacyMask = legacyMask;\n      this.host.process(this.el.nativeElement);\n    }\n    get id() {\n      return this.el.nativeElement.id || this.idService.generate();\n    }\n    get inputMode() {\n      const mode = this.el.nativeElement.inputMode || this.host.inputMode;\n      return mode === 'text' ? null : mode;\n    }\n  }\n  TuiTextfieldComponent.ɵfac = function TuiTextfieldComponent_Factory(t) {\n    return new (t || TuiTextfieldComponent)(i0.ɵɵdirectiveInject(TUI_TEXTFIELD_HOST), i0.ɵɵdirectiveInject(TUI_TEXTFIELD_WATCHED_CONTROLLER$1), i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(TuiIdService), i0.ɵɵdirectiveInject(TUI_LEGACY_MASK, 8));\n  };\n  TuiTextfieldComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTextfieldComponent,\n    selectors: [[\"input\", \"tuiTextfield\", \"\"], [\"textarea\", \"tuiTextfield\", \"\"]],\n    hostAttrs: [\"type\", \"text\"],\n    hostVars: 7,\n    hostBindings: function TuiTextfieldComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"input\", function TuiTextfieldComponent_input_HostBindingHandler($event) {\n          return !ctx.legacyMask && ctx.host.onValueChange($event.target.value);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"tabIndex\", ctx.host.focusable ? 0 : -1)(\"readOnly\", ctx.host.readOnly)(\"value\", ctx.host.value);\n        i0.ɵɵattribute(\"id\", ctx.id)(\"inputMode\", ctx.inputMode)(\"aria-invalid\", ctx.host.invalid)(\"disabled\", ctx.host.disabled || null);\n      }\n    },\n    features: [i0.ɵɵProvidersFeature([TEXTFIELD_CONTROLLER_PROVIDER$1])],\n    attrs: _c5,\n    decls: 0,\n    vars: 0,\n    template: function TuiTextfieldComponent_Template(rf, ctx) {},\n    styles: [\"[_nghost-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-01);padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--border-start, 0);border-inline-end-width:var(--border-end, 0);text-indent:var(--text-indent);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}[_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}@supports (-webkit-touch-callout: none){[_nghost-%COMP%]:active{font-size:1rem}}[inputMode=none][_nghost-%COMP%]{caret-color:transparent}[_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}[_nghost-%COMP%]::-webkit-caps-lock-indicator, [_nghost-%COMP%]::-webkit-contacts-auto-fill-button, [_nghost-%COMP%]::-webkit-credit-card-auto-fill-button, [_nghost-%COMP%]::-webkit-credentials-auto-fill-button, [_nghost-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}[_nghost-%COMP%]::placeholder{color:var(--tui-text-03);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   [_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]::placeholder{opacity:1}[tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill, [_nghost-%COMP%]   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]:-webkit-autofill, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]:-webkit-autofill, [tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]:-webkit-autofill:hover, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]:-webkit-autofill:hover, [tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]:-webkit-autofill:focus, [_nghost-%COMP%]   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]:-webkit-autofill:focus, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01-night)!important;border-color:var(--tui-autofill-night);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill-night) inset!important}[tuiWrapper][data-mode=onDark]   [_nghost-%COMP%]::placeholder, [_nghost-%COMP%]   [tuiWrapper][data-mode=\\\"onDark\\\"][_nghost-%COMP%]::placeholder, [tuiWrapper][data-mode=\\\"onDark\\\"]   [_nghost-%COMP%]::placeholder{color:var(--tui-text-03-night)}[data-size=s][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), [_nghost-%COMP%]   tui-textarea[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-textarea), [_nghost-%COMP%]   tui-text-area[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], [_nghost-%COMP%]   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], [_nghost-%COMP%]   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size=\\\"l\\\"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"l\\\"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost, [_nghost-%COMP%]   tui-primitive-textfield[data-size=\\\"m\\\"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"m\\\"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   -shadowcsshost{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   [_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   [_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em;-webkit-user-select:none}textarea[_nghost-%COMP%]{white-space:pre-wrap}textarea[_nghost-%COMP%]   tui-textarea._ios[_nghost-%COMP%], tui-textarea._ios   [_nghost-%COMP%], textarea[_nghost-%COMP%]   tui-text-area._ios[_nghost-%COMP%], tui-text-area._ios   [_nghost-%COMP%]{padding-left:.8125rem}\"],\n    changeDetection: 0\n  });\n  return TuiTextfieldComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPrimitiveTextfieldModule = /*#__PURE__*/(() => {\n  class TuiPrimitiveTextfieldModule {}\n  TuiPrimitiveTextfieldModule.ɵfac = function TuiPrimitiveTextfieldModule_Factory(t) {\n    return new (t || TuiPrimitiveTextfieldModule)();\n  };\n  TuiPrimitiveTextfieldModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiPrimitiveTextfieldModule\n  });\n  TuiPrimitiveTextfieldModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FormsModule, PolymorpheusModule, TuiMaskAccessorModule, TuiFocusableModule, TuiWrapperModule, TuiSvgModule, TuiTooltipModule, TuiAutofilledModule]]\n  });\n  return TuiPrimitiveTextfieldModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated:\n * use {@link TUI_TEXTFIELD_DEFAULT_OPTIONS}\n */\nconst TUI_PRIMITIVE_TEXTFIELD_DEFAULT_OPTIONS = TUI_TEXTFIELD_DEFAULT_OPTIONS;\n/**\n * @deprecated:\n * use {@link TUI_TEXTFIELD_OPTIONS}\n */\nconst TUI_PRIMITIVE_TEXTFIELD_OPTIONS = TUI_TEXTFIELD_OPTIONS$1;\n/**\n * @deprecated:\n * use {@link tuiTextfieldOptionsProvider}\n */\nconst tuiPrimitiveTextfieldOptionsProvider = tuiTextfieldOptionsProvider;\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_ICON_PADDINGS, TUI_PRIMITIVE_TEXTFIELD_DEFAULT_OPTIONS, TUI_PRIMITIVE_TEXTFIELD_OPTIONS, TuiPrimitiveTextfieldComponent, TuiPrimitiveTextfieldDirective, TuiPrimitiveTextfieldModule, TuiTextfieldComponent, TuiValueDecorationComponent, tuiPrimitiveTextfieldOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Inject, Input, Output, Directive, Optional, SkipSelf, TemplateRef, ChangeDetectorRef, forwardRef, Self, inject, Injectable, NgModule } from '@angular/core';\nimport { tuiIsString, tuiIsObserved, tuiCreateToken, tuiProvideOptions, tuiIfMap, TuiDestroyService, AbstractTuiDialogService, TUI_ALERTS } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/core';\nimport { TUI_CLOSE_WORD, TUI_COMMON_ICONS, TuiModeDirective, TUI_BUTTON_OPTIONS, TUI_ANIMATION_OPTIONS, tuiFadeIn, tuiSlideInRight, tuiHeightCollapse, TuiButtonModule, TuiLinkModule, TuiSvgModule, TuiFormatDatePipeModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from 'rxjs';\nimport { Subject } from 'rxjs';\nimport * as i5 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusTemplate, POLYMORPHEUS_CONTEXT, PolymorpheusComponent, PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\nimport { takeUntil } from 'rxjs/operators';\nconst _c0 = [[[\"img\"]], [[\"tui-svg\"]], \"*\", [[\"\", \"tuiButton\", \"\"]], [[\"\", \"tuiLink\", \"\"]]];\nconst _c1 = [\"img\", \"tui-svg\", \"*\", \"[tuiButton]\", \"[tuiLink]\"];\nfunction TuiPushComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵlistener(\"click\", function TuiPushComponent_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.close.emit());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.icons.close)(\"title\", i0.ɵɵpipeBind1(1, 2, ctx_r1.closeWord$));\n  }\n}\nfunction TuiPushComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 11);\n    i0.ɵɵpipe(1, \"tuiFormatDate\");\n    i0.ɵɵpipe(2, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"textContent\", ctx_r1.isString(ctx_r1.timestamp) ? ctx_r1.timestamp : i0.ɵɵpipeBind1(2, 3, i0.ɵɵpipeBind1(1, 1, ctx_r1.timestamp)));\n  }\n}\nfunction TuiPushAlertComponent_tui_push_0_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.context.image, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction TuiPushAlertComponent_tui_push_0_tui_svg_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"color\", ctx_r1.context.iconColor);\n    i0.ɵɵproperty(\"src\", ctx_r1.context.icon);\n  }\n}\nfunction TuiPushAlertComponent_tui_push_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 10);\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"innerHTML\", text_r3, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction TuiPushAlertComponent_tui_push_0_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TuiPushAlertComponent_tui_push_0_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.context.$implicit.next(ctx_r1.context.buttons[0]));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.context.buttons[0], \" \");\n  }\n}\nfunction TuiPushAlertComponent_tui_push_0_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiPushAlertComponent_tui_push_0_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.context.$implicit.next(ctx_r1.context.buttons[ctx_r1.context.buttons.length - 1]));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.context.buttons[ctx_r1.context.buttons.length - 1], \" \");\n  }\n}\nfunction TuiPushAlertComponent_tui_push_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-push\", 2);\n    i0.ɵɵlistener(\"close\", function TuiPushAlertComponent_tui_push_0_Template_tui_push_close_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.context.$implicit.complete());\n    });\n    i0.ɵɵtemplate(1, TuiPushAlertComponent_tui_push_0_img_1_Template, 1, 1, \"img\", 3)(2, TuiPushAlertComponent_tui_push_0_tui_svg_2_Template, 1, 3, \"tui-svg\", 4)(3, TuiPushAlertComponent_tui_push_0_div_3_Template, 1, 1, \"div\", 5)(4, TuiPushAlertComponent_tui_push_0_button_4_Template, 2, 1, \"button\", 6)(5, TuiPushAlertComponent_tui_push_0_button_5_Template, 2, 1, \"button\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"heading\", ctx_r1.context.heading)(\"timestamp\", ctx_r1.context.timestamp)(\"type\", ctx_r1.context.type);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.image);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.icon);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.context.content)(\"polymorpheusOutletContext\", ctx_r1.context);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.buttons.length > 1);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.buttons.length);\n  }\n}\nfunction TuiPushAlertComponent_ng_template_1_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiPushAlertComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiPushAlertComponent_ng_template_1_ng_container_0_Template, 1, 0, \"ng-container\", 13);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.context.content);\n  }\n}\nlet TuiPushComponent = /*#__PURE__*/(() => {\n  class TuiPushComponent {\n    constructor(closeWord$, icons) {\n      this.closeWord$ = closeWord$;\n      this.icons = icons;\n      this.heading = '';\n      this.type = '';\n      this.lines = 2;\n      this.timestamp = '';\n      this.close = new EventEmitter();\n      this.isString = tuiIsString;\n    }\n    get closeable() {\n      return tuiIsObserved(this.close);\n    }\n  }\n  TuiPushComponent.ɵfac = function TuiPushComponent_Factory(t) {\n    return new (t || TuiPushComponent)(i0.ɵɵdirectiveInject(TUI_CLOSE_WORD), i0.ɵɵdirectiveInject(TUI_COMMON_ICONS));\n  };\n  TuiPushComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiPushComponent,\n    selectors: [[\"tui-push\"]],\n    hostVars: 2,\n    hostBindings: function TuiPushComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"--t-lines\", ctx.lines);\n      }\n    },\n    inputs: {\n      heading: \"heading\",\n      type: \"type\",\n      lines: \"lines\",\n      timestamp: \"timestamp\"\n    },\n    outputs: {\n      close: \"close\"\n    },\n    ngContentSelectors: _c1,\n    decls: 17,\n    vars: 4,\n    consts: [[1, \"t-image\"], [\"appearance\", \"\", \"shape\", \"rounded\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", \"class\", \"t-close\", 3, \"icon\", \"title\", \"click\", 4, \"ngIf\"], [1, \"t-top\"], [1, \"t-icon\"], [\"class\", \"t-time\", 3, \"textContent\", 4, \"ngIf\"], [\"automation-id\", \"tui-push__heading\", 1, \"t-heading\"], [1, \"t-content\"], [1, \"t-actions\"], [1, \"t-button\"], [1, \"t-link\"], [\"appearance\", \"\", \"shape\", \"rounded\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-close\", 3, \"click\", \"icon\", \"title\"], [1, \"t-time\", 3, \"textContent\"]],\n    template: function TuiPushComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c0);\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵprojection(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, TuiPushComponent_button_2_Template, 2, 4, \"button\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"span\", 3);\n        i0.ɵɵprojection(5, 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6);\n        i0.ɵɵtemplate(7, TuiPushComponent_span_7_Template, 3, 5, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"h3\", 5);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵprojection(11, 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"span\", 8);\n        i0.ɵɵprojection(14, 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"span\", 9);\n        i0.ɵɵprojection(16, 4);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.closeable);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.type, \" \");\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.timestamp);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.heading, \"\\n\");\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.NgIf, i2.AsyncPipe, i1.TuiFormatDatePipe],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:block;width:22.5rem;max-width:100%;box-sizing:border-box;padding:1.25rem 1.25rem .25rem;overflow:hidden;font:var(--tui-font-text-m);border-radius:var(--tui-radius-xl);background:var(--tui-elevation-02);box-shadow:var(--tui-shadow)}.t-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:10.625rem;overflow:hidden;margin:-1.25rem -1.25rem 1.25rem}.t-close[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:.75rem;color:#0000008a;background:rgba(242,242,242,.32);-webkit-backdrop-filter:blur(1rem);backdrop-filter:blur(1rem)}.t-top[_ngcontent-%COMP%]{display:flex;align-items:center;font:var(--tui-font-text-s);color:var(--tui-text-02)}.t-icon[_ngcontent-%COMP%]{height:1.25rem;margin-right:.5rem;transform:scale(.833);transform-origin:top left;color:var(--tui-link)}.t-time[_ngcontent-%COMP%]:before{content:\\\"\\\\2022\\\";display:inline-block;width:1rem;text-align:center}.t-heading[_ngcontent-%COMP%]{line-height:1.25rem;font-weight:bold;margin:.75rem 0 .25rem}.t-heading[_ngcontent-%COMP%], .t-content[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--t-lines);word-break:break-word;overflow:hidden}.t-actions[_ngcontent-%COMP%]{display:flex;align-items:center;font:var(--tui-font-text-s)}.t-button[_ngcontent-%COMP%]:not(:empty){margin:.75rem .75rem .75rem 0}.t-link[_ngcontent-%COMP%]{margin:.75rem 0}.t-link[_ngcontent-%COMP%]:empty{margin:.5rem}\"],\n    changeDetection: 0\n  });\n  return TuiPushComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPushDirective = /*#__PURE__*/(() => {\n  class TuiPushDirective extends TuiModeDirective {\n    constructor(modeDirective) {\n      var _a;\n      super();\n      this.modeDirective = modeDirective;\n      this.size = 's';\n      this.shape = null;\n      this.change$ = ((_a = this.modeDirective) === null || _a === void 0 ? void 0 : _a.change$) || new Subject();\n    }\n    get appearance() {\n      var _a;\n      return ((_a = this.modeDirective) === null || _a === void 0 ? void 0 : _a.mode) === 'onDark' ? 'accent' : 'secondary';\n    }\n  }\n  TuiPushDirective.ɵfac = function TuiPushDirective_Factory(t) {\n    return new (t || TuiPushDirective)(i0.ɵɵdirectiveInject(TuiModeDirective, 12));\n  };\n  TuiPushDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiPushDirective,\n    selectors: [[\"tui-push\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TuiModeDirective,\n      useExisting: TuiPushDirective\n    }, {\n      provide: TUI_BUTTON_OPTIONS,\n      useExisting: TuiPushDirective\n    }]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiPushDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_PUSH_DEFAULT_OPTIONS = {\n  heading: '',\n  type: '',\n  timestamp: '',\n  image: '',\n  icon: '',\n  iconColor: '',\n  buttons: []\n};\n/**\n * Default parameters for Push component\n */\nconst TUI_PUSH_OPTIONS = tuiCreateToken(TUI_PUSH_DEFAULT_OPTIONS);\nfunction tuiPushOptionsProvider(options) {\n  return tuiProvideOptions(TUI_PUSH_OPTIONS, options, TUI_PUSH_DEFAULT_OPTIONS);\n}\nlet TuiPushAlertDirective = /*#__PURE__*/(() => {\n  class TuiPushAlertDirective extends PolymorpheusTemplate {\n    constructor(template, cdr, destroy$, push) {\n      super(template, cdr);\n      this.show$ = new Subject();\n      this.show$.pipe(tuiIfMap(() => push.open(this)), takeUntil(destroy$)).subscribe();\n    }\n    set tuiPush(show) {\n      this.show$.next(show);\n    }\n  }\n  TuiPushAlertDirective.ɵfac = function TuiPushAlertDirective_Factory(t) {\n    return new (t || TuiPushAlertDirective)(i0.ɵɵdirectiveInject(TemplateRef), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(TuiDestroyService, 2), i0.ɵɵdirectiveInject(forwardRef(() => TuiPushService)));\n  };\n  TuiPushAlertDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiPushAlertDirective,\n    selectors: [[\"\", \"tuiPush\", \"\"]],\n    inputs: {\n      tuiPush: \"tuiPush\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiPushAlertDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPushAlertComponent = /*#__PURE__*/(() => {\n  class TuiPushAlertComponent {\n    constructor(animation, context) {\n      this.animation = animation;\n      this.context = context;\n    }\n    get isDirective() {\n      return this.context.content instanceof TuiPushAlertDirective;\n    }\n  }\n  TuiPushAlertComponent.ɵfac = function TuiPushAlertComponent_Factory(t) {\n    return new (t || TuiPushAlertComponent)(i0.ɵɵdirectiveInject(TUI_ANIMATION_OPTIONS), i0.ɵɵdirectiveInject(POLYMORPHEUS_CONTEXT));\n  };\n  TuiPushAlertComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiPushAlertComponent,\n    selectors: [[\"tui-push-alert\"]],\n    hostAttrs: [\"role\", \"alert\"],\n    hostVars: 3,\n    hostBindings: function TuiPushAlertComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵsyntheticHostProperty(\"@tuiFadeIn\", ctx.animation)(\"@tuiSlideInRight\", ctx.animation)(\"@tuiHeightCollapse\", ctx.animation);\n      }\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[\"directive\", \"\"], [3, \"heading\", \"timestamp\", \"type\", \"close\", 4, \"ngIf\", \"ngIfElse\"], [3, \"close\", \"heading\", \"timestamp\", \"type\"], [\"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [3, \"src\", \"color\", 4, \"ngIf\"], [3, \"innerHTML\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"tuiButton\", \"\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"tuiLink\", \"\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"alt\", \"\", 3, \"src\"], [3, \"src\"], [3, \"innerHTML\"], [\"tuiButton\", \"\", \"type\", \"button\", 3, \"click\"], [\"tuiLink\", \"\", \"type\", \"button\", 3, \"click\"], [4, \"polymorpheusOutlet\"]],\n    template: function TuiPushAlertComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiPushAlertComponent_tui_push_0_Template, 6, 9, \"tui-push\", 1)(1, TuiPushAlertComponent_ng_template_1_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const directive_r6 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isDirective)(\"ngIfElse\", directive_r6);\n      }\n    },\n    dependencies: [TuiPushComponent, i1.TuiSvgComponent, i1.TuiButtonComponent, i1.TuiLinkComponent, i2.NgIf, TuiPushDirective, i5.PolymorpheusOutletDirective],\n    styles: [\"[_nghost-%COMP%]{max-width:calc(100% - 2rem);margin:0 1rem 1rem auto}[_nghost-%COMP%]:first-child{margin-top:auto}\"],\n    data: {\n      animation: [tuiFadeIn, tuiSlideInRight, tuiHeightCollapse]\n    },\n    changeDetection: 0\n  });\n  return TuiPushAlertComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPushService = /*#__PURE__*/(() => {\n  class TuiPushService extends AbstractTuiDialogService {\n    constructor() {\n      super(...arguments);\n      this.component = new PolymorpheusComponent(TuiPushAlertComponent);\n      this.defaultOptions = inject(TUI_PUSH_OPTIONS);\n    }\n  }\n  TuiPushService.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiPushService_BaseFactory;\n    return function TuiPushService_Factory(t) {\n      return (ɵTuiPushService_BaseFactory || (ɵTuiPushService_BaseFactory = i0.ɵɵgetInheritedFactory(TuiPushService)))(t || TuiPushService);\n    };\n  })();\n  TuiPushService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiPushService,\n    factory: TuiPushService.ɵfac,\n    providedIn: 'root'\n  });\n  return TuiPushService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPushModule = /*#__PURE__*/(() => {\n  class TuiPushModule {}\n  TuiPushModule.ɵfac = function TuiPushModule_Factory(t) {\n    return new (t || TuiPushModule)();\n  };\n  TuiPushModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiPushModule\n  });\n  TuiPushModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: TUI_ALERTS,\n      useExisting: TuiPushService,\n      multi: true\n    }],\n    imports: [[CommonModule, PolymorpheusModule, TuiButtonModule, TuiLinkModule, TuiSvgModule, TuiFormatDatePipeModule]]\n  });\n  return TuiPushModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_PUSH_DEFAULT_OPTIONS, TUI_PUSH_OPTIONS, TuiPushAlertComponent, TuiPushAlertDirective, TuiPushComponent, TuiPushDirective, TuiPushModule, TuiPushService, tuiPushOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { ChangeDetectorRef, Component, ChangeDetectionStrategy, Optional, Self, Inject, ViewChild, Input, HostBinding, NgModule } from '@angular/core';\nimport * as i5 from '@angular/forms';\nimport { NgControl } from '@angular/forms';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiCreateToken, tuiProvideOptions, AbstractTuiControl, tuiIsNativeFocused, tuiAsFocusableItemAccessor, tuiAsControl, TuiFocusedModule, TuiFocusableModule, TuiPressedModule, TuiFocusVisibleModule, TuiCheckedModule } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiAppearance, TuiModeDirective, TuiWrapperModule, TuiSvgModule, TuiLoaderModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/ng-polymorpheus';\nimport { PolymorpheusModule } from '@tinkoff/ng-polymorpheus';\n\n/** Default values for the toggle options. */\nconst _c0 = [\"focusableElement\"];\nconst _c1 = a0 => ({\n  $implicit: a0\n});\nfunction TuiToggleComponent_tui_loader_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"inheritColor\", true)(\"showLoader\", ctx_r1.value)(\"size\", ctx_r1.loaderSize);\n  }\n}\nfunction TuiToggleComponent_span_3_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 10);\n  }\n  if (rf & 2) {\n    const src_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r3);\n  }\n}\nfunction TuiToggleComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtemplate(1, TuiToggleComponent_span_3_tui_svg_1_Template, 1, 1, \"tui-svg\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.iconOn)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx_r1.size));\n  }\n}\nfunction TuiToggleComponent_tui_loader_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"inheritColor\", true)(\"showLoader\", !ctx_r1.value)(\"size\", ctx_r1.loaderSize);\n  }\n}\nfunction TuiToggleComponent_span_6_tui_svg_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 12);\n  }\n  if (rf & 2) {\n    const src_r4 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"src\", src_r4);\n  }\n}\nfunction TuiToggleComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 8);\n    i0.ɵɵtemplate(1, TuiToggleComponent_span_6_tui_svg_1_Template, 1, 1, \"tui-svg\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.iconOff)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c1, ctx_r1.size));\n  }\n}\nconst TUI_TOGGLE_DEFAULT_OPTIONS = {\n  icons: {\n    toggleOff({\n      $implicit\n    }) {\n      return $implicit === 'm' ? 'tuiIconToggleOff' : 'tuiIconToggleOffLarge';\n    },\n    toggleOn({\n      $implicit\n    }) {\n      return $implicit === 'm' ? 'tuiIconToggleOn' : 'tuiIconToggleOnLarge';\n    }\n  },\n  appearances: {\n    checked: TuiAppearance.Primary,\n    unchecked: TuiAppearance.Secondary\n  },\n  singleColor: false,\n  showIcons: false,\n  size: 'm'\n};\n/**\n * Default parameters for Toggle component\n */\nconst TUI_TOGGLE_OPTIONS = tuiCreateToken(TUI_TOGGLE_DEFAULT_OPTIONS);\nfunction tuiToggleOptionsProvider(options) {\n  return tuiProvideOptions(TUI_TOGGLE_OPTIONS, options, TUI_TOGGLE_DEFAULT_OPTIONS);\n}\nlet TuiToggleComponent = /*#__PURE__*/(() => {\n  class TuiToggleComponent extends AbstractTuiControl {\n    constructor(control, cdr, modeDirective, options) {\n      super(control, cdr);\n      this.modeDirective = modeDirective;\n      this.options = options;\n      this.singleColor = this.options.singleColor;\n      this.showIcons = this.options.showIcons;\n      this.showLoader = false;\n      this.size = this.options.size;\n    }\n    get iconOn() {\n      return this.options.icons.toggleOn;\n    }\n    get iconOff() {\n      return this.options.icons.toggleOff;\n    }\n    get nativeFocusableElement() {\n      var _a, _b;\n      return (_b = (_a = this.focusableElement) === null || _a === void 0 ? void 0 : _a.nativeElement) !== null && _b !== void 0 ? _b : null;\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.nativeFocusableElement);\n    }\n    get appearance() {\n      return this.singleColor || this.value ? this.options.appearances.checked : this.options.appearances.unchecked;\n    }\n    get sizeM() {\n      return this.size === 'm';\n    }\n    get loaderSize() {\n      return this.sizeM ? 'xs' : 's';\n    }\n    get hostMode() {\n      var _a, _b;\n      return (_b = (_a = this.modeDirective) === null || _a === void 0 ? void 0 : _a.mode) !== null && _b !== void 0 ? _b : null;\n    }\n    /** @deprecated use 'value' setter */\n    onChecked(checked) {\n      this.value = checked;\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n    onFocusVisible(focusVisible) {\n      this.updateFocusVisible(focusVisible);\n    }\n    getFallbackValue() {\n      return false;\n    }\n  }\n  TuiToggleComponent.ɵfac = function TuiToggleComponent_Factory(t) {\n    return new (t || TuiToggleComponent)(i0.ɵɵdirectiveInject(NgControl, 10), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(TuiModeDirective, 8), i0.ɵɵdirectiveInject(TUI_TOGGLE_OPTIONS));\n  };\n  TuiToggleComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiToggleComponent,\n    selectors: [[\"tui-toggle\"]],\n    viewQuery: function TuiToggleComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.focusableElement = _t.first);\n      }\n    },\n    hostVars: 4,\n    hostBindings: function TuiToggleComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-size\", ctx.size)(\"data-mode\", ctx.hostMode);\n        i0.ɵɵclassProp(\"_checked\", ctx.value);\n      }\n    },\n    inputs: {\n      singleColor: \"singleColor\",\n      showIcons: \"showIcons\",\n      showLoader: \"showLoader\",\n      size: \"size\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiToggleComponent), tuiAsControl(TuiToggleComponent)]), i0.ɵɵInheritDefinitionFeature],\n    decls: 9,\n    vars: 16,\n    consts: [[\"focusableElement\", \"\"], [\"tuiWrapper\", \"\", 3, \"active\", \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\"], [1, \"t-toggle\"], [\"class\", \"t-loader\", 3, \"inheritColor\", \"showLoader\", \"size\", 4, \"ngIf\"], [\"class\", \"t-icon-wrapper\", 4, \"ngIf\"], [1, \"t-circle\"], [\"automation-id\", \"tui-toggle__checkbox\", \"role\", \"switch\", \"type\", \"checkbox\", 1, \"t-checkbox\", 3, \"tuiCheckedChange\", \"tuiFocusedChange\", \"tuiFocusVisibleChange\", \"disabled\", \"id\", \"tuiFocusable\", \"tuiChecked\"], [1, \"t-loader\", 3, \"inheritColor\", \"showLoader\", \"size\"], [1, \"t-icon-wrapper\"], [\"automation-id\", \"tui-toggle__check-icon\", \"class\", \"t-icon\", 3, \"src\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"automation-id\", \"tui-toggle__check-icon\", 1, \"t-icon\", 3, \"src\"], [\"automation-id\", \"tui-toggle__cancel-icon\", \"class\", \"t-icon t-icon_off\", 3, \"src\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"automation-id\", \"tui-toggle__cancel-icon\", 1, \"t-icon\", \"t-icon_off\", 3, \"src\"]],\n    template: function TuiToggleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 2);\n        i0.ɵɵtemplate(2, TuiToggleComponent_tui_loader_2_Template, 1, 3, \"tui-loader\", 3)(3, TuiToggleComponent_span_3_Template, 2, 4, \"span\", 4);\n        i0.ɵɵelement(4, \"div\", 5);\n        i0.ɵɵtemplate(5, TuiToggleComponent_tui_loader_5_Template, 1, 3, \"tui-loader\", 3)(6, TuiToggleComponent_span_6_Template, 2, 4, \"span\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"input\", 6, 0);\n        i0.ɵɵtwoWayListener(\"tuiCheckedChange\", function TuiToggleComponent_Template_input_tuiCheckedChange_7_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.value, $event) || (ctx.value = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵlistener(\"tuiFocusedChange\", function TuiToggleComponent_Template_input_tuiFocusedChange_7_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFocused($event));\n        })(\"tuiFocusVisibleChange\", function TuiToggleComponent_Template_input_tuiFocusVisibleChange_7_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFocusVisible($event));\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"active\", ctx.pseudoActive)(\"appearance\", ctx.appearance)(\"disabled\", ctx.computedDisabled)(\"focus\", ctx.computedFocusVisible)(\"hover\", ctx.pseudoHover)(\"invalid\", ctx.computedInvalid)(\"readOnly\", ctx.readOnly);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showIcons && !ctx.showLoader);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.showIcons && !ctx.showLoader);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"disabled\", ctx.disabled)(\"id\", ctx.id)(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵtwoWayProperty(\"tuiChecked\", ctx.value);\n        i0.ɵɵattribute(\"aria-checked\", ctx.value);\n      }\n    },\n    dependencies: [i1.TuiLoaderComponent, i1.TuiSvgComponent, i1.TuiWrapperDirective, i2.NgIf, i3.PolymorpheusOutletDirective, i4.TuiCheckedDirective, i4.TuiFocusableDirective, i4.TuiFocusedDirective, i4.TuiFocusVisibleDirective],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:inline-block;vertical-align:middle;overflow:hidden;border-radius:6.25rem}[data-size=m][_nghost-%COMP%]{width:2rem;height:1rem}[data-size=l][_nghost-%COMP%]{width:3rem;height:1.5rem}.t-checkbox[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;height:100%;width:100%;opacity:0;cursor:pointer}.t-checkbox[_ngcontent-%COMP%]:-webkit-autofill, .t-checkbox[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-checkbox[_ngcontent-%COMP%]:-webkit-autofill:focus{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}@supports (-webkit-touch-callout: none){.t-checkbox[_ngcontent-%COMP%]:active{font-size:1rem}}._disabled[_nghost-%COMP%]   .t-checkbox[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.t-toggle[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;align-items:center;justify-content:center}[data-size=m][_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{width:3rem;height:1rem;transform:translate(-1rem)}[data-size=l][_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{width:4.5rem;height:1.5rem;transform:translate(-1.5rem)}._checked[_nghost-%COMP%]   .t-toggle[_ngcontent-%COMP%]{transform:translate(0)}.t-circle[_ngcontent-%COMP%]{margin:.125rem 0;flex-shrink:0;border-radius:100%;background-color:var(--tui-base-01)}._disabled[_nghost-%COMP%]   .t-circle_light[_ngcontent-%COMP%]{opacity:.24}[data-size=m][_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{width:.75rem;height:.75rem}[data-size=l][_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{width:1rem;height:1rem}._disabled[_nghost-%COMP%]   .t-circle[_ngcontent-%COMP%]{background-color:var(--tui-base-01)}.t-loader[_ngcontent-%COMP%]{min-width:auto}[_nghost-%COMP%]:not(._checked)   .t-loader[_ngcontent-%COMP%]{color:var(--tui-base-06)}[_nghost-%COMP%]:not(._checked)._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-base-05)}[_nghost-%COMP%]:not(._checked)[data-mode=onDark]   .t-loader[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[_nghost-%COMP%]:not(._checked)[data-mode=onDark]._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-clear-inverse-active)}[_nghost-%COMP%]:not(._checked)[data-mode=onLight]   .t-loader[_ngcontent-%COMP%]{color:var(--tui-text-03)}[_nghost-%COMP%]:not(._checked)[data-mode=onLight]._disabled   .t-loader[_ngcontent-%COMP%]{color:var(--tui-clear-active)}[data-size=m][_nghost-%COMP%]   .t-loader[_ngcontent-%COMP%]{width:.75rem;margin:0 .2rem;transform:scale(.75)}[data-size=l][_nghost-%COMP%]   .t-loader[_ngcontent-%COMP%]{width:1rem;margin:0 .25rem}.t-icon-wrapper[_ngcontent-%COMP%]{display:flex}.t-icon[_ngcontent-%COMP%]{opacity:.8}.t-icon_off[_ngcontent-%COMP%]{color:var(--tui-base-06)}._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-base-05)}[data-mode=onDark][_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}[data-mode=onDark]._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-clear-inverse-active)}[data-mode=onLight][_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-mode=onLight]._disabled[_nghost-%COMP%]   .t-icon_off[_ngcontent-%COMP%]{color:var(--tui-clear-active)}[data-size=m][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{width:1rem;height:1rem;transform:scale(.75)}[data-size=l][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{margin:0 .125rem;width:1.5rem;height:1.5rem}[_nghost-%COMP%]:hover   .t-icon[_ngcontent-%COMP%]{opacity:1}\"],\n    changeDetection: 0\n  });\n  return TuiToggleComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiToggleModule = /*#__PURE__*/(() => {\n  class TuiToggleModule {}\n  TuiToggleModule.ɵfac = function TuiToggleModule_Factory(t) {\n    return new (t || TuiToggleModule)();\n  };\n  TuiToggleModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiToggleModule\n  });\n  TuiToggleModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiFocusedModule, TuiFocusableModule, TuiPressedModule, TuiFocusVisibleModule, TuiCheckedModule, TuiWrapperModule, TuiSvgModule, TuiLoaderModule, PolymorpheusModule]]\n  });\n  return TuiToggleModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_TOGGLE_DEFAULT_OPTIONS, TUI_TOGGLE_OPTIONS, TuiToggleComponent, TuiToggleModule, tuiToggleOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { Directive } from '@angular/core';\nimport { Subject } from 'rxjs';\nlet AbstractTuiEditor = /*#__PURE__*/(() => {\n  class AbstractTuiEditor {\n    constructor() {\n      this.stateChange$ = new Subject();\n      this.valueChange$ = new Subject();\n    }\n  }\n  AbstractTuiEditor.ɵfac = function AbstractTuiEditor_Factory(t) {\n    return new (t || AbstractTuiEditor)();\n  };\n  AbstractTuiEditor.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AbstractTuiEditor\n  });\n  return AbstractTuiEditor;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AbstractTuiEditor };\n","import * as i0 from '@angular/core';\nimport { Injectable, Inject, ElementRef, Renderer2, Directive, Self, Input, Output, NgModule } from '@angular/core';\nimport * as i3 from '@taiga-ui/cdk';\nimport { tuiPx, TuiDestroyService } from '@taiga-ui/cdk';\nimport { TIPTAP_EDITOR, INITIALIZATION_TIPTAP_CONTAINER } from '@tinkoff/tui-editor/tokens';\nimport { startWith, map, distinctUntilChanged, takeUntil } from 'rxjs/operators';\nimport * as i1$1 from '@tinkoff/tui-editor/abstract';\nimport { AbstractTuiEditor } from '@tinkoff/tui-editor/abstract';\nimport { EDITOR_BLANK_COLOR } from '@tinkoff/tui-editor/constants';\nimport { tuiParseStyle, tuiGetMarkRange } from '@tinkoff/tui-editor/utils';\nimport { EditorState } from 'prosemirror-state';\nimport * as i1 from 'rxjs';\nfunction tuiIsEmptyParagraph(json) {\n  return Array.isArray(json) && json.length === 1 && json[0].type === `paragraph` && !json[0].hasOwnProperty(`content`);\n}\nlet TuiTiptapEditorService = /*#__PURE__*/(() => {\n  class TuiTiptapEditorService extends AbstractTuiEditor {\n    constructor(editorRef) {\n      super();\n      this.editorRef = editorRef;\n      this.editorRef.subscribe(editor => {\n        this.editor = editor;\n        const update = () => {\n          const content = editor.getHTML();\n          const json = editor.getJSON().content;\n          const value = tuiIsEmptyParagraph(json) ? `` : content;\n          this.valueChange$.next(value);\n          this.stateChange$.next();\n        };\n        editor.on(`transaction`, update.bind(this));\n        editor.on(`update`, update.bind(this));\n      });\n    }\n    get isFocused() {\n      return this.editor.isFocused;\n    }\n    get html() {\n      return this.editor.getHTML();\n    }\n    get editable() {\n      return this.editor.isEditable;\n    }\n    set editable(editable) {\n      this.editor.setEditable(editable, false);\n    }\n    get state() {\n      return this.editor.state;\n    }\n    getOriginTiptapEditor() {\n      return this.editor;\n    }\n    undoDisabled() {\n      return !this.editor.can().undo();\n    }\n    redoDisabled() {\n      return !this.editor.can().redo();\n    }\n    getFontColor() {\n      return this.editor.getAttributes(`textStyle`).fontColor || EDITOR_BLANK_COLOR;\n    }\n    getFontSize() {\n      return parseInt(this.editor.getAttributes(`textStyle`).fontSize, 10);\n    }\n    setFontSize(size) {\n      this.editor.chain().setMark(`textStyle`, {\n        fontSize: tuiPx(size)\n      }).run();\n    }\n    getBackgroundColor() {\n      var _a;\n      return ((_a = this.editor) === null || _a === void 0 ? void 0 : _a.getAttributes(`textStyle`).backgroundColor) || `transparent`;\n    }\n    getCellColor() {\n      return this.editor.getAttributes(`tableCell`).background || this.editor.getAttributes(`tableHeader`).background;\n    }\n    getGroupColor() {\n      var _a, _b, _c, _d;\n      if (this.editor.isActive(`group`)) {\n        const style = (_b = (_a = this.editor.getAttributes(`group`)) === null || _a === void 0 ? void 0 : _a.style) !== null && _b !== void 0 ? _b : ``;\n        const styles = tuiParseStyle(style);\n        return (_d = (_c = styles[`background-color`]) !== null && _c !== void 0 ? _c : styles[`background`]) !== null && _d !== void 0 ? _d : ``;\n      }\n      return ``;\n    }\n    onAlign(align) {\n      this.editor.chain().focus().setTextAlign(align).run();\n    }\n    setImage(src) {\n      this.editor.chain().focus().command(({\n        commands,\n        state\n      }) => {\n        var _a;\n        const setImage = (_a = commands.setEditableImage) !== null && _a !== void 0 ? _a : commands.setImage;\n        if (setImage) {\n          const anchor = state.selection.anchor;\n          setImage({\n            src\n          });\n          commands.setTextSelection(anchor);\n          return true;\n        }\n        return false;\n      }).run();\n    }\n    undo() {\n      this.editor.chain().undo().run();\n    }\n    redo() {\n      this.editor.chain().redo().run();\n    }\n    setHorizontalRule() {\n      this.editor.chain().focus().setHorizontalRule().run();\n    }\n    removeFormat() {\n      this.editor.commands.unsetAllMarks();\n      this.editor.commands.clearNodes();\n    }\n    setFontColor(color) {\n      this.editor.chain().focus().setFontColor(color).run();\n    }\n    setBackgroundColor(color) {\n      this.editor.chain().focus().setBackgroundColor(color).run();\n    }\n    toggleUnderline() {\n      this.editor.chain().focus().toggleUnderline().run();\n    }\n    toggleStrike() {\n      this.editor.chain().focus().toggleStrike().run();\n    }\n    toggleOrderedList() {\n      this.editor.chain().focus().toggleOrderedList().run();\n    }\n    toggleUnorderedList() {\n      this.editor.chain().focus().toggleBulletList().run();\n    }\n    togglePre() {\n      this.editor.chain().focus().toggleCodeBlock().run();\n    }\n    toggleTaskList() {\n      this.editor.commands.toggleTaskList();\n    }\n    sinkListItem() {\n      const type = this.editor.isActive(`taskList`) ? `taskItem` : `listItem`;\n      this.editor.chain().focus().sinkListItem(type).run();\n    }\n    liftListItem() {\n      const type = this.editor.isActive(`taskList`) ? `taskItem` : `listItem`;\n      this.editor.chain().focus().liftListItem(type).run();\n    }\n    isActive(nameOrAttributes) {\n      return this.editor.isActive(nameOrAttributes);\n    }\n    isActive$(nameOrAttributes) {\n      return this.stateChange$.pipe(startWith(null), map(() => this.isActive(nameOrAttributes)), distinctUntilChanged());\n    }\n    toggleBold() {\n      this.editor.chain().focus().toggleBold().run();\n    }\n    toggleCode() {\n      this.editor.chain().focus().toggleCode().run();\n    }\n    toggleItalic() {\n      this.editor.chain().focus().toggleItalic().run();\n    }\n    toggleBlockquote() {\n      this.editor.chain().focus().toggleBlockquote().run();\n    }\n    toggleSubscript() {\n      this.editor.chain().focus().toggleSubscript().run();\n    }\n    toggleSuperscript() {\n      this.editor.chain().focus().toggleSuperscript().run();\n    }\n    toggleCodeBlock() {\n      this.editor.chain().focus().toggleCodeBlock().run();\n    }\n    insertTable(cols, rows) {\n      this.editor.chain().focus().insertTable({\n        cols,\n        rows\n      }).run();\n    }\n    addColumnAfter() {\n      this.editor.chain().focus().addColumnAfter().run();\n    }\n    addColumnBefore() {\n      this.editor.chain().focus().addColumnBefore().run();\n    }\n    addRowAfter() {\n      this.editor.chain().focus().addRowAfter().run();\n    }\n    addRowBefore() {\n      this.editor.chain().focus().addRowBefore().run();\n    }\n    deleteColumn() {\n      this.editor.chain().focus().deleteColumn().run();\n    }\n    deleteRow() {\n      this.editor.chain().focus().deleteRow().run();\n    }\n    mergeCells() {\n      this.editor.chain().focus().mergeCells().run();\n    }\n    splitCell() {\n      this.editor.chain().focus().splitCell().run();\n    }\n    canMergeCells() {\n      return this.editor.can().mergeCells();\n    }\n    canSplitCells() {\n      return this.editor.can().splitCell();\n    }\n    setHeading(level) {\n      this.editor.chain().focus().setHeading({\n        level\n      }).run();\n    }\n    setParagraph(options) {\n      this.editor.chain().focus().setParagraph().run();\n      if (options) {\n        this.editor.chain().setMark(`textStyle`, options).run();\n      }\n    }\n    setHardBreak() {\n      this.editor.chain().setHardBreak().run();\n    }\n    setTextSelection(value) {\n      this.editor.commands.setTextSelection(value);\n    }\n    toggleLink(href) {\n      this.editor.chain().focus().toggleLink({\n        href\n      }).run();\n    }\n    setLink(href) {\n      this.editor.chain().focus().setLink({\n        href\n      }).run();\n    }\n    unsetLink() {\n      this.editor.chain().focus().unsetLink().run();\n    }\n    focus() {\n      this.editor.chain().focus().run();\n    }\n    setValue(value) {\n      if (value === this.html || value === `` && this.html === `<p></p>`) {\n        return;\n      }\n      this.editor.commands.setContent(value);\n      this.editor.view.updateState(EditorState.create({\n        schema: this.editor.state.schema,\n        doc: this.editor.state.doc,\n        selection: this.editor.state.selection,\n        storedMarks: this.editor.state.storedMarks,\n        plugins: this.editor.state.plugins\n      }));\n    }\n    destroy() {\n      this.editor.destroy();\n    }\n    setCellColor(color) {\n      this.editor.chain().focus().setCellBackground(color).run();\n    }\n    selectClosest() {\n      const pos = this.editor.state.selection.anchor;\n      const {\n        schema,\n        doc\n      } = this.editor.state;\n      const range = tuiGetMarkRange(doc.resolve(pos), schema.marks.link);\n      if (range) {\n        this.editor.chain().setTextSelection(range).run();\n      }\n    }\n    enter() {\n      this.editor.commands.enter();\n    }\n    setDetails() {\n      this.editor.commands.setDetails();\n    }\n    removeDetails() {\n      this.editor.commands.removeDetails();\n    }\n    setGroup() {\n      this.editor.commands.setGroup();\n    }\n    removeGroup() {\n      this.editor.commands.removeGroup();\n    }\n    setGroupHilite(color) {\n      this.editor.commands.setGroupHilite(color);\n    }\n    setAnchor(anchor) {\n      this.editor.commands.setAnchor(anchor.replace(`#`, ``));\n    }\n    removeAnchor() {\n      this.editor.commands.removeAnchor();\n    }\n    setFileLink(preview) {\n      this.editor.commands.setFileLink(preview);\n    }\n    setYoutubeVideo(options) {\n      this.editor.commands.setYoutubeVideo(options);\n    }\n    setIframe(options) {\n      this.editor.commands.setIframe(options);\n    }\n    removeEmptyTextStyle() {\n      this.editor.commands.removeEmptyTextStyle();\n    }\n    toggleMark(typeOrName, attributes, options) {\n      this.editor.commands.toggleMark(typeOrName, attributes, options);\n    }\n    getHTML() {\n      var _a;\n      return (_a = this.getOriginTiptapEditor().getHTML()) !== null && _a !== void 0 ? _a : ``;\n    }\n  }\n  TuiTiptapEditorService.ɵfac = function TuiTiptapEditorService_Factory(t) {\n    return new (t || TuiTiptapEditorService)(i0.ɵɵinject(TIPTAP_EDITOR));\n  };\n  TuiTiptapEditorService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiTiptapEditorService,\n    factory: TuiTiptapEditorService.ɵfac\n  });\n  return TuiTiptapEditorService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTiptapEditorDirective = /*#__PURE__*/(() => {\n  class TuiTiptapEditorDirective {\n    constructor(el, renderer, editor, editorContainer, editorLoaded$, destroy$) {\n      this.el = el;\n      this.renderer = renderer;\n      this.editor = editor;\n      this.editorContainer = editorContainer;\n      this.editorLoaded$ = editorLoaded$;\n      this.valueChange = this.editor.valueChange$;\n      this.stateChange = this.editor.stateChange$;\n      this.editorLoaded$.pipe(takeUntil(destroy$)).subscribe(() => {\n        this.renderer.appendChild(this.el.nativeElement, this.editorContainer);\n      });\n    }\n    set value(value) {\n      this.editor.setValue(value);\n    }\n    set editable(editable) {\n      this.editor.editable = editable;\n    }\n  }\n  TuiTiptapEditorDirective.ɵfac = function TuiTiptapEditorDirective_Factory(t) {\n    return new (t || TuiTiptapEditorDirective)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(Renderer2), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(INITIALIZATION_TIPTAP_CONTAINER), i0.ɵɵdirectiveInject(TIPTAP_EDITOR), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiTiptapEditorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiTiptapEditorDirective,\n    selectors: [[\"\", \"tuiTiptapEditor\", \"\"]],\n    inputs: {\n      value: \"value\",\n      editable: \"editable\"\n    },\n    outputs: {\n      valueChange: \"valueChange\",\n      stateChange: \"stateChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])]\n  });\n  return TuiTiptapEditorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTiptapEditorModule = /*#__PURE__*/(() => {\n  class TuiTiptapEditorModule {}\n  TuiTiptapEditorModule.ɵfac = function TuiTiptapEditorModule_Factory(t) {\n    return new (t || TuiTiptapEditorModule)();\n  };\n  TuiTiptapEditorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTiptapEditorModule\n  });\n  TuiTiptapEditorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiTiptapEditorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTiptapEditorDirective, TuiTiptapEditorModule, TuiTiptapEditorService };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i5 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nfunction TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"left\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"center\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"right\"));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.onAlign(\"justify\"));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const alignState_r3 = i0.ɵɵnextContext().tuiLet;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignLeft)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.left))(\"tuiHint\", texts_r4.justifyLeft);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignCenter)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.center))(\"tuiHint\", texts_r4.justifyCenter);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignRight)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.right))(\"tuiHint\", texts_r4.justifyRight);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.textAlignJustify)(\"pseudoActive\", !!(alignState_r3 == null ? null : alignState_r3.justify))(\"tuiHint\", texts_r4.justifyFull);\n  }\n}\nfunction TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵtemplate(3, TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template, 5, 12, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const align_r5 = i0.ɵɵreference(1);\n    const alignDropdown_r6 = i0.ɵɵreference(4);\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", alignDropdown_r6);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", align_r5.open)(\"icon\", ctx_r1.options.icons.textAlignPreview)(\"pseudoActive\", align_r5.open)(\"tuiHint\", texts_r4.justify);\n  }\n}\nfunction TuiAlignContentComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_Template, 5, 5, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(2, 1, ctx_r1.alignState$));\n  }\n}\nlet TuiAlignContentComponent = /*#__PURE__*/(() => {\n  class TuiAlignContentComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.alignState$ = combineLatest([this.editor.isActive$({\n        textAlign: 'left'\n      }), this.editor.isActive$({\n        textAlign: 'right'\n      }), this.editor.isActive$({\n        textAlign: 'center'\n      }), this.editor.isActive$({\n        textAlign: 'justify'\n      })]).pipe(map(([left, right, center, justify]) => ({\n        left,\n        right,\n        center,\n        justify\n      })));\n    }\n  }\n  TuiAlignContentComponent.ɵfac = function TuiAlignContentComponent_Factory(t) {\n    return new (t || TuiAlignContentComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiAlignContentComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiAlignContentComponent,\n    selectors: [[\"tui-align-content\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"align\", \"\"], [\"alignDropdown\", \"\"], [4, \"ngIf\"], [3, \"content\", 4, \"tuiLet\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__align-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-dropdown\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"]],\n    template: function TuiAlignContentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiAlignContentComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.NgIf, i3.TuiLetDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiAlignContentComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAlignContentModule = /*#__PURE__*/(() => {\n  class TuiAlignContentModule {}\n  TuiAlignContentModule.ɵfac = function TuiAlignContentModule_Factory(t) {\n    return new (t || TuiAlignContentModule)();\n  };\n  TuiAlignContentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiAlignContentModule\n  });\n  TuiAlignContentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiLetModule]]\n  });\n  return TuiAlignContentModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAlignContentComponent, TuiAlignContentModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_CODE_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nfunction TuiCodeComponent_ng_template_5_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function TuiCodeComponent_ng_template_5_button_1_Template_button_click_0_listener() {\n      const index_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onCode(!!index_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r4, \" \");\n  }\n}\nfunction TuiCodeComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\");\n    i0.ɵɵtemplate(1, TuiCodeComponent_ng_template_5_button_1_Template, 2, 1, \"button\", 4);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.codeOptionsTexts$));\n  }\n}\nlet TuiCodeComponent = /*#__PURE__*/(() => {\n  class TuiCodeComponent {\n    constructor(options, editor, texts$, codeOptionsTexts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.codeOptionsTexts$ = codeOptionsTexts$;\n      this.hintText$ = this.texts$.pipe(map(texts => texts.code));\n      this.insideCode$ = this.editor.stateChange$.pipe(map(() => this.editor.isActive('code') || this.editor.isActive('codeBlock')), distinctUntilChanged());\n    }\n    onCode(isCodeBlock) {\n      if (isCodeBlock) {\n        this.editor.toggleCodeBlock();\n      } else {\n        this.editor.toggleCode();\n      }\n    }\n  }\n  TuiCodeComponent.ɵfac = function TuiCodeComponent_Factory(t) {\n    return new (t || TuiCodeComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_CODE_OPTIONS));\n  };\n  TuiCodeComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiCodeComponent,\n    selectors: [[\"tui-code\"]],\n    decls: 7,\n    vars: 9,\n    consts: [[\"codes\", \"\"], [\"codesDropdown\", \"\"], [3, \"content\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiOption\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\"]],\n    template: function TuiCodeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 2, 0);\n        i0.ɵɵelement(2, \"button\", 3);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵtemplate(5, TuiCodeComponent_ng_template_5_Template, 3, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const codes_r5 = i0.ɵɵreference(1);\n        const codesDropdown_r6 = i0.ɵɵreference(6);\n        i0.ɵɵproperty(\"content\", codesDropdown_r6);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"focusable\", codes_r5.open)(\"icon\", ctx.options.icons.code)(\"pseudoActive\", codes_r5.open || i0.ɵɵpipeBind1(3, 5, ctx.insideCode$))(\"tuiHint\", i0.ɵɵpipeBind1(4, 7, ctx.hintText$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i1.TuiDataListComponent, i1.TuiOptionComponent, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.NgForOf, i2.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiCodeComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiCodeModule = /*#__PURE__*/(() => {\n  class TuiCodeModule {}\n  TuiCodeModule.ɵfac = function TuiCodeModule_Factory(t) {\n    return new (t || TuiCodeModule)();\n  };\n  TuiCodeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiCodeModule\n  });\n  TuiCodeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule]]\n  });\n  return TuiCodeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCodeComponent, TuiCodeModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nfunction TuiDetailsComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function TuiDetailsComponent_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.setDetails());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.detailsAdd)(\"tuiHint\", text_r3.setDetails);\n  }\n}\nfunction TuiDetailsRemoveComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵlistener(\"click\", function TuiDetailsRemoveComponent_button_0_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.removeDetails());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !!i0.ɵɵpipeBind1(1, 4, ctx_r1.disabled$))(\"focusable\", false)(\"icon\", ctx_r1.options.icons.detailsRemove)(\"tuiHint\", text_r3.removeDetails);\n  }\n}\nlet TuiDetailsComponent = /*#__PURE__*/(() => {\n  class TuiDetailsComponent {\n    constructor(editor, texts$, options) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.options = options;\n    }\n    setDetails() {\n      this.editor.setDetails();\n    }\n  }\n  TuiDetailsComponent.ɵfac = function TuiDetailsComponent_Factory(t) {\n    return new (t || TuiDetailsComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiDetailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDetailsComponent,\n    selectors: [[\"tui-details\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiDetailsComponent_button_0_Template, 1, 3, \"button\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiDetailsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDetailsRemoveComponent = /*#__PURE__*/(() => {\n  class TuiDetailsRemoveComponent {\n    constructor(editor, texts$, options) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.options = options;\n      this.disabled$ = this.editor.stateChange$.pipe(map(() => !this.editor.isActive('details')), distinctUntilChanged());\n    }\n    removeDetails() {\n      this.editor.removeDetails();\n    }\n  }\n  TuiDetailsRemoveComponent.ɵfac = function TuiDetailsRemoveComponent_Factory(t) {\n    return new (t || TuiDetailsRemoveComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiDetailsRemoveComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiDetailsRemoveComponent,\n    selectors: [[\"tui-details-remove\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiDetailsRemoveComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiDetailsRemoveComponent_button_0_Template, 2, 6, \"button\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiDetailsRemoveComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiDetailsModule = /*#__PURE__*/(() => {\n  class TuiDetailsModule {}\n  TuiDetailsModule.ɵfac = function TuiDetailsModule_Factory(t) {\n    return new (t || TuiDetailsModule)();\n  };\n  TuiDetailsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiDetailsModule\n  });\n  TuiDetailsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHintModule]]\n  });\n  return TuiDetailsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiDetailsComponent, TuiDetailsModule, TuiDetailsRemoveComponent };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { tuiPx } from '@taiga-ui/cdk';\nimport { EDITOR_BLANK_COLOR } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_FONT_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nconst _c0 = () => ({});\nfunction TuiFontSizeComponent_ng_template_4_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵpipe(1, \"lowercase\");\n    i0.ɵɵlistener(\"click\", function TuiFontSizeComponent_ng_template_4_button_1_Template_button_click_0_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.setFontOption(item_r2));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"font-family\", item_r2.family)(\"font-size\", item_r2.px, \"px\")(\"font-weight\", item_r2.weight);\n    i0.ɵɵproperty(\"ngClass\", (item_r2 == null ? null : item_r2.ngClass) || i0.ɵɵpureFunction0(12, _c0))(\"ngStyle\", (item_r2 == null ? null : item_r2.ngStyle) || i0.ɵɵpureFunction0(13, _c0));\n    i0.ɵɵattribute(\"automation-id\", \"tui_font__\" + i0.ɵɵpipeBind1(1, 10, item_r2.name || \"\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.name, \" \");\n  }\n}\nfunction TuiFontSizeComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\");\n    i0.ɵɵtemplate(1, TuiFontSizeComponent_ng_template_4_button_1_Template, 3, 14, \"button\", 4);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.fontsOptions$));\n  }\n}\nlet TuiFontSizeComponent = /*#__PURE__*/(() => {\n  class TuiFontSizeComponent {\n    constructor(options, editor, texts$, fontOptionsTexts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.fontOptionsTexts$ = fontOptionsTexts$;\n      this.fontsOptions$ = this.fontOptionsTexts$.pipe(map(texts => this.options.fontOptions(texts)));\n      this.fontText$ = this.texts$.pipe(map(texts => texts.font));\n    }\n    /**\n     * @deprecated:\n     * use {@link setFontOption}\n     */\n    onClick({\n      headingLevel,\n      px\n    }) {\n      this.setFontOption({\n        headingLevel,\n        px\n      });\n    }\n    setFontOption({\n      headingLevel,\n      px\n    }) {\n      const color = this.editor.getFontColor();\n      this.clearPreviousTextStyles();\n      if (headingLevel) {\n        this.editor.setHeading(headingLevel);\n      } else {\n        this.editor.setParagraph({\n          fontSize: tuiPx(px || 0)\n        });\n      }\n      if (color !== EDITOR_BLANK_COLOR) {\n        this.editor.setFontColor(color);\n      }\n    }\n    clearPreviousTextStyles() {\n      this.editor.removeEmptyTextStyle();\n      this.editor.toggleMark('textStyle');\n    }\n  }\n  TuiFontSizeComponent.ɵfac = function TuiFontSizeComponent_Factory(t) {\n    return new (t || TuiFontSizeComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_FONT_OPTIONS));\n  };\n  TuiFontSizeComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFontSizeComponent,\n    selectors: [[\"tui-font-size\"]],\n    decls: 6,\n    vars: 7,\n    consts: [[\"fonts\", \"\"], [\"fontsDropdown\", \"\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__font-size-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiOption\", \"\", 3, \"ngClass\", \"ngStyle\", \"fontFamily\", \"fontSize\", \"fontWeight\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\", \"ngClass\", \"ngStyle\"]],\n    template: function TuiFontSizeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 2, 0);\n        i0.ɵɵelement(2, \"button\", 3);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵtemplate(4, TuiFontSizeComponent_ng_template_4_Template, 3, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const fonts_r4 = i0.ɵɵreference(1);\n        const fontsDropdown_r5 = i0.ɵɵreference(5);\n        i0.ɵɵproperty(\"content\", fontsDropdown_r5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"focusable\", fonts_r4.open)(\"icon\", ctx.options.icons.fontSize)(\"pseudoActive\", fonts_r4.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 5, ctx.fontText$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i1.TuiDataListComponent, i1.TuiOptionComponent, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.NgForOf, i2.NgClass, i2.NgStyle, i2.AsyncPipe, i2.LowerCasePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiFontSizeComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFontSizeModule = /*#__PURE__*/(() => {\n  class TuiFontSizeModule {}\n  TuiFontSizeModule.ɵfac = function TuiFontSizeModule_Factory(t) {\n    return new (t || TuiFontSizeModule)();\n  };\n  TuiFontSizeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFontSizeModule\n  });\n  TuiFontSizeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDataListModule]]\n  });\n  return TuiFontSizeModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFontSizeComponent, TuiFontSizeModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { defaultEditorTools } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TuiEditorTool } from '@tinkoff/tui-editor/enums';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i4 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleBold());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleBold)(\"pseudoActive\", state_r3.bold)(\"tuiHint\", texts_r4.bold);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleItalic());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleItalic)(\"pseudoActive\", state_r3.italic)(\"tuiHint\", texts_r4.italic);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleUnderline());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleUnderline)(\"pseudoActive\", state_r3.underline)(\"tuiHint\", texts_r4.underline);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleStrike());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext(2).ngIf;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.fontStyleStrike)(\"pseudoActive\", state_r3.strike)(\"tuiHint\", texts_r4.strikeThrough);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template, 1, 3, \"button\", 7)(2, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template, 1, 3, \"button\", 7)(3, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template, 1, 3, \"button\", 7)(4, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template, 1, 3, \"button\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Bold));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Italic));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Underline));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isEnabled(ctx_r1.editorTool.Strikethrough));\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵtemplate(3, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template, 5, 4, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = ctx.ngIf;\n    const format_r8 = i0.ɵɵreference(1);\n    const formatDropdown_r9 = i0.ɵɵreference(4);\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", formatDropdown_r9);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", format_r8.open)(\"icon\", ctx_r1.options.icons.fontStylePreview)(\"pseudoActive\", format_r8.open || state_r3.bold || state_r3.italic || state_r3.underline || state_r3.strike)(\"tuiHint\", texts_r4.fontStyle);\n  }\n}\nfunction TuiFontStyleComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_Template, 5, 5, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.fontStyleState$));\n  }\n}\nlet TuiFontStyleComponent = /*#__PURE__*/(() => {\n  class TuiFontStyleComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.toolsSet = new Set(defaultEditorTools);\n      this.editorTool = TuiEditorTool;\n      this.fontStyleState$ = combineLatest([this.editor.isActive$('bold'), this.editor.isActive$('italic'), this.editor.isActive$('underline'), this.editor.isActive$('strike')]).pipe(map(([bold, italic, underline, strike]) => ({\n        bold,\n        italic,\n        underline,\n        strike\n      })));\n    }\n    set enabledTools(value) {\n      this.toolsSet = new Set(value);\n    }\n    isEnabled(tool) {\n      return this.toolsSet.has(tool);\n    }\n  }\n  TuiFontStyleComponent.ɵfac = function TuiFontStyleComponent_Factory(t) {\n    return new (t || TuiFontStyleComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiFontStyleComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFontStyleComponent,\n    selectors: [[\"tui-font-style\"]],\n    inputs: {\n      enabledTools: \"enabledTools\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"format\", \"\"], [\"formatDropdown\", \"\"], [4, \"ngIf\"], [3, \"content\", 4, \"ngIf\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__font-style-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-dropdown\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", \"class\", \"t-option t-option_margin\", 3, \"icon\", \"pseudoActive\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"]],\n    template: function TuiFontStyleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiFontStyleComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiFontStyleComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFontStyleModule = /*#__PURE__*/(() => {\n  class TuiFontStyleModule {}\n  TuiFontStyleModule.ɵfac = function TuiFontStyleModule_Factory(t) {\n    return new (t || TuiFontStyleModule)();\n  };\n  TuiFontStyleModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFontStyleModule\n  });\n  TuiFontStyleModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule]]\n  });\n  return TuiFontStyleModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFontStyleComponent, TuiFontStyleModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@tinkoff/tui-editor/abstract';\nimport * as i4 from 'rxjs';\nlet TuiEditorGroupToolComponent = /*#__PURE__*/(() => {\n  class TuiEditorGroupToolComponent {\n    constructor(editor, texts$, options) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.options = options;\n      this.insertGroupText$ = this.texts$.pipe(map(texts => texts.insertGroup));\n      this.removeGroupText$ = this.texts$.pipe(map(texts => texts.removeGroup));\n      this.disabled$ = this.editor.stateChange$.pipe(map(() => !this.editor.isActive('group')), distinctUntilChanged());\n    }\n    addGroup() {\n      this.editor.setGroup();\n    }\n    removeGroup() {\n      this.editor.removeGroup();\n    }\n  }\n  TuiEditorGroupToolComponent.ɵfac = function TuiEditorGroupToolComponent_Factory(t) {\n    return new (t || TuiEditorGroupToolComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiEditorGroupToolComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorGroupToolComponent,\n    selectors: [[\"tui-editor-group-tool\"]],\n    decls: 5,\n    vars: 13,\n    consts: [[\"appearance\", \"icon\", \"automation-id\", \"toolbar__group-add-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__group-remove-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiEditorGroupToolComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵlistener(\"click\", function TuiEditorGroupToolComponent_Template_button_click_0_listener() {\n          return ctx.addGroup();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"button\", 1);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵlistener(\"click\", function TuiEditorGroupToolComponent_Template_button_click_2_listener() {\n          return ctx.removeGroup();\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx.options.icons.groupAdd)(\"tuiHint\", i0.ɵɵpipeBind1(1, 7, ctx.insertGroupText$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !!i0.ɵɵpipeBind1(3, 9, ctx.disabled$))(\"focusable\", false)(\"icon\", ctx.options.icons.groupRemove)(\"tuiHint\", i0.ɵɵpipeBind1(4, 11, ctx.removeGroupText$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiEditorGroupToolComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorToolGroup = /*#__PURE__*/(() => {\n  class TuiEditorToolGroup {}\n  TuiEditorToolGroup.ɵfac = function TuiEditorToolGroup_Factory(t) {\n    return new (t || TuiEditorToolGroup)();\n  };\n  TuiEditorToolGroup.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditorToolGroup\n  });\n  TuiEditorToolGroup.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHintModule]]\n  });\n  return TuiEditorToolGroup;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiEditorGroupToolComponent, TuiEditorToolGroup };\n","import { TuiDay, TuiDayRange, TUI_FIRST_DAY, TuiTime, HOURS_IN_DAY, tuiControlValue } from '@taiga-ui/cdk';\nimport { TuiDayRangePeriod } from '@taiga-ui/kit/classes';\nimport { of } from 'rxjs';\nimport { map } from 'rxjs/operators';\nfunction tuiCreateDefaultDayRangePeriods(periodTitles = ['For all the time', 'Today', 'Yesterday', 'Current week', 'Current month', 'Previous month']) {\n  const today = TuiDay.currentLocal();\n  const yesterday = today.append({\n    day: -1\n  });\n  const startOfWeek = today.append({\n    day: -today.dayOfWeek()\n  });\n  const endOfWeek = startOfWeek.append({\n    day: 6\n  });\n  const startOfMonth = today.append({\n    day: 1 - today.day\n  });\n  const endOfMonth = startOfMonth.append({\n    month: 1,\n    day: -1\n  });\n  const startOfLastMonth = startOfMonth.append({\n    month: -1\n  });\n  return [new TuiDayRangePeriod(new TuiDayRange(TUI_FIRST_DAY, today), periodTitles[0]), new TuiDayRangePeriod(new TuiDayRange(today, today), periodTitles[1]), new TuiDayRangePeriod(new TuiDayRange(yesterday, yesterday), periodTitles[2]), new TuiDayRangePeriod(new TuiDayRange(startOfWeek, endOfWeek), periodTitles[3]), new TuiDayRangePeriod(new TuiDayRange(startOfMonth, endOfMonth), periodTitles[4]), new TuiDayRangePeriod(new TuiDayRange(startOfLastMonth, startOfMonth.append({\n    day: -1\n  })), periodTitles[5])];\n}\nfunction tuiCreateTimePeriods(minHour = 0, maxHour = HOURS_IN_DAY, minutes = [0, 30]) {\n  const timeArray = [];\n  for (let i = minHour; i < maxHour; i++) {\n    minutes.forEach(minute => {\n      const time = new TuiTime(i, minute);\n      timeArray.push(time);\n    });\n  }\n  return timeArray;\n}\n\n/**\n * @return fractional length\n */\nfunction tuiGetPrecision(num) {\n  const [, fractionPart = ''] = String(num).split('.');\n  return fractionPart.length;\n}\nfunction tuiIsFlat(items) {\n  return !Array.isArray(items[0]);\n}\n\n/**\n * @internal\n */\nfunction tuiControlValueFactory(control, valueTransformer) {\n  return control ? tuiControlValue(control).pipe(map(value => valueTransformer ? valueTransformer.fromControlValue(value) : value)) : of(null);\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiControlValueFactory, tuiCreateDefaultDayRangePeriods, tuiCreateTimePeriods, tuiGetPrecision, tuiIsFlat };\n","import { InjectionToken, Optional, Self } from '@angular/core';\nimport { NgControl } from '@angular/forms';\nimport { tuiControlValueFactory } from '@taiga-ui/kit/utils';\nimport { tuiCreateToken, tuiProvideOptions, tuiCreateTokenFromFactory, TUI_FIRST_DAY, TUI_LAST_DAY, TUI_DEFAULT_STRINGIFY, TUI_DEFAULT_IDENTITY_MATCHER, ALWAYS_FALSE_HANDLER } from '@taiga-ui/cdk';\nimport { TuiCountryIsoCode, tuiExtractI18n } from '@taiga-ui/i18n';\n\n/**\n * Stream that emits calendar data change\n */\nconst TUI_CALENDAR_DATE_STREAM = new InjectionToken('[TUI_CALENDAR_DATE_STREAM]');\nfunction tuiDateStreamWithTransformer(transformer) {\n  return {\n    provide: TUI_CALENDAR_DATE_STREAM,\n    deps: [[new Optional(), new Self(), NgControl], [new Optional(), transformer]],\n    useFactory: tuiControlValueFactory\n  };\n}\nconst TUI_COUNTRIES_DEFAULT_MASKS = {\n  [TuiCountryIsoCode.AD]: '+376###-###',\n  [TuiCountryIsoCode.AE]: '+971-##-###-####',\n  [TuiCountryIsoCode.AF]: '+93##-###-####',\n  [TuiCountryIsoCode.AG]: '+1(268) ###-####',\n  [TuiCountryIsoCode.AI]: '+1(264) ###-####',\n  [TuiCountryIsoCode.AL]: '+355(###) ###-###',\n  [TuiCountryIsoCode.AM]: '+374##-###-###',\n  [TuiCountryIsoCode.AO]: '+244(###) ###-###',\n  [TuiCountryIsoCode.AR]: '+54(###) ####-####',\n  [TuiCountryIsoCode.AT]: '+43(###) ###-####',\n  [TuiCountryIsoCode.AU]: '+61#-####-####',\n  [TuiCountryIsoCode.AW]: '+297###-####',\n  [TuiCountryIsoCode.AZ]: '+994##-###-##-##',\n  [TuiCountryIsoCode.BA]: '+387 ###-####-##',\n  [TuiCountryIsoCode.BB]: '+1(246) ###-####',\n  [TuiCountryIsoCode.BD]: '+880##-###-###',\n  [TuiCountryIsoCode.BE]: '+32(###) ###-###',\n  [TuiCountryIsoCode.BF]: '+226##-##-####',\n  [TuiCountryIsoCode.BG]: '+359(###) ###-###',\n  [TuiCountryIsoCode.BH]: '+973####-####',\n  [TuiCountryIsoCode.BI]: '+257##-##-####',\n  [TuiCountryIsoCode.BJ]: '+229##-##-####',\n  [TuiCountryIsoCode.BL]: '+590 ## ## ## ## ##',\n  [TuiCountryIsoCode.BM]: '+1(441) ###-####',\n  [TuiCountryIsoCode.BN]: '+673###-####',\n  [TuiCountryIsoCode.BO]: '+591#-###-####',\n  [TuiCountryIsoCode.BQ]: '+599-###-####',\n  [TuiCountryIsoCode.BR]: '+55(##) ####-#####',\n  [TuiCountryIsoCode.BS]: '+1(242) ###-####',\n  [TuiCountryIsoCode.BT]: '+975#-###-###',\n  [TuiCountryIsoCode.BW]: '+267##-###-###',\n  [TuiCountryIsoCode.BY]: '+375(##) ###-##-##',\n  [TuiCountryIsoCode.BZ]: '+501###-####',\n  [TuiCountryIsoCode.CA]: '+1(###) ###-####',\n  [TuiCountryIsoCode.CD]: '+243(###) ###-###',\n  [TuiCountryIsoCode.CF]: '+236-##-##-####',\n  [TuiCountryIsoCode.CG]: '+242##-###-####',\n  [TuiCountryIsoCode.CH]: '+41##-###-####',\n  [TuiCountryIsoCode.CI]: '+225##-##-###-###',\n  [TuiCountryIsoCode.CL]: '+56#-####-####',\n  [TuiCountryIsoCode.CM]: '+237#####-####',\n  [TuiCountryIsoCode.CN]: '+86(###) ####-####',\n  [TuiCountryIsoCode.CO]: '+57(###) ###-####',\n  [TuiCountryIsoCode.CR]: '+506####-####',\n  [TuiCountryIsoCode.CU]: '+53#-###-####',\n  [TuiCountryIsoCode.CV]: '+238(###) ##-##',\n  [TuiCountryIsoCode.CW]: '+5999-###-####',\n  [TuiCountryIsoCode.CY]: '+357##-###-###',\n  [TuiCountryIsoCode.CZ]: '+420(###) ###-###',\n  [TuiCountryIsoCode.DE]: '+49(###) ###-###-##',\n  [TuiCountryIsoCode.DJ]: '+253##-##-##-##',\n  [TuiCountryIsoCode.DK]: '+45##-##-##-##',\n  [TuiCountryIsoCode.DM]: '+1(767) ###-####',\n  [TuiCountryIsoCode.DO]: '+1(###) ###-####',\n  [TuiCountryIsoCode.DZ]: '+213##-###-####',\n  [TuiCountryIsoCode.EC]: '+593##-###-####',\n  [TuiCountryIsoCode.EE]: '+372####-####',\n  [TuiCountryIsoCode.EG]: '+20(###) ###-####',\n  [TuiCountryIsoCode.ER]: '+291#-###-###',\n  [TuiCountryIsoCode.ES]: '+34(###) ###-###',\n  [TuiCountryIsoCode.ET]: '+251##-###-####',\n  [TuiCountryIsoCode.FI]: '+358(###) ###-##-##',\n  [TuiCountryIsoCode.FJ]: '+679##-#####',\n  [TuiCountryIsoCode.FK]: '+500#####',\n  [TuiCountryIsoCode.FM]: '+691###-####',\n  [TuiCountryIsoCode.FR]: '+33 ## ## ## ## ##',\n  [TuiCountryIsoCode.GA]: '+241##-##-##-##',\n  [TuiCountryIsoCode.GB]: '+44##-####-####',\n  [TuiCountryIsoCode.GD]: '+1(473) ###-####',\n  [TuiCountryIsoCode.GE]: '+995(###) ###-###',\n  [TuiCountryIsoCode.GF]: '+594 ## ## ## ## ##',\n  [TuiCountryIsoCode.GH]: '+233(###) ###-###',\n  [TuiCountryIsoCode.GI]: '+350###-#####',\n  [TuiCountryIsoCode.GL]: '+299##-##-##',\n  [TuiCountryIsoCode.GM]: '+220(###) ##-##',\n  [TuiCountryIsoCode.GN]: '+224##-###-###',\n  [TuiCountryIsoCode.GP]: '+590 ## ## ## ## ##',\n  [TuiCountryIsoCode.GQ]: '+240##-###-####',\n  [TuiCountryIsoCode.GR]: '+30(###) ###-####',\n  [TuiCountryIsoCode.GT]: '+502#-###-####',\n  [TuiCountryIsoCode.GW]: '+245#-######',\n  [TuiCountryIsoCode.GY]: '+592###-####',\n  [TuiCountryIsoCode.HK]: '+852####-####',\n  [TuiCountryIsoCode.HN]: '+504####-####',\n  [TuiCountryIsoCode.HR]: '+385##-###-####',\n  [TuiCountryIsoCode.HT]: '+509##-##-####',\n  [TuiCountryIsoCode.HU]: '+36(###) ###-###',\n  [TuiCountryIsoCode.ID]: '+62(###) ###-##-###',\n  [TuiCountryIsoCode.IE]: '+353(###) ###-###',\n  [TuiCountryIsoCode.IL]: '+972##-###-####',\n  [TuiCountryIsoCode.IN]: '+91(####) ###-###',\n  [TuiCountryIsoCode.IQ]: '+964(###) ###-####',\n  [TuiCountryIsoCode.IR]: '+98(###) ###-####',\n  [TuiCountryIsoCode.IS]: '+354###-####',\n  [TuiCountryIsoCode.IT]: '+39(###) ####-###',\n  [TuiCountryIsoCode.JM]: '+1(876) ###-####',\n  [TuiCountryIsoCode.JO]: '+962#-####-####',\n  [TuiCountryIsoCode.JP]: '+81-##-####-####',\n  [TuiCountryIsoCode.KE]: '+254###-######',\n  [TuiCountryIsoCode.KG]: '+996(###) ###-###',\n  [TuiCountryIsoCode.KH]: '+855##-###-###',\n  [TuiCountryIsoCode.KM]: '+269##-#####',\n  [TuiCountryIsoCode.KN]: '+1(869) ###-####',\n  [TuiCountryIsoCode.KP]: '+850####-#############',\n  [TuiCountryIsoCode.KR]: '+82##-###-####',\n  [TuiCountryIsoCode.KW]: '+965####-####',\n  [TuiCountryIsoCode.KY]: '+1(345) ###-####',\n  [TuiCountryIsoCode.KZ]: '+7(###) ###-##-##',\n  [TuiCountryIsoCode.LA]: '+856##-##-###-###',\n  [TuiCountryIsoCode.LB]: '+961##-###-###',\n  [TuiCountryIsoCode.LC]: '+1(758) ###-####',\n  [TuiCountryIsoCode.LI]: '+423(###) ###-####',\n  [TuiCountryIsoCode.LK]: '+94##-###-####',\n  [TuiCountryIsoCode.LR]: '+231##-###-###',\n  [TuiCountryIsoCode.LS]: '+266#-###-####',\n  [TuiCountryIsoCode.LT]: '+370(###) ##-###',\n  [TuiCountryIsoCode.LU]: '+352(###) ###-###',\n  [TuiCountryIsoCode.LV]: '+371##-###-###',\n  [TuiCountryIsoCode.LY]: '+218##-###-####',\n  [TuiCountryIsoCode.MA]: '+212##-####-###',\n  [TuiCountryIsoCode.MC]: '+377###-###-###',\n  [TuiCountryIsoCode.MD]: '+373####-####',\n  [TuiCountryIsoCode.ME]: '+382##-###-###',\n  [TuiCountryIsoCode.MF]: '+590 ## ## ## ## ##',\n  [TuiCountryIsoCode.MG]: '+261##-##-#####',\n  [TuiCountryIsoCode.MK]: '+389##-###-###',\n  [TuiCountryIsoCode.ML]: '+223##-##-####',\n  [TuiCountryIsoCode.MM]: '+95##-###-###',\n  [TuiCountryIsoCode.MN]: '+976##-##-####',\n  [TuiCountryIsoCode.MO]: '+853####-####',\n  [TuiCountryIsoCode.MQ]: '+596 ## ## ## ## ##',\n  [TuiCountryIsoCode.MR]: '+222##-##-####',\n  [TuiCountryIsoCode.MS]: '+1(664) ###-####',\n  [TuiCountryIsoCode.MT]: '+356####-####',\n  [TuiCountryIsoCode.MU]: '+230####-####',\n  [TuiCountryIsoCode.MV]: '+960###-####',\n  [TuiCountryIsoCode.MW]: '+265#-####-####',\n  [TuiCountryIsoCode.MX]: '+52(###) ###-####',\n  [TuiCountryIsoCode.MY]: '+60(###) ###-###',\n  [TuiCountryIsoCode.MZ]: '+258##-###-###',\n  [TuiCountryIsoCode.NA]: '+264##-###-####',\n  [TuiCountryIsoCode.NC]: '+687 ### ###',\n  [TuiCountryIsoCode.NE]: '+227##-##-####',\n  [TuiCountryIsoCode.NG]: '+234(###) ###-####',\n  [TuiCountryIsoCode.NI]: '+505####-####',\n  [TuiCountryIsoCode.NL]: '+31##-###-####',\n  [TuiCountryIsoCode.NO]: '+47(###) ##-###',\n  [TuiCountryIsoCode.NP]: '+977##-###-###',\n  [TuiCountryIsoCode.NZ]: '+64(###) ###-####',\n  [TuiCountryIsoCode.OM]: '+968##-###-###',\n  [TuiCountryIsoCode.PA]: '+507###-####',\n  [TuiCountryIsoCode.PE]: '+51(###) ###-###',\n  [TuiCountryIsoCode.PF]: '+689 ## ## ## ##',\n  [TuiCountryIsoCode.PG]: '+675(###) ##-###',\n  [TuiCountryIsoCode.PH]: '+63(###) ###-####',\n  [TuiCountryIsoCode.PK]: '+92(###) ###-####',\n  [TuiCountryIsoCode.PL]: '+48(###) ###-###',\n  [TuiCountryIsoCode.PT]: '+351##-###-####',\n  [TuiCountryIsoCode.PW]: '+680###-####',\n  [TuiCountryIsoCode.PY]: '+595(###) ###-###',\n  [TuiCountryIsoCode.QA]: '+974####-####',\n  [TuiCountryIsoCode.RE]: '+262 ## ## ## ## ##',\n  [TuiCountryIsoCode.RO]: '+40##-###-####',\n  [TuiCountryIsoCode.RS]: '+381##-###-####',\n  [TuiCountryIsoCode.RU]: '+7### ###-##-##',\n  [TuiCountryIsoCode.RW]: '+250(###) ###-###',\n  [TuiCountryIsoCode.SA]: '+966#-####-####',\n  [TuiCountryIsoCode.SB]: '+677###-####',\n  [TuiCountryIsoCode.SC]: '+248#-###-###',\n  [TuiCountryIsoCode.SD]: '+249##-###-####',\n  [TuiCountryIsoCode.SE]: '+46##-###-####',\n  [TuiCountryIsoCode.SG]: '+65####-####',\n  [TuiCountryIsoCode.SH]: '+290####',\n  [TuiCountryIsoCode.SI]: '+386##-###-###',\n  [TuiCountryIsoCode.SK]: '+421(###) ###-###',\n  [TuiCountryIsoCode.SL]: '+232##-######',\n  [TuiCountryIsoCode.SM]: '+378####-######',\n  [TuiCountryIsoCode.SN]: '+221##-###-####',\n  [TuiCountryIsoCode.SO]: '+252##-###-###',\n  [TuiCountryIsoCode.SR]: '+597###-####',\n  [TuiCountryIsoCode.ST]: '+239##-#####',\n  [TuiCountryIsoCode.SV]: '+503##-##-####',\n  [TuiCountryIsoCode.SX]: '+1(721) ###-####',\n  [TuiCountryIsoCode.SY]: '+963##-####-###',\n  [TuiCountryIsoCode.SZ]: '+268##-##-####',\n  [TuiCountryIsoCode.TC]: '+1(649) ###-####',\n  [TuiCountryIsoCode.TD]: '+235##-##-##-##',\n  [TuiCountryIsoCode.TG]: '+228##-###-###',\n  [TuiCountryIsoCode.TH]: '+66##-###-####',\n  [TuiCountryIsoCode.TJ]: '+992##-###-####',\n  [TuiCountryIsoCode.TL]: '+670###-#####',\n  [TuiCountryIsoCode.TM]: '+993#-###-####',\n  [TuiCountryIsoCode.TN]: '+216##-###-###',\n  [TuiCountryIsoCode.TO]: '+676#####',\n  [TuiCountryIsoCode.TR]: '+90(###) ###-####',\n  [TuiCountryIsoCode.TT]: '+1(868) ###-####',\n  [TuiCountryIsoCode.TW]: '+886#-####-####',\n  [TuiCountryIsoCode.TZ]: '+255##-###-####',\n  [TuiCountryIsoCode.UA]: '+380(##) ###-##-##',\n  [TuiCountryIsoCode.UG]: '+256(###) ###-###',\n  [TuiCountryIsoCode.US]: '+1(###) ###-####',\n  [TuiCountryIsoCode.UY]: '+598#-###-##-##',\n  [TuiCountryIsoCode.UZ]: '+998##-###-####',\n  [TuiCountryIsoCode.VC]: '+1(784) ###-####',\n  [TuiCountryIsoCode.VE]: '+58(###) ###-####',\n  [TuiCountryIsoCode.VG]: '+1(284)###-####',\n  [TuiCountryIsoCode.VN]: '+84(###) ####-###',\n  [TuiCountryIsoCode.VU]: '+678##-#####',\n  [TuiCountryIsoCode.WS]: '+685##-####',\n  [TuiCountryIsoCode.XK]: '+383##-###-###',\n  [TuiCountryIsoCode.YE]: '+967###-###-###',\n  [TuiCountryIsoCode.YT]: '+262 ## ## ## ## ##',\n  [TuiCountryIsoCode.ZA]: '+27##-###-####',\n  [TuiCountryIsoCode.ZM]: '+260##-###-####',\n  [TuiCountryIsoCode.ZW]: '+263#-######'\n};\nconst TUI_COUNTRIES_MASKS = tuiCreateToken(TUI_COUNTRIES_DEFAULT_MASKS);\nfunction tuiCountriesMasksProvider(options) {\n  return tuiProvideOptions(TUI_COUNTRIES_MASKS, options, TUI_COUNTRIES_DEFAULT_MASKS);\n}\n\n// TODO: Refactor to use `AbstractTuiValueTransformer` and add ability to provide it for all controls\n/**\n * Control value transformer of TuiDay to custom value format for InputDate* components\n */\nconst TUI_DATE_VALUE_TRANSFORMER = new InjectionToken('[TUI_DATE_VALUE_TRANSFORMER]');\n/**\n * Control value transformer for InputDateRange component\n */\nconst TUI_DATE_RANGE_VALUE_TRANSFORMER = new InjectionToken('[TUI_DATE_RANGE_VALUE_TRANSFORMER]');\n/**\n * Control value transformer for InputDateTime component\n */\nconst TUI_DATE_TIME_VALUE_TRANSFORMER = new InjectionToken('[TUI_DATE_TIME_VALUE_TRANSFORMER]');\nconst TUI_PROMPT_WORDS = tuiCreateTokenFromFactory(tuiExtractI18n('prompt'));\nconst TUI_CANCEL_WORD = tuiCreateTokenFromFactory(tuiExtractI18n('cancel'));\nconst TUI_DONE_WORD = tuiCreateTokenFromFactory(tuiExtractI18n('done'));\nconst TUI_MORE_WORD = tuiCreateTokenFromFactory(tuiExtractI18n('more'));\nconst TUI_HIDE_TEXT = tuiCreateTokenFromFactory(tuiExtractI18n('hide'));\nconst TUI_SHOW_ALL_TEXT = tuiCreateTokenFromFactory(tuiExtractI18n('showAll'));\nconst TUI_OTHER_DATE_TEXT = tuiCreateTokenFromFactory(tuiExtractI18n('otherDate'));\nconst TUI_CHOOSE_DAY_OR_RANGE_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('mobileCalendarTexts'));\nconst TUI_FROM_TO_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('range'));\nconst TUI_PLUS_MINUS_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('countTexts'));\nconst TUI_TIME_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('time'));\nconst TUI_DATE_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('dateTexts'));\nconst TUI_DIGITAL_INFORMATION_UNITS = tuiCreateTokenFromFactory(tuiExtractI18n('digitalInformationUnits'));\nconst TUI_COPY_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('copyTexts'));\nconst TUI_PASSWORD_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('passwordTexts'));\nconst TUI_CALENDAR_MONTHS = tuiCreateTokenFromFactory(tuiExtractI18n('shortCalendarMonths'));\nconst TUI_FILE_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('fileTexts'));\nconst TUI_PAGINATION_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('pagination'));\nconst TUI_INPUT_FILE_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('inputFileTexts'));\nconst TUI_MULTI_SELECT_TEXTS = tuiCreateTokenFromFactory(tuiExtractI18n('multiSelectTexts'));\nconst TUI_COUNTRIES = tuiCreateTokenFromFactory(tuiExtractI18n('countries'));\nconst TUI_INPUT_DATE_DEFAULT_OPTIONS = {\n  icon: ({\n    $implicit\n  }) => $implicit === 's' ? 'tuiIconCalendar' : 'tuiIconCalendarLarge',\n  min: TUI_FIRST_DAY,\n  max: TUI_LAST_DAY,\n  nativePicker: false\n};\n/**\n * Default parameters for InputDate component\n */\nconst TUI_INPUT_DATE_OPTIONS = tuiCreateToken(TUI_INPUT_DATE_DEFAULT_OPTIONS);\nfunction tuiInputDateOptionsProvider(options) {\n  return tuiProvideOptions(TUI_INPUT_DATE_OPTIONS, options, TUI_INPUT_DATE_DEFAULT_OPTIONS);\n}\nconst TUI_DEFAULT_ITEMS_HANDLERS = {\n  stringify: TUI_DEFAULT_STRINGIFY,\n  identityMatcher: TUI_DEFAULT_IDENTITY_MATCHER,\n  disabledItemHandler: ALWAYS_FALSE_HANDLER\n};\n/**\n * Default items handlers for components\n */\nconst TUI_ITEMS_HANDLERS = tuiCreateToken(TUI_DEFAULT_ITEMS_HANDLERS);\nfunction tuiItemsHandlersProvider(options) {\n  return tuiProvideOptions(TUI_ITEMS_HANDLERS, options, TUI_DEFAULT_ITEMS_HANDLERS);\n}\n\n/**\n * A component for mobile data picker\n */\nconst TUI_MOBILE_CALENDAR = new InjectionToken('[TUI_MOBILE_CALENDAR]');\n\n/**\n * A function to get localized formatted month\n */\nconst TUI_MONTH_FORMATTER = new InjectionToken('[TUI_MONTH_FORMATTER]');\n\n/**\n * Margin between tabs\n */\nconst TUI_TAB_MARGIN = tuiCreateToken(24);\n\n/**\n * Validation errors\n */\nconst TUI_VALIDATION_ERRORS = tuiCreateToken({});\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_CALENDAR_DATE_STREAM, TUI_CALENDAR_MONTHS, TUI_CANCEL_WORD, TUI_CHOOSE_DAY_OR_RANGE_TEXTS, TUI_COPY_TEXTS, TUI_COUNTRIES, TUI_COUNTRIES_DEFAULT_MASKS, TUI_COUNTRIES_MASKS, TUI_DATE_RANGE_VALUE_TRANSFORMER, TUI_DATE_TEXTS, TUI_DATE_TIME_VALUE_TRANSFORMER, TUI_DATE_VALUE_TRANSFORMER, TUI_DEFAULT_ITEMS_HANDLERS, TUI_DIGITAL_INFORMATION_UNITS, TUI_DONE_WORD, TUI_FILE_TEXTS, TUI_FROM_TO_TEXTS, TUI_HIDE_TEXT, TUI_INPUT_DATE_DEFAULT_OPTIONS, TUI_INPUT_DATE_OPTIONS, TUI_INPUT_FILE_TEXTS, TUI_ITEMS_HANDLERS, TUI_MOBILE_CALENDAR, TUI_MONTH_FORMATTER, TUI_MORE_WORD, TUI_MULTI_SELECT_TEXTS, TUI_OTHER_DATE_TEXT, TUI_PAGINATION_TEXTS, TUI_PASSWORD_TEXTS, TUI_PLUS_MINUS_TEXTS, TUI_PROMPT_WORDS, TUI_SHOW_ALL_TEXT, TUI_TAB_MARGIN, TUI_TIME_TEXTS, TUI_VALIDATION_ERRORS, tuiCountriesMasksProvider, tuiDateStreamWithTransformer, tuiInputDateOptionsProvider, tuiItemsHandlersProvider };\n","const MASKITO_DEFAULT_ELEMENT_PREDICATE = e => e.querySelector('input,textarea') || e;\nconst MASKITO_DEFAULT_OPTIONS = {\n  mask: /^.*$/,\n  preprocessors: [],\n  postprocessors: [],\n  plugins: [],\n  overwriteMode: 'shift'\n};\nclass MaskHistory {\n  constructor() {\n    this.now = null;\n    this.past = [];\n    this.future = [];\n  }\n  undo() {\n    const state = this.past.pop();\n    if (state && this.now) {\n      this.future.push(this.now);\n      this.updateElement(state, 'historyUndo');\n    }\n  }\n  redo() {\n    const state = this.future.pop();\n    if (state && this.now) {\n      this.past.push(this.now);\n      this.updateElement(state, 'historyRedo');\n    }\n  }\n  updateHistory(state) {\n    if (!this.now) {\n      this.now = state;\n      return;\n    }\n    const isValueChanged = this.now.value !== state.value;\n    const isSelectionChanged = this.now.selection.some((item, index) => item !== state.selection[index]);\n    if (!isValueChanged && !isSelectionChanged) {\n      return;\n    }\n    if (isValueChanged) {\n      this.past.push(this.now);\n      this.future = [];\n    }\n    this.now = state;\n  }\n  updateElement(state, inputType) {\n    this.now = state;\n    this.updateElementState(state, {\n      inputType,\n      data: null\n    });\n  }\n}\nfunction areElementValuesEqual(sampleState, ...states) {\n  return states.every(({\n    value\n  }) => value === sampleState.value);\n}\nfunction areElementStatesEqual(sampleState, ...states) {\n  return states.every(({\n    value,\n    selection\n  }) => value === sampleState.value && selection[0] === sampleState.selection[0] && selection[1] === sampleState.selection[1]);\n}\nfunction applyOverwriteMode({\n  value,\n  selection\n}, newCharacters, mode) {\n  const [from, to] = selection;\n  const computedMode = typeof mode === 'function' ? mode({\n    value,\n    selection\n  }) : mode;\n  return {\n    value,\n    selection: computedMode === 'replace' ? [from, from + newCharacters.length] : [from, to]\n  };\n}\nfunction isFixedCharacter(char) {\n  return typeof char === 'string';\n}\nfunction getLeadingFixedCharacters(mask, validatedValuePart, newCharacter, initialElementState) {\n  let leadingFixedCharacters = '';\n  for (let i = validatedValuePart.length; i < mask.length; i++) {\n    const charConstraint = mask[i];\n    const isInitiallyExisted = (initialElementState === null || initialElementState === void 0 ? void 0 : initialElementState.value[i]) === charConstraint;\n    if (!isFixedCharacter(charConstraint) || charConstraint === newCharacter && !isInitiallyExisted) {\n      return leadingFixedCharacters;\n    }\n    leadingFixedCharacters += charConstraint;\n  }\n  return leadingFixedCharacters;\n}\nfunction validateValueWithMask(value, maskExpression) {\n  if (Array.isArray(maskExpression)) {\n    return value.length === maskExpression.length && Array.from(value).every((char, i) => {\n      const charConstraint = maskExpression[i];\n      return isFixedCharacter(charConstraint) ? char === charConstraint : char.match(charConstraint);\n    });\n  }\n  return maskExpression.test(value);\n}\nfunction guessValidValueByPattern(elementState, mask, initialElementState) {\n  let maskedFrom = null;\n  let maskedTo = null;\n  const maskedValue = Array.from(elementState.value).reduce((validatedCharacters, char, charIndex) => {\n    const leadingCharacters = getLeadingFixedCharacters(mask, validatedCharacters, char, initialElementState);\n    const newValidatedChars = validatedCharacters + leadingCharacters;\n    const charConstraint = mask[newValidatedChars.length];\n    if (isFixedCharacter(charConstraint)) {\n      return newValidatedChars + charConstraint;\n    }\n    if (!char.match(charConstraint)) {\n      return newValidatedChars;\n    }\n    if (maskedFrom === null && charIndex >= elementState.selection[0]) {\n      maskedFrom = newValidatedChars.length;\n    }\n    if (maskedTo === null && charIndex >= elementState.selection[1]) {\n      maskedTo = newValidatedChars.length;\n    }\n    return newValidatedChars + char;\n  }, '');\n  const trailingFixedCharacters = getLeadingFixedCharacters(mask, maskedValue, '', initialElementState);\n  return {\n    value: validateValueWithMask(maskedValue + trailingFixedCharacters, mask) ? maskedValue + trailingFixedCharacters : maskedValue,\n    selection: [maskedFrom !== null && maskedFrom !== void 0 ? maskedFrom : maskedValue.length, maskedTo !== null && maskedTo !== void 0 ? maskedTo : maskedValue.length]\n  };\n}\nfunction guessValidValueByRegExp({\n  value,\n  selection\n}, maskRegExp) {\n  const [from, to] = selection;\n  let newFrom = from;\n  let newTo = to;\n  const validatedValue = Array.from(value).reduce((validatedValuePart, char, i) => {\n    const newPossibleValue = validatedValuePart + char;\n    if (from === i) {\n      newFrom = validatedValuePart.length;\n    }\n    if (to === i) {\n      newTo = validatedValuePart.length;\n    }\n    return newPossibleValue.match(maskRegExp) ? newPossibleValue : validatedValuePart;\n  }, '');\n  return {\n    value: validatedValue,\n    selection: [newFrom, newTo]\n  };\n}\nfunction calibrateValueByMask(elementState, mask, initialElementState = null) {\n  if (validateValueWithMask(elementState.value, mask)) {\n    return elementState;\n  }\n  const {\n    value,\n    selection\n  } = Array.isArray(mask) ? guessValidValueByPattern(elementState, mask, initialElementState) : guessValidValueByRegExp(elementState, mask);\n  return {\n    selection,\n    value: Array.isArray(mask) ? value.slice(0, mask.length) : value\n  };\n}\nfunction removeFixedMaskCharacters(initialElementState, mask) {\n  if (!Array.isArray(mask)) {\n    return initialElementState;\n  }\n  const [from, to] = initialElementState.selection;\n  const selection = [];\n  const unmaskedValue = Array.from(initialElementState.value).reduce((rawValue, char, i) => {\n    const charConstraint = mask[i];\n    if (i === from) {\n      selection.push(rawValue.length);\n    }\n    if (i === to) {\n      selection.push(rawValue.length);\n    }\n    return isFixedCharacter(charConstraint) && charConstraint === char ? rawValue : rawValue + char;\n  }, '');\n  if (selection.length < 2) {\n    selection.push(...new Array(2 - selection.length).fill(unmaskedValue.length));\n  }\n  return {\n    value: unmaskedValue,\n    selection: [selection[0], selection[1]]\n  };\n}\nclass MaskModel {\n  constructor(initialElementState, maskOptions) {\n    this.initialElementState = initialElementState;\n    this.maskOptions = maskOptions;\n    this.value = '';\n    this.selection = [0, 0];\n    const {\n      value,\n      selection\n    } = calibrateValueByMask(initialElementState, this.getMaskExpression(initialElementState));\n    this.value = value;\n    this.selection = selection;\n  }\n  addCharacters([from, to], newCharacters) {\n    const {\n      value\n    } = this;\n    const maskExpression = this.getMaskExpression({\n      value: value.slice(0, from) + newCharacters + value.slice(to),\n      selection: [from + newCharacters.length, from + newCharacters.length]\n    });\n    const initialElementState = {\n      value,\n      selection: [from, to]\n    };\n    const unmaskedElementState = removeFixedMaskCharacters(initialElementState, maskExpression);\n    const [unmaskedFrom, unmaskedTo] = applyOverwriteMode(unmaskedElementState, newCharacters, this.maskOptions.overwriteMode).selection;\n    const newUnmaskedLeadingValuePart = unmaskedElementState.value.slice(0, unmaskedFrom) + newCharacters;\n    const newCaretIndex = newUnmaskedLeadingValuePart.length;\n    const maskedElementState = calibrateValueByMask({\n      value: newUnmaskedLeadingValuePart + unmaskedElementState.value.slice(unmaskedTo),\n      selection: [newCaretIndex, newCaretIndex]\n    }, maskExpression, initialElementState);\n    const isInvalidCharsInsertion =\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n    value.slice(0, unmaskedFrom) === calibrateValueByMask({\n      value: newUnmaskedLeadingValuePart,\n      selection: [newCaretIndex, newCaretIndex]\n    }, maskExpression, initialElementState).value;\n    if (isInvalidCharsInsertion || areElementStatesEqual(this, maskedElementState) // If typing new characters does not change value\n    ) {\n      throw new Error('Invalid mask value');\n    }\n    this.value = maskedElementState.value;\n    this.selection = maskedElementState.selection;\n  }\n  deleteCharacters([from, to]) {\n    if (from === to || !to) {\n      return;\n    }\n    const {\n      value\n    } = this;\n    const maskExpression = this.getMaskExpression({\n      value: value.slice(0, from) + value.slice(to),\n      selection: [from, from]\n    });\n    const initialElementState = {\n      value,\n      selection: [from, to]\n    };\n    const unmaskedElementState = removeFixedMaskCharacters(initialElementState, maskExpression);\n    const [unmaskedFrom, unmaskedTo] = unmaskedElementState.selection;\n    const newUnmaskedValue = unmaskedElementState.value.slice(0, unmaskedFrom) + unmaskedElementState.value.slice(unmaskedTo);\n    const maskedElementState = calibrateValueByMask({\n      value: newUnmaskedValue,\n      selection: [unmaskedFrom, unmaskedFrom]\n    }, maskExpression, initialElementState);\n    this.value = maskedElementState.value;\n    this.selection = maskedElementState.selection;\n  }\n  getMaskExpression(elementState) {\n    const {\n      mask\n    } = this.maskOptions;\n    return typeof mask === 'function' ? mask(elementState) : mask;\n  }\n}\nclass EventListener {\n  constructor(element) {\n    this.element = element;\n    this.listeners = [];\n  }\n  listen(eventType, fn, options) {\n    const untypedFn = fn;\n    this.element.addEventListener(eventType, untypedFn, options);\n    this.listeners.push(() => this.element.removeEventListener(eventType, untypedFn));\n  }\n  destroy() {\n    this.listeners.forEach(stopListen => stopListen());\n  }\n}\n\n/**\r\n * Checks if the passed keyboard event match the required hotkey.\r\n *\r\n * We intentionally use legacy {@link KeyboardEvent#keyCode `keyCode`} property. It is more\r\n * \"keyboard-layout\"-independent than {@link KeyboardEvent#key `key`} or {@link KeyboardEvent#code `code`} properties.\r\n *\r\n * @example\r\n * input.addEventListener('keydown', (event) => {\r\n *     if (isHotkey(event, HotkeyModifier.CTRL | HotkeyModifier.SHIFT, HotkeyCode.Z)) {\r\n *         // redo hotkey pressed\r\n *     }\r\n * })\r\n *\r\n * @see {@link https://github.com/taiga-family/maskito/issues/315 `KeyboardEvent#code` issue}\r\n *\r\n * @return will return `true` only if the {@link HotkeyCode} matches and only the necessary\r\n * {@link HotkeyModifier modifiers} have been pressed\r\n */\nfunction isHotkey(event, modifiers, hotkeyCode) {\n  return event.ctrlKey === !!(modifiers & 1\n  /* CTRL */) && event.altKey === !!(modifiers & 2\n  /* ALT */) && event.shiftKey === !!(modifiers & 4\n  /* SHIFT */) && event.metaKey === !!(modifiers & 8\n  /* META */) && event.keyCode === hotkeyCode;\n}\nfunction isRedo(event) {\n  return isHotkey(event, 1\n  /* CTRL */, 89\n  /* Y */) ||\n  // Windows\n  isHotkey(event, 1\n  /* CTRL */ | 4\n  /* SHIFT */, 90\n  /* Z */) ||\n  // Windows & Android\n  isHotkey(event, 8\n  /* META */ | 4\n  /* SHIFT */, 90\n  /* Z */) // macOS & iOS\n  ;\n}\nfunction isUndo(event) {\n  return isHotkey(event, 1\n  /* CTRL */, 90\n  /* Z */) ||\n  // Windows & Android\n  isHotkey(event, 8\n  /* META */, 90\n  /* Z */) // macOS & iOS\n  ;\n}\n\n/**\r\n * \"beforeinput\" is more appropriate event for preprocessing of the input masking (than `keydown`):\r\n * - `keydown` is not triggered by predictive text from native mobile keyboards.\r\n * - `keydown` is triggered by system key combinations (we don't need them, and they should be manually filtered).\r\n * - Dropping text inside input triggers `beforeinput` (but not `keydown`).\r\n * ___\r\n * \"beforeinput\" is not supported by Chrome 49+ (only from 60+) and by Firefox 52+ (only from 87+).\r\n *\r\n * @see https://caniuse.com/?search=beforeinput\r\n * @see https://taiga-ui.dev/browser-support\r\n */\nfunction isBeforeInputEventSupported(element) {\n  return 'onbeforeinput' in element;\n}\nfunction isEventProducingCharacter({\n  key,\n  ctrlKey,\n  metaKey,\n  altKey\n}) {\n  const isSystemKeyCombinations = ctrlKey || metaKey || altKey;\n  const isSingleUnicodeChar = /^.$/u.test(key); // 4-byte characters case (e.g. smile)\n\n  return !isSystemKeyCombinations && key !== 'Backspace' && isSingleUnicodeChar;\n}\nfunction getLineSelection({\n  value,\n  selection\n}, isForward) {\n  const [from, to] = selection;\n  if (from !== to) {\n    return [from, to];\n  }\n  const nearestBreak = isForward ? value.slice(from).indexOf('\\n') + 1 || value.length : value.slice(0, to).lastIndexOf('\\n') + 1;\n  const selectFrom = isForward ? from : nearestBreak;\n  const selectTo = isForward ? nearestBreak : to;\n  return [selectFrom, selectTo];\n}\nfunction getNotEmptySelection({\n  value,\n  selection\n}, isForward) {\n  const [from, to] = selection;\n  if (from !== to) {\n    return [from, to];\n  }\n  const notEmptySelection = isForward ? [from, to + 1] : [from - 1, to];\n  return notEmptySelection.map(x => Math.min(Math.max(x, 0), value.length));\n}\nconst TRAILING_SPACES_REG = /\\s+$/g;\nconst LEADING_SPACES_REG = /^\\s+/g;\nconst SPACE_REG = /\\s/;\nfunction getWordSelection({\n  value,\n  selection\n}, isForward) {\n  const [from, to] = selection;\n  if (from !== to) {\n    return [from, to];\n  }\n  if (isForward) {\n    const valueAfterSelectionStart = value.slice(from);\n    const [leadingSpaces] = valueAfterSelectionStart.match(LEADING_SPACES_REG) || [''];\n    const nearestWordEndIndex = valueAfterSelectionStart.replace(LEADING_SPACES_REG, '') // TODO replace with `String.trimStart` after bumping Firefox to 61+\n    .search(SPACE_REG);\n    return [from, nearestWordEndIndex !== -1 ? from + leadingSpaces.length + nearestWordEndIndex : value.length];\n  }\n  const valueBeforeSelectionEnd = value.slice(0, to);\n  const [trailingSpaces] = valueBeforeSelectionEnd.match(TRAILING_SPACES_REG) || [''];\n  const selectedWordLength = valueBeforeSelectionEnd.replace(TRAILING_SPACES_REG, '') // TODO replace with `String.trimEnd` after bumping Firefox to 61+\n  .split('').reverse().findIndex(char => char.match(SPACE_REG));\n  return [selectedWordLength !== -1 ? to - trailingSpaces.length - selectedWordLength : 0, to];\n}\n\n/* eslint-disable @typescript-eslint/ban-types */\n\n/**\r\n * @internal\r\n */\nfunction maskitoPipe(processors = []) {\n  return (initialData, ...readonlyArgs) => processors.reduce((data, fn) => Object.assign(Object.assign({}, data), fn(data, ...readonlyArgs)), initialData);\n}\nfunction maskitoTransform(valueOrState, maskitoOptions) {\n  const options = Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), maskitoOptions);\n  const preprocessor = maskitoPipe(options.preprocessors);\n  const postprocessor = maskitoPipe(options.postprocessors);\n  const initialElementState = typeof valueOrState === 'string' ? {\n    value: valueOrState,\n    selection: [0, 0]\n  } : valueOrState;\n  const {\n    elementState\n  } = preprocessor({\n    elementState: initialElementState,\n    data: ''\n  }, 'validation');\n  const maskModel = new MaskModel(elementState, options);\n  const {\n    value,\n    selection\n  } = postprocessor(maskModel, initialElementState);\n  return typeof valueOrState === 'string' ? value : {\n    value,\n    selection\n  };\n}\nclass Maskito extends MaskHistory {\n  constructor(element, maskitoOptions) {\n    super();\n    this.element = element;\n    this.maskitoOptions = maskitoOptions;\n    this.isTextArea = this.element.nodeName === 'TEXTAREA';\n    this.eventListener = new EventListener(this.element);\n    this.options = Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), this.maskitoOptions);\n    this.preprocessor = maskitoPipe(this.options.preprocessors);\n    this.postprocessor = maskitoPipe(this.options.postprocessors);\n    this.teardowns = this.options.plugins.map(plugin => plugin(this.element, this.options));\n    this.ensureValueFitsMask();\n    this.updateHistory(this.elementState);\n    this.eventListener.listen('keydown', event => {\n      if (isRedo(event)) {\n        event.preventDefault();\n        return this.redo();\n      }\n      if (isUndo(event)) {\n        event.preventDefault();\n        return this.undo();\n      }\n    });\n    if (isBeforeInputEventSupported(element)) {\n      this.eventListener.listen('beforeinput', event => {\n        const isForward = event.inputType.includes('Forward');\n        this.updateHistory(this.elementState);\n        switch (event.inputType) {\n          // historyUndo/historyRedo will not be triggered if value was modified programmatically\n          case 'historyUndo':\n            event.preventDefault();\n            return this.undo();\n          case 'historyRedo':\n            event.preventDefault();\n            return this.redo();\n          case 'deleteByCut':\n          case 'deleteContentBackward':\n          case 'deleteContentForward':\n            return this.handleDelete({\n              event,\n              isForward,\n              selection: getNotEmptySelection(this.elementState, isForward)\n            });\n          case 'deleteWordForward':\n          case 'deleteWordBackward':\n            return this.handleDelete({\n              event,\n              isForward,\n              selection: getWordSelection(this.elementState, isForward),\n              force: true\n            });\n          case 'deleteSoftLineBackward':\n          case 'deleteSoftLineForward':\n          case 'deleteHardLineBackward':\n          case 'deleteHardLineForward':\n            return this.handleDelete({\n              event,\n              isForward,\n              selection: getLineSelection(this.elementState, isForward),\n              force: true\n            });\n          case 'insertCompositionText':\n            return;\n          // will be handled inside `compositionend` event\n\n          case 'insertLineBreak':\n            return this.handleEnter(event);\n          case 'insertFromPaste':\n          case 'insertText':\n          case 'insertFromDrop':\n          default:\n            return this.handleInsert(event, event.data || '');\n        }\n      });\n    } else {\n      /** TODO: drop it after browser support bump (Firefox 87+)\r\n       * Also, replace union types `Event | TypedInputEvent` with `TypedInputEvent` inside:\r\n       *** {@link handleDelete}\r\n       *** {@link handleInsert}\r\n       */\n      this.eventListener.listen('keydown', event => this.handleKeydown(event));\n      this.eventListener.listen('paste', event => {\n        var _a;\n        return this.handleInsert(event, ((_a = event.clipboardData) === null || _a === void 0 ? void 0 : _a.getData('text/plain')) || '');\n      });\n    }\n    this.eventListener.listen('input', ({\n      inputType\n    }) => {\n      if (inputType === 'insertCompositionText') {\n        return; // will be handled inside `compositionend` event\n      }\n      this.ensureValueFitsMask();\n      this.updateHistory(this.elementState);\n    });\n    this.eventListener.listen('compositionend', () => {\n      this.ensureValueFitsMask();\n      this.updateHistory(this.elementState);\n    });\n  }\n  get elementState() {\n    const {\n      value,\n      selectionStart,\n      selectionEnd\n    } = this.element;\n    return {\n      value,\n      selection: [selectionStart || 0, selectionEnd || 0]\n    };\n  }\n  get maxLength() {\n    const {\n      maxLength\n    } = this.element;\n    return maxLength === -1 ? Infinity : maxLength;\n  }\n  destroy() {\n    this.eventListener.destroy();\n    this.teardowns.forEach(teardown => teardown === null || teardown === void 0 ? void 0 : teardown());\n  }\n  updateElementState({\n    value,\n    selection\n  }, eventInit = {\n    inputType: 'insertText',\n    data: null\n  }) {\n    const initialValue = this.elementState.value;\n    this.updateValue(value);\n    this.updateSelectionRange(selection);\n    if (initialValue !== value) {\n      this.dispatchInputEvent(eventInit);\n    }\n  }\n  updateSelectionRange([from, to]) {\n    var _a, _b;\n    if (this.element.selectionStart !== from || this.element.selectionEnd !== to) {\n      (_b = (_a = this.element).setSelectionRange) === null || _b === void 0 ? void 0 : _b.call(_a, from, to);\n    }\n  }\n  updateValue(value) {\n    this.element.value = value;\n  }\n  ensureValueFitsMask() {\n    this.updateElementState(maskitoTransform(this.elementState, this.options));\n  }\n  dispatchInputEvent(eventInit = {\n    inputType: 'insertText',\n    data: null\n  }) {\n    const globalObject = typeof window !== 'undefined' ? window : globalThis; // TODO: replace `globalObject` with `globalThis` after bumping Firefox to 65+\n    // @see https://caniuse.com/?search=globalThis\n\n    if (globalObject === null || globalObject === void 0 ? void 0 : globalObject.InputEvent) {\n      this.element.dispatchEvent(new InputEvent('input', Object.assign(Object.assign({}, eventInit), {\n        bubbles: true,\n        cancelable: false\n      })));\n    }\n  }\n  handleKeydown(event) {\n    const pressedKey = event.key;\n    const isForward = pressedKey === 'Delete';\n    switch (pressedKey) {\n      case 'Backspace':\n      case 'Delete':\n        return this.handleDelete({\n          event,\n          isForward,\n          selection: getNotEmptySelection(this.elementState, isForward)\n        });\n      case 'Enter':\n        return this.handleEnter(event);\n    }\n    if (!isEventProducingCharacter(event)) {\n      return;\n    }\n    this.handleInsert(event, pressedKey);\n  }\n  handleDelete({\n    event,\n    selection,\n    isForward,\n    force = false\n  }) {\n    const initialState = {\n      value: this.elementState.value,\n      selection\n    };\n    const [initialFrom, initialTo] = initialState.selection;\n    const {\n      elementState\n    } = this.preprocessor({\n      elementState: initialState,\n      data: ''\n    }, isForward ? 'deleteForward' : 'deleteBackward');\n    const maskModel = new MaskModel(elementState, this.options);\n    const [from, to] = elementState.selection;\n    maskModel.deleteCharacters([from, to]);\n    const newElementState = this.postprocessor(maskModel, initialState);\n    const newPossibleValue = initialState.value.slice(0, initialFrom) + initialState.value.slice(initialTo);\n    if (newPossibleValue === newElementState.value && !force) {\n      return;\n    }\n    event.preventDefault();\n    if (areElementValuesEqual(initialState, elementState, maskModel, newElementState)) {\n      // User presses Backspace/Delete for the fixed value\n      return this.updateSelectionRange(isForward ? [to, to] : [from, from]);\n    } // TODO: drop it when `event: Event | TypedInputEvent` => `event: TypedInputEvent`\n\n    const inputTypeFallback = isForward ? 'deleteContentForward' : 'deleteContentBackward';\n    this.updateElementState(newElementState, {\n      inputType: 'inputType' in event ? event.inputType : inputTypeFallback,\n      data: null\n    });\n    this.updateHistory(newElementState);\n  }\n  handleInsert(event, data) {\n    const initialElementState = this.elementState;\n    const {\n      elementState,\n      data: insertedText = data\n    } = this.preprocessor({\n      data,\n      elementState: initialElementState\n    }, 'insert');\n    const maskModel = new MaskModel(elementState, this.options);\n    try {\n      maskModel.addCharacters(elementState.selection, insertedText);\n    } catch (_a) {\n      return event.preventDefault();\n    }\n    const [from, to] = elementState.selection;\n    const newPossibleValue = elementState.value.slice(0, from) + data + elementState.value.slice(to);\n    const newElementState = this.postprocessor(maskModel, initialElementState);\n    if (newElementState.value.length > this.maxLength) {\n      return event.preventDefault();\n    }\n    if (newPossibleValue !== newElementState.value) {\n      event.preventDefault();\n      this.updateElementState(newElementState, {\n        data,\n        inputType: 'inputType' in event ? event.inputType : 'insertText'\n      });\n      this.updateHistory(newElementState);\n    }\n  }\n  handleEnter(event) {\n    if (this.isTextArea) {\n      this.handleInsert(event, '\\n');\n    }\n  }\n}\nexport { MASKITO_DEFAULT_ELEMENT_PREDICATE, MASKITO_DEFAULT_OPTIONS, Maskito, maskitoPipe, maskitoTransform };","import { TuiMonthPipe, tuiDropdownOptionsProvider, TUI_VALUE_ACCESSOR } from '@taiga-ui/core';\nimport { TUI_MONTH_FORMATTER } from '@taiga-ui/kit/tokens';\nimport { of, identity } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Optional, Self } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nconst TUI_MONTH_FORMATTER_PROVIDER = {\n  provide: TUI_MONTH_FORMATTER,\n  deps: [TuiMonthPipe],\n  useFactory: pipe => month => month ? pipe.transform(month).pipe(map(formatted => `${formatted} ${month.formattedYear}`)) : of('')\n};\nconst FIXED_DROPDOWN_CONTROLLER_PROVIDER = tuiDropdownOptionsProvider({\n  limitWidth: 'fixed',\n  align: 'right'\n});\nconst TUI_VALUE_ACCESSOR_PROVIDER = {\n  provide: TUI_VALUE_ACCESSOR,\n  deps: [[new Optional(), new Self(), NG_VALUE_ACCESSOR]],\n  useFactory: identity\n};\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FIXED_DROPDOWN_CONTROLLER_PROVIDER, TUI_MONTH_FORMATTER_PROVIDER, TUI_VALUE_ACCESSOR_PROVIDER };\n","import * as i0 from '@angular/core';\nimport { Directive, NgModule } from '@angular/core';\nimport { TUI_VALUE_ACCESSOR_PROVIDER } from '@taiga-ui/kit/providers';\nlet TuiValueAccessorDirective = /*#__PURE__*/(() => {\n  class TuiValueAccessorDirective {}\n  TuiValueAccessorDirective.ɵfac = function TuiValueAccessorDirective_Factory(t) {\n    return new (t || TuiValueAccessorDirective)();\n  };\n  TuiValueAccessorDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiValueAccessorDirective,\n    selectors: [[\"\", \"tuiValueAccessor\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([TUI_VALUE_ACCESSOR_PROVIDER])]\n  });\n  return TuiValueAccessorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiValueAccessorModule = /*#__PURE__*/(() => {\n  class TuiValueAccessorModule {}\n  TuiValueAccessorModule.ɵfac = function TuiValueAccessorModule_Factory(t) {\n    return new (t || TuiValueAccessorModule)();\n  };\n  TuiValueAccessorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiValueAccessorModule\n  });\n  TuiValueAccessorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiValueAccessorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiValueAccessorDirective, TuiValueAccessorModule };\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nexport var __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n}\n;\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n}\n;\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n}\n;\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", {\n    configurable: true,\n    value: prefix ? \"\".concat(prefix, \" \", name) : name\n  });\n}\n;\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n    i,\n    q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: false\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n    i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n  return cooked;\n}\n;\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || typeof receiver !== \"object\" && typeof receiver !== \"function\") throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({\n      value: value,\n      dispose: dispose,\n      async: async\n    });\n  } else if (async) {\n    env.stack.push({\n      async: true\n    });\n  }\n  return value;\n}\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function (e) {\n          fail(e);\n          return next();\n        });\n      } catch (e) {\n        fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources\n};","import * as i0 from '@angular/core';\nimport { Directive, Input, NgZone, ElementRef, Inject, Pipe, NgModule } from '@angular/core';\nimport * as i1 from '@angular/forms';\nimport { DefaultValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { MASKITO_DEFAULT_OPTIONS, maskitoTransform, MASKITO_DEFAULT_ELEMENT_PREDICATE, Maskito } from '@maskito/core';\nimport { __awaiter } from 'tslib';\nlet MaskitoCva = /*#__PURE__*/(() => {\n  class MaskitoCva {\n    constructor(accessor) {\n      this.accessor = accessor;\n      this.maskito = MASKITO_DEFAULT_OPTIONS;\n      const original = accessor.writeValue.bind(accessor);\n      accessor.writeValue = value => {\n        var _a;\n        original(maskitoTransform(String(value !== null && value !== void 0 ? value : ''), (_a = this.maskito) !== null && _a !== void 0 ? _a : MASKITO_DEFAULT_OPTIONS));\n      };\n    }\n  }\n  MaskitoCva.ɵfac = function MaskitoCva_Factory(t) {\n    return new (t || MaskitoCva)(i0.ɵɵdirectiveInject(i1.DefaultValueAccessor));\n  };\n  MaskitoCva.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: MaskitoCva,\n    selectors: [[\"input\", \"maskito\", \"\"], [\"textarea\", \"maskito\", \"\"]],\n    hostBindings: function MaskitoCva_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"input\", function MaskitoCva_input_HostBindingHandler($event) {\n          return ctx.accessor._handleInput($event.target.value);\n        })(\"blur\", function MaskitoCva_blur_HostBindingHandler() {\n          return ctx.accessor.onTouched();\n        })(\"compositionstart\", function MaskitoCva_compositionstart_HostBindingHandler() {\n          return ctx.accessor._compositionStart();\n        })(\"compositionend\", function MaskitoCva_compositionend_HostBindingHandler($event) {\n          return ctx.accessor._compositionEnd($event.target.value);\n        });\n      }\n    },\n    inputs: {\n      maskito: \"maskito\"\n    },\n    features: [i0.ɵɵProvidersFeature([DefaultValueAccessor, {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: DefaultValueAccessor\n    }])]\n  });\n  return MaskitoCva;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MaskitoDirective = /*#__PURE__*/(() => {\n  class MaskitoDirective {\n    constructor(ngZone, elementRef) {\n      this.ngZone = ngZone;\n      this.elementRef = elementRef;\n      this.maskedElement = null;\n      this.maskito = MASKITO_DEFAULT_OPTIONS;\n      this.maskitoElement = MASKITO_DEFAULT_ELEMENT_PREDICATE;\n    }\n    ngOnChanges() {\n      var _a;\n      return __awaiter(this, void 0, void 0, function* () {\n        (_a = this.maskedElement) === null || _a === void 0 ? void 0 : _a.destroy();\n        const predicate = this.maskitoElement;\n        const predicateResult = yield predicate(this.elementRef.nativeElement);\n        if (this.maskitoElement !== predicate) {\n          // Ignore the result of the predicate if the\n          // maskito element has changed before the predicate was resolved.\n          return;\n        }\n        this.ngZone.runOutsideAngular(() => {\n          var _a;\n          this.maskedElement = new Maskito(predicateResult, (_a = this.maskito) !== null && _a !== void 0 ? _a : MASKITO_DEFAULT_OPTIONS);\n        });\n      });\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.maskedElement) === null || _a === void 0 ? void 0 : _a.destroy();\n    }\n  }\n  MaskitoDirective.ɵfac = function MaskitoDirective_Factory(t) {\n    return new (t || MaskitoDirective)(i0.ɵɵdirectiveInject(NgZone), i0.ɵɵdirectiveInject(ElementRef));\n  };\n  MaskitoDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: MaskitoDirective,\n    selectors: [[\"\", \"maskito\", \"\"]],\n    inputs: {\n      maskito: \"maskito\",\n      maskitoElement: \"maskitoElement\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return MaskitoDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MaskitoPipe = /*#__PURE__*/(() => {\n  class MaskitoPipe {\n    transform(value, maskitoOptions) {\n      return maskitoTransform(String(value !== null && value !== void 0 ? value : ''), maskitoOptions !== null && maskitoOptions !== void 0 ? maskitoOptions : MASKITO_DEFAULT_OPTIONS);\n    }\n  }\n  MaskitoPipe.ɵfac = function MaskitoPipe_Factory(t) {\n    return new (t || MaskitoPipe)();\n  };\n  MaskitoPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"maskito\",\n    type: MaskitoPipe,\n    pure: true\n  });\n  return MaskitoPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MaskitoModule = /*#__PURE__*/(() => {\n  class MaskitoModule {}\n  MaskitoModule.ɵfac = function MaskitoModule_Factory(t) {\n    return new (t || MaskitoModule)();\n  };\n  MaskitoModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: MaskitoModule\n  });\n  MaskitoModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return MaskitoModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MaskitoCva, MaskitoDirective, MaskitoModule, MaskitoPipe };\n","import * as i0 from '@angular/core';\nimport { ChangeDetectorRef, Component, ChangeDetectionStrategy, Optional, Self, Inject, ViewChild, Input, NgModule } from '@angular/core';\nimport * as i3 from '@angular/forms';\nimport { NgControl, FormsModule } from '@angular/forms';\nimport * as i4 from '@taiga-ui/cdk';\nimport { AbstractTuiControl, tuiIsNativeFocused, tuiAsFocusableItemAccessor, TuiFocusableModule, TuiFocusedModule } from '@taiga-ui/cdk';\nimport { TUI_VALUE_ACCESSOR_PROVIDER } from '@taiga-ui/kit/providers';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiMaskAccessorModule } from '@taiga-ui/core';\nconst _c0 = [\"native\"];\nconst _c1 = [\"text\"];\nconst _c2 = [\"*\"];\nfunction TuiInputInlineComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 5);\n    i0.ɵɵprojection(1);\n    i0.ɵɵelementEnd();\n  }\n}\nlet TuiInputInlineComponent = /*#__PURE__*/(() => {\n  class TuiInputInlineComponent extends AbstractTuiControl {\n    constructor(control, cdr) {\n      super(control, cdr);\n      this.maxLength = null;\n      this.indent = -1;\n    }\n    get nativeFocusableElement() {\n      return !this.native ? null : this.native.nativeElement;\n    }\n    get focused() {\n      return tuiIsNativeFocused(this.nativeFocusableElement);\n    }\n    get hasValue() {\n      return this.value !== '';\n    }\n    onValueChange(value) {\n      if (!this.text) {\n        return;\n      }\n      // Sync update so width is calculated immediately\n      this.text.nativeElement.textContent = value;\n      this.text.nativeElement.style.textIndent = '';\n      this.value = value;\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n    onScroll() {\n      var _a;\n      const indent = ((_a = this.native) === null || _a === void 0 ? void 0 : _a.nativeElement.scrollLeft) || 0;\n      // -1 for Safari (see styles)\n      this.indent = -1 - indent;\n    }\n    getFallbackValue() {\n      return '';\n    }\n  }\n  TuiInputInlineComponent.ɵfac = function TuiInputInlineComponent_Factory(t) {\n    return new (t || TuiInputInlineComponent)(i0.ɵɵdirectiveInject(NgControl, 10), i0.ɵɵdirectiveInject(ChangeDetectorRef));\n  };\n  TuiInputInlineComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiInputInlineComponent,\n    selectors: [[\"tui-input-inline\"]],\n    viewQuery: function TuiInputInlineComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.native = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.text = _t.first);\n      }\n    },\n    inputs: {\n      maxLength: \"maxLength\"\n    },\n    features: [i0.ɵɵProvidersFeature([TUI_VALUE_ACCESSOR_PROVIDER, tuiAsFocusableItemAccessor(TuiInputInlineComponent)]), i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c2,\n    decls: 5,\n    vars: 10,\n    consts: [[\"text\", \"\"], [\"native\", \"\"], [1, \"t-before\", 3, \"textContent\"], [\"automation-id\", \"tui-input-inline__placeholder\", \"class\", \"t-placeholder\", 4, \"ngIf\"], [\"automation-id\", \"tui-input-inline__native\", \"tuiMaskAccessor\", \"\", \"type\", \"text\", 1, \"t-native\", 3, \"ngModelChange\", \"scroll\", \"tuiFocusedChange\", \"disabled\", \"id\", \"ngModel\", \"readOnly\", \"tuiFocusable\"], [\"automation-id\", \"tui-input-inline__placeholder\", 1, \"t-placeholder\"]],\n    template: function TuiInputInlineComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelement(0, \"span\", 2, 0);\n        i0.ɵɵtemplate(2, TuiInputInlineComponent_span_2_Template, 2, 0, \"span\", 3);\n        i0.ɵɵelementStart(3, \"input\", 4, 1);\n        i0.ɵɵlistener(\"ngModelChange\", function TuiInputInlineComponent_Template_input_ngModelChange_3_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onValueChange($event));\n        })(\"scroll\", function TuiInputInlineComponent_Template_input_scroll_3_listener() {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onScroll());\n        })(\"tuiFocusedChange\", function TuiInputInlineComponent_Template_input_tuiFocusedChange_3_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onFocused($event));\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"text-indent\", ctx.indent, \"px\");\n        i0.ɵɵproperty(\"textContent\", ctx.value);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !ctx.hasValue);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"disabled\", ctx.computedDisabled)(\"id\", ctx.id)(\"ngModel\", ctx.value)(\"readOnly\", ctx.readOnly)(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵattribute(\"maxLength\", ctx.maxLength);\n      }\n    },\n    dependencies: [i1.NgIf, i2.TuiMaskAccessorDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.TuiFocusableDirective, i4.TuiFocusedDirective],\n    styles: [\"[_nghost-%COMP%]{position:relative;display:inline-block;overflow:hidden;white-space:nowrap;box-sizing:border-box}.t-before[_ngcontent-%COMP%]{display:block;padding-right:.02em;margin-left:1px;white-space:pre}.t-placeholder[_ngcontent-%COMP%]{display:inline-block;min-width:1px}.t-native[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:transparent;padding:inherit;font:inherit;-webkit-text-fill-color:transparent;box-sizing:border-box;width:100%;height:100%;border-width:0;text-align:inherit;letter-spacing:inherit;text-indent:inherit;text-transform:inherit;outline:none}\"],\n    changeDetection: 0\n  });\n  return TuiInputInlineComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiInputInlineModule = /*#__PURE__*/(() => {\n  class TuiInputInlineModule {}\n  TuiInputInlineModule.ɵfac = function TuiInputInlineModule_Factory(t) {\n    return new (t || TuiInputInlineModule)();\n  };\n  TuiInputInlineModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiInputInlineModule\n  });\n  TuiInputInlineModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FormsModule, TuiFocusableModule, TuiFocusedModule, TuiMaskAccessorModule]]\n  });\n  return TuiInputInlineModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiInputInlineComponent, TuiInputInlineModule };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Input, Output, NgModule, Inject, HostListener } from '@angular/core';\nimport { tuiRgbToHex, tuiHexToRgb, TuiDestroyService, tuiRgbToHsv, tuiHsvToRgb, tuiRound, tuiPure, tuiDefaultSort, tuiParseColor, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport * as i1 from '@taiga-ui/kit';\nimport { TuiValueAccessorModule, TuiSelectModule, TuiInputNumberModule } from '@taiga-ui/kit';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiPrimitiveTextfieldModule, TuiTextfieldControllerModule, TuiDropdownModule, TuiDataListModule, TuiHintModule, TuiButtonModule, TuiHostedDropdownModule, TuiSvgModule, TuiGroupModule } from '@taiga-ui/core';\nimport * as i3 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport * as i1$1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@maskito/angular';\nimport { MaskitoModule } from '@maskito/angular';\nimport { __decorate } from 'tslib';\nimport * as i3$1 from '@angular/platform-browser';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { TuiPickerService } from '@tinkoff/tui-editor/services';\nimport * as i1$2 from 'rxjs';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_COLOR_SELECTOR_MODE_NAMES } from '@tinkoff/tui-editor/tokens';\nimport { tuiParseGradient, tuiGetGradientData } from '@tinkoff/tui-editor/utils';\nfunction TuiColorEditComponent_tui_data_list_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r2, \" \");\n  }\n}\nfunction TuiColorEditComponent_tui_data_list_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\", 5);\n    i0.ɵɵtemplate(1, TuiColorEditComponent_tui_data_list_1_button_1_Template, 2, 2, \"button\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.modes);\n  }\n}\nfunction TuiColorEditComponent_tui_primitive_textfield_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-primitive-textfield\", 8);\n    i0.ɵɵlistener(\"valueChange\", function TuiColorEditComponent_tui_primitive_textfield_2_Template_tui_primitive_textfield_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onHexChange($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"maskito\", ctx_r2.hexMask)(\"tuiTextfieldLabelOutside\", true)(\"value\", ctx_r2.hex);\n  }\n}\nfunction TuiColorEditComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-input-number\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_ng_template_3_Template_tui_input_number_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRgbChange($event, ctx_r2.color[1], ctx_r2.color[2], ctx_r2.color[3]));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"tui-input-number\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_ng_template_3_Template_tui_input_number_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRgbChange(ctx_r2.color[0], $event, ctx_r2.color[2], ctx_r2.color[3]));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"tui-input-number\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_ng_template_3_Template_tui_input_number_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRgbChange(ctx_r2.color[0], ctx_r2.color[1], $event, ctx_r2.color[3]));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"max\", 255)(\"min\", 0)(\"ngModel\", ctx_r2.color[0])(\"tuiTextfieldLabelOutside\", true);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"max\", 255)(\"min\", 0)(\"ngModel\", ctx_r2.color[1])(\"tuiTextfieldLabelOutside\", true);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"max\", 255)(\"min\", 0)(\"ngModel\", ctx_r2.color[2])(\"tuiTextfieldLabelOutside\", true);\n  }\n}\nfunction TuiLinearMultiPickerComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵlistener(\"dblclick\", function TuiLinearMultiPickerComponent_div_0_Template_div_dblclick_0_listener() {\n      const index_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onClick(index_r2));\n    })(\"mousedown\", function TuiLinearMultiPickerComponent_div_0_Template_div_mousedown_0_listener() {\n      const index_r2 = i0.ɵɵrestoreView(_r1).index;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onMouseDown(index_r2));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"left\", item_r4 * 100, \"%\");\n  }\n}\nconst _c0 = \"[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}\";\nfunction TuiPaletteComponent_button_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function TuiPaletteComponent_button_0_Template_button_click_0_listener() {\n      const color_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectedColor.emit(color_r2.value));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const color_r2 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"background\", color_r2.value);\n    i0.ɵɵproperty(\"id\", color_r2.key)(\"tuiHint\", color_r2.key)(\"tuiHintDescribe\", color_r2.key);\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    const dropdown_r3 = i0.ɵɵreference(1);\n    i0.ɵɵclassProp(\"t-arrow_rotated\", dropdown_r3.open);\n    i0.ɵɵproperty(\"src\", ctx_r1.options.icons.colorSelectorDropdownChevron);\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_6_button_1_tui_svg_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-svg\", 14);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"src\", ctx_r1.options.icons.colorSelectorDropdownCheck);\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_6_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiColorSelectorComponent_ng_template_6_button_1_Template_button_click_0_listener() {\n      const mode_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      const dropdown_r3 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r1.onModeSelect(mode_r5, dropdown_r3));\n    })(\"keydown.enter.prevent\", function TuiColorSelectorComponent_ng_template_6_button_1_Template_button_keydown_enter_prevent_0_listener() {\n      const mode_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      const dropdown_r3 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r1.onModeSelect(mode_r5, dropdown_r3));\n    })(\"keydown.space.prevent\", function TuiColorSelectorComponent_ng_template_6_button_1_Template_button_keydown_space_prevent_0_listener() {\n      const mode_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      const dropdown_r3 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(ctx_r1.onModeSelect(mode_r5, dropdown_r3));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, TuiColorSelectorComponent_ng_template_6_button_1_tui_svg_2_Template, 1, 1, \"tui-svg\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mode_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"aria-checked\", ctx_r1.isModeActive(mode_r5));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", mode_r5, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isModeActive(mode_r5));\n  }\n}\nfunction TuiColorSelectorComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\", 10);\n    i0.ɵɵtemplate(1, TuiColorSelectorComponent_ng_template_6_button_1_Template, 3, 3, \"button\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.modes);\n  }\n}\nfunction TuiColorSelectorComponent_ng_container_8_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function TuiColorSelectorComponent_ng_container_8_button_5_Template_button_click_0_listener() {\n      const button_r8 = i0.ɵɵrestoreView(_r7).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.onDirectionChange(button_r8));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const button_r8 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"t-direction_active\", ctx_r1.isDirectionActive(button_r8));\n    i0.ɵɵproperty(\"icon\", ctx_r1.getIcon(button_r8))(\"tuiHint\", button_r8);\n  }\n}\nfunction TuiColorSelectorComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"hr\", 15);\n    i0.ɵɵelementStart(2, \"div\", 16)(3, \"tui-linear-multi-picker\", 17);\n    i0.ɵɵlistener(\"indexChange\", function TuiColorSelectorComponent_ng_container_8_Template_tui_linear_multi_picker_indexChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onIndexChange($event));\n    })(\"valueChange\", function TuiColorSelectorComponent_ng_container_8_Template_tui_linear_multi_picker_valueChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onStopsChange($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 18);\n    i0.ɵɵtemplate(5, TuiColorSelectorComponent_ng_container_8_button_5_Template, 1, 4, \"button\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background\", ctx_r1.gradient);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", ctx_r1.stopsKeys);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.buttons);\n  }\n}\nfunction TuiColorSelectorComponent_tui_color_edit_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-color-edit\", 21);\n    i0.ɵɵlistener(\"colorChange\", function TuiColorSelectorComponent_tui_color_edit_10_Template_tui_color_edit_colorChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onColorChange($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r1.color);\n  }\n}\nfunction TuiColorSelectorComponent_tui_palette_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 22);\n    i0.ɵɵlistener(\"selectedColor\", function TuiColorSelectorComponent_tui_palette_11_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPalettePick($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"colors\", ctx_r1.palette);\n  }\n}\nconst HEX_MODE_LENGTH = 6;\nlet TuiColorEditComponent = /*#__PURE__*/(() => {\n  class TuiColorEditComponent {\n    constructor() {\n      this.color = [0, 0, 0, 1];\n      this.colorChange = new EventEmitter();\n      this.hexMask = {\n        mask: new RegExp(`^[A-F\\\\d]{0,${HEX_MODE_LENGTH}}$`, 'gi')\n      };\n      this.modes = ['HEX', 'RGB'];\n      this.mode = this.modes[0];\n    }\n    get isHex() {\n      return this.mode === this.modes[0];\n    }\n    get hex() {\n      return tuiRgbToHex(this.color[0], this.color[1], this.color[2]).replace('#', '');\n    }\n    get opacity() {\n      return Math.round(this.color[3] * 100);\n    }\n    onHexChange(hex) {\n      if (hex.length !== HEX_MODE_LENGTH) {\n        return;\n      }\n      const rgb = tuiHexToRgb(hex);\n      this.updateColor([rgb[0], rgb[1], rgb[2], this.color[3]]);\n    }\n    onRgbChange(...rgba) {\n      this.updateColor(rgba);\n    }\n    updateColor(color) {\n      this.color = color;\n      this.colorChange.emit(color);\n    }\n  }\n  TuiColorEditComponent.ɵfac = function TuiColorEditComponent_Factory(t) {\n    return new (t || TuiColorEditComponent)();\n  };\n  TuiColorEditComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiColorEditComponent,\n    selectors: [[\"tui-color-edit\"]],\n    inputs: {\n      color: \"color\"\n    },\n    outputs: {\n      colorChange: \"colorChange\"\n    },\n    decls: 6,\n    vars: 8,\n    consts: [[\"rgb\", \"\"], [\"tuiDropdownAlign\", \"left\", \"tuiDropdownLimitWidth\", \"min\", \"tuiTextfieldSize\", \"m\", 1, \"t-select\", \"tui-group__auto-width-item\", 3, \"ngModelChange\", \"tuiTextfieldLabelOutside\", \"ngModel\"], [\"size\", \"s\", 4, \"tuiDataList\"], [\"tuiTextfieldSize\", \"m\", \"tuiValueAccessor\", \"\", 3, \"maskito\", \"tuiTextfieldLabelOutside\", \"value\", \"valueChange\", 4, \"ngIf\", \"ngIfElse\"], [\"decimal\", \"never\", \"tuiTextfieldPostfix\", \"%\", \"tuiTextfieldSize\", \"m\", 1, \"t-opacity\", \"tui-group__auto-width-item\", 3, \"ngModelChange\", \"max\", \"min\", \"ngModel\", \"tuiTextfieldLabelOutside\"], [\"size\", \"s\"], [\"tuiOption\", \"\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"value\"], [\"tuiTextfieldSize\", \"m\", \"tuiValueAccessor\", \"\", 3, \"valueChange\", \"maskito\", \"tuiTextfieldLabelOutside\", \"value\"], [\"decimal\", \"never\", \"tuiTextfieldSize\", \"m\", 1, \"t-rgb\", 3, \"ngModelChange\", \"max\", \"min\", \"ngModel\", \"tuiTextfieldLabelOutside\"]],\n    template: function TuiColorEditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"tui-select\", 1);\n        i0.ɵɵtwoWayListener(\"ngModelChange\", function TuiColorEditComponent_Template_tui_select_ngModelChange_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          i0.ɵɵtwoWayBindingSet(ctx.mode, $event) || (ctx.mode = $event);\n          return i0.ɵɵresetView($event);\n        });\n        i0.ɵɵtemplate(1, TuiColorEditComponent_tui_data_list_1_Template, 2, 1, \"tui-data-list\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, TuiColorEditComponent_tui_primitive_textfield_2_Template, 1, 3, \"tui-primitive-textfield\", 3)(3, TuiColorEditComponent_ng_template_3_Template, 3, 12, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(5, \"tui-input-number\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function TuiColorEditComponent_Template_tui_input_number_ngModelChange_5_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onRgbChange(ctx.color[0], ctx.color[1], ctx.color[2], $event / 100));\n        });\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const rgb_r6 = i0.ɵɵreference(4);\n        i0.ɵɵproperty(\"tuiTextfieldLabelOutside\", true);\n        i0.ɵɵtwoWayProperty(\"ngModel\", ctx.mode);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isHex)(\"ngIfElse\", rgb_r6);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"max\", 100)(\"min\", 0)(\"ngModel\", ctx.opacity)(\"tuiTextfieldLabelOutside\", true);\n      }\n    },\n    dependencies: [i1.TuiSelectComponent, i2.TuiDataListComponent, i2.TuiOptionComponent, i2.TuiPrimitiveTextfieldComponent, i1.TuiInputNumberComponent, i1.TuiSelectDirective, i2.TuiDropdownOptionsDirective, i2.TuiTextfieldSizeDirective, i2.TuiTextfieldLabelOutsideDirective, i3.NgControlStatus, i3.NgModel, i2.TuiDataListDirective, i1$1.NgForOf, i1$1.NgIf, i2.TuiPrimitiveTextfieldDirective, i1.TuiValueAccessorDirective, i5.MaskitoDirective, i1.TuiInputNumberDirective, i2.TuiTextfieldPostfixDirective],\n    styles: [\"[_nghost-%COMP%]{display:flex}.t-select[_ngcontent-%COMP%]{width:5.875rem}.t-opacity[_ngcontent-%COMP%]{width:4.275rem}.t-rgb[_ngcontent-%COMP%], .t-opacity[_ngcontent-%COMP%]{text-align:center}\"],\n    changeDetection: 0\n  });\n  return TuiColorEditComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorEditModule = /*#__PURE__*/(() => {\n  class TuiColorEditModule {}\n  TuiColorEditModule.ɵfac = function TuiColorEditModule_Factory(t) {\n    return new (t || TuiColorEditModule)();\n  };\n  TuiColorEditModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiColorEditModule\n  });\n  TuiColorEditModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FormsModule, MaskitoModule, TuiValueAccessorModule, TuiSelectModule, TuiPrimitiveTextfieldModule, TuiTextfieldControllerModule, TuiDropdownModule, TuiDataListModule, TuiInputNumberModule]]\n  });\n  return TuiColorEditModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFlatPickerComponent = /*#__PURE__*/(() => {\n  class TuiFlatPickerComponent {\n    constructor(point$) {\n      this.value = [0, 0];\n      this.valueChange = new EventEmitter();\n      point$.subscribe(point => {\n        this.value = point;\n        this.valueChange.emit([point[0], point[1]]);\n      });\n    }\n    get left() {\n      return this.value[0] * 100;\n    }\n    get top() {\n      return this.value[1] * 100;\n    }\n  }\n  TuiFlatPickerComponent.ɵfac = function TuiFlatPickerComponent_Factory(t) {\n    return new (t || TuiFlatPickerComponent)(i0.ɵɵdirectiveInject(TuiPickerService));\n  };\n  TuiFlatPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiFlatPickerComponent,\n    selectors: [[\"tui-flat-picker\"]],\n    inputs: {\n      value: \"value\"\n    },\n    outputs: {\n      valueChange: \"valueChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPickerService])],\n    decls: 1,\n    vars: 4,\n    consts: [[1, \"t-circle\"]],\n    template: function TuiFlatPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"left\", ctx.left, \"%\")(\"top\", ctx.top, \"%\");\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:relative;display:block}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:-.5rem 0 0 -.5rem;box-shadow:inset 0 0 0 1px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}\"],\n    changeDetection: 0\n  });\n  return TuiFlatPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearPickerComponent = /*#__PURE__*/(() => {\n  class TuiLinearPickerComponent {\n    constructor(point$) {\n      this.value = 0;\n      this.valueChange = new EventEmitter();\n      point$.subscribe(([x]) => {\n        this.value = x;\n        this.valueChange.emit(x);\n      });\n    }\n    get left() {\n      return this.value * 100;\n    }\n  }\n  TuiLinearPickerComponent.ɵfac = function TuiLinearPickerComponent_Factory(t) {\n    return new (t || TuiLinearPickerComponent)(i0.ɵɵdirectiveInject(TuiPickerService));\n  };\n  TuiLinearPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLinearPickerComponent,\n    selectors: [[\"tui-linear-picker\"]],\n    inputs: {\n      value: \"value\"\n    },\n    outputs: {\n      valueChange: \"valueChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPickerService])],\n    decls: 1,\n    vars: 2,\n    consts: [[1, \"t-circle\"]],\n    template: function TuiLinearPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"left\", ctx.left, \"%\");\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:relative;display:block;height:1rem;box-sizing:border-box}.t-circle[_ngcontent-%COMP%]{position:absolute;width:1rem;height:1rem;border-radius:100%;margin:0 -.5rem;box-shadow:inset 0 0 0 2px var(--tui-base-01),0 0 0 1px var(--tui-base-03)}\"],\n    changeDetection: 0\n  });\n  return TuiLinearPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorPickerComponent = /*#__PURE__*/(() => {\n  class TuiColorPickerComponent {\n    constructor(sanitizer) {\n      this.sanitizer = sanitizer;\n      this.colorChange = new EventEmitter();\n      this.point = [0, 1];\n      this.hue = 0;\n      this.opacity = 1;\n    }\n    set color(color) {\n      if (this.currentColor.every((item, index) => item === color[index]) && color[3] === this.opacity) {\n        return;\n      }\n      const [h, s, v] = tuiRgbToHsv(color[0], color[1], color[2]);\n      this.opacity = color[3];\n      this.hue = h / 360;\n      this.point = [s, 1 - v / 255];\n    }\n    get currentColor() {\n      return this.getCurrentColor(this.hue, this.point);\n    }\n    get base() {\n      return `rgb(${tuiHsvToRgb(this.hue * 360, 1, 255)})`;\n    }\n    get gradient() {\n      return this.sanitizer.bypassSecurityTrustStyle(`linear-gradient(to right, rgba(${this.currentColor.join(',')}, 0), rgb(${this.currentColor.join(',')}))`);\n    }\n    onPointChange(point) {\n      this.point = point;\n      this.updateColor();\n    }\n    onHueChange(hue) {\n      this.hue = hue;\n      this.updateColor();\n    }\n    onOpacityChange(opacity) {\n      this.opacity = tuiRound(opacity, 2);\n      this.updateColor();\n    }\n    getCurrentColor(hue, point) {\n      return tuiHsvToRgb(hue * 360, point[0], (1 - point[1]) * 255);\n    }\n    updateColor() {\n      this.colorChange.emit([...this.currentColor, this.opacity]);\n    }\n  }\n  TuiColorPickerComponent.ɵfac = function TuiColorPickerComponent_Factory(t) {\n    return new (t || TuiColorPickerComponent)(i0.ɵɵdirectiveInject(DomSanitizer));\n  };\n  TuiColorPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiColorPickerComponent,\n    selectors: [[\"tui-color-picker\"]],\n    inputs: {\n      color: \"color\"\n    },\n    outputs: {\n      colorChange: \"colorChange\"\n    },\n    decls: 5,\n    vars: 7,\n    consts: [[1, \"t-flat\", 3, \"valueChange\", \"value\"], [1, \"t-wrapper\", \"t-wrapper_hue\"], [1, \"t-hue\", 3, \"valueChange\", \"value\"], [1, \"t-wrapper\", \"t-wrapper_opacity\"], [1, \"t-opacity\", 3, \"valueChange\", \"value\"]],\n    template: function TuiColorPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-flat-picker\", 0);\n        i0.ɵɵlistener(\"valueChange\", function TuiColorPickerComponent_Template_tui_flat_picker_valueChange_0_listener($event) {\n          return ctx.onPointChange($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"tui-linear-picker\", 2);\n        i0.ɵɵlistener(\"valueChange\", function TuiColorPickerComponent_Template_tui_linear_picker_valueChange_2_listener($event) {\n          return ctx.onHueChange($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"tui-linear-picker\", 4);\n        i0.ɵɵlistener(\"valueChange\", function TuiColorPickerComponent_Template_tui_linear_picker_valueChange_4_listener($event) {\n          return ctx.onOpacityChange($event);\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵstyleProp(\"background-color\", ctx.base);\n        i0.ɵɵproperty(\"value\", ctx.point);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"value\", ctx.hue);\n        i0.ɵɵadvance();\n        i0.ɵɵstyleProp(\"background\", ctx.gradient);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"value\", ctx.opacity);\n      }\n    },\n    dependencies: [TuiFlatPickerComponent, TuiLinearPickerComponent],\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block}.t-flat[_ngcontent-%COMP%]{height:14rem;background:linear-gradient(rgba(0,0,0,0),#000000),linear-gradient(to right,#ffffff,rgba(255,255,255,0));margin-bottom:.25rem;overflow:hidden}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:1rem 1.25rem;border-radius:.5rem}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper_hue[_ngcontent-%COMP%]{background:#ff0000}.t-wrapper_opacity[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hue[_ngcontent-%COMP%]{background:linear-gradient(to right,#ff0000,#ffff00,#00ff00,#00ffff,#0000ff,#ff00ff,#ff0000);border-radius:inherit;margin:0 .5rem}.t-opacity[_ngcontent-%COMP%]{border-radius:inherit;margin:0 .5rem}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiColorPickerComponent.prototype, \"getCurrentColor\", null);\n  return TuiColorPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFlatPickerModule = /*#__PURE__*/(() => {\n  class TuiFlatPickerModule {}\n  TuiFlatPickerModule.ɵfac = function TuiFlatPickerModule_Factory(t) {\n    return new (t || TuiFlatPickerModule)();\n  };\n  TuiFlatPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiFlatPickerModule\n  });\n  TuiFlatPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiFlatPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearPickerModule = /*#__PURE__*/(() => {\n  class TuiLinearPickerModule {}\n  TuiLinearPickerModule.ɵfac = function TuiLinearPickerModule_Factory(t) {\n    return new (t || TuiLinearPickerModule)();\n  };\n  TuiLinearPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLinearPickerModule\n  });\n  TuiLinearPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiLinearPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorPickerModule = /*#__PURE__*/(() => {\n  class TuiColorPickerModule {}\n  TuiColorPickerModule.ɵfac = function TuiColorPickerModule_Factory(t) {\n    return new (t || TuiColorPickerModule)();\n  };\n  TuiColorPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiColorPickerModule\n  });\n  TuiColorPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiFlatPickerModule, TuiLinearPickerModule]]\n  });\n  return TuiColorPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearMultiPickerComponent = /*#__PURE__*/(() => {\n  class TuiLinearMultiPickerComponent {\n    constructor(point$) {\n      this.value = [0, 1];\n      this.valueChange = new EventEmitter();\n      this.indexChange = new EventEmitter();\n      this.index = NaN;\n      point$.subscribe(([x]) => {\n        this.onPicker(x);\n      });\n    }\n    onMouseUp() {\n      this.index = NaN;\n    }\n    onMouseDown(index) {\n      this.updateIndex(index);\n    }\n    onClick(index) {\n      if (this.value.length > 2) {\n        this.updateValue(this.value.filter((_, i) => i !== index));\n      }\n    }\n    onPicker(x) {\n      if (Number.isNaN(this.index)) {\n        this.updateIndex(this.value.length);\n        this.value = [...this.value, 0];\n      }\n      if (this.value.some((item, index) => item === x && index !== this.index)) {\n        return;\n      }\n      this.updateValue(this.value.map((item, index) => index === this.index ? x : item));\n    }\n    updateIndex(index) {\n      this.index = index;\n      this.indexChange.emit(index);\n    }\n    updateValue(value) {\n      this.value = value;\n      this.valueChange.emit(value);\n    }\n  }\n  TuiLinearMultiPickerComponent.ɵfac = function TuiLinearMultiPickerComponent_Factory(t) {\n    return new (t || TuiLinearMultiPickerComponent)(i0.ɵɵdirectiveInject(TuiPickerService));\n  };\n  TuiLinearMultiPickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiLinearMultiPickerComponent,\n    selectors: [[\"tui-linear-multi-picker\"]],\n    hostBindings: function TuiLinearMultiPickerComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mouseup\", function TuiLinearMultiPickerComponent_mouseup_HostBindingHandler() {\n          return ctx.onMouseUp();\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    inputs: {\n      value: \"value\"\n    },\n    outputs: {\n      valueChange: \"valueChange\",\n      indexChange: \"indexChange\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService, TuiPickerService])],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"t-circle\", 3, \"left\", \"dblclick\", \"mousedown\", 4, \"ngFor\", \"ngForOf\"], [1, \"t-circle\", 3, \"dblclick\", \"mousedown\"]],\n    template: function TuiLinearMultiPickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiLinearMultiPickerComponent_div_0_Template, 1, 2, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.value);\n      }\n    },\n    dependencies: [i1$1.NgForOf],\n    styles: [_c0],\n    changeDetection: 0\n  });\n  return TuiLinearMultiPickerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPaletteComponent = /*#__PURE__*/(() => {\n  class TuiPaletteComponent {\n    constructor() {\n      this.colors = new Map();\n      this.selectedColor = new EventEmitter();\n      this.originalOrder = (_a, _b) => 0;\n    }\n  }\n  TuiPaletteComponent.ɵfac = function TuiPaletteComponent_Factory(t) {\n    return new (t || TuiPaletteComponent)();\n  };\n  TuiPaletteComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiPaletteComponent,\n    selectors: [[\"tui-palette\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    outputs: {\n      selectedColor: \"selectedColor\"\n    },\n    decls: 2,\n    vars: 4,\n    consts: [[\"type\", \"button\", \"class\", \"t-button\", 3, \"id\", \"background\", \"tuiHint\", \"tuiHintDescribe\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"t-button\", 3, \"click\", \"id\", \"tuiHint\", \"tuiHintDescribe\"]],\n    template: function TuiPaletteComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiPaletteComponent_button_0_Template, 1, 5, \"button\", 0);\n        i0.ɵɵpipe(1, \"keyvalue\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(1, 1, ctx.colors, ctx.originalOrder));\n      }\n    },\n    dependencies: [i1$1.NgForOf, i2.TuiHintDirective, i2.TuiHintDriverDirective, i2.TuiHintHoverDirective, i2.TuiHintPositionDirective, i2.TuiHintDescribeDirective, i1$1.KeyValuePipe],\n    styles: [\"[_nghost-%COMP%]{display:flex;flex-wrap:wrap;padding:.875rem}.t-button[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;width:1.5625rem;height:1.5625rem;box-sizing:border-box;margin:.375rem;border-radius:var(--tui-radius-m);border:1px solid rgba(0,0,0,.08)}\"],\n    changeDetection: 0\n  });\n  return TuiPaletteComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst EMPTY_STOP = [0, 0, 0, 0];\nconst DEFAULT_STEPS = [[0, [0, 0, 0, 1]], [1, [255, 255, 255, 1]]];\nconst ICONS = {\n  'to top right': 'tuiIconArrowUpRight',\n  'to right': 'tuiIconArrowRight',\n  'to bottom right': 'tuiIconArrowDownRight',\n  'to bottom': 'tuiIconArrowDown',\n  'to bottom left': 'tuiIconArrowDownLeft',\n  'to left': 'tuiIconArrowLeft',\n  'to top left': 'tuiIconArrowUpLeft',\n  'to top': 'tuiIconArrowUp'\n};\nlet TuiColorSelectorComponent = /*#__PURE__*/(() => {\n  class TuiColorSelectorComponent {\n    constructor(options, sanitizer, modes) {\n      this.options = options;\n      this.sanitizer = sanitizer;\n      this.modes = modes;\n      this.stops = new Map(DEFAULT_STEPS);\n      this.currentStop = 0;\n      this.direction = 'to bottom';\n      this.colors = new Map();\n      this.colorChange = new EventEmitter();\n      this.color = [0, 0, 0, 1];\n      this.currentMode = this.modes[0];\n      this.buttons = ['to top right', 'to right', 'to bottom right', 'to bottom', 'to bottom left', 'to left', 'to top left', 'to top'];\n    }\n    set colorSetter(color) {\n      this.parse(color);\n    }\n    get palette() {\n      return this.filterPalette(this.colors, this.isGradient);\n    }\n    get stopsKeys() {\n      return this.getStopsKeys(this.stops);\n    }\n    get currentColor() {\n      return this.isGradient ? this.getStop(this.currentStop) : this.color;\n    }\n    get gradient() {\n      return this.sanitizer.bypassSecurityTrustStyle(this.getGradient('to right'));\n    }\n    get isGradient() {\n      return this.currentMode === this.modes[1];\n    }\n    getIcon(direction) {\n      return ICONS[direction];\n    }\n    isModeActive(mode) {\n      return this.currentMode === mode;\n    }\n    isDirectionActive(direction) {\n      return this.direction === direction;\n    }\n    onPalettePick(color) {\n      this.updateColor(color);\n    }\n    onDirectionChange(direction) {\n      this.direction = direction;\n      this.updateColor(this.getGradient(direction));\n    }\n    onModeSelect(mode, dropdown) {\n      this.currentMode = mode;\n      dropdown.open = false;\n      this.updateColor(mode === this.modes[0] ? `rgba(${this.color.join(', ')})` : this.getGradient(this.direction));\n    }\n    onIndexChange(index) {\n      this.currentStop = this.stopsKeys[index];\n    }\n    onColorChange(color) {\n      if (!this.isGradient) {\n        this.updateColor(`rgba(${color.join(', ')})`);\n        return;\n      }\n      this.stops.set(this.currentStop, color);\n      this.updateColor(this.getGradient(this.direction));\n    }\n    onStopsChange(stopsKeys) {\n      const removed = this.stopsKeys.find(item => !stopsKeys.includes(item));\n      const added = stopsKeys.find(item => !this.stopsKeys.includes(item));\n      if (removed === undefined && added !== undefined) {\n        this.addStop(added);\n      }\n      if (removed !== undefined && added === undefined) {\n        this.removeStop(removed);\n      }\n      if (removed !== undefined && added !== undefined) {\n        this.replaceStop(removed, added);\n      }\n      this.updateColor(this.getGradient(this.direction));\n    }\n    getStopsKeys(stops) {\n      return Array.from(stops.keys());\n    }\n    filterPalette(colors, isGradient) {\n      const map = new Map(colors);\n      map.forEach((value, key) => {\n        if (value.startsWith('linear-gradient') && !isGradient || !value.startsWith('linear-gradient') && isGradient) {\n          map.delete(key);\n        }\n      });\n      return map;\n    }\n    updateColor(color) {\n      this.colorChange.emit(color);\n    }\n    getGradient(direction) {\n      return `linear-gradient(${direction}, ${[...this.stopsKeys].sort(tuiDefaultSort).map(key => `rgba(${this.getStop(key).join(', ')}) ${key * 100}%`).join(', ')})`;\n    }\n    getStop(stop) {\n      return this.stops.get(stop) || EMPTY_STOP;\n    }\n    addStop(stop) {\n      const closest = this.stopsKeys.reduce((prev, curr) => Math.abs(curr - stop) < Math.abs(prev - stop) ? curr : prev, this.stopsKeys[0]);\n      this.stops.set(stop, this.getStop(closest));\n      this.stops = new Map(this.stops);\n      this.currentStop = stop;\n    }\n    removeStop(stop) {\n      this.stops.delete(stop);\n      this.stops = new Map(this.stops);\n      this.currentStop = this.stopsKeys[0];\n    }\n    replaceStop(removed, added) {\n      const value = this.getStop(removed);\n      this.currentStop = added;\n      this.stops = new Map(this.stopsKeys.map(key => key === removed ? [added, value] : [key, this.getStop(key)]));\n    }\n    parse(color) {\n      if (color.startsWith('linear-gradient')) {\n        this.parseGradient(color);\n      } else {\n        this.parseColor(color);\n      }\n    }\n    parseGradient(color) {\n      if (color === this.getGradient(this.direction)) {\n        return;\n      }\n      const gradient = tuiParseGradient(tuiGetGradientData(color));\n      this.currentMode = this.modes[1];\n      this.direction = gradient.side;\n      this.currentStop = 0;\n      this.stops = new Map(gradient.stops.length ? gradient.stops.map(({\n        color,\n        position\n      }) => [parseFloat(position) / 100, tuiParseColor(color)]) : DEFAULT_STEPS);\n    }\n    parseColor(color) {\n      this.currentMode = this.modes[0];\n      this.currentStop = 0;\n      this.color = tuiParseColor(color);\n    }\n  }\n  TuiColorSelectorComponent.ɵfac = function TuiColorSelectorComponent_Factory(t) {\n    return new (t || TuiColorSelectorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(DomSanitizer), i0.ɵɵdirectiveInject(TUI_EDITOR_COLOR_SELECTOR_MODE_NAMES));\n  };\n  TuiColorSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiColorSelectorComponent,\n    selectors: [[\"tui-color-selector\"]],\n    inputs: {\n      colors: \"colors\",\n      colorSetter: [0, \"color\", \"colorSetter\"]\n    },\n    outputs: {\n      colorChange: \"colorChange\"\n    },\n    decls: 12,\n    vars: 7,\n    consts: [[\"dropdown\", \"\"], [\"arrow\", \"\"], [\"menu\", \"\"], [1, \"t-select\", 3, \"content\"], [\"appearance\", \"\", \"size\", \"s\", \"tuiButton\", \"\", \"type\", \"button\", 3, \"iconRight\"], [4, \"ngIf\"], [3, \"colorChange\", \"color\"], [\"tuiGroup\", \"\", \"class\", \"t-edit\", 3, \"color\", \"colorChange\", 4, \"ngIf\"], [\"class\", \"t-palette\", 3, \"colors\", \"selectedColor\", 4, \"ngIf\"], [1, \"t-arrow\", 3, \"src\"], [\"role\", \"menu\", \"size\", \"s\", 1, \"t-menu\"], [\"role\", \"menuitemradio\", \"tuiOption\", \"\", 3, \"click\", \"keydown.enter.prevent\", \"keydown.space.prevent\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"menuitemradio\", \"tuiOption\", \"\", 3, \"click\", \"keydown.enter.prevent\", \"keydown.space.prevent\"], [\"class\", \"t-checkmark\", 3, \"src\", 4, \"ngIf\"], [1, \"t-checkmark\", 3, \"src\"], [1, \"t-hr\"], [1, \"t-wrapper\"], [1, \"t-gradient\", 3, \"indexChange\", \"valueChange\", \"value\"], [1, \"t-buttons\"], [\"appearance\", \"\", \"size\", \"xs\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", \"class\", \"t-direction\", 3, \"t-direction_active\", \"icon\", \"tuiHint\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"appearance\", \"\", \"size\", \"xs\", \"tuiHintDescribe\", \"\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-direction\", 3, \"click\", \"icon\", \"tuiHint\"], [\"tuiGroup\", \"\", 1, \"t-edit\", 3, \"colorChange\", \"color\"], [1, \"t-palette\", 3, \"selectedColor\", \"colors\"]],\n    template: function TuiColorSelectorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 0)(2, \"button\", 4);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, TuiColorSelectorComponent_ng_template_4_Template, 1, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor)(6, TuiColorSelectorComponent_ng_template_6_Template, 2, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, TuiColorSelectorComponent_ng_container_8_Template, 6, 4, \"ng-container\", 5);\n        i0.ɵɵelementStart(9, \"tui-color-picker\", 6);\n        i0.ɵɵlistener(\"colorChange\", function TuiColorSelectorComponent_Template_tui_color_picker_colorChange_9_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView(ctx.onColorChange($event));\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, TuiColorSelectorComponent_tui_color_edit_10_Template, 1, 1, \"tui-color-edit\", 7)(11, TuiColorSelectorComponent_tui_palette_11_Template, 1, 1, \"tui-palette\", 8);\n      }\n      if (rf & 2) {\n        const arrow_r11 = i0.ɵɵreference(5);\n        const menu_r12 = i0.ɵɵreference(7);\n        i0.ɵɵproperty(\"content\", menu_r12);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"iconRight\", arrow_r11);\n        i0.ɵɵadvance();\n        i0.ɵɵtextInterpolate1(\" \", ctx.currentMode, \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.isGradient);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"color\", ctx.currentColor);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", !ctx.isGradient);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.palette.size);\n      }\n    },\n    dependencies: [i2.TuiHostedDropdownComponent, i2.TuiButtonComponent, i2.TuiSvgComponent, i2.TuiDataListComponent, i2.TuiOptionComponent, TuiLinearMultiPickerComponent, TuiColorPickerComponent, TuiColorEditComponent, TuiPaletteComponent, i1$1.NgForOf, i1$1.NgIf, i2.TuiHintDescribeDirective, i2.TuiHintDirective, i2.TuiHintDriverDirective, i2.TuiHintHoverDirective, i2.TuiHintPositionDirective, i2.TuiGroupDirective],\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block;width:22.6rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:1.25rem;border-radius:.5rem}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";box-shadow:inset 0 0 0 1px #00000014;pointer-events:none;border-radius:inherit}.t-wrapper[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;width:100%;height:100%;content:\\\"\\\";z-index:-1;background-image:linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03)),linear-gradient(45deg,var(--tui-base-03) 25%,transparent 25%,transparent 75%,var(--tui-base-03) 75%,var(--tui-base-03));background-size:.375rem .375rem;background-position:0 0,.1875rem .1875rem;border-radius:inherit}.t-hr[_ngcontent-%COMP%]{height:1px;margin:0 0 0 -1px;border:none;background:var(--tui-base-03)}.t-gradient[_ngcontent-%COMP%]{margin:0 .5rem;border-radius:inherit}.t-select[_ngcontent-%COMP%]{margin:.75rem .5rem}.t-arrow[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-arrow_rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.t-menu[_ngcontent-%COMP%]{width:11.25rem}.t-checkmark[_ngcontent-%COMP%]{margin-left:auto;width:1rem;height:1rem}.t-buttons[_ngcontent-%COMP%]{display:flex;padding:0 .75rem 1.25rem}.t-direction[_ngcontent-%COMP%]{color:var(--tui-text-02);margin:0 .375rem}.t-direction[_ngcontent-%COMP%]:hover, .t-direction_active[_ngcontent-%COMP%]{color:var(--tui-text-01);background:var(--tui-secondary-hover)}.t-edit[_ngcontent-%COMP%]{margin:1.25rem}.t-palette[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:inset 0 1px var(--tui-base-03)}\"],\n    changeDetection: 0\n  });\n  __decorate([tuiPure], TuiColorSelectorComponent.prototype, \"getStopsKeys\", null);\n  __decorate([tuiPure], TuiColorSelectorComponent.prototype, \"filterPalette\", null);\n  return TuiColorSelectorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiLinearMultiPickerModule = /*#__PURE__*/(() => {\n  class TuiLinearMultiPickerModule {}\n  TuiLinearMultiPickerModule.ɵfac = function TuiLinearMultiPickerModule_Factory(t) {\n    return new (t || TuiLinearMultiPickerModule)();\n  };\n  TuiLinearMultiPickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiLinearMultiPickerModule\n  });\n  TuiLinearMultiPickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TuiLinearMultiPickerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPaletteModule = /*#__PURE__*/(() => {\n  class TuiPaletteModule {}\n  TuiPaletteModule.ɵfac = function TuiPaletteModule_Factory(t) {\n    return new (t || TuiPaletteModule)();\n  };\n  TuiPaletteModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiPaletteModule\n  });\n  TuiPaletteModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHintModule]]\n  });\n  return TuiPaletteModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiColorSelectorModule = /*#__PURE__*/(() => {\n  class TuiColorSelectorModule {}\n  TuiColorSelectorModule.ɵfac = function TuiColorSelectorModule_Factory(t) {\n    return new (t || TuiColorSelectorModule)();\n  };\n  TuiColorSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiColorSelectorModule\n  });\n  TuiColorSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHostedDropdownModule, TuiColorPickerModule, TuiLinearMultiPickerModule, TuiHintModule, TuiSvgModule, TuiDataListModule, TuiActiveZoneModule, TuiColorEditModule, TuiGroupModule, TuiPaletteModule]]\n  });\n  return TuiColorSelectorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiColorEditComponent, TuiColorEditModule, TuiColorPickerComponent, TuiColorPickerModule, TuiColorSelectorComponent, TuiColorSelectorModule, TuiFlatPickerComponent, TuiFlatPickerModule, TuiLinearMultiPickerComponent, TuiLinearMultiPickerModule, TuiLinearPickerComponent, TuiLinearPickerModule, TuiPaletteComponent, TuiPaletteModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDropdownModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/color-selector';\nimport { TuiPaletteModule } from '@tinkoff/tui-editor/components/color-selector';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiActiveZoneModule, TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@tinkoff/tui-editor/abstract';\nimport * as i6 from 'rxjs';\nfunction TuiHighlightColorComponent_tui_hosted_dropdown_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 6);\n  }\n  if (rf & 2) {\n    const selectedColor_r1 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵstyleProp(\"background\", selectedColor_r1);\n  }\n}\nfunction TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 7);\n    i0.ɵɵlistener(\"selectedColor\", function TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.editor.setBackgroundColor($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r4 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"colors\", ctx_r2.colors)(\"tuiActiveZoneParent\", activeZone_r4);\n  }\n}\nfunction TuiHighlightColorComponent_tui_hosted_dropdown_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 0);\n    i0.ɵɵelement(2, \"button\", 4);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵtemplate(4, TuiHighlightColorComponent_tui_hosted_dropdown_0_div_4_Template, 1, 2, \"div\", 5)(5, TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template, 1, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const selectedColor_r1 = ctx.tuiLet;\n    const hilite_r5 = i0.ɵɵreference(1);\n    const hiliteDropdown_r6 = i0.ɵɵreference(6);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", hiliteDropdown_r6)(\"tuiDropdownMaxHeight\", 999);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", hilite_r5.open)(\"icon\", ctx_r2.options.icons.textHilite)(\"pseudoActive\", hilite_r5.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 7, ctx_r2.backColorText$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isBlankColor(selectedColor_r1 || \"\"));\n  }\n}\nlet TuiHighlightColorComponent = /*#__PURE__*/(() => {\n  class TuiHighlightColorComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.colors = this.options.colors;\n      this.backgroundColor$ = this.editor.stateChange$.pipe(map(() => this.editor.getBackgroundColor() || this.options.blankColor), distinctUntilChanged());\n      this.backColorText$ = this.texts$.pipe(map(texts => texts.backColor));\n    }\n    isBlankColor(color) {\n      return color === this.options.blankColor;\n    }\n  }\n  TuiHighlightColorComponent.ɵfac = function TuiHighlightColorComponent_Factory(t) {\n    return new (t || TuiHighlightColorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiHighlightColorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiHighlightColorComponent,\n    selectors: [[\"tui-highlight-color\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"hilite\", \"\"], [\"hiliteDropdown\", \"\"], [3, \"content\", \"tuiDropdownMaxHeight\", 4, \"tuiLet\"], [3, \"content\", \"tuiDropdownMaxHeight\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__hilite-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"class\", \"t-plate\", 3, \"background\", 4, \"ngIf\"], [1, \"t-plate\"], [1, \"t-color-picker\", 3, \"selectedColor\", \"colors\", \"tuiActiveZoneParent\"]],\n    template: function TuiHighlightColorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiHighlightColorComponent_tui_hosted_dropdown_0_Template, 7, 9, \"tui-hosted-dropdown\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.backgroundColor$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiPaletteComponent, i3.TuiLetDirective, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i4.NgIf, i3.TuiActiveZoneDirective, i4.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiHighlightColorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiHighlightColorModule = /*#__PURE__*/(() => {\n  class TuiHighlightColorModule {}\n  TuiHighlightColorModule.ɵfac = function TuiHighlightColorModule_Factory(t) {\n    return new (t || TuiHighlightColorModule)();\n  };\n  TuiHighlightColorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiHighlightColorModule\n  });\n  TuiHighlightColorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiPaletteModule, TuiHintModule, TuiDropdownModule, TuiActiveZoneModule, TuiLetModule]]\n  });\n  return TuiHighlightColorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiHighlightColorComponent, TuiHighlightColorModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i5 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nfunction TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleUnorderedList());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleOrderedList());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.editor.toggleTaskList());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.sinkListItem());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.liftListItem());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const state_r3 = i0.ɵɵnextContext().tuiLet;\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.listUnOrdered)(\"pseudoActive\", !!(state_r3 == null ? null : state_r3.unordered))(\"tuiHint\", texts_r4.unorderedList);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.listOrdered)(\"pseudoActive\", !!(state_r3 == null ? null : state_r3.ordered))(\"tuiHint\", texts_r4.orderedList);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.taskList)(\"pseudoActive\", !!(state_r3 == null ? null : state_r3.tasked));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.indent)(\"tuiHint\", texts_r4.indent);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r1.options.icons.outdent)(\"tuiHint\", texts_r4.outdent);\n  }\n}\nfunction TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵtemplate(3, TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template, 6, 12, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const state_r3 = ctx.tuiLet;\n    const list_r5 = i0.ɵɵreference(1);\n    const listDropdown_r6 = i0.ɵɵreference(4);\n    const texts_r4 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", listDropdown_r6);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", list_r5.open)(\"icon\", ctx_r1.options.icons.listPreview)(\"pseudoActive\", (list_r5 == null ? null : list_r5.open) || (state_r3 == null ? null : state_r3.unordered) || (state_r3 == null ? null : state_r3.ordered) || false)(\"tuiHint\", texts_r4.list);\n  }\n}\nfunction TuiListConfigsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_Template, 5, 5, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(2, 1, ctx_r1.listState$));\n  }\n}\nlet TuiListConfigsComponent = /*#__PURE__*/(() => {\n  class TuiListConfigsComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.listState$ = combineLatest([this.editor.isActive$('orderedList'), this.editor.isActive$('bulletList'), this.editor.isActive$('taskList')]).pipe(map(([ordered, unordered, tasked]) => ({\n        ordered,\n        unordered,\n        tasked\n      })));\n    }\n    sinkListItem() {\n      this.editor.sinkListItem();\n    }\n    liftListItem() {\n      this.editor.liftListItem();\n    }\n  }\n  TuiListConfigsComponent.ɵfac = function TuiListConfigsComponent_Factory(t) {\n    return new (t || TuiListConfigsComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiListConfigsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiListConfigsComponent,\n    selectors: [[\"tui-list-configs\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"list\", \"\"], [\"listDropdown\", \"\"], [4, \"ngIf\"], [3, \"content\", 4, \"tuiLet\"], [3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__ordering-list-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-dropdown\", \"t-dropdown-list\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__un-ordered-list-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__ordered-list-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__task-list-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"pseudoActive\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar_indent-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", \"t-option_margin\", 3, \"click\", \"icon\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar_outdent-button\", \"size\", \"s\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-option\", 3, \"click\", \"icon\", \"tuiHint\"]],\n    template: function TuiListConfigsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiListConfigsComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.NgIf, i3.TuiLetDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i2.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiListConfigsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiListConfigsModule = /*#__PURE__*/(() => {\n  class TuiListConfigsModule {}\n  TuiListConfigsModule.ɵfac = function TuiListConfigsModule_Factory(t) {\n    return new (t || TuiListConfigsModule)();\n  };\n  TuiListConfigsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiListConfigsModule\n  });\n  TuiListConfigsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiLetModule]]\n  });\n  return TuiListConfigsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiListConfigsComponent, TuiListConfigsModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport * as i6 from 'rxjs';\nimport { combineLatest } from 'rxjs';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiButtonModule, TuiHintModule, TuiDropdownModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/color-selector';\nimport { TuiPaletteModule } from '@tinkoff/tui-editor/components/color-selector';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiActiveZoneModule, TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@tinkoff/tui-editor/abstract';\nfunction TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 7);\n  }\n  if (rf & 2) {\n    const color_r1 = i0.ɵɵnextContext(2).tuiLet;\n    i0.ɵɵstyleProp(\"background\", color_r1);\n  }\n}\nfunction TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 8);\n    i0.ɵɵlistener(\"selectedColor\", function TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      i0.ɵɵnextContext();\n      const colorSelect_r3 = i0.ɵɵreference(1);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      ctx_r3.setCellColor($event);\n      return i0.ɵɵresetView(colorSelect_r3.close());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r5 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r3.colors)(\"tuiActiveZoneParent\", activeZone_r5);\n  }\n}\nfunction TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 4, 0);\n    i0.ɵɵelement(2, \"button\", 5);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵtemplate(4, TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_div_4_Template, 1, 2, \"div\", 6)(5, TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template, 1, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const isActive_r6 = ctx.tuiLet;\n    const colorSelect_r3 = i0.ɵɵreference(1);\n    const cellColorDropdown_r7 = i0.ɵɵreference(6);\n    const color_r1 = i0.ɵɵnextContext().tuiLet;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"canOpen\", !!isActive_r6)(\"content\", cellColorDropdown_r7)(\"tuiDropdownMaxHeight\", 999);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !isActive_r6)(\"focusable\", colorSelect_r3.open)(\"icon\", ctx_r3.options.icons.paint)(\"pseudoActive\", colorSelect_r3.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 9, ctx_r3.colorText$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isBlankColor(color_r1 || \"\"));\n  }\n}\nfunction TuiTableCellColorComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_Template, 7, 11, \"tui-hosted-dropdown\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(2, 1, ctx_r3.isActive$));\n  }\n}\nlet TuiTableCellColorComponent = /*#__PURE__*/(() => {\n  class TuiTableCellColorComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.colors = this.options.colors;\n      this.colorText$ = this.texts$.pipe(map(texts => this.editor.isActive('group') && texts.hiliteGroup || this.editor.isActive('table') && texts.cellColor || ''));\n      this.isActive$ = combineLatest([this.editor.isActive$('table'), this.editor.isActive$('group')]).pipe(map(([table, group]) => table || group));\n      this.color$ = this.editor.stateChange$.pipe(map(() => this.editor.getCellColor() || this.editor.getGroupColor() || this.options.blankColor), distinctUntilChanged());\n    }\n    isBlankColor(color) {\n      return color === this.options.blankColor;\n    }\n    setCellColor(color) {\n      if (this.editor.isActive('group')) {\n        this.editor.setGroupHilite(color);\n      } else if (this.editor.isActive('table')) {\n        this.editor.setCellColor(color);\n      }\n    }\n  }\n  TuiTableCellColorComponent.ɵfac = function TuiTableCellColorComponent_Factory(t) {\n    return new (t || TuiTableCellColorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTableCellColorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableCellColorComponent,\n    selectors: [[\"tui-table-cell-color\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"colorSelect\", \"\"], [\"cellColorDropdown\", \"\"], [4, \"tuiLet\"], [3, \"canOpen\", \"content\", \"tuiDropdownMaxHeight\", 4, \"tuiLet\"], [3, \"canOpen\", \"content\", \"tuiDropdownMaxHeight\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"class\", \"t-plate t-plate_paint\", 3, \"background\", 4, \"ngIf\"], [1, \"t-plate\", \"t-plate_paint\"], [1, \"t-color-picker\", 3, \"selectedColor\", \"colors\", \"tuiActiveZoneParent\"]],\n    template: function TuiTableCellColorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableCellColorComponent_ng_container_0_Template, 3, 3, \"ng-container\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.color$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiPaletteComponent, i3.TuiLetDirective, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i4.NgIf, i3.TuiActiveZoneDirective, i4.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiTableCellColorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableCellColorModule = /*#__PURE__*/(() => {\n  class TuiTableCellColorModule {}\n  TuiTableCellColorModule.ɵfac = function TuiTableCellColorModule_Factory(t) {\n    return new (t || TuiTableCellColorModule)();\n  };\n  TuiTableCellColorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableCellColorModule\n  });\n  TuiTableCellColorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiPaletteModule, TuiButtonModule, TuiHintModule, TuiActiveZoneModule, TuiDropdownModule, TuiLetModule]]\n  });\n  return TuiTableCellColorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableCellColorComponent, TuiTableCellColorModule };\n","import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Inject, Output, NgModule } from '@angular/core';\nimport { WINDOW } from '@ng-web-apis/common';\nimport { tuiGetViewportWidth } from '@taiga-ui/core';\nimport * as i1 from '@taiga-ui/cdk';\nimport { TuiRepeatTimesModule } from '@taiga-ui/cdk';\nimport { CommonModule } from '@angular/common';\nfunction TuiTableSizeSelectorComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function TuiTableSizeSelectorComponent_div_0_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.select());\n    })(\"mouseenter\", function TuiTableSizeSelectorComponent_div_0_div_1_Template_div_mouseenter_0_listener($event) {\n      const y_r3 = i0.ɵɵrestoreView(_r1).$implicit;\n      const x_r4 = i0.ɵɵnextContext().$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.updateCurrentSize(y_r3 + 1, x_r4 + 1, $event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const y_r3 = ctx.$implicit;\n    const x_r4 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-cell_hovered\", ctx_r1.tableSelectHovered(y_r3, x_r4));\n  }\n}\nfunction TuiTableSizeSelectorComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, TuiTableSizeSelectorComponent_div_0_div_1_Template, 1, 2, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", ctx_r1.rowsNumber);\n  }\n}\nconst MAX_COLS_NUMBER = 15;\nconst MAX_ROWS_NUMBER = 15;\nconst MIN_DISTANCE_PX = 70;\nlet TuiTableSizeSelectorComponent = /*#__PURE__*/(() => {\n  class TuiTableSizeSelectorComponent {\n    constructor(win) {\n      this.win = win;\n      this.selectSize = new EventEmitter();\n      /**\n       * @deprecated use {@link selectSize}\n       * TODO: remove in v4.0\n       */\n      this.onSelectSize = this.selectSize;\n      this.tableSize = {\n        rows: 1,\n        cols: 1\n      };\n    }\n    get columnsNumber() {\n      return Math.min(Math.max(3, this.tableSize.cols + 1), MAX_COLS_NUMBER);\n    }\n    get rowsNumber() {\n      return Math.min(Math.max(3, this.tableSize.rows + 1), MAX_ROWS_NUMBER);\n    }\n    tableSelectHovered(x, y) {\n      return x < this.tableSize.rows && y < this.tableSize.cols;\n    }\n    updateCurrentSize(rows, cols, event) {\n      if (tuiGetViewportWidth(this.win) - event.clientX > MIN_DISTANCE_PX) {\n        this.tableSize = {\n          rows,\n          cols\n        };\n      }\n    }\n    /**\n     * @deprecated use {@link select}\n     * TODO: remove in v4.0\n     */\n    onClick() {\n      this.select();\n    }\n    select() {\n      this.selectSize.emit(this.tableSize);\n    }\n  }\n  TuiTableSizeSelectorComponent.ɵfac = function TuiTableSizeSelectorComponent_Factory(t) {\n    return new (t || TuiTableSizeSelectorComponent)(i0.ɵɵdirectiveInject(WINDOW));\n  };\n  TuiTableSizeSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableSizeSelectorComponent,\n    selectors: [[\"tui-table-size-selector\"]],\n    outputs: {\n      selectSize: \"selectSize\",\n      onSelectSize: \"onSelectSize\"\n    },\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"t-column\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [1, \"t-description\"], [1, \"t-column\"], [\"class\", \"t-cell\", 3, \"t-cell_hovered\", \"click\", \"mouseenter\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [1, \"t-cell\", 3, \"click\", \"mouseenter\"]],\n    template: function TuiTableSizeSelectorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableSizeSelectorComponent_div_0_Template, 2, 1, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiRepeatTimesOf\", ctx.columnsNumber);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\"\", ctx.tableSize.cols, \"\\xD7\", ctx.tableSize.rows, \"\");\n      }\n    },\n    dependencies: [i1.TuiRepeatTimesDirective],\n    styles: [\"[_nghost-%COMP%]{display:block;padding:.75rem}.t-cell[_ngcontent-%COMP%]{display:inline-block;background-color:var(--tui-base-01);width:1.25rem;height:1.25rem;border-radius:.25rem;margin:.125rem;border:1px solid var(--tui-base-04);cursor:pointer}.t-cell_hovered[_ngcontent-%COMP%]{background-color:var(--tui-base-02)}.t-column[_ngcontent-%COMP%]{white-space:nowrap}.t-description[_ngcontent-%COMP%]{text-align:center}\"],\n    changeDetection: 0\n  });\n  return TuiTableSizeSelectorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableSizeSelectorModule = /*#__PURE__*/(() => {\n  class TuiTableSizeSelectorModule {}\n  TuiTableSizeSelectorModule.ɵfac = function TuiTableSizeSelectorModule_Factory(t) {\n    return new (t || TuiTableSizeSelectorModule)();\n  };\n  TuiTableSizeSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableSizeSelectorModule\n  });\n  TuiTableSizeSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiRepeatTimesModule]]\n  });\n  return TuiTableSizeSelectorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableSizeSelectorComponent, TuiTableSizeSelectorModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiDropdownModule, TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/toolbar-tools/table-size-selector';\nimport { TuiTableSizeSelectorModule } from '@tinkoff/tui-editor/components/toolbar-tools/table-size-selector';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nimport * as i5 from 'rxjs';\nfunction TuiTableCreateComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-table-size-selector\", 4);\n    i0.ɵɵlistener(\"selectSize\", function TuiTableCreateComponent_ng_template_4_Template_tui_table_size_selector_selectSize_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.addTable($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nlet TuiTableCreateComponent = /*#__PURE__*/(() => {\n  class TuiTableCreateComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.insertTableText$ = this.texts$.pipe(map(texts => texts.insertTable));\n    }\n    addTable({\n      rows,\n      cols\n    }) {\n      this.editor.enter(); // @note: clear previous styles\n      const prevLine = this.editor.state.selection.anchor;\n      // @note: don't use `setHardBreak`,\n      // it inherits styles of previous lines\n      // required two line after\n      this.editor.enter();\n      this.editor.enter();\n      this.editor.setTextSelection(prevLine);\n      this.editor.insertTable(rows, cols);\n    }\n  }\n  TuiTableCreateComponent.ɵfac = function TuiTableCreateComponent_Factory(t) {\n    return new (t || TuiTableCreateComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTableCreateComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableCreateComponent,\n    selectors: [[\"tui-table-create\"]],\n    decls: 6,\n    vars: 6,\n    consts: [[\"table\", \"\"], [\"tableDropdown\", \"\"], [\"tuiDropdownAlign\", \"left\", \"tuiDropdownDirection\", \"bottom\", 3, \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__insert-table-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"tuiHint\"], [3, \"selectSize\"]],\n    template: function TuiTableCreateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 2, 0);\n        i0.ɵɵelement(2, \"button\", 3);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, TuiTableCreateComponent_ng_template_4_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const table_r3 = i0.ɵɵreference(1);\n        const tableDropdown_r4 = i0.ɵɵreference(5);\n        i0.ɵɵproperty(\"content\", tableDropdown_r4);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"focusable\", table_r3.open)(\"icon\", ctx.options.icons.insertTable)(\"tuiHint\", i0.ɵɵpipeBind1(3, 4, ctx.insertTableText$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiTableSizeSelectorComponent, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiTableCreateComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableCreateModule = /*#__PURE__*/(() => {\n  class TuiTableCreateModule {}\n  TuiTableCreateModule.ɵfac = function TuiTableCreateModule_Factory(t) {\n    return new (t || TuiTableCreateModule)();\n  };\n  TuiTableCreateModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableCreateModule\n  });\n  TuiTableCreateModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiDropdownModule, TuiButtonModule, TuiHintModule, TuiTableSizeSelectorModule]]\n  });\n  return TuiTableCreateModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableCreateComponent, TuiTableCreateModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nimport * as i5 from 'rxjs';\nconst _c0 = (a0, a1) => ({\n  mergeCells: a0,\n  splitCells: a1\n});\nfunction TuiTableMergeCellsComponent_ng_container_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function TuiTableMergeCellsComponent_ng_container_0_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const can_r2 = i0.ɵɵnextContext().tuiLet;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(can_r2.mergeCells ? ctx_r2.mergeCells() : ctx_r2.splitCell());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r4 = ctx.ngIf;\n    const can_r2 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵproperty(\"disabled\", !can_r2.mergeCells && !can_r2.splitCells)(\"focusable\", false)(\"icon\", can_r2.mergeCells ? \"tuiIconTableMergeLarge\" : \"tuiIconTableSplitLarge\")(\"tuiHint\", can_r2.mergeCells ? texts_r4.mergeCells : texts_r4.splitCells);\n  }\n}\nfunction TuiTableMergeCellsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiTableMergeCellsComponent_ng_container_0_button_1_Template, 1, 4, \"button\", 1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.texts$));\n  }\n}\nlet TuiTableMergeCellsComponent = /*#__PURE__*/(() => {\n  class TuiTableMergeCellsComponent {\n    constructor(editor, texts$) {\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.canMergeCells$ = this.editor.stateChange$.pipe(map(() => this.editor.canMergeCells()), distinctUntilChanged());\n      this.canSplitCells$ = this.editor.stateChange$.pipe(map(() => this.editor.canSplitCells()), distinctUntilChanged());\n    }\n    mergeCells() {\n      this.editor.mergeCells();\n    }\n    splitCell() {\n      this.editor.splitCell();\n    }\n  }\n  TuiTableMergeCellsComponent.ɵfac = function TuiTableMergeCellsComponent_Factory(t) {\n    return new (t || TuiTableMergeCellsComponent)(i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTableMergeCellsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableMergeCellsComponent,\n    selectors: [[\"tui-table-merge-cells\"]],\n    decls: 3,\n    vars: 8,\n    consts: [[4, \"tuiLet\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"]],\n    template: function TuiTableMergeCellsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableMergeCellsComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpureFunction2(5, _c0, i0.ɵɵpipeBind1(1, 1, ctx.canMergeCells$), i0.ɵɵpipeBind1(2, 3, ctx.canSplitCells$)));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.TuiLetDirective, i3.NgIf, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiTableMergeCellsComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableMergeCellsModule = /*#__PURE__*/(() => {\n  class TuiTableMergeCellsModule {}\n  TuiTableMergeCellsModule.ɵfac = function TuiTableMergeCellsModule_Factory(t) {\n    return new (t || TuiTableMergeCellsModule)();\n  };\n  TuiTableMergeCellsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableMergeCellsModule\n  });\n  TuiTableMergeCellsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHintModule, TuiLetModule]]\n  });\n  return TuiTableMergeCellsModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableMergeCellsComponent, TuiTableMergeCellsModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_TABLE_COMMANDS } from '@tinkoff/tui-editor/tokens';\nimport { map } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHostedDropdownModule, TuiHintModule, TuiButtonModule, TuiDataListModule } from '@taiga-ui/core';\nimport * as i2 from '@taiga-ui/cdk';\nimport { TuiLetModule } from '@taiga-ui/cdk';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i4 from '@tinkoff/tui-editor/abstract';\nimport * as i5 from 'rxjs';\n\n// TODO: change type in v4.0\n// eslint-disable-next-line no-restricted-syntax\nfunction TuiTableRowColumnManagerComponent_tui_hosted_dropdown_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 1);\n    i0.ɵɵelement(2, \"button\", 4);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const active_r1 = ctx.tuiLet;\n    const tableCommand_r2 = i0.ɵɵreference(1);\n    const ctx_r2 = i0.ɵɵnextContext();\n    const tableOptionsDropdown_r4 = i0.ɵɵreference(3);\n    i0.ɵɵproperty(\"canOpen\", !!active_r1)(\"content\", tableOptionsDropdown_r4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !active_r1)(\"focusable\", tableCommand_r2.open)(\"icon\", ctx_r2.options.icons.addRowTable)(\"tuiHint\", i0.ɵɵpipeBind1(3, 6, ctx_r2.rowsColumnsManagingText$));\n  }\n}\nfunction TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template_button_click_0_listener() {\n      const j_r6 = i0.ɵɵrestoreView(_r5).index;\n      const i_r7 = i0.ɵɵnextContext().index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onTableOption(i_r7 * 2 + j_r6));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r8, \" \");\n  }\n}\nfunction TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-opt-group\");\n    i0.ɵɵtemplate(1, TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template, 2, 1, \"button\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const group_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", group_r9);\n  }\n}\nfunction TuiTableRowColumnManagerComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\");\n    i0.ɵɵtemplate(1, TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_Template, 2, 1, \"tui-opt-group\", 5);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r2.tableCommandTexts$));\n  }\n}\nvar TuiTableCommands = /*#__PURE__*/function (TuiTableCommands) {\n  TuiTableCommands[TuiTableCommands[\"InsertColumnBefore\"] = 0] = \"InsertColumnBefore\";\n  TuiTableCommands[TuiTableCommands[\"InsertColumnAfter\"] = 1] = \"InsertColumnAfter\";\n  TuiTableCommands[TuiTableCommands[\"InsertRowBefore\"] = 2] = \"InsertRowBefore\";\n  TuiTableCommands[TuiTableCommands[\"InsertRowAfter\"] = 3] = \"InsertRowAfter\";\n  TuiTableCommands[TuiTableCommands[\"DeleteColumn\"] = 4] = \"DeleteColumn\";\n  TuiTableCommands[TuiTableCommands[\"DeleteRow\"] = 5] = \"DeleteRow\";\n  return TuiTableCommands;\n}(TuiTableCommands || {});\nlet TuiTableRowColumnManagerComponent = /*#__PURE__*/(() => {\n  class TuiTableRowColumnManagerComponent {\n    constructor(options, editor, texts$, tableCommandTexts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.tableCommandTexts$ = tableCommandTexts$;\n      this.commandsRegistry = {\n        [TuiTableCommands.InsertColumnAfter]: () => this.editor.addColumnAfter(),\n        [TuiTableCommands.InsertColumnBefore]: () => this.editor.addColumnBefore(),\n        [TuiTableCommands.InsertRowAfter]: () => this.editor.addRowAfter(),\n        [TuiTableCommands.InsertRowBefore]: () => this.editor.addRowBefore(),\n        [TuiTableCommands.DeleteColumn]: () => this.editor.deleteColumn(),\n        [TuiTableCommands.DeleteRow]: () => this.editor.deleteRow()\n      };\n      this.isActive$ = this.editor.isActive$('table');\n      this.rowsColumnsManagingText$ = this.texts$.pipe(map(texts => texts.rowsColumnsManaging));\n    }\n    onTableOption(command) {\n      this.commandsRegistry[command]();\n    }\n  }\n  TuiTableRowColumnManagerComponent.ɵfac = function TuiTableRowColumnManagerComponent_Factory(t) {\n    return new (t || TuiTableRowColumnManagerComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_TABLE_COMMANDS));\n  };\n  TuiTableRowColumnManagerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTableRowColumnManagerComponent,\n    selectors: [[\"tui-table-row-column-manager\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[\"tableOptionsDropdown\", \"\"], [\"tableCommand\", \"\"], [3, \"canOpen\", \"content\", 4, \"tuiLet\"], [3, \"canOpen\", \"content\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"disabled\", \"focusable\", \"icon\", \"tuiHint\"], [4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"tuiOption\", \"\", 3, \"click\"]],\n    template: function TuiTableRowColumnManagerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTableRowColumnManagerComponent_tui_hosted_dropdown_0_Template, 4, 8, \"tui-hosted-dropdown\", 2);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, TuiTableRowColumnManagerComponent_ng_template_2_Template, 3, 3, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.isActive$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i1.TuiDataListComponent, i1.TuiOptionComponent, i2.TuiLetDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.NgForOf, i1.TuiOptGroupDirective, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiTableRowColumnManagerComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTableRowColumnManagerModule = /*#__PURE__*/(() => {\n  class TuiTableRowColumnManagerModule {}\n  TuiTableRowColumnManagerModule.ɵfac = function TuiTableRowColumnManagerModule_Factory(t) {\n    return new (t || TuiTableRowColumnManagerModule)();\n  };\n  TuiTableRowColumnManagerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTableRowColumnManagerModule\n  });\n  TuiTableRowColumnManagerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHostedDropdownModule, TuiHintModule, TuiButtonModule, TuiDataListModule, TuiLetModule]]\n  });\n  return TuiTableRowColumnManagerModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTableCommands, TuiTableRowColumnManagerComponent, TuiTableRowColumnManagerModule };\n","import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Inject, Input, NgModule } from '@angular/core';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_OPTIONS, TUI_EDITOR_TOOLBAR_TEXTS } from '@tinkoff/tui-editor/tokens';\nimport { map, distinctUntilChanged } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiHostedDropdownModule, TuiDropdownModule, TuiHintModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/color-selector';\nimport { TuiPaletteModule } from '@tinkoff/tui-editor/components/color-selector';\nimport * as i3 from '@taiga-ui/cdk';\nimport { TuiActiveZoneModule, TuiLetModule } from '@taiga-ui/cdk';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i5 from '@tinkoff/tui-editor/abstract';\nimport * as i6 from 'rxjs';\nfunction TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-palette\", 6);\n    i0.ɵɵlistener(\"selectedColor\", function TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template_tui_palette_selectedColor_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.editor.setFontColor($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors)(\"tuiActiveZoneParent\", activeZone_r3);\n  }\n}\nfunction TuiTextColorComponent_tui_hosted_dropdown_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 3, 0);\n    i0.ɵɵelement(2, \"button\", 4);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelement(4, \"div\", 5);\n    i0.ɵɵtemplate(5, TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template, 1, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const selectedColor_r4 = ctx.tuiLet;\n    const color_r5 = i0.ɵɵreference(1);\n    const colorDropdown_r6 = i0.ɵɵreference(6);\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"content\", colorDropdown_r6)(\"tuiDropdownMaxHeight\", 999);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", color_r5.open)(\"icon\", ctx_r1.options.icons.textColor)(\"pseudoActive\", color_r5.open)(\"tuiHint\", i0.ɵɵpipeBind1(3, 8, ctx_r1.foreColorText$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background\", selectedColor_r4);\n  }\n}\nlet TuiTextColorComponent = /*#__PURE__*/(() => {\n  class TuiTextColorComponent {\n    constructor(options, editor, texts$) {\n      this.options = options;\n      this.editor = editor;\n      this.texts$ = texts$;\n      this.colors = this.options.colors;\n      this.fontColor$ = this.editor.stateChange$.pipe(map(() => this.editor.getFontColor() || this.options.blankColor), distinctUntilChanged());\n      this.foreColorText$ = this.texts$.pipe(map(texts => texts.foreColor));\n    }\n  }\n  TuiTextColorComponent.ɵfac = function TuiTextColorComponent_Factory(t) {\n    return new (t || TuiTextColorComponent)(i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS));\n  };\n  TuiTextColorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiTextColorComponent,\n    selectors: [[\"tui-text-color\"]],\n    inputs: {\n      colors: \"colors\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"color\", \"\"], [\"colorDropdown\", \"\"], [3, \"content\", \"tuiDropdownMaxHeight\", 4, \"tuiLet\"], [3, \"content\", \"tuiDropdownMaxHeight\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__color-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [1, \"t-plate\"], [1, \"t-color-picker\", 3, \"selectedColor\", \"colors\", \"tuiActiveZoneParent\"]],\n    template: function TuiTextColorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TuiTextColorComponent_tui_hosted_dropdown_0_Template, 7, 10, \"tui-hosted-dropdown\", 2);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.fontColor$));\n      }\n    },\n    dependencies: [i1.TuiHostedDropdownComponent, i1.TuiButtonComponent, i2.TuiPaletteComponent, i3.TuiLetDirective, i1.TuiDropdownOptionsDirective, i1.TuiHintDescribeDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i3.TuiActiveZoneDirective, i4.AsyncPipe],\n    styles: [\".t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-option[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-option[_ngcontent-%COMP%]:hover{background:var(--tui-secondary-hover)}.t-option_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-color-picker[_ngcontent-%COMP%]{box-sizing:border-box;max-width:22.6rem}\"],\n    changeDetection: 0\n  });\n  return TuiTextColorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiTextColorModule = /*#__PURE__*/(() => {\n  class TuiTextColorModule {}\n  TuiTextColorModule.ɵfac = function TuiTextColorModule_Factory(t) {\n    return new (t || TuiTextColorModule)();\n  };\n  TuiTextColorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiTextColorModule\n  });\n  TuiTextColorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiButtonModule, TuiHostedDropdownModule, TuiDropdownModule, TuiHintModule, TuiPaletteModule, TuiActiveZoneModule, TuiLetModule]]\n  });\n  return TuiTextColorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTextColorComponent, TuiTextColorModule };\n","import * as i3 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Pipe, EventEmitter, Component, ChangeDetectionStrategy, Inject, Output, Input, HostListener, NgModule } from '@angular/core';\nimport * as i4 from '@taiga-ui/cdk';\nimport { tuiIsValidUrl, tuiIsElement, TuiAutoFocusModule } from '@taiga-ui/cdk';\nimport { TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER, TUI_EDITOR_LINK_HASH_PREFIX, TUI_EDITOR_LINK_SIMPLE_PROTOCOL_DIVIDER, TUI_EDITOR_LINK_HTTPS_PREFIX } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TUI_EDITOR_LINK_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport * as i1 from '@taiga-ui/kit';\nimport { TuiInputInlineModule, TuiToggleModule } from '@taiga-ui/kit';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiButtonModule, TuiSvgModule, TuiLinkModule, TuiScrollbarModule } from '@taiga-ui/core';\nimport * as i5 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport * as i8 from '@tinkoff/tui-editor/abstract';\nfunction TuiEditLinkComponent_ng_container_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"Edit anchor\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_template_4_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Link to anchor\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_template_4_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"URL\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiEditLinkComponent_ng_container_1_ng_template_4_span_0_Template, 2, 0, \"span\", 4)(1, TuiEditLinkComponent_ng_container_1_ng_template_4_ng_template_1_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const urlTitle_r3 = i0.ɵɵreference(2);\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.prefixIsHashMode)(\"ngIfElse\", urlTitle_r3);\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r5 = ctx.ngIf;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.prefixIsHashMode ? text_r5.anchorExample : text_r5.urlExample, \" \");\n  }\n}\nfunction TuiEditLinkComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"label\", 6)(2, \"div\", 7);\n    i0.ɵɵtemplate(3, TuiEditLinkComponent_ng_container_1_ng_container_3_Template, 2, 0, \"ng-container\", 4)(4, TuiEditLinkComponent_ng_container_1_ng_template_4_Template, 3, 2, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8)(7, \"div\", 9);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tui-input-inline\", 10);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_ngModelChange_9_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r3.url, $event) || (ctx_r3.url = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"input\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_input_9_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onChange($event.target == null ? null : $event.target.value));\n    })(\"keydown.backspace\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_keydown_backspace_9_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onBackspace());\n    })(\"keydown.prevent.enter\", function TuiEditLinkComponent_ng_container_1_Template_tui_input_inline_keydown_prevent_enter_9_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onSave());\n    });\n    i0.ɵɵtemplate(10, TuiEditLinkComponent_ng_container_1_ng_container_10_Template, 2, 1, \"ng-container\", 5);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tui-svg\", 11);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_container_1_Template_tui_svg_click_12_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onClear());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_container_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onSave());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const fullOptions_r6 = i0.ɵɵreference(5);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.anchorMode)(\"ngIfElse\", fullOptions_r6);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r3.prefix);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"t-input_filled\", ctx_r3.hasUrl);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r3.url);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 11, ctx_r3.texts$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"t-cleaner_hidden\", !ctx_r3.hasUrl);\n    i0.ɵɵproperty(\"src\", ctx_r3.options.icons.popupLinkRemove);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.options.icons.popupLinkSave);\n  }\n}\nfunction TuiEditLinkComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"tuiShortUrl\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_template_2_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onEdit());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_template_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onRemove());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"href\", ctx_r3.href, i0.ɵɵsanitizeUrl)(\"icon\", ctx_r3.prefixIsHashMode ? \"tuiIconHash\" : \"tuiIconExternalLink\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 5, ctx_r3.url), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"icon\", ctx_r3.options.icons.popupPreviewLinkEdit);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"icon\", ctx_r3.options.icons.popupPreviewLinkClear);\n  }\n}\nfunction TuiEditLinkComponent_ng_container_4_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function TuiEditLinkComponent_ng_container_4_button_4_Template_button_click_0_listener() {\n      const id_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.setAnchor(id_r9));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const id_r9 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" #\", id_r9, \" \");\n  }\n}\nfunction TuiEditLinkComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"hr\", 16);\n    i0.ɵɵelementStart(2, \"tui-scrollbar\")(3, \"div\", 17);\n    i0.ɵɵtemplate(4, TuiEditLinkComponent_ng_container_4_button_4_Template, 2, 1, \"button\", 18);\n    i0.ɵɵpipe(5, \"tuiFilterAnchors\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(5, 1, ctx_r3.anchorIds, ctx_r3.prefix, ctx_r3.url));\n  }\n}\nfunction splitOsiProtocol(url = ``) {\n  var _a;\n  const protocolPosition = (_a = url.indexOf(TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER)) !== null && _a !== void 0 ? _a : -1;\n  const [prefix, path] = protocolPosition > -1 ? [url.slice(0, protocolPosition + TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER.length), url.slice(protocolPosition + TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER.length, url.length)] : [``, url];\n  const result = [prefix, path].filter(Boolean);\n  return (path === null || path === void 0 ? void 0 : path.includes(`://`)) && result.length > 1 ? splitOsiProtocol(path) : result;\n}\nfunction splitSimpleProtocol(url = ``) {\n  const [prefix, path] = url.split(/:/).slice(-2).filter(Boolean);\n  return prefix && path && !tuiIsValidUrl(url) ? [`${prefix}:`, path] : [];\n}\nfunction tuiEditLinkParseUrl(url = ``) {\n  if (url.startsWith(TUI_EDITOR_LINK_HASH_PREFIX)) {\n    return {\n      prefix: TUI_EDITOR_LINK_HASH_PREFIX,\n      path: url.slice(1)\n    };\n  }\n  const [prefix = ``, path = ``] = url.includes(TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER) ? splitOsiProtocol(url) : splitSimpleProtocol(url);\n  if (path.includes(TUI_EDITOR_LINK_SIMPLE_PROTOCOL_DIVIDER)) {\n    const [protocol, otherPart] = splitSimpleProtocol(path);\n    if (protocol && otherPart) {\n      return {\n        prefix: protocol,\n        path: otherPart\n      };\n    }\n  }\n  if (url.startsWith(`/`) && !url.startsWith(`//`)) {\n    return {\n      prefix: url.slice(0, 1),\n      path: url.slice(1)\n    };\n  }\n  if (url.startsWith(`./`)) {\n    return {\n      prefix: url.slice(0, 2),\n      path: url.slice(2)\n    };\n  }\n  return {\n    prefix,\n    path: prefix === `` ? url : path\n  };\n}\nconst MAX_LENGTH = 60;\nconst START = MAX_LENGTH - 20;\nconst END = MAX_LENGTH - START - 10;\nlet TuiShortUrlPipe = /*#__PURE__*/(() => {\n  class TuiShortUrlPipe {\n    transform(url) {\n      return url.length < MAX_LENGTH ? url : `${url.slice(0, Math.max(0, START))}...${url.slice(url.length - END)}`;\n    }\n  }\n  TuiShortUrlPipe.ɵfac = function TuiShortUrlPipe_Factory(t) {\n    return new (t || TuiShortUrlPipe)();\n  };\n  TuiShortUrlPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiShortUrl\",\n    type: TuiShortUrlPipe,\n    pure: true\n  });\n  return TuiShortUrlPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiFilterAnchorsPipe = /*#__PURE__*/(() => {\n  class TuiFilterAnchorsPipe {\n    transform(anchors, prefix, currentUrl) {\n      return prefix === `#` ? anchors.filter(anchor => anchor !== currentUrl) : anchors;\n    }\n  }\n  TuiFilterAnchorsPipe.ɵfac = function TuiFilterAnchorsPipe_Factory(t) {\n    return new (t || TuiFilterAnchorsPipe)();\n  };\n  TuiFilterAnchorsPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"tuiFilterAnchors\",\n    type: TuiFilterAnchorsPipe,\n    pure: true\n  });\n  return TuiFilterAnchorsPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditLinkComponent = /*#__PURE__*/(() => {\n  class TuiEditLinkComponent {\n    constructor(doc, texts$, editor, options) {\n      this.doc = doc;\n      this.texts$ = texts$;\n      this.editor = editor;\n      this.options = options;\n      this.isOnlyAnchorMode = this.detectAnchorMode();\n      this.addLink = new EventEmitter();\n      this.removeLink = new EventEmitter();\n      this.url = this.getHrefOrAnchorId();\n      this.edit = !this.url;\n      this.prefix = this.makeDefaultPrefix();\n      this.anchorIds = this.getAllAnchorsIds();\n    }\n    get defaultProtocol() {\n      var _a, _b;\n      return (_b = (_a = this.options.linkOptions) === null || _a === void 0 ? void 0 : _a.protocol) !== null && _b !== void 0 ? _b : TUI_EDITOR_LINK_HTTPS_PREFIX;\n    }\n    set anchorMode(mode) {\n      this.isOnlyAnchorMode = mode;\n      this.prefix = mode ? TUI_EDITOR_LINK_HASH_PREFIX : this.makeDefaultPrefix();\n    }\n    get anchorMode() {\n      return this.isOnlyAnchorMode;\n    }\n    get prefixIsHashMode() {\n      return this.prefix === TUI_EDITOR_LINK_HASH_PREFIX;\n    }\n    get hasUrl() {\n      return !!this.url;\n    }\n    get href() {\n      return `${this.prefix}${this.url}`;\n    }\n    get showAnchorsList() {\n      return !this.anchorMode && this.edit && this.anchorIds.length > 0;\n    }\n    get isViewMode() {\n      return !this.edit;\n    }\n    onSelectionChange() {\n      if (this.isViewMode) {\n        this.url = this.getHrefOrAnchorId();\n        this.anchorMode = this.detectAnchorMode();\n      }\n    }\n    onMouseDown(event) {\n      if (tuiIsElement(event.target) && !event.target.matches('a, button, input')) {\n        event.preventDefault();\n      }\n    }\n    setAnchor(anchor) {\n      this.url = anchor;\n      this.changePrefix(true);\n    }\n    changePrefix(isPrefix) {\n      this.prefix = isPrefix ? TUI_EDITOR_LINK_HASH_PREFIX : this.defaultProtocol;\n    }\n    onSave() {\n      if (this.url) {\n        this.addLink.emit(this.href);\n      } else {\n        this.removeLink.emit();\n      }\n    }\n    onBackspace() {\n      if (!this.url) {\n        this.prefix = this.isOnlyAnchorMode ? TUI_EDITOR_LINK_HASH_PREFIX : this.defaultProtocol;\n      }\n    }\n    onEdit() {\n      this.edit = true;\n    }\n    onRemove() {\n      this.removeLink.emit();\n    }\n    onChange(url) {\n      this.url = this.removePrefix(url);\n    }\n    onClear() {\n      this.url = '';\n    }\n    makeDefaultPrefix() {\n      var _a, _b;\n      const a = this.getAnchorElement();\n      const defaultPrefix = tuiEditLinkParseUrl((_a = a === null || a === void 0 ? void 0 : a.getAttribute('href')) !== null && _a !== void 0 ? _a : '').prefix || this.defaultProtocol;\n      if (a) {\n        return !a.getAttribute('href') && a.getAttribute('id') || ((_b = a.getAttribute('href')) === null || _b === void 0 ? void 0 : _b.startsWith(TUI_EDITOR_LINK_HASH_PREFIX)) ? TUI_EDITOR_LINK_HASH_PREFIX : defaultPrefix;\n      }\n      return defaultPrefix;\n    }\n    detectAnchorMode() {\n      const a = this.getAnchorElement();\n      return !(a === null || a === void 0 ? void 0 : a.href) && !!(a === null || a === void 0 ? void 0 : a.getAttribute('id'));\n    }\n    getFocusedParentElement() {\n      var _a, _b;\n      return ((_b = (_a = this.doc.getSelection()) === null || _a === void 0 ? void 0 : _a.focusNode) === null || _b === void 0 ? void 0 : _b.parentElement) || null;\n    }\n    getAnchorElement() {\n      var _a, _b, _c;\n      const focusable = this.getFocusedParentElement();\n      return (_c = (_a = focusable === null || focusable === void 0 ? void 0 : focusable.closest('a')) !== null && _a !== void 0 ? _a : (_b = focusable === null || focusable === void 0 ? void 0 : focusable.querySelector('img')) === null || _b === void 0 ? void 0 : _b.closest('a')) !== null && _c !== void 0 ? _c : null;\n    }\n    getHrefOrAnchorId() {\n      const a = this.getAnchorElement();\n      return a ? this.removePrefix(a.getAttribute('href') || a.getAttribute('id') || '') : this.url;\n    }\n    removePrefix(url) {\n      var _a;\n      const fullPath = url.startsWith(TUI_EDITOR_LINK_HASH_PREFIX) || this.prefix === TUI_EDITOR_LINK_HASH_PREFIX || url.startsWith('/') || url.startsWith('./') || url.startsWith('http') || url.startsWith('://') ? url : `${(_a = this.prefix) !== null && _a !== void 0 ? _a : ''}${url}`;\n      const {\n        prefix,\n        path\n      } = tuiEditLinkParseUrl(fullPath);\n      const expectAnchorMode = this.isOnlyAnchorMode || prefix === TUI_EDITOR_LINK_HASH_PREFIX || prefix === '' && this.prefix === TUI_EDITOR_LINK_HASH_PREFIX;\n      if (expectAnchorMode) {\n        this.prefix = TUI_EDITOR_LINK_HASH_PREFIX;\n      } else if (prefix === '') {\n        this.prefix = this.defaultProtocol;\n      } else {\n        this.prefix = prefix;\n      }\n      return path;\n    }\n    getAllAnchorsIds() {\n      var _a;\n      const nodes = Array.from((_a = this.editor.getOriginTiptapEditor().view.dom.querySelectorAll('[data-type=\"jump-anchor\"]')) !== null && _a !== void 0 ? _a : []);\n      return Array.from(nodes).map(node => node.getAttribute('id') || '').filter(Boolean);\n    }\n  }\n  TuiEditLinkComponent.ɵfac = function TuiEditLinkComponent_Factory(t) {\n    return new (t || TuiEditLinkComponent)(i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TUI_EDITOR_LINK_TEXTS), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiEditLinkComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditLinkComponent,\n    selectors: [[\"tui-edit-link\"]],\n    hostBindings: function TuiEditLinkComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"selectionchange\", function TuiEditLinkComponent_selectionchange_HostBindingHandler() {\n          return ctx.onSelectionChange();\n        }, false, i0.ɵɵresolveDocument)(\"mousedown\", function TuiEditLinkComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onMouseDown($event);\n        });\n      }\n    },\n    inputs: {\n      anchorMode: \"anchorMode\"\n    },\n    outputs: {\n      addLink: \"addLink\",\n      removeLink: \"removeLink\"\n    },\n    decls: 5,\n    vars: 3,\n    consts: [[\"view\", \"\"], [\"fullOptions\", \"\"], [\"urlTitle\", \"\"], [1, \"t-edit-link\", 3, \"mousedown\"], [4, \"ngIf\", \"ngIfElse\"], [4, \"ngIf\"], [1, \"t-label\"], [1, \"t-label-properties\"], [1, \"t-url\"], [1, \"t-prefix\"], [\"tuiAutoFocus\", \"\", 1, \"t-input\", 3, \"ngModelChange\", \"input\", \"keydown.backspace\", \"keydown.prevent.enter\", \"ngModel\"], [1, \"t-cleaner\", 3, \"click\", \"src\"], [\"appearance\", \"icon\", \"shape\", \"rounded\", \"size\", \"s\", \"title\", \"Insert link\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-button\", 3, \"click\", \"icon\"], [\"iconAlign\", \"left\", \"target\", \"_blank\", \"tuiLink\", \"\", 1, \"t-link\", 3, \"href\", \"icon\"], [\"appearance\", \"icon\", \"shape\", \"rounded\", \"size\", \"s\", \"title\", \"Change link\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-button\", \"t-edit-button\", 3, \"click\", \"icon\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__popup-link-clear-button\", \"shape\", \"rounded\", \"size\", \"s\", \"title\", \"Remove link\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-button\", 3, \"click\", \"icon\"], [1, \"t-hr\"], [1, \"t-anchor-list\"], [\"type\", \"button\", \"class\", \"t-anchor\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 1, \"t-anchor\", 3, \"click\"]],\n    template: function TuiEditLinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"div\", 3);\n        i0.ɵɵlistener(\"mousedown\", function TuiEditLinkComponent_Template_div_mousedown_0_listener($event) {\n          i0.ɵɵrestoreView(_r1);\n          return i0.ɵɵresetView($event.stopImmediatePropagation());\n        });\n        i0.ɵɵtemplate(1, TuiEditLinkComponent_ng_container_1_Template, 14, 13, \"ng-container\", 4)(2, TuiEditLinkComponent_ng_template_2_Template, 5, 7, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, TuiEditLinkComponent_ng_container_4_Template, 6, 5, \"ng-container\", 5);\n      }\n      if (rf & 2) {\n        const view_r10 = i0.ɵɵreference(3);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", ctx.edit)(\"ngIfElse\", view_r10);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAnchorsList);\n      }\n    },\n    dependencies: [i1.TuiInputInlineComponent, i2.TuiSvgComponent, i2.TuiButtonComponent, i2.TuiLinkComponent, i2.TuiScrollbarComponent, i3.NgIf, i4.TuiAutoFocusDirective, i5.NgControlStatus, i5.NgModel, i3.NgForOf, i3.AsyncPipe, TuiShortUrlPipe, TuiFilterAnchorsPipe],\n    styles: [\"[_nghost-%COMP%]{display:block;min-width:18.75rem}.t-edit-link[_ngcontent-%COMP%]{display:flex;min-height:4rem;align-items:center;padding-right:.75rem}.t-label[_ngcontent-%COMP%]{font:var(--tui-font-text-s);height:var(--tui-height-l);box-sizing:border-box;padding:.4375rem 1rem;min-width:12.5rem;max-width:25rem;width:100%}.t-label-properties[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:8.375rem;justify-content:space-between}.t-property_inactive[_ngcontent-%COMP%]{opacity:.5}.t-url[_ngcontent-%COMP%]{display:flex;font:var(--tui-font-text-m);color:var(--tui-text-02)}.t-input[_ngcontent-%COMP%]{flex:1}.t-input_filled[_ngcontent-%COMP%]{color:var(--tui-text-01)}.t-button[_ngcontent-%COMP%]{width:2rem;height:2rem;margin:0 .25rem;transition:background .2s}.t-edit-button[_ngcontent-%COMP%]{margin-left:auto}.t-link[_ngcontent-%COMP%]{margin:0 1rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.t-cleaner[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;color:var(--tui-base-06);cursor:pointer;margin-left:auto}.t-cleaner[_ngcontent-%COMP%]:hover{color:var(--tui-base-07)}.t-cleaner_hidden[_ngcontent-%COMP%]{visibility:hidden}.t-anchor-list[_ngcontent-%COMP%]{display:flex;max-height:12.5rem;flex-direction:column}.t-anchor[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0;background:none;font-size:inherit;line-height:inherit;text-decoration:none;min-height:2.75rem;padding:.375rem .5rem;margin:.125rem .5rem;border-radius:var(--tui-radius-m);text-align:left}.t-anchor[_ngcontent-%COMP%]:hover{background:var(--tui-base-02);cursor:pointer}\"],\n    changeDetection: 0\n  });\n  return TuiEditLinkComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditLinkModule = /*#__PURE__*/(() => {\n  class TuiEditLinkModule {}\n  TuiEditLinkModule.ɵfac = function TuiEditLinkModule_Factory(t) {\n    return new (t || TuiEditLinkModule)();\n  };\n  TuiEditLinkModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditLinkModule\n  });\n  TuiEditLinkModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FormsModule, TuiAutoFocusModule, TuiButtonModule, TuiSvgModule, TuiLinkModule, TuiInputInlineModule, TuiToggleModule, TuiScrollbarModule]]\n  });\n  return TuiEditLinkModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiEditLinkComponent, TuiEditLinkModule, TuiFilterAnchorsPipe, TuiShortUrlPipe, tuiEditLinkParseUrl };\n","import * as i0 from '@angular/core';\nimport { ElementRef, Directive, Inject, HostListener, EventEmitter, Component, ChangeDetectionStrategy, Optional, Self, ViewChildren, ViewChild, Input, HostBinding, Output, NgModule } from '@angular/core';\nimport * as i5 from '@taiga-ui/cdk';\nimport { tuiIsNativeFocusedIn, tuiClamp, tuiIsNativeMouseFocusable, tuiGetClosestFocusable, EMPTY_QUERY, tuiAssert, TuiDestroyService, TuiFocusableModule, TuiItemModule, TuiItemDirective } from '@taiga-ui/cdk';\nimport { defaultEditorTools } from '@tinkoff/tui-editor/constants';\nimport { TuiTiptapEditorService } from '@tinkoff/tui-editor/directives';\nimport { TuiEditorTool } from '@tinkoff/tui-editor/enums';\nimport { TUI_IMAGE_LOADER, TUI_ATTACH_FILES_OPTIONS, TUI_ATTACH_FILES_LOADER, TUI_EDITOR_TOOLBAR_TEXTS, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { take, takeUntil } from 'rxjs/operators';\nimport * as i1 from '@taiga-ui/core';\nimport { TuiHintModule, TuiButtonModule, TuiHostedDropdownModule } from '@taiga-ui/core';\nimport * as i2 from '@tinkoff/tui-editor/components/toolbar-tools';\nimport { TuiTableMergeCellsModule, TuiTableCellColorModule, TuiTableRowColumnManagerModule, TuiTableCreateModule, TuiFontSizeModule, TuiFontStyleModule, TuiAlignContentModule, TuiListConfigsModule, TuiTextColorModule, TuiHighlightColorModule, TuiCodeModule, TuiDetailsModule, TuiEditorToolGroup } from '@tinkoff/tui-editor/components/toolbar-tools';\nimport * as i3 from '@tinkoff/tui-editor/components/edit-link';\nimport { TuiEditLinkModule } from '@tinkoff/tui-editor/components/edit-link';\nimport * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i7 from '@tinkoff/tui-editor/abstract';\nimport * as i8 from 'rxjs';\nconst _c0 = [\"dropdown\"];\nconst _c1 = [\"*\"];\nfunction TuiToolbarComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.undo());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_1_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.redo());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.undoDisabled)(\"focusable\", false)(\"icon\", ctx_r1.options.icons.undo)(\"tuiHint\", texts_r3.undo);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.redoDisabled)(\"focusable\", false)(\"icon\", ctx_r1.options.icons.redo)(\"tuiHint\", texts_r3.redo);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-font-size\", 17);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_font_style_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-font-style\", 23);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"enabledTools\", ctx_r1.toolsSet);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_align_content_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-align-content\", 17);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_list_configs_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-list-configs\", 17);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_3_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.toggleQuote());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r1.unorderedList || ctx_r1.orderedList)(\"focusable\", false)(\"icon\", ctx_r1.options.icons.quote)(\"pseudoActive\", ctx_r1.blockquote)(\"tuiHint\", texts_r3.quote);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-edit-link\", 27, 3);\n    i0.ɵɵlistener(\"addLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template_tui_edit_link_addLink_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      i0.ɵɵnextContext();\n      const link_r6 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onLink(link_r6, $event));\n    })(\"removeLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template_tui_edit_link_removeLink_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      i0.ɵɵnextContext();\n      const link_r6 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onLink(link_r6));\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 25, 1);\n    i0.ɵɵelement(2, \"button\", 26, 0);\n    i0.ɵɵtemplate(4, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const link_r6 = i0.ɵɵreference(1);\n    const linkDropdown_r7 = i0.ɵɵreference(5);\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"canOpen\", ctx_r1.canOpenAnchor)(\"content\", linkDropdown_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", link_r6.open)(\"icon\", ctx_r1.options.icons.link)(\"pseudoActive\", link_r6.open || ctx_r1.a)(\"tuiHint\", texts_r3.link);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-edit-link\", 30);\n    i0.ɵɵlistener(\"addLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template_tui_edit_link_addLink_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      i0.ɵɵnextContext();\n      const anchor_r9 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.setAnchor(anchor_r9, $event));\n    })(\"removeLink\", function TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template_tui_edit_link_removeLink_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r1.removeAnchor());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"anchorMode\", true);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-hosted-dropdown\", 28, 4);\n    i0.ɵɵelement(2, \"button\", 29);\n    i0.ɵɵtemplate(3, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template, 1, 1, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const anchor_r9 = i0.ɵɵreference(1);\n    const anchorDropdown_r10 = i0.ɵɵreference(4);\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"canOpen\", ctx_r1.canOpenAnchor)(\"content\", anchorDropdown_r10);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.anchor)(\"pseudoActive\", anchor_r9.open || ctx_r1.jumpAnchor)(\"tuiHint\", texts_r3.insertAnchor);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 31, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_3_ng_container_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const fileUpload_r12 = i0.ɵɵreference(4);\n      return i0.ɵɵresetView(fileUpload_r12.click());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 32, 6);\n    i0.ɵɵlistener(\"change\", function TuiToolbarComponent_section_5_div_3_ng_container_7_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const fileUpload_r12 = i0.ɵɵreference(4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onAttach(fileUpload_r12));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.attach)(\"tuiHint\", texts_r3.attach);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accept\", ctx_r1.attachOptions.accept)(\"multiple\", ctx_r1.attachOptions.multiple)(\"tuiFocusable\", false);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_3_tui_font_style_1_Template, 1, 1, \"tui-font-style\", 18)(2, TuiToolbarComponent_section_5_div_3_tui_align_content_2_Template, 1, 0, \"tui-align-content\", 19)(3, TuiToolbarComponent_section_5_div_3_tui_list_configs_3_Template, 1, 0, \"tui-list-configs\", 19)(4, TuiToolbarComponent_section_5_div_3_button_4_Template, 2, 5, \"button\", 20)(5, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_Template, 6, 6, \"tui-hosted-dropdown\", 21)(6, TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_Template, 5, 6, \"tui-hosted-dropdown\", 22)(7, TuiToolbarComponent_section_5_div_3_ng_container_7_Template, 5, 6, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.formatEnabled);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Align));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.List));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Quote));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Link));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Anchor));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Attach));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_4_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_4_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.toggleSubscript());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.sub)(\"pseudoActive\", ctx_r1.subscript)(\"tuiHint\", texts_r3.subscript);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_4_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_4_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.toggleSuperscript());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.sup)(\"pseudoActive\", ctx_r1.superscript)(\"tuiHint\", texts_r3.superscript);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_4_button_1_Template, 2, 4, \"button\", 33)(2, TuiToolbarComponent_section_5_div_4_button_2_Template, 2, 4, \"button\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Sub));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Sup));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_5_tui_text_color_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-text-color\", 36);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_5_tui_highlight_color_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-highlight-color\", 36);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_5_tui_text_color_1_Template, 1, 1, \"tui-text-color\", 35)(2, TuiToolbarComponent_section_5_div_5_tui_highlight_color_2_Template, 1, 1, \"tui-highlight-color\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Color));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Hilite));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_tui_code_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-code\", 17);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 40, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_6_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onTeX());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.tex)(\"tuiHint\", texts_r3.tex);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"button\", 42, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_6_div_3_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const image_r17 = i0.ɵɵreference(4);\n      return i0.ɵɵresetView(image_r17.click());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 43, 7);\n    i0.ɵɵlistener(\"change\", function TuiToolbarComponent_section_5_div_6_div_3_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const image_r17 = i0.ɵɵreference(4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onImage(image_r17));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.image)(\"tuiHint\", texts_r3.image);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"tuiFocusable\", false);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 31, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_6_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.insertHorizontalRule());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.hr)(\"tuiHint\", texts_r3.insertHorizontalRule);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_6_tui_code_1_Template, 1, 0, \"tui-code\", 19)(2, TuiToolbarComponent_section_5_div_6_button_2_Template, 2, 3, \"button\", 37)(3, TuiToolbarComponent_section_5_div_6_div_3_Template, 5, 4, \"div\", 38)(4, TuiToolbarComponent_section_5_div_6_button_4_Template, 2, 3, \"button\", 39);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Code));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Tex));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Img));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.HR));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"button\", 31, 0);\n    i0.ɵɵlistener(\"click\", function TuiToolbarComponent_section_5_div_7_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.removeFormat());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const texts_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"focusable\", false)(\"icon\", ctx_r1.options.icons.clear)(\"tuiHint\", texts_r3.clear);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-details\", 44)(2, \"tui-details-remove\", 44);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiToolbarComponent_section_5_div_9_tui_table_cell_color_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-table-cell-color\", 36);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-editor-group-tool\", 44);\n    i0.ɵɵtemplate(2, TuiToolbarComponent_section_5_div_9_tui_table_cell_color_2_Template, 1, 1, \"tui-table-cell-color\", 35);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.enabled(ctx_r1.editorTool.Table));\n  }\n}\nfunction TuiToolbarComponent_section_5_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"tui-table-create\", 44)(2, \"tui-table-row-column-manager\", 44)(3, \"tui-table-merge-cells\", 44)(4, \"tui-table-cell-color\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"colors\", ctx_r1.colors);\n  }\n}\nfunction TuiToolbarComponent_section_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\", 12);\n    i0.ɵɵtemplate(1, TuiToolbarComponent_section_5_div_1_Template, 3, 8, \"div\", 13)(2, TuiToolbarComponent_section_5_div_2_Template, 2, 0, \"div\", 13)(3, TuiToolbarComponent_section_5_div_3_Template, 8, 7, \"div\", 13)(4, TuiToolbarComponent_section_5_div_4_Template, 3, 2, \"div\", 13)(5, TuiToolbarComponent_section_5_div_5_Template, 3, 2, \"div\", 13)(6, TuiToolbarComponent_section_5_div_6_Template, 5, 4, \"div\", 13)(7, TuiToolbarComponent_section_5_div_7_Template, 3, 3, \"div\", 13)(8, TuiToolbarComponent_section_5_div_8_Template, 3, 0, \"div\", 13)(9, TuiToolbarComponent_section_5_div_9_Template, 3, 1, \"div\", 13)(10, TuiToolbarComponent_section_5_div_10_Template, 5, 1, \"div\", 13);\n    i0.ɵɵelementStart(11, \"div\", 14);\n    i0.ɵɵprojection(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Undo));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Size));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.firstBigBlockEnabled);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Sub) || ctx_r1.enabled(ctx_r1.editorTool.Sup));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Color) || ctx_r1.enabled(ctx_r1.editorTool.Hilite));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.secondBigBlockEnabled);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Clear));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Details));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Group));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.enabled(ctx_r1.editorTool.Table));\n  }\n}\nlet TuiToolbarNavigationManagerDirective = /*#__PURE__*/(() => {\n  class TuiToolbarNavigationManagerDirective {\n    constructor(el) {\n      this.el = el;\n    }\n    get toolsContainers() {\n      return Array.from(this.el.nativeElement.querySelectorAll('[tuiItem]'));\n    }\n    onHorizontalNavigation(toPrevious) {\n      const {\n        toolsContainers\n      } = this;\n      const focusedToolIndex = toolsContainers.findIndex(tuiIsNativeFocusedIn);\n      const targetToolIndex = tuiClamp(focusedToolIndex + (toPrevious ? -1 : 1), 0, toolsContainers.length - 1);\n      const targetToolWrapper = toolsContainers[targetToolIndex];\n      const targetTool = toPrevious ? this.findPreviousTool(targetToolWrapper) : this.findNextTool(targetToolWrapper);\n      if (targetTool) {\n        targetTool.focus();\n      }\n    }\n    findFirstFocusableTool(reversed = false) {\n      const tools = reversed ? this.toolsContainers.slice().reverse() : this.toolsContainers;\n      for (const el of tools) {\n        const focusableElement = tuiIsNativeMouseFocusable(el) ? el : tuiGetClosestFocusable({\n          initial: el,\n          root: el,\n          keyboard: false\n        });\n        if (focusableElement) {\n          return focusableElement;\n        }\n      }\n      return null;\n    }\n    findPreviousTool(wrapper) {\n      if (tuiIsNativeMouseFocusable(wrapper)) {\n        return wrapper;\n      }\n      const lookedInside = tuiGetClosestFocusable({\n        initial: wrapper,\n        root: wrapper,\n        keyboard: false\n      });\n      return lookedInside || tuiGetClosestFocusable({\n        initial: wrapper,\n        root: this.el.nativeElement,\n        previous: true,\n        keyboard: false\n      });\n    }\n    findNextTool(wrapper) {\n      return tuiIsNativeMouseFocusable(wrapper) ? wrapper : tuiGetClosestFocusable({\n        initial: wrapper,\n        root: this.el.nativeElement,\n        keyboard: false\n      });\n    }\n  }\n  TuiToolbarNavigationManagerDirective.ɵfac = function TuiToolbarNavigationManagerDirective_Factory(t) {\n    return new (t || TuiToolbarNavigationManagerDirective)(i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiToolbarNavigationManagerDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiToolbarNavigationManagerDirective,\n    selectors: [[\"\", \"tuiToolbarNavigationManager\", \"\"]],\n    hostBindings: function TuiToolbarNavigationManagerDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.arrowRight.prevent\", function TuiToolbarNavigationManagerDirective_keydown_arrowRight_prevent_HostBindingHandler() {\n          return ctx.onHorizontalNavigation(false);\n        })(\"keydown.arrowLeft.prevent\", function TuiToolbarNavigationManagerDirective_keydown_arrowLeft_prevent_HostBindingHandler() {\n          return ctx.onHorizontalNavigation(true);\n        });\n      }\n    }\n  });\n  return TuiToolbarNavigationManagerDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiToolbarComponent = /*#__PURE__*/(() => {\n  class TuiToolbarComponent {\n    constructor(el, editor, imageLoader, attachOptions, filesLoader, texts$, options, destroy$) {\n      this.el = el;\n      this.editor = editor;\n      this.imageLoader = imageLoader;\n      this.attachOptions = attachOptions;\n      this.filesLoader = filesLoader;\n      this.texts$ = texts$;\n      this.options = options;\n      this.destroy$ = destroy$;\n      this.dropdowns = EMPTY_QUERY;\n      this.colors = this.options.colors;\n      this.disabled = false;\n      this.linkAdded = new EventEmitter();\n      this.texClicked = new EventEmitter();\n      this.fileAttached = new EventEmitter();\n      this.editorTool = TuiEditorTool;\n      this.toolsSet = new Set(defaultEditorTools);\n    }\n    set tools(value) {\n      this.toolsSet = new Set(value);\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.el.nativeElement) || !!this.dropdowns.find(({\n        nativeElement\n      }) => tuiIsNativeFocusedIn(nativeElement));\n    }\n    get focusable() {\n      return !this.focused && !this.disabled;\n    }\n    get unorderedList() {\n      return this.editor.isActive('bulletList');\n    }\n    get orderedList() {\n      return this.editor.isActive('orderedList');\n    }\n    get blockquote() {\n      return this.editor.isActive('blockquote');\n    }\n    get a() {\n      return this.editor.isActive('link');\n    }\n    get jumpAnchor() {\n      return this.editor.isActive('jumpAnchor');\n    }\n    get canOpenAnchor() {\n      return !this.a && !this.jumpAnchor;\n    }\n    get undoDisabled() {\n      return this.editor.undoDisabled();\n    }\n    get redoDisabled() {\n      return this.editor.redoDisabled();\n    }\n    get subscript() {\n      return this.editor.isActive('subscript');\n    }\n    get superscript() {\n      return this.editor.isActive('superscript');\n    }\n    get formatEnabled() {\n      return this.enabled(TuiEditorTool.Bold) || this.enabled(TuiEditorTool.Italic) || this.enabled(TuiEditorTool.Underline) || this.enabled(TuiEditorTool.Strikethrough);\n    }\n    get firstBigBlockEnabled() {\n      return this.formatEnabled || this.enabled(TuiEditorTool.Align) || this.enabled(TuiEditorTool.List) || this.enabled(TuiEditorTool.Quote) || this.enabled(TuiEditorTool.Link) || this.enabled(TuiEditorTool.Anchor) || this.enabled(TuiEditorTool.Attach);\n    }\n    get secondBigBlockEnabled() {\n      return this.enabled(TuiEditorTool.Code) || this.enabled(TuiEditorTool.Tex) || this.enabled(TuiEditorTool.Img) || this.enabled(TuiEditorTool.HR);\n    }\n    onMouseDown(event, target) {\n      if (target.closest('button')) {\n        return;\n      }\n      event.preventDefault();\n      this.editor.focus();\n    }\n    onBottomFocus() {\n      this.focusLast();\n    }\n    onTopFocus() {\n      this.focusFirst();\n    }\n    onImage(input) {\n      var _a;\n      const file = (_a = input.files) === null || _a === void 0 ? void 0 : _a[0];\n      input.value = '';\n      if (!file) {\n        return;\n      }\n      this.imageLoader(file).pipe(take(1), takeUntil(this.destroy$)).subscribe(image => this.addImage(image));\n    }\n    onAttach(input) {\n      var _a;\n      const files = Array.from(input.files || []);\n      input.value = '';\n      if (!files) {\n        return;\n      }\n      ngDevMode && tuiAssert.assert(!!this.filesLoader, 'Please provide TUI_ATTACH_FILES_LOADER');\n      (_a = this.filesLoader) === null || _a === void 0 ? void 0 : _a.call(this, files).pipe(take(1), takeUntil(this.destroy$)).subscribe(attachedFiles => this.fileAttached.emit(attachedFiles));\n    }\n    onTeX() {\n      this.texClicked.emit();\n    }\n    onLink(hosted, url) {\n      hosted.open = false;\n      if (url) {\n        this.editor.toggleLink(url);\n      }\n    }\n    setAnchor(hosted, anchor) {\n      hosted.open = false;\n      if (anchor) {\n        this.editor.setAnchor(anchor);\n        this.editor.selectClosest();\n      }\n    }\n    removeAnchor() {\n      this.editor.removeAnchor();\n    }\n    enabled(tool) {\n      return this.toolsSet.has(tool);\n    }\n    undo() {\n      this.editor.undo();\n    }\n    redo() {\n      this.editor.redo();\n    }\n    insertHorizontalRule() {\n      this.editor.setHorizontalRule();\n    }\n    removeFormat() {\n      this.editor.removeFormat();\n    }\n    toggleOrderedList() {\n      this.editor.toggleOrderedList();\n    }\n    toggleQuote() {\n      this.editor.toggleBlockquote();\n    }\n    toggleSubscript() {\n      this.editor.toggleSubscript();\n    }\n    toggleSuperscript() {\n      this.editor.toggleSuperscript();\n    }\n    addImage(image) {\n      this.editor.setImage(image);\n    }\n    focusFirst() {\n      var _a;\n      const firstButton = (_a = this.navigationManager) === null || _a === void 0 ? void 0 : _a.findFirstFocusableTool();\n      if (firstButton) {\n        firstButton.focus();\n      }\n    }\n    focusLast() {\n      var _a;\n      const lastButton = (_a = this.navigationManager) === null || _a === void 0 ? void 0 : _a.findFirstFocusableTool(true);\n      if (lastButton) {\n        lastButton.focus();\n      }\n    }\n  }\n  TuiToolbarComponent.ɵfac = function TuiToolbarComponent_Factory(t) {\n    return new (t || TuiToolbarComponent)(i0.ɵɵdirectiveInject(ElementRef, 8), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_IMAGE_LOADER), i0.ɵɵdirectiveInject(TUI_ATTACH_FILES_OPTIONS), i0.ɵɵdirectiveInject(TUI_ATTACH_FILES_LOADER, 8), i0.ɵɵdirectiveInject(TUI_EDITOR_TOOLBAR_TEXTS), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(TuiDestroyService, 2));\n  };\n  TuiToolbarComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiToolbarComponent,\n    selectors: [[\"tui-toolbar\"]],\n    viewQuery: function TuiToolbarComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(TuiToolbarNavigationManagerDirective, 5);\n        i0.ɵɵviewQuery(_c0, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.navigationManager = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdowns = _t);\n      }\n    },\n    hostAttrs: [\"role\", \"toolbar\"],\n    hostVars: 2,\n    hostBindings: function TuiToolbarComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function TuiToolbarComponent_mousedown_HostBindingHandler($event) {\n          return ctx.onMouseDown($event, $event.target);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"_disabled\", ctx.disabled);\n      }\n    },\n    inputs: {\n      colors: \"colors\",\n      disabled: \"disabled\",\n      tools: \"tools\"\n    },\n    outputs: {\n      linkAdded: \"linkAdded\",\n      texClicked: \"texClicked\",\n      fileAttached: \"fileAttached\"\n    },\n    features: [i0.ɵɵProvidersFeature([TuiDestroyService])],\n    ngContentSelectors: _c1,\n    decls: 7,\n    vars: 8,\n    consts: [[\"button\", \"\"], [\"link\", \"\"], [\"linkDropdown\", \"\"], [\"dropdown\", \"\"], [\"anchor\", \"\"], [\"anchorDropdown\", \"\"], [\"fileUpload\", \"\"], [\"image\", \"\"], [\"type\", \"button\", 1, \"t-prevent-parent-label-behavior\"], [4, \"ngIf\"], [3, \"focus\", \"tuiFocusable\"], [\"tuiToolbarNavigationManager\", \"\", \"class\", \"t-tools-wrapper\", 4, \"ngIf\"], [\"tuiToolbarNavigationManager\", \"\", 1, \"t-tools-wrapper\"], [\"class\", \"t-block\", 4, \"ngIf\"], [1, \"t-block\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__undo-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__redo-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"tuiHint\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-wrapper\"], [\"tuiItem\", \"\", \"class\", \"t-tool t-wrapper\", 3, \"enabledTools\", 4, \"ngIf\"], [\"tuiItem\", \"\", \"class\", \"t-tool t-wrapper\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__quote-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool t-tool_margin\", 3, \"disabled\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"tuiItem\", \"\", \"class\", \"t-wrapper\", 3, \"canOpen\", \"content\", 4, \"ngIf\"], [\"class\", \"t-wrapper\", 3, \"canOpen\", \"content\", 4, \"ngIf\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-wrapper\", 3, \"enabledTools\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__quote-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"disabled\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiItem\", \"\", 1, \"t-wrapper\", 3, \"canOpen\", \"content\"], [\"appearance\", \"icon\", \"automation-id\", \"toolbar__link-button\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [3, \"addLink\", \"removeLink\"], [1, \"t-wrapper\", 3, \"canOpen\", \"content\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [3, \"addLink\", \"removeLink\", \"anchorMode\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"type\", \"file\", 1, \"t-file-upload\", 3, \"change\", \"accept\", \"multiple\", \"tuiFocusable\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool t-tool_margin\", 3, \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", \"t-tool_margin\", 3, \"click\", \"focusable\", \"icon\", \"pseudoActive\", \"tuiHint\"], [\"tuiItem\", \"\", \"class\", \"t-tool t-wrapper\", 3, \"colors\", 4, \"ngIf\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-wrapper\", 3, \"colors\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool\", 3, \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"tuiItem\", \"\", \"class\", \"t-wrapper\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", \"class\", \"t-tool t-tool_margin\", 3, \"focusable\", \"icon\", \"tuiHint\", \"click\", 4, \"ngIf\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"tuiItem\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"tuiItem\", \"\", 1, \"t-wrapper\"], [\"appearance\", \"icon\", \"size\", \"s\", \"tuiHintDescribe\", \"\", \"tuiHintDirection\", \"top-left\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-tool\", 3, \"click\", \"focusable\", \"icon\", \"tuiHint\"], [\"accept\", \"image/*\", \"type\", \"file\", 1, \"t-image\", 3, \"change\", \"tuiFocusable\"], [\"tuiItem\", \"\", 1, \"t-tool\", \"t-tool_margin\"]],\n    template: function TuiToolbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelement(0, \"button\", 8);\n        i0.ɵɵtemplate(1, TuiToolbarComponent_ng_container_1_Template, 1, 0, \"ng-container\", 9);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementStart(3, \"div\", 10);\n        i0.ɵɵlistener(\"focus\", function TuiToolbarComponent_Template_div_focus_3_listener() {\n          return ctx.onTopFocus();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 10);\n        i0.ɵɵlistener(\"focus\", function TuiToolbarComponent_Template_div_focus_4_listener() {\n          return ctx.onBottomFocus();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, TuiToolbarComponent_section_5_Template, 13, 10, \"section\", 11);\n        i0.ɵɵpipe(6, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 4, ctx.editor.stateChange$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"tuiFocusable\", ctx.focusable);\n        i0.ɵɵadvance();\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 6, ctx.texts$));\n      }\n    },\n    dependencies: [i1.TuiButtonComponent, i2.TuiFontSizeComponent, i2.TuiFontStyleComponent, i2.TuiAlignContentComponent, i2.TuiListConfigsComponent, i1.TuiHostedDropdownComponent, i3.TuiEditLinkComponent, i2.TuiTextColorComponent, i2.TuiHighlightColorComponent, i2.TuiCodeComponent, i2.TuiDetailsComponent, i2.TuiDetailsRemoveComponent, i2.TuiEditorGroupToolComponent, i2.TuiTableCellColorComponent, i2.TuiTableCreateComponent, i2.TuiTableRowColumnManagerComponent, i2.TuiTableMergeCellsComponent, i4.NgIf, i5.TuiFocusableDirective, TuiToolbarNavigationManagerDirective, i1.TuiHintDescribeDirective, i5.TuiItemDirective, i1.TuiHintDirective, i1.TuiHintDriverDirective, i1.TuiHintHoverDirective, i1.TuiHintPositionDirective, i4.AsyncPipe],\n    styles: [\".t-tools-wrapper[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;position:-webkit-sticky;position:sticky;top:0;display:flex;padding:.25rem .75rem;overflow:auto;flex-wrap:wrap;box-shadow:0 .125rem .1875rem #0000001a}.t-tools-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar, .t-tools-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-tools-wrapper._disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:var(--tui-disabled-opacity)}.t-block[_ngcontent-%COMP%]{display:flex;padding:.25rem 0}.t-block[_ngcontent-%COMP%]:not(:last-child):after{content:\\\"\\\";display:block;margin:0 .25rem;width:1px;background:var(--tui-secondary-active)}.t-tool[_ngcontent-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}button.t-tool[_ngcontent-%COMP%]:hover, .t-tool[_ngcontent-%COMP%]     button:hover{background:var(--tui-secondary-hover)}.t-tool_margin[_ngcontent-%COMP%]{margin:0 .25rem}.t-dropdown[_ngcontent-%COMP%]{padding:.75rem}.t-wrapper[_ngcontent-%COMP%]{position:relative;margin:0 .25rem}.t-plate[_ngcontent-%COMP%]{position:absolute;top:1.375rem;left:.25rem;width:1.5rem;height:.25rem;pointer-events:none}.t-plate_paint[_ngcontent-%COMP%]{left:.375rem;width:1.25rem}.t-font[_ngcontent-%COMP%]{padding:.3em 0;outline:none;width:100%;pointer-events:none}.t-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;font-size:0;opacity:0;cursor:pointer}.t-image[_ngcontent-%COMP%]::-webkit-file-upload-button{display:none}.t-file-upload[_ngcontent-%COMP%]{display:none}.t-color-picker[_ngcontent-%COMP%]     tui-hosted-dropdown, .t-color-picker[_ngcontent-%COMP%]     tui-color-picker, .t-color-picker[_ngcontent-%COMP%]     tui-color-edit{display:none}.t-prevent-parent-label-behavior[_ngcontent-%COMP%]{display:none}\"],\n    changeDetection: 0\n  });\n  return TuiToolbarComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiToolbarModule = /*#__PURE__*/(() => {\n  class TuiToolbarModule {}\n  TuiToolbarModule.ɵfac = function TuiToolbarModule_Factory(t) {\n    return new (t || TuiToolbarModule)();\n  };\n  TuiToolbarModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiToolbarModule\n  });\n  TuiToolbarModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, TuiHintModule, TuiFocusableModule, TuiButtonModule, TuiHostedDropdownModule, TuiEditLinkModule, TuiTableMergeCellsModule, TuiTableCellColorModule, TuiTableRowColumnManagerModule, TuiTableCreateModule, TuiFontSizeModule, TuiFontStyleModule, TuiAlignContentModule, TuiListConfigsModule, TuiTextColorModule, TuiHighlightColorModule, TuiCodeModule, TuiDetailsModule, TuiItemModule, TuiEditorToolGroup]]\n  });\n  return TuiToolbarModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiToolbarComponent, TuiToolbarModule, TuiToolbarNavigationManagerDirective };\n","import { DOCUMENT } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { SecurityContext, ElementRef, Renderer2, Sanitizer, Component, ViewEncapsulation, ChangeDetectionStrategy, Inject, Optional, Input, HostListener, NgModule } from '@angular/core';\nimport { tuiIsElement } from '@taiga-ui/cdk';\nimport { TUI_SANITIZER } from '@taiga-ui/core';\nimport * as i1 from '@tinkoff/tui-editor/directives/tiptap-editor';\nimport { TuiTiptapEditorDirective } from '@tinkoff/tui-editor/directives/tiptap-editor';\nimport { TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nlet TuiEditorSocketComponent = /*#__PURE__*/(() => {\n  class TuiEditorSocketComponent {\n    constructor(el, renderer, sanitizer, tuiSanitizer, document, editor, options) {\n      this.el = el;\n      this.renderer = renderer;\n      this.sanitizer = sanitizer;\n      this.tuiSanitizer = tuiSanitizer;\n      this.document = document;\n      this.editor = editor;\n      this.options = options;\n    }\n    set content(content) {\n      var _a;\n      this.renderer.setProperty(this.el.nativeElement, 'innerHTML', this.tuiSanitizer ? this.tuiSanitizer.sanitize(SecurityContext.HTML, (_a = content === null || content === void 0 ? void 0 : content.replace(/colwidth/g, 'width')) !== null && _a !== void 0 ? _a : '') : this.sanitizer.sanitize(SecurityContext.HTML, content !== null && content !== void 0 ? content : ''));\n    }\n    /**\n     * @description:\n     * the main problem is that the external environment editor can use different base href=\"../\"\n     * More information: https://rogerkeays.com/blog/using-base-href-with-anchors\n     */\n    click(event) {\n      var _a, _b;\n      if (this.editor || !tuiIsElement(event.target)) {\n        return;\n      }\n      const href = ((_b = (_a = event.target) === null || _a === void 0 ? void 0 : _a.closest('a')) === null || _b === void 0 ? void 0 : _b.getAttribute('href')) || '';\n      if (!href.startsWith('#')) {\n        return;\n      }\n      this.document.location.hash = href.replace('#', '');\n      event.preventDefault();\n    }\n  }\n  TuiEditorSocketComponent.ɵfac = function TuiEditorSocketComponent_Factory(t) {\n    return new (t || TuiEditorSocketComponent)(i0.ɵɵdirectiveInject(ElementRef), i0.ɵɵdirectiveInject(Renderer2), i0.ɵɵdirectiveInject(Sanitizer), i0.ɵɵdirectiveInject(TUI_SANITIZER, 8), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TuiTiptapEditorDirective, 8), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS));\n  };\n  TuiEditorSocketComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorSocketComponent,\n    selectors: [[\"tui-editor-socket\"]],\n    hostVars: 2,\n    hostBindings: function TuiEditorSocketComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function TuiEditorSocketComponent_click_HostBindingHandler($event) {\n          return ctx.click($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"tui-editor-socket\", ctx.options.enableDefaultStyles);\n      }\n    },\n    inputs: {\n      content: \"content\"\n    },\n    decls: 0,\n    vars: 0,\n    template: function TuiEditorSocketComponent_Template(rf, ctx) {},\n    styles: [\".tui-editor-socket{display:block;margin:0;color:var(--tui-text-01);font:var(--tui-font-text-m)}.tui-editor-socket[tuiTiptapEditor]{overflow:hidden}.tui-editor-socket .ProseMirror{min-height:5.375rem;padding:.2rem 1rem;outline:none;white-space:pre-wrap}.tui-editor-socket .resize-cursor{cursor:ew-resize;cursor:col-resize}.tui-editor-socket h1,.tui-editor-socket h2,.tui-editor-socket h3,.tui-editor-socket h4,.tui-editor-socket h5,.tui-editor-socket h6{word-break:break-word;line-height:normal}.tui-editor-socket h1:first-child,.tui-editor-socket h2:first-child,.tui-editor-socket p:last-child{margin-bottom:0}.tui-editor-socket p:last-child,.tui-editor-socket pre:last-child{margin-bottom:0}.tui-editor-socket p:empty:after{content:\\\" \\\";white-space:pre}.tui-editor-socket p:first-child{margin-top:0;min-width:1px}.tui-editor-socket p{margin:1rem 0}.tui-editor-socket p>span{line-height:initial}.tui-editor-socket blockquote{margin:1.25rem 0 1.25rem 1.5rem;padding-left:1.0625rem;border-left:1px solid var(--tui-base-04)}.tui-editor-socket hr{border:none;border-top:1px solid var(--tui-base-03);margin:1rem 0}.tui-editor-socket mark{background:unset;color:inherit}.tui-editor-socket font[face=\\\"Courier New\\\"]{display:inline-block;padding:.25rem .5rem;border-radius:.25rem;background-color:#ecf1f7;word-break:break-word}.tui-editor-socket a:not([data-type=\\\"jump-anchor\\\"]){color:var(--tui-link);text-decoration:none;outline:none}.tui-editor-socket a:not([data-type=\\\"jump-anchor\\\"]):hover{color:var(--tui-link-hover);text-decoration:underline}.tui-editor-socket a:not([data-type=\\\"jump-anchor\\\"]):active{color:var(--tui-primary-active)}.tui-editor-socket .ProseMirror a[data-type=jump-anchor]{text-decoration:underline;-webkit-text-decoration-color:var(--tui-link);text-decoration-color:var(--tui-link)}.tui-editor-socket .ProseMirror a[data-type=jump-anchor]:before{content:\\\"#\\\"}.tui-editor-socket .ProseMirror a[data-type=jump-anchor]:hover{color:var(--tui-link)}.tui-editor-socket .ProseMirror a:hover img[contenteditable=false]{cursor:pointer;outline:.25rem solid var(--tui-link)}.tui-editor-socket ul:not([data-type]),.tui-editor-socket ol:not([data-type]){list-style-type:none;margin:1rem 1rem 1rem 1.5rem;padding:0}.tui-editor-socket ul:not([data-type]) li,.tui-editor-socket ol:not([data-type]) li{margin:.75rem 0}.tui-editor-socket ul:not([data-type]) li>p,.tui-editor-socket ol:not([data-type]) li>p{display:inline;margin:0 auto;word-break:break-word}.tui-editor-socket ul:not([data-type]) li:before,.tui-editor-socket ol:not([data-type]) li:before{unicode-bidi:-webkit-isolate;unicode-bidi:isolate;font-feature-settings:\\\"tnum\\\";font-variant-numeric:tabular-nums;text-transform:none;text-indent:0;text-align:start;text-align-last:start}.tui-editor-socket ul:not([data-type]) li>p{display:block}.tui-editor-socket ul:not([data-type])>li:before{content:\\\"\\\";display:inline-block;width:.5rem;height:.5rem;border-radius:100%;margin:.5rem .875rem .0625rem -1.375rem;background-color:var(--tui-primary);vertical-align:top;box-sizing:border-box;float:left}.tui-editor-socket li ul:not([data-type])>li:before{background:none;border:.125rem solid var(--tui-primary)}.tui-editor-socket li ul:not([data-type])>li>ul:not([data-type])>li:before{background:var(--tui-primary);border-radius:0;width:.375rem;height:.375rem}.tui-editor-socket ol:not([data-type]){counter-reset:item}.tui-editor-socket ol:not([data-type])>li:before{content:counters(item,\\\".\\\") \\\".\\\";display:block;counter-increment:item;margin:0 .75rem 0 -1.5rem;color:var(--tui-base-05);vertical-align:top;float:left;white-space:nowrap}.tui-editor-socket [data-type=details-content] ol{counter-reset:details-item}.tui-editor-socket [data-type=details-content] ol:not([data-type])>li:before{content:counters(details-item,\\\".\\\") \\\".\\\";counter-increment:details-item}.tui-editor-socket [data-type=details-content] ol [data-type=details-content] ol{counter-reset:details-item2}.tui-editor-socket [data-type=details-content] ol:not([data-type])>li [data-type=details-content] ol:not([data-type])>li:before{content:counters(details-item2,\\\".\\\") \\\".\\\";counter-increment:details-item2}.tui-editor-socket ul[data-type] li[data-checked]{display:flex;grid-gap:.5rem;gap:.5rem}.tui-editor-socket ul[data-type] li[data-checked]>label>input[type=checkbox]{position:relative;width:var(--t-size, 1rem);height:var(--t-size, 1rem);border-radius:var(--tui-radius-xs, .25rem);transition-property:color,background,opacity,box-shadow,border;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:.125rem solid transparent;outline-offset:-.125rem;margin-top:.25rem;cursor:pointer}.tui-editor-socket ul[data-type] li[data-checked]>label>input[type=checkbox]:before{content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;-webkit-mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"></svg>') center / 100%;mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"></svg>') center / 100%;transform:scale(0);transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out}.tui-editor-socket ul[data-type] li>label>input[type=checkbox]:checked{background:var(--tui-primary, #526ed3);color:var(--tui-primary-text, #fff)}.tui-editor-socket ul[data-type] li>label>input[type=checkbox]:checked:before{-webkit-mask-image:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><polyline vector-effect=\\\"non-scaling-stroke\\\" points=\\\"20 6 9 17 4 12\\\" /></svg>');mask-image:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"><polyline vector-effect=\\\"non-scaling-stroke\\\" points=\\\"20 6 9 17 4 12\\\" /></svg>');transform:scale(1)}.tui-editor-socket ul[data-type] li>label>input[type=checkbox]{box-shadow:inset 0 0 0 1px var(--tui-base-04);color:var(--tui-text-01)}.tui-editor-socket._preview-image img{cursor:pointer}.tui-editor-socket .ProseMirror video,.tui-editor-socket .ProseMirror audio{pointer-events:none}.tui-editor-socket img.ProseMirror-selectednode{outline:.25rem solid var(--tui-primary-hover)}.tui-editor-socket .t-editor-placeholder:before{content:attr(data-placeholder);float:left;color:var(--tui-base-05);pointer-events:none;height:0}.tui-editor-socket table{border-collapse:collapse;table-layout:unset;width:100%;margin:0;overflow:hidden}.tui-editor-socket table .tableWrapper{overflow-x:auto}.tui-editor-socket .tableWrapper,.tui-editor-socket .tui-table-wrapper{overflow-x:auto}.tui-editor-socket table td{position:relative;min-width:1em;height:2rem;border:2px solid var(--tui-base-03);padding:3px 5px;vertical-align:top;box-sizing:border-box;word-break:break-word}.tui-editor-socket table th{position:relative;min-width:1em;height:2rem;border:2px solid var(--tui-base-03);padding:3px 5px;vertical-align:top;box-sizing:border-box;word-break:break-word;font-weight:bold;text-align:left;background-color:var(--tui-base-02);min-height:2rem}.tui-editor-socket table .column-resize-handle{position:absolute;right:-2px;top:0;bottom:-2px;width:4px;background-color:#adf;pointer-events:none}.tui-editor-socket table td>*{margin-top:0;margin-bottom:0}.tui-editor-socket table th>*{margin-top:0;margin-bottom:0}.tui-editor-socket .selectedCell:after{content:\\\"\\\";position:absolute;top:0;left:0;right:0;bottom:0;background:var(--tui-selection);pointer-events:none}.tui-editor-socket summary{display:flex;align-items:center;min-height:3.5rem;width:100%;padding:0 1.25rem;box-sizing:border-box;border-radius:var(--tui-radius-l);pointer-events:none;outline:none}.tui-editor-socket summary:focus-visible{outline:2px solid var(--tui-link)}.tui-editor-socket summary p{min-width:1px;margin:0}.tui-editor-socket summary::-webkit-details-marker{display:none}.tui-editor-socket details[open] summary{border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}.tui-editor-socket .details-arrow,.tui-editor-socket .t-details-arrow{position:absolute;top:1.5rem;right:1.25rem;height:.575rem;width:.575rem;border:1px solid var(--tui-base-06);border-width:0 2px 2px 0;transform:rotate(45deg);transition:var(--tui-duration, .3s);-webkit-appearance:none;-moz-appearance:none;appearance:none;box-sizing:border-box;padding:0;background:none;cursor:pointer;outline:none}.tui-editor-socket details{width:100%;border:1px solid var(--tui-base-04);border-radius:var(--tui-radius-l)}.tui-editor-socket div[data-type=details-content]{padding:1.25rem;min-height:3rem;border:1px solid var(--tui-base-04);border-width:1px 0 0}.tui-editor-socket div[data-type=details-content] h1:first-child,.tui-editor-socket div[data-type=details-content] h2:first-child,.tui-editor-socket div[data-type=details-content] pre:first-child,.tui-editor-socket div[data-type=details-content] ul:first-child,.tui-editor-socket div[data-type=details-content] ol:first-child,.tui-editor-socket div[data-type=details-content] ol li:first-child,.tui-editor-socket div[data-type=details-content] ul li:first-child{margin-top:0}.tui-editor-socket .details-wrapper,.tui-editor-socket .t-details-wrapper{margin-bottom:.5rem;position:relative;display:flex}.tui-editor-socket .details-wrapper_rendered .details-arrow,.tui-editor-socket .t-details-wrapper_rendered .details-arrow,.tui-editor-socket .details-wrapper_rendered .t-details-arrow,.tui-editor-socket .t-details-wrapper_rendered .t-details-arrow{pointer-events:none}.tui-editor-socket .details-wrapper_rendered summary,.tui-editor-socket .t-details-wrapper_rendered summary{transition:transform var(--tui-duration, .3s);cursor:pointer;pointer-events:auto}.tui-editor-socket .details-wrapper_rendered summary:hover,.tui-editor-socket .t-details-wrapper_rendered summary:hover{background:var(--tui-base-02)}.tui-editor-socket details[open]+.details-arrow,.tui-editor-socket details[open]+.t-details-arrow{top:1.75rem;transform:rotate(225deg)}.tui-editor-socket pre{white-space:pre-wrap;word-break:break-word;border-radius:.25rem;margin:1rem 0;padding:.75rem 1rem;font-family:Courier,monospace;color:var(--tui-text-02);background:var(--tui-base-02)}.tui-editor-socket .tui-group-node{display:flex;flex-direction:row}.tui-editor-socket .tui-group-node:hover>.tui-group-pointer{pointer-events:auto;opacity:1}.tui-editor-socket .tui-group-pointer{opacity:0;min-height:.8125rem;max-height:.8125rem;min-width:.8125rem;max-width:.8125rem;margin:.3125rem .3125rem 0 0;cursor:grab;background-image:url('data:image/svg+xml;charset=UTF-8,<svg viewBox=\\\"0 0 10 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4 14c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM2 6C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\\\" fill-opacity=\\\"0.2\\\" fill=\\\"black\\\" /></svg>');background-repeat:no-repeat;background-size:contain;background-position:center}.tui-editor-socket [data-mode=onDark] .tui-group-pointer{background-image:url('data:image/svg+xml;charset=UTF-8,<svg viewBox=\\\"0 0 10 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4 14c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zM2 6C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6C.9 0 0 .9 0 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\\\" fill-opacity=\\\"0.2\\\" fill=\\\"white\\\" /></svg>')}\\n\"],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TuiEditorSocketComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorSocketModule = /*#__PURE__*/(() => {\n  class TuiEditorSocketModule {}\n  TuiEditorSocketModule.ɵfac = function TuiEditorSocketModule_Factory(t) {\n    return new (t || TuiEditorSocketModule)();\n  };\n  TuiEditorSocketModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditorSocketModule\n  });\n  TuiEditorSocketModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return TuiEditorSocketModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiEditorSocketComponent, TuiEditorSocketModule };\n","import * as i0 from '@angular/core';\nimport { Directive, Input, Injectable, Renderer2, Component, ChangeDetectionStrategy, ElementRef, Inject, EventEmitter, ChangeDetectorRef, NgZone, Optional, Self, ViewChild, Output, NgModule } from '@angular/core';\nimport * as i7 from '@taiga-ui/cdk';\nimport { tuiIsTextNode, tuiIsElement, EMPTY_CLIENT_RECT, AbstractTuiPortalService, AbstractTuiPortalHostComponent, TuiDropdownPortalService, AbstractTuiControl, ALWAYS_TRUE_HANDLER, ALWAYS_FALSE_HANDLER, tuiZonefree, tuiAsFocusableItemAccessor, tuiAutoFocusOptionsProvider, TuiItemModule, TuiActiveZoneModule } from '@taiga-ui/cdk';\nimport * as i2 from '@taiga-ui/core';\nimport { TuiDropdownSelectionDirective, tuiGetWordRange, tuiAsDriver, tuiAsRectAccessor, TuiRectAccessor, tuiAsViewport, TUI_ANIMATIONS_DEFAULT_DURATION, TuiWrapperModule, TuiScrollbarModule, TuiDropdownModule } from '@taiga-ui/core';\nimport * as i12 from 'rxjs';\nimport { combineLatest, ReplaySubject, fromEvent } from 'rxjs';\nimport { map, distinctUntilChanged, take, shareReplay, delay, takeUntil, throttleTime } from 'rxjs/operators';\nimport * as i6 from '@angular/common';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport * as i11 from '@angular/forms';\nimport { NgControl } from '@angular/forms';\nimport * as i1 from '@tinkoff/tui-editor/components/toolbar';\nimport { TuiToolbarComponent, TuiToolbarModule } from '@tinkoff/tui-editor/components/toolbar';\nimport { defaultEditorTools, TUI_EDITOR_RESIZE_EVENT } from '@tinkoff/tui-editor/constants';\nimport * as i10 from '@tinkoff/tui-editor/directives';\nimport { TuiTiptapEditorService, TuiTiptapEditorDirective, TuiTiptapEditorModule } from '@tinkoff/tui-editor/directives';\nimport { LAZY_EDITOR_EXTENSIONS, TUI_EDITOR_EXTENSIONS, INITIALIZATION_TIPTAP_CONTAINER, TIPTAP_EDITOR, LAZY_TIPTAP_EDITOR, TUI_EDITOR_CONTENT_PROCESSOR, TUI_EDITOR_VALUE_TRANSFORMER, TUI_EDITOR_OPTIONS } from '@tinkoff/tui-editor/tokens';\nimport { tuiGetSelectionState, tuiIsSafeLinkRange } from '@tinkoff/tui-editor/utils';\nimport * as i4 from '@tinkoff/tui-editor/components/editor-socket';\nimport { TuiEditorSocketModule } from '@tinkoff/tui-editor/components/editor-socket';\nimport * as i5 from '@tinkoff/tui-editor/components/edit-link';\nimport { TuiEditLinkModule } from '@tinkoff/tui-editor/components/edit-link';\nimport * as i13 from '@tinkoff/tui-editor/abstract';\nconst _c0 = [\"*\", [[\"tools\"]], [[\"tools\"]], [[\"mention\"]]];\nconst _c1 = [\"*\", \"tools\", \"tools\", \"mention\"];\nfunction TuiEditorComponent_div_0_tui_toolbar_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-toolbar\", 10);\n    i0.ɵɵlistener(\"fileAttached\", function TuiEditorComponent_div_0_tui_toolbar_2_Template_tui_toolbar_fileAttached_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.fileAttached.emit($event));\n    });\n    i0.ɵɵprojection(1, 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.interactive)(\"tools\", ctx_r1.tools);\n  }\n}\nfunction TuiEditorComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.exampleText, \" \");\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-scrollbar\", 14);\n    i0.ɵɵlistener(\"mousedown\", function TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template_tui_scrollbar_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.focus($event));\n    });\n    i0.ɵɵelementContainer(1, 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const editor_r5 = i0.ɵɵreference(4);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", editor_r5);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-scrollbar\", 16);\n    i0.ɵɵlistener(\"mousedown\", function TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template_tui_scrollbar_mousedown_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.focus($event));\n    });\n    i0.ɵɵelementContainer(1, 15);\n    i0.ɵɵelement(2, \"tui-editor-portal-host\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const editor_r5 = i0.ɵɵreference(4);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", editor_r5);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-toolbar\", 21);\n    i0.ɵɵlistener(\"fileAttached\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template_tui_toolbar_fileAttached_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r1.fileAttached.emit($event));\n    });\n    i0.ɵɵprojection(1, 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const activeZone_r9 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"disabled\", !ctx_r1.interactive)(\"tools\", ctx_r1.tools)(\"tuiActiveZoneParent\", activeZone_r9);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-edit-link\", 22, 2);\n    i0.ɵɵlistener(\"addLink\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template_tui_edit_link_addLink_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const link_r11 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(link_r11.anchorMode ? ctx_r1.addAnchor($event) : ctx_r1.addLink($event));\n    })(\"removeLink\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template_tui_edit_link_removeLink_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const link_r11 = i0.ɵɵreference(1);\n      const ctx_r1 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(link_r11.anchorMode ? ctx_r1.removeAnchor() : ctx_r1.removeLink());\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵprojection(1, 3);\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template, 2, 3, \"tui-toolbar\", 19)(2, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template, 2, 0, \"tui-edit-link\", 20)(3, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_ng_container_3_Template, 2, 0, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const editorLoaded_r12 = i0.ɵɵnextContext(3).ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-floating\", ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", editorLoaded_r12 && ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isLinkSelected);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isMentionMode);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"tui-editor-socket\", 18);\n    i0.ɵɵlistener(\"stateChange\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template_tui_editor_socket_stateChange_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      return i0.ɵɵresetView(0);\n    })(\"valueChange\", function TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template_tui_editor_socket_valueChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r1 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r1.onModelChange($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(2, TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_Template, 4, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const dropdown_r13 = i0.ɵɵreference(3);\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"tuiDropdown\", dropdown_r13)(\"tuiToolbarDropdown\", ctx_r1.dropdownSelectionHandler)(\"tuiToolbarDropdownPosition\", ctx_r1.floatingToolbar ? \"selection\" : \"tag\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"editable\", ctx_r1.interactive)(\"value\", ctx_r1.value);\n  }\n}\nfunction TuiEditorComponent_div_0_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template, 2, 1, \"tui-scrollbar\", 12)(2, TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template, 3, 1, \"tui-scrollbar\", 13)(3, TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template, 4, 5, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.floatingToolbar);\n  }\n}\nfunction TuiEditorComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"tuiActiveZoneChange\", function TuiEditorComponent_div_0_Template_div_tuiActiveZoneChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onActiveZone($event));\n    });\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵtemplate(2, TuiEditorComponent_div_0_tui_toolbar_2_Template, 2, 2, \"tui-toolbar\", 6);\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵprojection(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, TuiEditorComponent_div_0_div_5_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, TuiEditorComponent_div_0_ng_container_6_Template, 5, 2, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const editorLoaded_r12 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"appearance\", ctx_r1.options.appearence)(\"disabled\", ctx_r1.disabled)(\"focus\", ctx_r1.computedFocused)(\"hover\", ctx_r1.pseudoHover)(\"invalid\", ctx_r1.computedInvalid)(\"readOnly\", ctx_r1.readOnly);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", editorLoaded_r12 && !ctx_r1.floatingToolbar);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"t-placeholder_raised\", ctx_r1.placeholderRaised);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasExampleText);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", editorLoaded_r12);\n  }\n}\nlet TuiDropdownToolbarDirective = /*#__PURE__*/(() => {\n  class TuiDropdownToolbarDirective extends TuiDropdownSelectionDirective {\n    constructor() {\n      super(...arguments);\n      this.previousTagPosition = null;\n      this.stream$ = combineLatest([this.handler$, this.selection$.pipe(map(() => this.getRange()), distinctUntilChanged((x, y) => x.startOffset === y.startOffset && x.endOffset === y.endOffset))]).pipe(map(([handler, range]) => {\n        var _a;\n        const contained = this.el.nativeElement.contains(range.commonAncestorContainer) || ((_a = range.commonAncestorContainer.parentElement) === null || _a === void 0 ? void 0 : _a.closest('tui-dropdown'));\n        this.range = contained && tuiIsTextNode(range.commonAncestorContainer) ? range : this.range;\n        return contained && handler(this.range) || this.inDropdown(range);\n      }));\n      this.position = 'selection';\n    }\n    set tuiToolbarDropdown(visible) {\n      this.tuiDropdownSelection = visible;\n    }\n    getClientRect() {\n      var _a, _b, _c, _d;\n      switch (this.position) {\n        case 'tag':\n          {\n            const {\n              commonAncestorContainer\n            } = this.range;\n            const element = tuiIsElement(commonAncestorContainer) ? commonAncestorContainer : commonAncestorContainer.parentNode;\n            if ((_a = element === null || element === void 0 ? void 0 : element.parentElement) === null || _a === void 0 ? void 0 : _a.closest('tui-dropdown')) {\n              return (_b = this.previousTagPosition) !== null && _b !== void 0 ? _b : EMPTY_CLIENT_RECT;\n            }\n            this.previousTagPosition = element && tuiIsElement(element) ? ((_c = this.doc.querySelector('.ProseMirror-selectednode')) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect()) || element.getBoundingClientRect() : EMPTY_CLIENT_RECT;\n            return this.previousTagPosition;\n          }\n        case 'word':\n          return tuiGetWordRange(this.range).getBoundingClientRect();\n        default:\n          {\n            const rect = this.range.getBoundingClientRect();\n            if (rect.x === 0 && rect.y === 0 && rect.width === 0 && rect.height === 0) {\n              return ((_d = this.el.nativeElement.querySelector('p')) !== null && _d !== void 0 ? _d : this.el.nativeElement).getBoundingClientRect();\n            }\n            return rect;\n          }\n      }\n    }\n  }\n  TuiDropdownToolbarDirective.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiDropdownToolbarDirective_BaseFactory;\n    return function TuiDropdownToolbarDirective_Factory(t) {\n      return (ɵTuiDropdownToolbarDirective_BaseFactory || (ɵTuiDropdownToolbarDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiDropdownToolbarDirective)))(t || TuiDropdownToolbarDirective);\n    };\n  })();\n  TuiDropdownToolbarDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiDropdownToolbarDirective,\n    selectors: [[\"\", \"tuiToolbarDropdown\", \"\"]],\n    inputs: {\n      position: [0, \"tuiToolbarDropdownPosition\", \"position\"],\n      tuiToolbarDropdown: \"tuiToolbarDropdown\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsDriver(TuiDropdownToolbarDirective), tuiAsRectAccessor(TuiDropdownToolbarDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiDropdownToolbarDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorPortalService = /*#__PURE__*/(() => {\n  class TuiEditorPortalService extends AbstractTuiPortalService {}\n  TuiEditorPortalService.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiEditorPortalService_BaseFactory;\n    return function TuiEditorPortalService_Factory(t) {\n      return (ɵTuiEditorPortalService_BaseFactory || (ɵTuiEditorPortalService_BaseFactory = i0.ɵɵgetInheritedFactory(TuiEditorPortalService)))(t || TuiEditorPortalService);\n    };\n  })();\n  TuiEditorPortalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TuiEditorPortalService,\n    factory: TuiEditorPortalService.ɵfac\n  });\n  return TuiEditorPortalService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_EDITOR_PROVIDERS = [{\n  provide: LAZY_EDITOR_EXTENSIONS,\n  deps: [TUI_EDITOR_EXTENSIONS],\n  useFactory: extensions => {\n    const extensions$ = new ReplaySubject(1);\n    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n    Promise.all(extensions).then(extensions => extensions$.next(extensions));\n    return extensions$;\n  }\n}, {\n  provide: INITIALIZATION_TIPTAP_CONTAINER,\n  deps: [Renderer2],\n  useFactory: renderer => renderer.createElement(`div`)\n}, {\n  provide: TIPTAP_EDITOR,\n  deps: [INITIALIZATION_TIPTAP_CONTAINER, LAZY_EDITOR_EXTENSIONS, LAZY_TIPTAP_EDITOR],\n  useFactory: (element, extensions, editor) => combineLatest([editor, extensions]).pipe(take(1), map(([LazyEditor, extensions]) => new LazyEditor({\n    element,\n    extensions\n  })), shareReplay({\n    bufferSize: 1,\n    refCount: true\n  }))\n}, TuiTiptapEditorService, TuiEditorPortalService];\nlet TuiEditorPortalHostComponent = /*#__PURE__*/(() => {\n  class TuiEditorPortalHostComponent extends AbstractTuiPortalHostComponent {}\n  TuiEditorPortalHostComponent.ɵfac = /* @__PURE__ */(() => {\n    let ɵTuiEditorPortalHostComponent_BaseFactory;\n    return function TuiEditorPortalHostComponent_Factory(t) {\n      return (ɵTuiEditorPortalHostComponent_BaseFactory || (ɵTuiEditorPortalHostComponent_BaseFactory = i0.ɵɵgetInheritedFactory(TuiEditorPortalHostComponent)))(t || TuiEditorPortalHostComponent);\n    };\n  })();\n  TuiEditorPortalHostComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorPortalHostComponent,\n    selectors: [[\"tui-editor-portal-host\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: AbstractTuiPortalService,\n      useExisting: TuiDropdownPortalService\n    }, {\n      provide: AbstractTuiPortalHostComponent,\n      useExisting: TuiEditorPortalHostComponent\n    }]), i0.ɵɵInheritDefinitionFeature],\n    decls: 2,\n    vars: 0,\n    consts: [[\"viewContainer\", \"\"]],\n    template: function TuiEditorPortalHostComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementContainer(0, null, 0);\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{position:absolute;top:0;left:0;display:block;height:100%;width:100%;pointer-events:none}\"],\n    changeDetection: 0\n  });\n  return TuiEditorPortalHostComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorPortalDirective = /*#__PURE__*/(() => {\n  class TuiEditorPortalDirective extends TuiRectAccessor {\n    constructor(el) {\n      super();\n      this.el = el;\n      this.type = 'viewport';\n    }\n    getClientRect() {\n      return this.el.nativeElement.getBoundingClientRect();\n    }\n  }\n  TuiEditorPortalDirective.ɵfac = function TuiEditorPortalDirective_Factory(t) {\n    return new (t || TuiEditorPortalDirective)(i0.ɵɵdirectiveInject(ElementRef));\n  };\n  TuiEditorPortalDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TuiEditorPortalDirective,\n    selectors: [[\"\", \"tuiEditorPortal\", \"\"]],\n    features: [i0.ɵɵProvidersFeature([{\n      provide: TuiDropdownPortalService,\n      useExisting: TuiEditorPortalService\n    }, tuiAsViewport(TuiEditorPortalDirective)]), i0.ɵɵInheritDefinitionFeature]\n  });\n  return TuiEditorPortalDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorComponent = /*#__PURE__*/(() => {\n  class TuiEditorComponent extends AbstractTuiControl {\n    constructor(control, cdr, editorLoaded$, editorService, contentProcessor, doc, transformer, options, zone) {\n      super(control, cdr, transformer);\n      this.editorLoaded$ = editorLoaded$;\n      this.editorService = editorService;\n      this.contentProcessor = contentProcessor;\n      this.doc = doc;\n      this.options = options;\n      this.zone = zone;\n      this.exampleText = '';\n      this.tools = defaultEditorTools;\n      this.floatingToolbar = false;\n      this.fileAttached = new EventEmitter();\n      this.hasMentionPlugin = false;\n      this.focused = false;\n      this.openDropdownWhen = range => this.currentFocusedNodeIsTextAnchor(range) || this.currentFocusedNodeIsImageAnchor || this.isMentionMode;\n      this.editorLoaded$.pipe(delay(0), takeUntil(this.destroy$)).subscribe(() => {\n        this.hasMentionPlugin = !!this.editorService.getOriginTiptapEditor().extensionManager.extensions.find(extension => extension.name === 'mention');\n        this.patchContentEditableElement();\n        this.listenResizeEvents();\n      });\n    }\n    get nativeFocusableElement() {\n      var _a, _b;\n      return this.computedDisabled ? null : ((_b = (_a = this.el) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.querySelector('[contenteditable].ProseMirror')) || null;\n    }\n    get dropdownSelectionHandler() {\n      if (this.floatingToolbar) {\n        return ALWAYS_TRUE_HANDLER;\n      }\n      return this.focused ? this.openDropdownWhen : ALWAYS_FALSE_HANDLER;\n    }\n    get editor() {\n      return this.editorService.getOriginTiptapEditor() ? this.editorService : null;\n    }\n    get placeholderRaised() {\n      return this.computedFocused && !this.readOnly || this.hasValue;\n    }\n    get hasExampleText() {\n      return !!this.exampleText && this.computedFocused && !this.hasValue && !this.readOnly;\n    }\n    get isLinkSelected() {\n      var _a, _b, _c;\n      const focusElement = (_a = this.doc.getSelection()) === null || _a === void 0 ? void 0 : _a.focusNode;\n      const parentFocusElement = focusElement === null || focusElement === void 0 ? void 0 : focusElement.parentNode;\n      return (parentFocusElement === null || parentFocusElement === void 0 ? void 0 : parentFocusElement.nodeName.toLowerCase()) === 'a' || ((_b = parentFocusElement === null || parentFocusElement === void 0 ? void 0 : parentFocusElement.parentNode) === null || _b === void 0 ? void 0 : _b.nodeName.toLowerCase()) === 'a' || (focusElement === null || focusElement === void 0 ? void 0 : focusElement.nodeName.toLowerCase()) === 'a' || !!((_c = parentFocusElement === null || parentFocusElement === void 0 ? void 0 : parentFocusElement.parentElement) === null || _c === void 0 ? void 0 : _c.closest('tui-edit-link'));\n    }\n    get mentionSuggestions() {\n      const before = this.selectionState.before;\n      return (before === null || before === void 0 ? void 0 : before.startsWith('@')) && before.length > 1 ? (before === null || before === void 0 ? void 0 : before.replace('@', '')) || '' : '';\n    }\n    get isMentionMode() {\n      var _a;\n      return this.hasMentionPlugin && ((_a = this.selectionState.before) === null || _a === void 0 ? void 0 : _a.startsWith('@'));\n    }\n    writeValue(value) {\n      var _a, _b;\n      if (value === this.value) {\n        return;\n      }\n      const processed = this.contentProcessor(value || '');\n      super.writeValue(processed);\n      if (processed !== value) {\n        (_a = this.control) === null || _a === void 0 ? void 0 : _a.setValue(processed, {\n          onlySelf: false,\n          emitEvent: false,\n          emitModelToViewChange: false,\n          emitViewToModelChange: false\n        });\n      }\n      if (!this.focused) {\n        (_b = this.doc.getSelection()) === null || _b === void 0 ? void 0 : _b.removeAllRanges();\n      }\n    }\n    onActiveZone(focused) {\n      var _a;\n      this.focused = focused;\n      this.updateFocused(focused);\n      (_a = this.control) === null || _a === void 0 ? void 0 : _a.updateValueAndValidity();\n    }\n    onModelChange(value) {\n      this.value = value;\n    }\n    addAnchor(anchor) {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.setAnchor(anchor);\n    }\n    removeAnchor() {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.removeAnchor();\n    }\n    addLink(link) {\n      var _a, _b;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.selectClosest();\n      (_b = this.editor) === null || _b === void 0 ? void 0 : _b.setLink(link);\n    }\n    removeLink() {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.unsetLink();\n    }\n    get selectionState() {\n      return tuiGetSelectionState(this.editor);\n    }\n    focus(event) {\n      var _a, _b;\n      if ((_a = this.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.contains(event.target)) {\n        return;\n      }\n      event.preventDefault();\n      (_b = this.nativeFocusableElement) === null || _b === void 0 ? void 0 : _b.focus();\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.editor) === null || _a === void 0 ? void 0 : _a.destroy();\n    }\n    getFallbackValue() {\n      return '';\n    }\n    /**\n     * @description:\n     * The commonAncestorContainer not always relevant node element in Range,\n     * so the focusNode is used for the correct behaviour from the selection,\n     * which is the actual element at the moment\n     */\n    currentFocusedNodeIsTextAnchor(range) {\n      var _a, _b;\n      return !!((_b = (_a = range.startContainer.parentElement) === null || _a === void 0 ? void 0 : _a.closest('a')) === null || _b === void 0 ? void 0 : _b.contains(this.focusNode)) && tuiIsSafeLinkRange(range);\n    }\n    get focusNode() {\n      var _a, _b;\n      return (_b = (_a = this.doc.getSelection()) === null || _a === void 0 ? void 0 : _a.focusNode) !== null && _b !== void 0 ? _b : null;\n    }\n    get hasValue() {\n      return !!this.value;\n    }\n    get currentFocusedNodeIsImageAnchor() {\n      var _a, _b, _c;\n      return ((_a = this.focusNode) === null || _a === void 0 ? void 0 : _a.nodeName) === 'A' && ['IMG', 'TUI-IMAGE-EDITOR'].includes((_c = (_b = this.focusNode) === null || _b === void 0 ? void 0 : _b.childNodes[0]) === null || _c === void 0 ? void 0 : _c.nodeName);\n    }\n    patchContentEditableElement() {\n      var _a, _b;\n      (_a = this.nativeFocusableElement) === null || _a === void 0 ? void 0 : _a.setAttribute('translate', this.options.translate);\n      (_b = this.nativeFocusableElement) === null || _b === void 0 ? void 0 : _b.setAttribute('spellcheck', String(this.options.spellcheck));\n    }\n    listenResizeEvents() {\n      var _a, _b;\n      ((_a = this.el) === null || _a === void 0 ? void 0 : _a.nativeElement) && fromEvent((_b = this.el) === null || _b === void 0 ? void 0 : _b.nativeElement, TUI_EDITOR_RESIZE_EVENT).pipe(throttleTime(0), tuiZonefree(this.zone), takeUntil(this.destroy$)).subscribe(() => this.editorService.valueChange$.next(this.editorService.getHTML()));\n    }\n  }\n  TuiEditorComponent.ɵfac = function TuiEditorComponent_Factory(t) {\n    return new (t || TuiEditorComponent)(i0.ɵɵdirectiveInject(NgControl, 10), i0.ɵɵdirectiveInject(ChangeDetectorRef), i0.ɵɵdirectiveInject(TIPTAP_EDITOR), i0.ɵɵdirectiveInject(TuiTiptapEditorService), i0.ɵɵdirectiveInject(TUI_EDITOR_CONTENT_PROCESSOR), i0.ɵɵdirectiveInject(DOCUMENT), i0.ɵɵdirectiveInject(TUI_EDITOR_VALUE_TRANSFORMER, 8), i0.ɵɵdirectiveInject(TUI_EDITOR_OPTIONS), i0.ɵɵdirectiveInject(NgZone));\n  };\n  TuiEditorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TuiEditorComponent,\n    selectors: [[\"tui-editor\"]],\n    viewQuery: function TuiEditorComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(TuiTiptapEditorDirective, 5, ElementRef);\n        i0.ɵɵviewQuery(TuiToolbarComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.el = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.toolbar = _t.first);\n      }\n    },\n    inputs: {\n      exampleText: \"exampleText\",\n      tools: \"tools\",\n      floatingToolbar: \"floatingToolbar\"\n    },\n    outputs: {\n      fileAttached: \"fileAttached\"\n    },\n    features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiEditorComponent), tuiAutoFocusOptionsProvider({\n      delay: TUI_ANIMATIONS_DEFAULT_DURATION\n    }), TUI_EDITOR_PROVIDERS]), i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c1,\n    decls: 2,\n    vars: 3,\n    consts: [[\"editor\", \"\"], [\"dropdown\", \"\"], [\"link\", \"\"], [\"tuiWrapper\", \"\", \"class\", \"t-wrapper\", 3, \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\", \"tuiActiveZoneChange\", 4, \"ngIf\"], [\"tuiWrapper\", \"\", 1, \"t-wrapper\", 3, \"tuiActiveZoneChange\", \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\"], [1, \"t-toolbar-wrapper\"], [3, \"disabled\", \"tools\", \"fileAttached\", 4, \"ngIf\"], [1, \"t-placeholder\"], [\"class\", \"t-example-text\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"fileAttached\", \"disabled\", \"tools\"], [1, \"t-example-text\"], [\"class\", \"t-scrollbar\", 3, \"mousedown\", 4, \"ngIf\"], [\"tuiEditorPortal\", \"\", \"class\", \"t-scrollbar\", 3, \"mousedown\", 4, \"ngIf\"], [1, \"t-scrollbar\", 3, \"mousedown\"], [3, \"ngTemplateOutlet\"], [\"tuiEditorPortal\", \"\", 1, \"t-scrollbar\", 3, \"mousedown\"], [\"tuiDropdownLimitWidth\", \"auto\", 3, \"tuiDropdown\", \"tuiToolbarDropdown\", \"tuiToolbarDropdownPosition\"], [\"tuiTiptapEditor\", \"\", 3, \"stateChange\", \"valueChange\", \"editable\", \"value\"], [3, \"disabled\", \"tools\", \"tuiActiveZoneParent\", \"fileAttached\", 4, \"ngIf\"], [3, \"addLink\", \"removeLink\", 4, \"ngIf\"], [3, \"fileAttached\", \"disabled\", \"tools\", \"tuiActiveZoneParent\"], [3, \"addLink\", \"removeLink\"]],\n    template: function TuiEditorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef(_c0);\n        i0.ɵɵtemplate(0, TuiEditorComponent_div_0_Template, 7, 11, \"div\", 3);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.editorLoaded$));\n      }\n    },\n    dependencies: [i1.TuiToolbarComponent, i2.TuiScrollbarComponent, TuiEditorPortalHostComponent, i4.TuiEditorSocketComponent, i5.TuiEditLinkComponent, i6.NgIf, i2.TuiWrapperDirective, i7.TuiActiveZoneDirective, i6.NgTemplateOutlet, TuiEditorPortalDirective, i2.TuiDropdownOptionsDirective, i2.TuiDropdownDirective, i2.TuiDropdownDriverDirective, i2.TuiDropdownPositionDirective, TuiDropdownToolbarDirective, i10.TuiTiptapEditorDirective, i6.AsyncPipe],\n    styles: [\"[_nghost-%COMP%]{position:relative;z-index:0;display:block;font:var(--tui-font-text-m);border-radius:var(--tui-radius-m);max-height:inherit;min-height:10rem;box-sizing:border-box;overflow:clip}.t-wrapper[_ngcontent-%COMP%]{display:flex;max-height:inherit;min-height:inherit;cursor:text;overflow:clip;flex-direction:column;border-radius:inherit}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-02);pointer-events:none;will-change:transform;transform:translateY(0);margin:1rem 1rem -1rem;min-height:1.625rem;width:95%;font-size:.9375rem}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill)}._invalid[_nghost-%COMP%]:not(._focused)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-error-fill-night)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-03)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01)}[tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-01-night)}._focused[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   [tuiWrapper][data-mode=onDark][_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-02-night)}.t-placeholder_raised[_ngcontent-%COMP%]{width:110%}.t-placeholder[_ngcontent-%COMP%]:empty{min-height:.8rem}.t-example-text[_ngcontent-%COMP%]{position:absolute;left:1rem;margin-top:1.6rem;color:var(--tui-base-06);letter-spacing:normal;text-transform:none}.t-example-text_light[_ngcontent-%COMP%]{color:var(--tui-text-03-night)}.t-example-text_dark[_ngcontent-%COMP%]{color:var(--tui-text-03)}.t-scrollbar[_ngcontent-%COMP%]{display:flex;border-bottom:.3125rem solid transparent;padding-bottom:1.3125rem;box-sizing:border-box;flex:1}.t-floating[_ngcontent-%COMP%], .t-floating[_ngcontent-%COMP%]     .t-tools-wrapper{max-width:var(--tui-floating-toolbar-max-width, 31.25rem);flex-wrap:nowrap}\"],\n    changeDetection: 0\n  });\n  return TuiEditorComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiEditorModule = /*#__PURE__*/(() => {\n  class TuiEditorModule {}\n  TuiEditorModule.ɵfac = function TuiEditorModule_Factory(t) {\n    return new (t || TuiEditorModule)();\n  };\n  TuiEditorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TuiEditorModule\n  });\n  TuiEditorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[TuiItemModule, CommonModule, TuiToolbarModule, TuiWrapperModule, TuiScrollbarModule, TuiEditLinkModule, TuiActiveZoneModule, TuiDropdownModule, TuiTiptapEditorModule, TuiEditorSocketModule]]\n  });\n  return TuiEditorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_EDITOR_PROVIDERS, TuiDropdownToolbarDirective, TuiEditorComponent, TuiEditorModule, TuiEditorPortalDirective, TuiEditorPortalHostComponent, TuiEditorPortalService };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, SecurityContext, Injectable, Inject, Pipe, NgModule } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport dompurify from 'dompurify';\nimport * as i2 from '@angular/platform-browser';\n\n/**\n * Token for {@link NgDompurifyConfig}\n */\nconst DOMPURIFY_CONFIG = new InjectionToken('Config for DOMPurify', {\n  factory: () => ({}),\n  providedIn: 'root'\n});\n\n/**\n * Token for adding hooks to DOMPurify, see {@link addHook}\n */\nconst DOMPURIFY_HOOKS = new InjectionToken('Hooks for DOMPurify', {\n  factory: () => [],\n  providedIn: 'root'\n});\n\n/**\n * A function that takes style rule value as input and returns a sanitized string\n *\n * NOTE: Angular 10 removed CSS sanitation so by default this method does nothing\n */\nconst SANITIZE_STYLE = new InjectionToken('A function that sanitizes value for a CSS rule', {\n  factory: () => value => value,\n  providedIn: 'root'\n});\nconst createDOMPurify = dompurify;\n/**\n * Implementation of Angular {@link Sanitizer} purifying via DOMPurify\n *\n * use {@link DOMPURIFY_CONFIG} token to provide config ({@link NgDompurifyConfig})\n * use {@link SANITIZE_STYLE} token to provide a style sanitizing method ({@link SanitizeStyle})\n * use {@link DOMPURIFY_HOOKS} token to provide a hooks for DOMPurify ({@link addHook})\n *\n * Ambient type cannot be used without @dynamic https://github.com/angular/angular/issues/23395\n * @dynamic\n */\nlet NgDompurifySanitizer = /*#__PURE__*/(() => {\n  class NgDompurifySanitizer {\n    constructor(config, sanitizeStyle, {\n      defaultView\n    }, hooks) {\n      this.config = config;\n      this.sanitizeStyle = sanitizeStyle;\n      this.domPurify = createDOMPurify(defaultView);\n      hooks.forEach(({\n        name,\n        hook\n      }) => {\n        this.domPurify.addHook(name, hook);\n      });\n    }\n    sanitize(context, value, config = this.config) {\n      if (context === SecurityContext.SCRIPT) {\n        throw new Error('DOMPurify does not support SCRIPT context');\n      }\n      return context === SecurityContext.STYLE ? this.sanitizeStyle(String(value)) : this.domPurify.sanitize(String(value || ''), config);\n    }\n  }\n  NgDompurifySanitizer.ɵfac = function NgDompurifySanitizer_Factory(t) {\n    return new (t || NgDompurifySanitizer)(i0.ɵɵinject(DOMPURIFY_CONFIG), i0.ɵɵinject(SANITIZE_STYLE), i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(DOMPURIFY_HOOKS));\n  };\n  NgDompurifySanitizer.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: NgDompurifySanitizer,\n    factory: NgDompurifySanitizer.ɵfac,\n    providedIn: 'root'\n  });\n  return NgDompurifySanitizer;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Pipe that transforms dirty content to clean via {@link NgDompurifySanitizer}\n */\nlet NgDompurifyPipe = /*#__PURE__*/(() => {\n  class NgDompurifyPipe {\n    constructor(sanitizer, domSanitizer) {\n      this.sanitizer = sanitizer;\n      this.domSanitizer = domSanitizer;\n    }\n    transform(value, context = SecurityContext.HTML, config) {\n      return this.bypassSecurityTrust(context, this.sanitizer.sanitize(context, value, config));\n    }\n    bypassSecurityTrust(context, purifiedValue) {\n      switch (context) {\n        case SecurityContext.HTML:\n          return this.domSanitizer.bypassSecurityTrustHtml(purifiedValue);\n        case SecurityContext.STYLE:\n          return this.domSanitizer.bypassSecurityTrustStyle(purifiedValue);\n        case SecurityContext.URL:\n          return this.domSanitizer.bypassSecurityTrustUrl(purifiedValue);\n        case SecurityContext.RESOURCE_URL:\n          return this.domSanitizer.bypassSecurityTrustResourceUrl(purifiedValue);\n        default:\n          return null;\n      }\n    }\n  }\n  NgDompurifyPipe.ɵfac = function NgDompurifyPipe_Factory(t) {\n    return new (t || NgDompurifyPipe)(i0.ɵɵdirectiveInject(NgDompurifySanitizer, 16), i0.ɵɵdirectiveInject(i2.DomSanitizer, 16));\n  };\n  NgDompurifyPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"dompurify\",\n    type: NgDompurifyPipe,\n    pure: true\n  });\n  return NgDompurifyPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NgDompurifyModule = /*#__PURE__*/(() => {\n  class NgDompurifyModule {}\n  NgDompurifyModule.ɵfac = function NgDompurifyModule_Factory(t) {\n    return new (t || NgDompurifyModule)();\n  };\n  NgDompurifyModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NgDompurifyModule\n  });\n  NgDompurifyModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return NgDompurifyModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Public API Surface of @tinkoff/ng-dompurify\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DOMPURIFY_CONFIG, DOMPURIFY_HOOKS, NgDompurifyModule, NgDompurifyPipe, NgDompurifySanitizer, SANITIZE_STYLE };\n"],"mappings":"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","names":["require_purify","__commonJSMin","exports","module","global","factory","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","freeze","seal","create","apply","construct","x","fun","thisValue","args","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringToString","stringMatch","stringReplace","stringIndexOf","stringTrim","objectHasOwnProperty","regExpTest","typeErrorCreate","unconstruct","func","thisArg","_len","_key","_len2","_key2","addToSet","set","array","transformCaseFunc","l","element","lcElement","cleanArray","index","clone","object","newObject","property","value","lookupGetter","prop","desc","fallbackValue","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","CUSTOM_ELEMENT","EXPRESSIONS","NODE_TYPE","getGlobal","_createTrustedTypesPolicy","trustedTypes","purifyHostElement","suffix","ATTR_NAME","policyName","scriptUrl","createDOMPurify","window","DOMPurify","root","document","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","SAFE_FOR_XML","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","SANITIZE_NAMED_PROPS_PREFIX","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","parent","tagName","parentTagName","_forceRemove","node","_removeAttribute","name","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","body","_createNodeIterator","_isClobbered","elm","_isNode","_executeHook","entryPoint","currentNode","data","hook","_sanitizeElements","content","_isBasicCustomElement","parentNode","childNodes","childCount","i","childClone","expr","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attributes","hookEvent","attr","namespaceURI","attrValue","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","importedNode","returnNode","nodeIterator","serializedHTML","tag","hookFunction","purify","EDGE","tuiIsEdgeOlderThan","version","userAgent","tuiIsFirefox","tuiIsSafari","doc","_a","_b","_c","_d","_e","_f","_g","_h","win","isMacOsSafari","isIosSafari","makeRandomSalt","escapeRegExp","search","extractLinearGradientIdsFromSvg","svg","_a","ids","url","tuiSvgLinearGradientProcessor","salt","tuiIsString","newSvg","previousId","escapedId","newId","POLYMORPHEUS_CONTEXT","InjectionToken","PolymorpheusComponent","component","i","injector","useValue","Injector","PolymorpheusTemplate","template","cdr","_dir","_ctx","ɵɵdirectiveInject","TemplateRef","ChangeDetectorRef","ɵɵdefineDirective","PolymorpheusContext","$implicit","PolymorpheusOutletDirective","vcr","t","isDirective","TemplateRef","content","_a","context","ChangeDetectorRef","proxy","_","key","isComponent","PolymorpheusContext","_dir","_ctx","isTemplate","injector","ComponentFactoryResolver$1","ɵɵdirectiveInject","ViewContainerRef","Injector","ɵɵdefineDirective","ɵɵNgOnChangesFeature","PolymorpheusTemplate","PolymorpheusComponent","PolymorpheusModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","TUI","AbstractTuiInteractive","EventEmitter","_a","focused","focusVisible","ɵɵdefineDirective","rf","ctx","ɵɵattribute","ɵɵclassProp","AbstractTuiValueTransformer","AbstractTuiControl","ngControl","cdr","valueTransformer","Subject","EMPTY_FUNCTION","value","invalid","valid","touched","disabled","control","_b","_c","controlValue","NgModel","delay","startWith","map","filter","tuiIsPresent","distinctUntilChanged","switchMap","merge","takeUntil","onChange","componentValue","onTouched","oldValue","newValue","extractor","defaultFieldValue","ɵɵdirectiveInject","NgControl","ChangeDetectorRef","ɵɵInheritDefinitionFeature","tuiAsControl","useExisting","AbstractTuiController","ɵɵNgOnChangesFeature","AbstractTuiDialogService","Observable","idService","observer","BehaviorSubject","content","options","completeWith","result","dialog","item","ɵɵinject","TuiIdService","ɵɵdefineInjectable","AbstractTuiMultipleControl","AbstractTuiControl","ɵAbstractTuiMultipleControl_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵInheritDefinitionFeature","AbstractTuiNullableControl","ɵAbstractTuiNullableControl_BaseFactory","AbstractTuiPortalService","TuiNoHostException","host","component","hostView","templateRef","context","viewRef","ɵɵdefineInjectable","AbstractTuiPortalHostComponent","injector","el","portalService","parent","factory","ComponentFactoryResolver$1","providers","Injector","ref","ɵɵdirectiveInject","INJECTOR$1","ElementRef","rf","ctx","ɵɵviewQuery","_c0","ViewContainerRef","_t","ɵɵqueryRefresh","ɵɵloadQuery","tuiCoerceBooleanProperty","value","TuiMapperPipe","value","mapper","args","ɵɵdefinePipe","TuiMapperPipeModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiScrollControlsComponent_ng_container_0_div_1_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","bars_r1","ɵɵnextContext","ɵɵclassProp","TuiScrollControlsComponent_ng_container_0_div_2_Template","TuiScrollControlsComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","ɵɵadvance","ɵɵproperty","MIN_WIDTH","getOffsetVertical","clientY","top","height","getOffsetHorizontal","clientX","left","width","TuiScrollbarDirective","zone","destroy$","animationFrame$","container","doc","el","nativeElement","mousedown$","tuiTypedFromEvent","mousemove$","mouseup$","mousedownWrapper$","merge","map","event","switchMap","rect","vertical","horizontal","takeUntil","tuiZonefree","scrollTop","scrollLeft","throttleTime","POLLING_TIME","tuiScrollFrom","scrollHeight","clientHeight","scrollWidth","clientWidth","compensation","offsetVertical","offsetHorizontal","offsetHeight","offsetWidth","maxTop","maxLeft","scrolledTop","scrolledLeft","ɵɵdirectiveInject","NgZone","TuiDestroyService","ANIMATION_FRAME","TUI_SCROLL_REF","DOCUMENT","ElementRef","ɵɵdefineDirective","ɵɵProvidersFeature","TuiScrollControlsComponent","scrollRef","startWith","distinctUntilChanged","a","b","tuiZoneOptimized","ɵɵdefineComponent","ɵɵpipe","ɵɵpipeBind1","NgIf","AsyncPipe","TuiScrollRefDirective","ɵɵdefineDirective","ɵɵProvidersFeature","TUI_SCROLL_REF","ElementRef","TuiScrollControlsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","decorateMethod","originalMethod","previousArgs","originalFnWasCalledLeastAtOnce","pureValue","args","arg","index","decorateGetter","originalGetter","propertyKey","enumerable","value","tuiPure","target","propertyKeyOrContext","descriptor","context","TuiPureException","get","original","patched","TuiActiveZoneDirective","active$","zone","el","directParentActiveZone","_a","map","element","startWith","distinctUntilChanged","skip","tuiZoneOptimized","_b","node","item","index","array","activeZone","tuiArrayRemove","ɵɵdirectiveInject","TUI_ACTIVE_ELEMENT","NgZone","ElementRef","ɵɵdefineDirective","rf","ctx","ɵɵlistener","ɵɵresolveDocument","__decorate","tuiPure","TuiActiveZoneModule","ɵɵdefineNgModule","ɵɵdefineInjector","AbstractTuiAutofocusHandler","focusable","el","_a","ɵɵinvalidFactory","ɵɵdefineDirective","TIMEOUT","NG_ANIMATION_SELECTOR","TuiDefaultAutofocusHandler","animationFrame$","race","timer","throttleTime","POLLING_TIME","map","skipWhile","take","ɵɵdirectiveInject","TUI_FOCUSABLE_ITEM_ACCESSOR","ElementRef","ANIMATION_FRAME","ɵɵInheritDefinitionFeature","TEXTFIELD_ATTRS","TuiIosAutofocusHandler","renderer","zone","win","fakeInput","duration","fakeFocusTimeoutId","elementFocusTimeoutId","blurHandler","focusHandler","rect","tuiPx","element","attr","value","tuiIsPresent","Renderer2","NgZone","WINDOW","TUI_AUTOFOCUS_DEFAULT_OPTIONS","TUI_AUTOFOCUS_OPTIONS","tuiCreateToken","tuiAutoFocusOptionsProvider","options","tuiProvideOptions","TUI_AUTOFOCUS_HANDLER","InjectionToken","TUI_AUTOFOCUS_PROVIDERS","isIos","Optional","Self","TUI_IS_IOS","TuiDestroyService","TuiAutoFocusDirective","handler","destroy$","tuiCoerceBooleanProperty","takeUntil","ɵɵProvidersFeature","TuiAutoFocusModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiAutofilledStyleComponent","ɵɵdefineComponent","rf","ctx","TuiAutofilledDirective","directiveStyles","EventEmitter","propertyName","target","_a","ɵɵdirectiveInject","TuiDirectiveStylesService","ɵɵdefineDirective","ɵɵlistener","$event","ɵɵclassProp","TuiAutofilledModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiCheckedDirective","EventEmitter","checked","ɵɵdefineDirective","rf","ctx","ɵɵlistener","$event","ɵɵhostProperty","TuiCheckedModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiFocusVisibleDirective","tuiFocusVisibleChange","ɵɵdirectiveInject","TuiFocusVisibleService","ɵɵdefineDirective","ɵɵProvidersFeature","TuiDestroyService","TuiFocusVisibleModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiFocusableDirective","ɵɵdefineDirective","rf","ctx","ɵɵhostProperty","TuiFocusableModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiFocusedDirective","nativeElement","zone","merge","tuiTypedFromEvent","map","tuiIsNativeFocused","startWith","distinctUntilChanged","skip","tuiZoneOptimized","ɵɵdirectiveInject","ElementRef","NgZone","ɵɵdefineDirective","TuiFocusedModule","ɵɵdefineNgModule","ɵɵdefineInjector","movedOut","currentTarget","relatedTarget","tuiIsElement","TuiHoveredService","Observable","el","zone","subscriber","merge","tuiTypedFromEvent","map","ALWAYS_TRUE_HANDLER","ALWAYS_FALSE_HANDLER","filter","distinctUntilChanged","tuiZoneOptimized","ɵɵinject","ElementRef","NgZone","ɵɵdefineInjectable","TuiHoveredDirective","tuiHoveredChange","ɵɵdirectiveInject","ɵɵdefineDirective","ɵɵProvidersFeature","TuiHoveredModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiItemDirective","ɵɵdefineDirective","TuiItemModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiLetContext","internalDirectiveInstance","TuiLetDirective","viewContainer","templateRef","_dir","_ctx","ɵɵdirectiveInject","ViewContainerRef","TemplateRef","ɵɵdefineDirective","TuiLetModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiObscuredDirective","activeZone","obscured$","Subject","mapped$","map","obscuredBy","element","tuiIfMap","enabled","ɵɵdirectiveInject","TuiActiveZoneDirective","TuiObscuredService","ɵɵdefineDirective","ɵɵProvidersFeature","TuiParentsScrollService","TuiDestroyService","TuiObscuredModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiOverscrollDirective","nativeElement","zone","destroy$","tuiTypedFromEvent","filter","tuiZonefree","takeUntil","event","switchMap","touches","clientX","clientY","deltaX","deltaY","vertical","tap","changedTouch","negative","_a","target","currentTarget","cancelable","tuiIsElement","tuiGetScrollParent","tuiCanScroll","ɵɵdirectiveInject","ElementRef","NgZone","TuiDestroyService","ɵɵdefineDirective","rf","ctx","ɵɵstyleProp","ɵɵProvidersFeature","TuiOverscrollModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","TuiDropdownPortalService","AbstractTuiPortalService","ɵTuiDropdownPortalService_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineInjectable","TuiDropdownHostComponent","AbstractTuiPortalHostComponent","ɵTuiDropdownHostComponent_BaseFactory","ɵɵdefineComponent","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","rf","ctx","ɵɵprojectionDef","ɵɵprojection","ɵɵelementContainer","TuiDropdownHostModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiPressedDirective","el","takeOnlyTrustedEvents","tuiPressedObservable","ɵɵdirectiveInject","ElementRef","TUI_TAKE_ONLY_TRUSTED_EVENTS","ɵɵdefineDirective","TuiPressedModule","ɵɵdefineNgModule","ɵɵdefineInjector","MAX_VALUE","TuiRepeatTimesContext","$implicit","TuiRepeatTimesDirective","viewContainer","templateRef","count","safeCount","tuiClamp","length","index","amount","ɵɵdirectiveInject","ViewContainerRef","TemplateRef","ɵɵdefineDirective","TuiRepeatTimesModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiDayOfWeek","TuiMonthNumber","tuiDateClamp","date","min","max","DAYS_IN_WEEK","MONTHS_IN_YEAR","MIN_DAY","MIN_MONTH","MAX_MONTH","MIN_YEAR","MAX_YEAR","RANGE_SEPARATOR_CHAR","CHAR_NO_BREAK_SPACE","CHAR_EN_DASH","MILLISECONDS_IN_SECOND","SECONDS_IN_MINUTE","MINUTES_IN_HOUR","HOURS_IN_DAY","MILLISECONDS_IN_MINUTE","MILLISECONDS_IN_HOUR","MILLISECONDS_IN_DAY","DATE_FILLER_LENGTH","DATE_RANGE_FILLER_LENGTH","TUI_DATE_FORMAT","tuiCreateToken","TUI_DATE_SEPARATOR","changeDateSeparator","dateString","newDateSeparator","TuiYear","_TuiYear","year","tuiInRange","from","to","tuiNormalizeToIntNumber","resultYear","hint","TuiMonth","_TuiMonth","month","isLeapYear","TuiMonthNumber","nativeDate","absoluteFrom","another","totalMonths","TuiDay","_TuiDay","day","date","normalizedYear","normalizedMonth","normalizedDay","dateMode","rawDate","yearMonthDayString","TuiInvalidYearException","TuiInvalidMonthException","TuiInvalidDayException","monthDaysCount","dayOfWeek","TuiDayOfWeek","startFromMonday","min","max","years","months","days","dateFormat","separator","dd","mm","yyyy","TuiMonthRange","_TuiMonthRange","month1","month2","TuiDayRange","_TuiDayRange","day1","day2","rangeString","leftDay","dateSeparator","TUI_FIRST_DAY","TUI_LAST_DAY","TUI_CACHE_BUSTING_PAYLOAD","TUI_VERSION","DEFAULT_ICONS_PATH","name","TUI_DEFAULT_MARKER_HANDLER","EMPTY_ARRAY","TUI_DEFAULT_NUMBER_FORMAT","CHAR_NO_BREAK_SPACE","tuiEditingKeys","TUI_SCROLL_INTO_VIEW","TUI_ICON_ERROR","TUI_HINT_DIRECTIONS","tuiCheckFixedPosition","element","tuiGetViewportWidth","document","innerWidth","tuiGetWordRange","currentRange","range","startContainer","startOffset","endContainer","endOffset","ownerDocument","treeWalker","svgNodeFilter","container","textContent","content","offset","CHAR_NO_BREAK_SPACE","CHAR_ZERO_WIDTH_SPACE","result","item","WIDTH_SEARCH","HEIGHT_SEARCH","START","tuiProcessIcon","source","name","src","attributes","indexOfWidth","indexOfHeight","widthOffset","heightOffset","widthString","heightString","width","height","ITEM_SIZE","CONTENT_SIZE","tuiGetBorder","hasIcon","hasCleaner","hasTooltip","hasContent","size","offset","border","tuiIconsPathFactory","staticPath","base","name","TUI_CACHE_BUSTING_PAYLOAD","DEFAULT_ICONS_PATH","tuiIsEditingKey","key","tuiEditingKeys","tuiIsObscured","el","exceptSelector","_a","tuiGetElementObscures","tuiIsPresumedHTMLString","candidate","trimmed","tuiOverrideOptions","override","fallback","directive","options","result","SIZES","tuiSizeBigger","biggerThanSize","tuiIsMobile","win","mobile","tuiGetViewportWidth","TuiAppearance","TuiInteractiveState","TuiRangeState","TUI_REDUCED_MOTION","tuiCreateTokenFromFactory","_a","_b","_c","inject","DOCUMENT","TUI_ANIMATIONS_DEFAULT_DURATION","TUI_ANIMATIONS_DURATION","TUI_ANIMATION_OPTIONS","TUI_ASSERT_ENABLED","isDevMode","COMMON_ICONS","TUI_COMMON_ICONS","tuiCreateToken","TUI_DATA_LIST_ACCESSOR","InjectionToken","tuiAsDataListAccessor","useExisting","TUI_DATA_LIST_HOST","tuiAsDataListHost","TUI_DAY_TYPE_HANDLER","tuiCreateToken","day","TUI_DOCUMENT_OR_SHADOW_ROOT","TUI_ELEMENT_REF","TUI_FIRST_DAY_OF_WEEK","TuiDayOfWeek","TUI_MONTHS","tuiCreateTokenFromFactory","tuiExtractI18n","TUI_CLOSE_WORD","TUI_NOTHING_FOUND_MESSAGE","TUI_DEFAULT_ERROR_MESSAGE","TUI_SPIN_TEXTS","TUI_SHORT_WEEK_DAYS","TUI_DEFAULT_ICONS_PLACE","TUI_ICONS_PLACE","TUI_ICONS","TUI_ICONS_PATH","tuiIconsPathFactory","inject","TUI_MEDIA","TUI_IS_MOBILE_RES","win","WINDOW","media","tuiTypedFromEvent","share","startWith","map","tuiIsMobile","distinctUntilChanged","tuiZoneOptimized","NgZone","TUI_LEGACY_MASK","TUI_MODE","STATUS_ICON","TUI_NOTIFICATION_DEFAULT_OPTIONS","$implicit","TUI_NOTIFICATION_OPTIONS","TUI_NUMBER_FORMAT","tuiCreateToken","TUI_DEFAULT_NUMBER_FORMAT","TUI_NUMBER_FORMAT_OBSERVABLE","tuiCreateToken","of","TUI_DEFAULT_NUMBER_FORMAT","TUI_OPTION_CONTENT","InjectionToken","convertToSundayFirstWeekFormat","weekDaysNames","sundayIndex","TUI_ORDERED_SHORT_WEEK_DAYS","tuiCreateTokenFromFactory","firstDayOfWeekIndex","inject","TUI_FIRST_DAY_OF_WEEK","TUI_SHORT_WEEK_DAYS","map","weekDays","TUI_SANITIZER","InjectionToken","TUI_SELECTION_STREAM","tuiCreateTokenFromFactory","doc","inject","DOCUMENT","merge","tuiTypedFromEvent","switchMap","takeUntil","share","TUI_SPIN_ICONS","tuiCreateToken","TUI_SVG_CONTENT_PROCESSOR","tuiSvgLinearGradientProcessor","TUI_SVG_SRC_PROCESSOR","identity","TUI_TEXTFIELD_APPEARANCE","TuiAppearance","TUI_TEXTFIELD_HOST","InjectionToken","tuiAsTextfieldHost","useExisting","TUI_THEME","TUI_VALUE_ACCESSOR","TUI_VIEWPORT","win","WINDOW","tuiAsViewport","TuiDriver","Observable","tuiAsDriver","useExisting","TuiVehicle","tuiAsVehicle","AbstractTuiDriverDirective","destroy$","drivers","vehicles","vehicle","type","merge","distinctUntilChanged","takeUntil","value","ɵɵdirectiveInject","TuiDestroyService","ɵɵdefineDirective","AbstractTuiTextfieldHost","host","_a","_input","AbstractTuiControl","tuiFallbackAccessor","accessors","fallback","accessor","TuiPositionAccessor","tuiPositionAccessorFor","SkipSelf","Optional","tuiAsPositionAccessor","TuiRectAccessor","tuiRectAccessorFor","tuiFallbackRectAccessor","tuiAsRectAccessor","PRIMARY_OUTLET","RouteTitleKey","ParamsAsMap","params","name","v","convertToParamMap","defaultUrlMatcher","segments","segmentGroup","route","parts","posParams","index","part","segment","shallowEqualArrays","a","b","i","shallowEqual","k1","getDataKeys","k2","key","equalArraysOrString","obj","aSorted","bSorted","val","last","wrapIntoObservable","value","isObservable","isPromise","from","of","pathCompareMap","equalSegmentGroups","containsSegmentGroup","paramCompareMap","equalParams","containsParams","containsTree","container","containee","options","matrixParams","equalPath","matrixParamsMatch","c","containsSegmentGroupHelper","containeePaths","current","next","containerPaths","containeeSegment","UrlTree","root","UrlSegmentGroup","queryParams","fragment","DEFAULT_SERIALIZER","children","serializePaths","UrlSegment","path","parameters","serializePath","equalSegments","as","bs","mapChildrenIntoArray","fn","res","childOutlet","child","UrlSerializer","_UrlSerializer","t","ɵɵdefineInjectable","DefaultUrlSerializer","url","p","UrlParser","tree","serializeSegment","query","serializeQueryParams","encodeUriFragment","primary","k","encodeUriString","s","encodeUriQuery","encodeUriSegment","decode","decodeQuery","serializeMatrixParams","strParams","SEGMENT_RE","matchSegments","str","match","MATRIX_PARAM_SEGMENT_RE","matchMatrixKeySegments","QUERY_PARAM_RE","matchQueryParams","QUERY_PARAM_VALUE_RE","matchUrlQueryParamValue","RuntimeError","valueMatch","decodedKey","decodedVal","currentVal","allowPrimary","outletName","createRoot","rootCandidate","squashSegmentGroup","newChildren","childCandidate","grandChildOutlet","grandChild","mergeTrivialChildren","isUrlTree","createUrlTreeFromSnapshot","relativeTo","commands","relativeToUrlSegmentGroup","createSegmentGroupFromRoute","createUrlTreeFromSegmentGroup","targetGroup","createSegmentGroupFromRouteRecursive","currentRoute","childOutlets","childSnapshot","rootSegmentGroup","nav","computeNavigation","position","findStartingPositionForTargetGroup","newSegmentGroup","updateSegmentGroupChildren","updateSegmentGroup","isMatrixParams","command","isCommandWithOutlets","oldRoot","oldSegmentGroup","qp","replaceSegment","newRoot","oldSegment","newSegment","Navigation","isAbsolute","numberOfDoubleDots","cmdWithOutlet","cmd","cmdIdx","outlets","urlPart","partIndex","Position","processChildren","target","modifier","createPositionApplyingDoubleDots","group","g","ci","dd","getOutlets","startIndex","m","prefixedWith","slicedCommands","createNewSegmentGroup","o","childrenOfEmptyChild","outlet","currentCommandIndex","currentPathIndex","noMatch","curr","compare","paths","createNewSegmentChildren","stringify","IMPERATIVE_NAVIGATION","EventType","RouterEvent","id","NavigationStart","navigationTrigger","restoredState","NavigationEnd","urlAfterRedirects","NavigationCancellationCode","NavigationSkippedCode","NavigationCancel","reason","code","NavigationSkipped","NavigationError","error","RoutesRecognized","state","GuardsCheckStart","GuardsCheckEnd","shouldActivate","ResolveStart","ResolveEnd","RouteConfigLoadStart","RouteConfigLoadEnd","ChildActivationStart","snapshot","ChildActivationEnd","ActivationStart","ActivationEnd","BeforeActivateRoutes","RedirectRequest","url","navigationBehaviorOptions","OutletContext","injector","ChildrenOutletContexts","_ChildrenOutletContexts","parentInjector","childName","outlet","context","contexts","t","ɵɵinject","EnvironmentInjector","ɵɵdefineInjectable","Tree","root","p","n","findNode","findPath","c","cc","s","value","node","child","path","TreeNode","children","nodeChildrenAsMap","map","RouterState","snapshot","setRouterState","createEmptyState","rootComponent","createEmptyStateSnapshot","emptyUrl","BehaviorSubject","UrlSegment","emptyParams","emptyData","emptyQueryParams","fragment","activated","ActivatedRoute","PRIMARY_OUTLET","ActivatedRouteSnapshot","RouterStateSnapshot","urlSubject","paramsSubject","queryParamsSubject","fragmentSubject","dataSubject","component","futureSnapshot","_a","d","RouteTitleKey","of","convertToParamMap","getInherited","route","parent","paramsInheritanceStrategy","inherited","routeConfig","__spreadValues","hasStaticTitle","url","params","queryParams","data","resolve","segment","matched","serializeNode","state","advanceActivatedRoute","currentSnapshot","nextSnapshot","shallowEqual","shallowEqualArrays","equalParamsAndUrlSegments","a","b","equalUrlParams","equalSegments","parentsMismatch","config","RouterOutlet","_RouterOutlet","EventEmitter","inject","ViewContainerRef","ChangeDetectorRef","INPUT_BINDER","changes","firstChange","previousValue","outletName","RuntimeError","cmp","ref","activatedRoute","environmentInjector","location","childContexts","OutletInjector","ɵɵdefineDirective","ɵɵNgOnChangesFeature","_OutletInjector","token","notFoundValue","InjectionToken","createRouterState","routeReuseStrategy","curr","prevState","root","createNode","RouterState","value","children","createOrReuseChildren","TreeNode","detachedRouteHandle","tree","createActivatedRoute","c","child","p","ActivatedRoute","BehaviorSubject","RedirectCommand","redirectTo","navigationBehaviorOptions","NAVIGATION_CANCELING_ERROR","redirectingNavigationError","urlSerializer","redirect","isUrlTree","error","navigationCancelingError","NavigationCancellationCode","message","code","isRedirectingNavigationCancelingError","isNavigationCancelingError","ɵEmptyOutletComponent","_ɵEmptyOutletComponent","t","ɵɵdefineComponent","ɵɵStandaloneFeature","rf","ctx","ɵɵelement","RouterOutlet","getOrCreateRouteInjectorIfNeeded","route","currentInjector","createEnvironmentInjector","standardizeConfig","r","children","c","__spreadProps","__spreadValues","PRIMARY_OUTLET","ɵEmptyOutletComponent","getOutlet","route","sortByMatchingOutlets","routes","outletName","sortedConfig","getClosestRouteInjector","snapshot","_a","s","activateRoutes","rootContexts","routeReuseStrategy","forwardEvent","inputBindingEnabled","map","t","ActivateRoutes","futureState","currState","parentContexts","futureRoot","currRoot","advanceActivatedRoute","futureNode","currNode","contexts","children","nodeChildrenAsMap","futureChild","childOutletName","v","parentContext","future","curr","context","route","treeNode","componentRef","c","ActivationEnd","ChildActivationEnd","stored","injector","getClosestRouteInjector","CanActivate","path","CanDeactivate","component","getAllRouteGuards","getChildRouteGuards","getCanActivateChild","p","canActivateChild","getTokenOrFunctionIdentity","tokenOrFunction","NOT_FOUND","result","isInjectable","futurePath","checks","prevChildren","getRouteGuards","k","deactivateRouteAndItsChildren","shouldRun","shouldRunGuardsAndResolvers","mode","equalPath","shallowEqual","equalParamsAndUrlSegments","r","childName","node","isFunction","isBoolean","isCanLoad","guard","isCanActivate","isCanActivateChild","isCanDeactivate","isCanMatch","isEmptyError","EmptyError","INITIAL_VALUE","prioritizedGuardValue","switchMap","obs","combineLatest","o","take","startWith","results","isRedirect","filter","item","val","isUrlTree","RedirectCommand","checkGuards","mergeMap","targetSnapshot","currentSnapshot","canActivateChecks","canDeactivateChecks","of","__spreadProps","__spreadValues","runCanDeactivateChecks","canDeactivate","runCanActivateChecks","guardsResult","futureRSS","currRSS","from","check","runCanDeactivate","first","futureSnapshot","concatMap","concat","fireChildActivationStart","fireActivationStart","runCanActivateChild","runCanActivate","snapshot","ActivationStart","ChildActivationStart","futureARS","canActivate","canActivateObservables","defer","closestInjector","guardVal","runInInjectionContext","wrapIntoObservable","canActivateChildGuardsMapped","_","d","guardsMapped","currARS","canDeactivateObservables","runCanLoadGuards","segments","urlSerializer","canLoad","canLoadObservables","injectionToken","redirectIfUrlTree","pipe","tap","redirectingNavigationError","runCanMatchGuards","canMatch","canMatchObservables","NoMatch","segmentGroup","AbsoluteRedirect","urlTree","noMatch$1","throwError","namedOutletsRedirect","redirectTo","throwError","RuntimeError","canLoadFails","route","navigationCancelingError","NavigationCancellationCode","ApplyRedirects","urlSerializer","urlTree","res","c","of","PRIMARY_OUTLET","segments","posParams","currentSnapshot","injector","redirectToFn","queryParams","fragment","routeConfig","url","outlet","params","data","title","newRedirect","runInInjectionContext","UrlTree","AbsoluteRedirect","newTree","newRoot","redirectToParams","actualParams","k","v","sourceName","group","updatedSegments","children","name","child","UrlSegmentGroup","redirectToSegments","actualSegments","s","redirectToUrlSegment","pos","idx","noMatch","matchWithChecks","segmentGroup","result","match","getOrCreateRouteInjectorIfNeeded","runCanMatchGuards","map","__spreadValues","createWildcardMatchResult","defaultUrlMatcher","parameters","last","split","consumedSegments","slicedSegments","config","containsEmptyPathMatchesWithNamedOutlets","createChildrenForEmptyPaths","containsEmptyPathMatches","addEmptyPathsToChildrenIfNeeded","routes","emptyPathMatch","getOutlet","primarySegment","r","isImmediateMatch","rawSegment","noLeftoversInUrl","NoLeftoversInUrl","recognize$1","configLoader","rootComponentType","paramsInheritanceStrategy","Recognizer","MAX_ALLOWED_REDIRECTS","e","rootSegmentGroup","rootSnapshot","rootNode","TreeNode","routeState","RouterStateSnapshot","tree","createUrlTreeFromSnapshot","ActivatedRouteSnapshot","catchError","NoMatch","parentRoute","childOutlets","from","concatMap","childOutlet","sortedConfig","sortByMatchingOutlets","scan","outletChildren","defaultIfEmpty","mergeMap","noMatch$1","mergedChildren","mergeEmptyPathMatches","sortActivatedRouteSnapshots","allowRedirects","first","x","isEmptyError","matched","positionalParamSegments","remainingSegments","getData","getResolve","inherited","getInherited","newSegments","matchResult","switchMap","childConfig","childInjector","snapshot","matchedOnOutlet","runCanLoadGuards","shouldLoadResult","tap","cfg","nodes","a","b","hasEmptyPathConfig","node","mergedNodes","duplicateEmptyPathNode","resultNode","mergedNode","n","getData","route","getResolve","recognize","injector","configLoader","rootComponentType","config","serializer","paramsInheritanceStrategy","mergeMap","t","recognize$1","map","targetSnapshot","urlAfterRedirects","__spreadProps","__spreadValues","resolveData","canActivateChecks","of","routesWithResolversToRun","check","routesNeedingDataUpdates","newRoute","flattenRouteTree","routesProcessed","from","concatMap","runResolve","getInherited","tap","takeLast","_","EMPTY","descendants","child","futureARS","futureRSS","resolve","hasStaticTitle","RouteTitleKey","resolveNode","resolvedData","keys","getDataKeys","data","key","getResolver","first","value","RedirectCommand","redirectingNavigationError","DefaultUrlSerializer","mapTo","catchError","e","isEmptyError","throwError","injectionToken","closestInjector","getClosestRouteInjector","resolver","getTokenOrFunctionIdentity","resolverValue","runInInjectionContext","wrapIntoObservable","switchTap","next","switchMap","v","nextResult","TitleStrategy","_TitleStrategy","snapshot","pageTitle","PRIMARY_OUTLET","ɵɵdefineInjectable","inject","DefaultTitleStrategy","_DefaultTitleStrategy","title","ɵɵinject","Title","ROUTER_CONFIGURATION","InjectionToken","ROUTES","RouterConfigLoader","_RouterConfigLoader","Compiler","loadRunner","maybeUnwrapDefaultExport","component","finalize","loader","ConnectableObservable","Subject","refCount","parentInjector","loadChildren","compiler","onLoadEndListener","NgModuleFactory$1","factoryOrRoutes","rawRoutes","requireStandaloneComponents","standardizeConfig","isWrappedDefaultExport","input","UrlHandlingStrategy","_UrlHandlingStrategy","DefaultUrlHandlingStrategy","_DefaultUrlHandlingStrategy","url","newUrlPart","wholeUrl","CREATE_VIEW_TRANSITION","NAVIGATION_ERROR_HANDLER","InjectionToken","NavigationTransitions","_NavigationTransitions","Subject","inject","RouterConfigLoader","EnvironmentInjector","UrlSerializer","ChildrenOutletContexts","Location","INPUT_BINDER","TitleStrategy","ROUTER_CONFIGURATION","UrlHandlingStrategy","CREATE_VIEW_TRANSITION","of","onLoadStart","RouteConfigLoadStart","onLoadEnd","RouteConfigLoadEnd","_a","request","id","__spreadProps","__spreadValues","router","initialUrlTree","initialRouterState","BehaviorSubject","IMPERATIVE_NAVIGATION","filter","t","map","switchMap","overallTransitionState","completed","errored","NavigationCancellationCode","EMPTY","urlTransition","onSameUrlNavigation","reason","NavigationSkipped","NavigationSkippedCode","_b","transition","NavigationStart","recognize","tap","routesRecognized","RoutesRecognized","extractedUrl","source","restoredState","extras","navStart","targetSnapshot","createEmptyState","guardsStart","GuardsCheckStart","getAllRouteGuards","checkGuards","evt","redirectingNavigationError","guardsEnd","GuardsCheckEnd","switchTap","resolveStart","ResolveStart","dataResolved","resolveData","resolveEnd","ResolveEnd","loadComponents","route","loaders","loadedComponent","child","combineLatest","defaultIfEmpty","take","currentSnapshot","viewTransitionStarted","from","targetRouterState","createRouterState","BeforeActivateRoutes","activateRoutes","NavigationEnd","takeUntil","err","finalize","catchError","e","isNavigationCancelingError","NavigationCancel","isRedirectingNavigationCancelingError","RedirectRequest","navigationError","NavigationError","navigationErrorHandlerResult","runInInjectionContext","RedirectCommand","message","cancellationCode","errorHandlerResult","ee","code","navCancel","ɵɵdefineInjectable","isBrowserTriggeredNavigation","RouteReuseStrategy","_RouteReuseStrategy","DefaultRouteReuseStrategy","BaseRouteReuseStrategy","detachedTree","future","curr","_DefaultRouteReuseStrategy","ɵDefaultRouteReuseStrategy_BaseFactory","ɵɵgetInheritedFactory","StateManager","_StateManager","HistoryStateManager","_HistoryStateManager","UrlTree","listener","event","currentTransition","rawUrl","url","path","currentBrowserPageId","state","navigation","restoringFromCaughtError","targetPagePosition","navigationId","routerPageId","ɵHistoryStateManager_BaseFactory","NavigationResult","afterNextNavigation","action","result","defaultErrorHandler","error","exactMatchOptions","subsetMatchOptions","Router","_Router","Console","PendingTasks","ROUTES","Subscription","subscription","currentNavigation","opts","mergedTree","isPublicRouterEvent","rootComponentType","stateCopy","urlTree","config","standardizeConfig","commands","navigationExtras","relativeTo","queryParams","fragment","queryParamsHandling","preserveFragment","f","q","relativeToUrlSegmentGroup","relativeToSnapshot","createSegmentGroupFromRoute","createUrlTreeFromSegmentGroup","isUrlTree","validateCommands","matchOptions","options","containsTree","params","key","value","priorPromise","resolve","reject","promise","res","rej","taskId","i","RuntimeError","ROUTER_SCROLLER","InjectionToken","provideRouter","routes","features","makeEnvironmentProviders","ROUTES","ActivatedRoute","rootRoute","Router","APP_BOOTSTRAP_LISTENER","getBootstrapListener","feature","router","getBootstrapListener","injector","inject","Injector","bootstrappedComponentRef","_a","_b","ref","ApplicationRef","router","Router","bootstrapDone","BOOTSTRAP_DONE","INITIAL_NAVIGATION","ROUTER_PRELOADER","InjectFlags","ROUTER_SCROLLER","InjectionToken","Subject","ROUTER_PRELOADER","InjectionToken","TuiBreakpointService","Observable","media","ngZone","size$","subscriber","a","b","ret","key","map","width","size","distinctUntilChanged","tuiZoneOptimized","shareReplay","ɵɵinject","TUI_MEDIA","NgZone","TUI_WINDOW_SIZE","ɵɵdefineInjectable","TuiFormatDateService","locale","timestamp","of","LOCALE_ID","TuiHintService","BehaviorSubject","directive","hint","TuiPositionService","Observable","el","animationFrame","zone","accessor","subscriber","map","rect","tuiZonefree","finalize","EMPTY_CLIENT_RECT","ɵɵinject","ElementRef","ANIMATION_FRAME","NgZone","TuiPositionAccessor","ɵɵdefineInjectable","TuiSvgService","tuiSanitizer","sanitizer","icons","BehaviorSubject","value","key","name","src","map","parsed","tuiProcessIcon","SecurityContext","ɵɵinject","TUI_SANITIZER","DomSanitizer","TUI_ICONS","ɵɵdefineInjectable","TuiVisualViewportService","win","isWebkit","y","x","_a","_b","WINDOW","TUI_IS_WEBKIT","TuiSvgComponent_ng_container_0_div_1_Template","rf","ctx","ɵɵelement","innerHTML_r1","ɵɵnextContext","ɵɵproperty","ɵɵsanitizeHtml","TuiSvgComponent_ng_container_0_ng_template_2_Template","_r2","ɵɵgetCurrentView","ɵɵnamespaceSVG","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r2","ɵɵresetView","ɵɵelementEnd","ɵɵadvance","ɵɵattribute","TuiSvgComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵtemplateRefExtractor","ɵɵelementContainerEnd","useTemplate_r4","ɵɵreference","TUI_DEPRECATED_ICONS","TUI_SVG_DEFAULT_OPTIONS","TUI_DEFAULT_ICONS_PLACE","tuiIconsPathFactory","identity","tuiSvgLinearGradientProcessor","src","oldIcon","newIcon","TUI_SVG_OPTIONS","tuiCreateTokenFromFactory","inject","TUI_ICONS_PLACE","TUI_ICONS_PATH","TUI_SVG_SRC_PROCESSOR","TUI_SVG_CONTENT_PROCESSOR","TUI_SVG_SRC_INTERCEPTORS","InjectionToken","UNDEFINED_NAMED_ICON","MISSING_EXTERNAL_ICON","FAILED_EXTERNAL_ICON","TuiSvgComponent","doc","win","options","srcInterceptors","tuiSanitizer","svgService","staticRequestService","sanitizer","el","baseHref","ReplaySubject","switchMap","tuiIsString","of","startWith","src","_a","deprecated","newSrc","interceptor","tuiGetDocumentOrShadowRoot","TUI_CACHE_BUSTING_PAYLOAD","tuiIsPresumedHTMLString","use","isUse","message","icon","event","TUI_ICON_ERROR","name","iconsPath","SecurityContext","url","catchError","map","response","ɵɵdirectiveInject","DOCUMENT","WINDOW","TUI_SVG_OPTIONS","TUI_SVG_SRC_INTERCEPTORS","TUI_SANITIZER","TuiSvgService","TuiStaticRequestService","DomSanitizer","ElementRef","TUI_BASE_HREF","ɵɵdefineComponent","rf","ctx","ɵɵtemplate","TuiSvgComponent_ng_container_0_Template","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","TuiLetDirective","NgIf","AsyncPipe","__decorate","tuiPure","TuiSvgModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiLetModule","TRANSITION","DURATION","STAGGER","tuiHeightCollapse","trigger","transition","style","animate","tuiHeightCollapseList","query","stagger","tuiWidthCollapse","tuiWidthCollapseList","tuiFadeIn","tuiFadeInList","tuiFadeInTop","tuiFadeInBottom","tuiDropdownAnimation","tuiScaleIn","tuiPop","tuiScaleInList","tuiSlideIn","tuiSlideInLeft","tuiSlideInLeftList","tuiSlideInRight","tuiSlideInRightList","tuiSlideInTop","tuiSlideInTopList","tuiSlideInBottom","tuiSlideInBottomList","TuiModeDirective","AbstractTuiController","ɵTuiModeDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵInheritDefinitionFeature","TUI_IS_MOBILE_RES_PROVIDER","TUI_IS_MOBILE_RES","SkipSelf","ElementRef","mobile$","nativeElement","MODE_PROVIDER","TUI_MODE","Optional","TuiModeDirective","mode","mode$","startWith","map","of","_c0","TuiScrollbarComponent_tui_scroll_controls_0_Template","rf","ctx","ɵɵelement","TuiScrollbarComponent","cssRef","el","userAgent","isIos","tuiIsFirefox","ElementRef","element","detail","_a","nativeElement","offsetTop","offsetLeft","tuiGetElementOffset","clientHeight","clientWidth","offsetHeight","offsetWidth","scrollTop","scrollLeft","ɵɵdirectiveInject","CSS","USER_AGENT","TUI_IS_IOS","ɵɵdefineComponent","rf","ctx","ɵɵlistener","$event","ɵɵclassProp","ɵɵProvidersFeature","TUI_SCROLL_REF","browserScrollRef","_c0","ɵɵprojectionDef","ɵɵtemplate","TuiScrollbarComponent_tui_scroll_controls_0_Template","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","TuiScrollControlsComponent","NgIf","TuiScrollbarModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiScrollControlsModule","dasharize","camel","letterLetter","AbstractEventPlugin","event","v","BindEventPlugin","element","EMPTY","method","zone$","sub","concat","takeWhile","defer","key","value","unit","ɵBindEventPlugin_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineInjectable","GLOBAL_HANDLER","InjectionToken","document","inject","DOCUMENT","name","GlobalEventPlugin","_","handler","ɵGlobalEventPlugin_BaseFactory","OptionsEventPlugin","ɵOptionsEventPlugin_BaseFactory","PreventEventPlugin","wrapped","ɵPreventEventPlugin_BaseFactory","SelfEventPlugin","ɵSelfEventPlugin_BaseFactory","SilentEventPlugin","ɵSilentEventPlugin_BaseFactory","StopEventPlugin","ɵStopEventPlugin_BaseFactory","ZoneEventPlugin","ɵZoneEventPlugin_BaseFactory","PLUGINS","NG_EVENT_PLUGINS","useClass","EVENT_MANAGER_PLUGINS","shouldCall","predicate","_target","_key","desc","args","EventPluginsModule","plugin","SilentEventPlugin","ɵɵinject","EVENT_MANAGER_PLUGINS","ɵɵdefineNgModule","ɵɵdefineInjector","NG_EVENT_PLUGINS","_c0","a0","TuiDropdownComponent_div_3_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","text_r2","ɵɵadvance","ɵɵtextInterpolate1","TUI_DROPDOWN_COMPONENT","tuiCreateTokenFromFactory","TuiDropdownComponent","TuiDropdownOpenDirective","EventEmitter","open","_a","ɵɵdefineDirective","ɵɵNgOnChangesFeature","TuiDropdownDirective","destroy$","el","dropdown","injector","dropdownService","Subject","PolymorpheusComponent","throttleTime","takeUntil","_b","tuiCheckFixedPosition","show","ɵɵdirectiveInject","TuiDestroyService","ElementRef","INJECTOR$1","TuiDropdownPortalService","ɵɵProvidersFeature","tuiAsRectAccessor","tuiAsVehicle","__decorate","tuiPure","TUI_DROPDOWN_HOVER_DEFAULT_OPTIONS","TUI_DROPDOWN_HOVER_OPTIONS","tuiCreateToken","TuiDropdownHoverDirective","TuiDriver","hovered$","options","parentHover","subscriber","Subject","merge","switchMap","visible","of","delay","tap","share","_a","ɵɵdirectiveInject","TuiHoveredService","TUI_DROPDOWN_HOVER_OPTIONS","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsDriver","ɵɵInheritDefinitionFeature","TUI_DROPDOWN_DEFAULT_OPTIONS","TUI_DROPDOWN_OPTIONS","tuiCreateToken","tuiDropdownOptionsProvider","override","Optional","TuiDropdownOptionsDirective","SkipSelf","tuiOverrideOptions","forwardRef","TuiDropdownPositionDirective","TuiPositionAccessor","viewport","accessors","directive","width","height","_b","hostRect","EMPTY_CLIENT_RECT","viewportRect","minHeight","align","direction","offset","limitWidth","previous","available","rectWidth","right","left","position","better","tuiFallbackRectAccessor","TUI_VIEWPORT","TuiRectAccessor","TuiDropdownDirective","__decorate","tuiPure","TuiDropdownComponent","vvs","position$","destroy$","animation","el","accessor","win","mode$","hoverDirective","map","point","takeUntil","top","hovered","style","maxHeight","innerHeight","clientRect","rect","offsetX","offsetY","sided","tuiPx","nativeElement","ownerDocument","root","focusable","tuiGetClosestFocusable","TuiVisualViewportService","TuiPositionService","TuiDestroyService","TUI_ANIMATION_OPTIONS","ElementRef","WINDOW","TUI_MODE","ɵɵdefineComponent","rf","ctx","ɵɵlistener","ɵɵsyntheticHostProperty","ɵɵattribute","tuiPositionAccessorFor","tuiRectAccessorFor","MODE_PROVIDER","_r1","ɵɵgetCurrentView","ɵɵelementStart","$event","ɵɵrestoreView","ɵɵresetView","ɵɵelementEnd","ɵɵtemplate","TuiDropdownComponent_div_3_Template","activeZone_r3","ɵɵreference","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","TuiScrollbarComponent","TuiActiveZoneDirective","TuiOverscrollDirective","TuiHoveredDirective","PolymorpheusOutletDirective","tuiDropdownAnimation","TuiDropdownDriverDirective","AbstractTuiDriverDirective","destroy$","drivers","vehicles","ɵɵdirectiveInject","TuiDestroyService","TuiDriver","TuiVehicle","ɵɵdefineDirective","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","TuiDropdownManualDirective","TuiDriver","subscriber","BehaviorSubject","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsDriver","ɵɵInheritDefinitionFeature","ɵɵNgOnChangesFeature","TuiDropdownPositionSidedDirective","TuiPositionAccessor","options","viewport","vertical","rect","_a","_b","height","width","hostRect","EMPTY_CLIENT_RECT","direction","minHeight","offset","align","available","position","better","maxLeft","left","ɵɵdirectiveInject","TUI_DROPDOWN_OPTIONS","TUI_VIEWPORT","TuiDropdownPositionDirective","tuiAsPositionAccessor","TuiDropdownSelectionDirective","range","doc","selection$","el","vcr","dropdown","ALWAYS_TRUE_HANDLER","combineLatest","map","distinctUntilChanged","x","y","handler","contained","tuiIsTextNode","visible","tuiIsString","commonAncestorContainer","element","tuiIsElement","tuiGetWordRange","active","tuiGetNativeFocused","selection","tuiIsTextfield","startContainer","endContainer","nativeElement","inDropdown","hostToDropdown","dropdownToHost","ghost","top","selectionStart","selectionEnd","value","tuiPx","CHAR_ZERO_WIDTH_SPACE","CHAR_NO_BREAK_SPACE","node","font","letterSpacing","textTransform","padding","TUI_RANGE","DOCUMENT","TUI_SELECTION_STREAM","ElementRef","ViewContainerRef","TuiDropdownDirective","tuiAsRectAccessor","TuiDropdownModule","ɵɵdefineNgModule","ɵɵdefineInjector","PolymorpheusModule","TuiActiveZoneModule","TuiOverscrollModule","TuiScrollbarModule","TuiHoveredModule","_c0","TuiHintComponent_span_1_Template","rf","ctx","ɵɵelement","text_r1","ɵɵproperty","ɵɵsanitizeHtml","TUI_HINT_COMPONENT","tuiCreateTokenFromFactory","TuiHintComponent","TUI_HINT_DEFAULT_OPTIONS","TUI_HINT_OPTIONS","tuiCreateToken","TuiHintOptionsDirective","AbstractTuiController","options","ɵɵdirectiveInject","TUI_HINT_OPTIONS","ɵɵdefineDirective","ɵɵProvidersFeature","forwardRef","ɵɵInheritDefinitionFeature","TuiHintDirective","el","component","hintService","activeZone","content","_a","show","ElementRef","PolymorpheusComponent","TuiHintService","TuiActiveZoneDirective","tuiAsRectAccessor","tuiAsVehicle","TUI_HINT_COMPONENT","INJECTOR$1","TuiHintHoverDirective","TuiDriver","hovered$","parent","subscriber","Subject","merge","switchMap","visible","of","delay","takeUntil","repeat","filter","map","value","tuiIsObscured","tap","TuiHoveredService","tuiAsDriver","TuiHintPointerDirective","EMPTY_CLIENT_RECT","clientX","clientY","tuiPointToClientRect","ɵTuiHintPointerDirective_BaseFactory","t","ɵɵgetInheritedFactory","rf","ctx","ɵɵlistener","$event","OFFSET","ARROW_OFFSET","TOP","LEFT","TuiHintPositionDirective","TuiPositionAccessor","viewport","directive","accessors","TUI_HINT_DIRECTIONS","acc","direction","width","height","_b","hostRect","leftCenter","topCenter","tuiFallbackRectAccessor","top","left","TUI_VIEWPORT","TuiRectAccessor","__decorate","tuiPure","GAP","TuiHintComponent","position$","destroy$","animation","pointer","accessor","polymorpheus","hover","mode","vvs","point","target","style","rect","safeLeft","tuiClamp","beakTop","beakLeft","tuiPx","TuiPositionService","TuiDestroyService","TUI_ANIMATION_OPTIONS","POLYMORPHEUS_CONTEXT","TuiModeDirective","TuiVisualViewportService","ɵɵdefineComponent","ɵɵresolveDocument","ɵɵsyntheticHostProperty","ɵɵattribute","ɵɵclassProp","tuiPositionAccessorFor","tuiRectAccessorFor","_c0","ɵɵprojectionDef","ɵɵprojection","ɵɵtemplate","TuiHintComponent_span_1_Template","ɵɵadvance","ɵɵproperty","PolymorpheusOutletDirective","tuiFadeIn","TuiHintDescribeDirective","zone","doc","ReplaySubject","tuiIfMap","tuiTypedFromEvent","tuiIsPresent","debounce","timer","startWith","distinctUntilChanged","skip","tuiZoneOptimized","tuiIsNativeFocused","NgZone","DOCUMENT","ɵɵNgOnChangesFeature","TuiHintDriverDirective","AbstractTuiDriverDirective","drivers","vehicles","TuiVehicle","TuiHintModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","TuiTextfieldController","change$","options","legacyAppearance","appearanceDirective","cleanerDirective","customContentDirective","iconDirective","iconLeftDirective","labelOutsideDirective","sizeDirective","prefixDirective","postfixDirective","fillerDirective","TUI_TEXTFIELD_DEFAULT_OPTIONS","TUI_TEXTFIELD_OPTIONS","tuiCreateToken","TUI_TEXTFIELD_APPEARANCE_DIRECTIVE","tuiCreateTokenFromFactory","TuiTextfieldAppearanceDirective","AbstractTuiController","ɵTuiTextfieldAppearanceDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵProvidersFeature","forwardRef","ɵɵInheritDefinitionFeature","TUI_TEXTFIELD_CLEANER","TuiTextfieldCleanerDirective","ɵTuiTextfieldCleanerDirective_BaseFactory","TUI_TEXTFIELD_CUSTOM_CONTENT","TuiTextfieldCustomContentDirective","ɵTuiTextfieldCustomContentDirective_BaseFactory","TUI_TEXTFIELD_FILLER","TuiTextfieldFillerDirective","ɵTuiTextfieldFillerDirective_BaseFactory","TUI_TEXTFIELD_ICON","TuiTextfieldIconDirective","ɵTuiTextfieldIconDirective_BaseFactory","TUI_TEXTFIELD_ICON_LEFT","TuiTextfieldIconLeftDirective","ɵTuiTextfieldIconLeftDirective_BaseFactory","TUI_TEXTFIELD_LABEL_OUTSIDE","TuiTextfieldLabelOutsideDirective","ɵTuiTextfieldLabelOutsideDirective_BaseFactory","TUI_TEXTFIELD_POSTFIX","TuiTextfieldPostfixDirective","ɵTuiTextfieldPostfixDirective_BaseFactory","TUI_TEXTFIELD_PREFIX","TuiTextfieldPrefixDirective","ɵTuiTextfieldPrefixDirective_BaseFactory","TUI_TEXTFIELD_SIZE","TuiTextfieldSizeDirective","ɵTuiTextfieldSizeDirective_BaseFactory","TuiTextfieldControllerModule","ɵɵdefineNgModule","ɵɵdefineInjector","TUI_TEXTFIELD_WATCHED_CONTROLLER","InjectionToken","TEXTFIELD_CONTROLLER_PROVIDER","TuiDestroyService","ChangeDetectorRef","TUI_TEXTFIELD_OPTIONS","TUI_TEXTFIELD_APPEARANCE","cdr","destroy$","options","legacyAppearance","controllers","change$","merge","NEVER","tuiWatch","takeUntil","TuiTextfieldController","TuiMaskAccessorDirective","ɵɵdefineDirective","ɵɵProvidersFeature","NG_VALUE_ACCESSOR","Optional","TUI_VALUE_ACCESSOR","DefaultValueAccessor","accessor","fallback","TuiMaskAccessorModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiWrapperDirective","mode$","TuiInteractiveState","ɵɵdirectiveInject","TUI_MODE","ɵɵdefineDirective","rf","ctx","ɵɵlistener","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","MODE_PROVIDER","TuiWrapperModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","TuiLoaderComponent_div_2_div_3_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","ɵɵadvance","ɵɵtextInterpolate1","TuiLoaderComponent_div_2_div_3_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵclassProp","ɵɵproperty","TuiLoaderComponent_div_2_Template","ɵɵnamespaceSVG","ɵɵelement","ɵɵattribute","TUI_LOADER_DEFAULT_OPTIONS","TUI_LOADER_OPTIONS","tuiCreateToken","TuiLoaderComponent","doc","el","isIos","options","tuiIsSafari","value","tuiBlurNativeFocused","tuiSizeBigger","tuiIsNativeFocusedIn","ɵɵdirectiveInject","DOCUMENT","ElementRef","TUI_IS_IOS","TUI_LOADER_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵclassProp","_c0","ɵɵprojectionDef","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵtemplate","TuiLoaderComponent_div_2_Template","ɵɵproperty","ɵɵattribute","ɵɵadvance","NgIf","PolymorpheusOutletDirective","TuiLoaderModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","_c0","_c1","TuiButtonComponent_ng_container_0_Template","rf","ctx","ɵɵelementContainer","TuiButtonComponent_span_4_tui_svg_1_Template","ɵɵelement","text_r1","ɵɵproperty","TuiButtonComponent_span_4_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵadvance","TuiButtonComponent_span_6_tui_svg_1_Template","text_r3","TuiButtonComponent_span_6_Template","TuiButtonComponent_tui_loader_7_Template","TUI_BUTTON_DEFAULT_OPTIONS","TuiAppearance","TUI_BUTTON_OPTIONS","tuiCreateToken","TuiButtonComponent","AbstractTuiInteractive","mode","el","options","_a","EMPTY","startWith","map","distinctUntilChanged","tuiIsNativeFocused","focused","ɵɵdirectiveInject","TuiModeDirective","ElementRef","TUI_BUTTON_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵlistener","ɵɵhostProperty","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","tuiAsFocusableItemAccessor","TuiDestroyService","ɵɵInheritDefinitionFeature","_c0","_c1","ɵɵprojectionDef","ɵɵtemplate","TuiButtonComponent_ng_container_0_Template","ɵɵpipe","ɵɵelementStart","TuiButtonComponent_span_4_Template","ɵɵprojection","TuiButtonComponent_span_6_Template","ɵɵelementEnd","TuiButtonComponent_tui_loader_7_Template","ɵɵproperty","ɵɵpipeBind1","ɵɵadvance","TuiSvgComponent","TuiLoaderComponent","NgIf","TuiWrapperDirective","PolymorpheusOutletDirective","AsyncPipe","TuiButtonModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","TuiWrapperModule","TuiSvgModule","TuiLoaderModule","_c0","_c1","TuiLinkComponent_tui_svg_0_Template","rf","ctx","ɵɵelement","ctx_r0","ɵɵnextContext","ɵɵproperty","TuiLinkComponent_tui_svg_3_Template","TuiLinkComponent","el","mode$","focusVisible$","merge","tuiTypedFromEvent","map","ALWAYS_TRUE_HANDLER","ALWAYS_FALSE_HANDLER","visible","tuiIsNativeFocused","ɵɵdirectiveInject","ElementRef","TUI_MODE","TuiFocusVisibleService","ɵɵdefineComponent","ɵɵlistener","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","tuiAsFocusableItemAccessor","TuiDestroyService","MODE_PROVIDER","ɵɵprojectionDef","ɵɵtemplate","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵadvance","TuiSvgComponent","NgIf","TuiLinkModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiSvgModule","TuiDialogComponent_header_0_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","ɵɵadvance","ɵɵtextInterpolate1","TuiDialogComponent_header_0_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵproperty","TuiDialogComponent_ng_container_4_Template","_r3","ɵɵgetCurrentView","ɵɵelement","ɵɵlistener","ɵɵrestoreView","ɵɵresetView","text_r4","ɵɵsanitizeHtml","TuiDialogComponent_div_6_Template","_r5","ɵɵpipe","ɵɵpipeBind1","TUI_DIALOG_DEFAULT_OPTIONS","TUI_DIALOGS_CLOSE","tuiCreateToken","EMPTY","TUI_DIALOG_OPTIONS","SCROLLBAR_PLACEHOLDER","TuiDialogCloseService","Observable","win","doc","el","subscriber","merge","tuiTypedFromEvent","filter","event","target","tuiGetActualTarget","tuiGetViewportWidth","switchMap","take","map","tuiIsElement","tuiContainsOrAfter","ɵɵinject","WINDOW","DOCUMENT","ElementRef","ɵɵdefineInjectable","REQUIRED_ERROR","toObservable","valueOrStream","isObservable","of","TuiDialogComponent","duration","isMobile","context","destroy$","dialogClose$","close$","closeWord$","icons","Subject","ALWAYS_TRUE_HANDLER","takeUntil","ɵɵdirectiveInject","TUI_ANIMATIONS_DURATION","TUI_IS_MOBILE","POLYMORPHEUS_CONTEXT","TuiDestroyService","TUI_DIALOGS_CLOSE","TUI_CLOSE_WORD","TUI_COMMON_ICONS","ɵɵdefineComponent","rf","ctx","ɵɵsyntheticHostProperty","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","ɵɵtemplate","TuiDialogComponent_header_0_Template","ɵɵelementStart","ɵɵelement","TuiDialogComponent_ng_container_4_Template","ɵɵelementEnd","TuiDialogComponent_div_6_Template","ɵɵproperty","ɵɵadvance","TuiButtonComponent","NgIf","PolymorpheusOutletDirective","TuiAutoFocusDirective","AsyncPipe","tuiSlideInTop","tuiFadeIn","DIALOG","PolymorpheusComponent","TuiDialogService","AbstractTuiDialogService","inject","TUI_DIALOG_OPTIONS","ɵTuiDialogService_BaseFactory","t","ɵɵgetInheritedFactory","TuiDialogModule","ɵɵdefineNgModule","ɵɵdefineInjector","tuiAsDialog","TuiDialogService","PolymorpheusModule","TuiButtonModule","CommonModule","TuiAutoFocusModule","TuiFormatDatePipe","service","timestampOrDate","ɵɵdirectiveInject","TuiFormatDateService","ɵɵdefinePipe","TuiFormatDatePipeModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiMonthPipe","months$","month","map","months","ɵɵdirectiveInject","TUI_MONTHS","ɵɵdefinePipe","TuiMonthPipeModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","_c1","_c2","a0","TuiOptionComponent_ng_container_0_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","ɵɵadvance","ɵɵtextInterpolate1","TuiOptionComponent_ng_template_1_tui_svg_1_Template","ɵɵelement","ctx_r1","ɵɵnextContext","ɵɵproperty","TuiOptionComponent_ng_template_1_Template","ɵɵprojection","ɵɵtemplate","TuiDataListComponent_div_2_ng_container_1_Template","TuiDataListComponent_div_2_Template","ɵɵelementStart","ɵɵpipe","ɵɵelementEnd","ɵɵpipeBind1","shouldFocus","currentTarget","tuiIsNativeFocused","TuiOptionComponent","isMobile","content","dataList","el","host","dropdown","icons","_a","ɵɵdirectiveInject","TUI_IS_MOBILE","TUI_OPTION_CONTENT","forwardRef","TuiDataListComponent","ElementRef","TUI_DATA_LIST_HOST","TuiDropdownDirective","TUI_COMMON_ICONS","ɵɵdefineComponent","ɵɵlistener","$event","ɵɵattribute","ɵɵclassProp","ɵɵprojectionDef","ɵɵtemplateRefExtractor","base_r3","ɵɵreference","ɵɵpureFunction1","TuiSvgComponent","PolymorpheusOutletDirective","NgIf","__decorate","shouldCall","controller","defaultEmptyContent$","EMPTY_QUERY","tuiQueryListChanges","map","length","relatedTarget","current","step","elements","tuiMoveFocus","element","tuiIsNativeFocusedIn","tuiSetNativeMouseFocused","includeDisabled","disabled","value","tuiIsPresent","target","top","tuiIsElement","TUI_TEXTFIELD_WATCHED_CONTROLLER","TUI_NOTHING_FOUND_MESSAGE","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵProvidersFeature","tuiAsDataListAccessor","TEXTFIELD_CONTROLLER_PROVIDER","AsyncPipe","tuiPure","TuiDataListDirective","ɵɵdefineDirective","TuiOptGroupDirective","ɵɵdefineDirective","rf","ctx","ɵɵattribute","TuiDataListModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiSvgModule","PolymorpheusModule","_c0","_c1","_c2","a0","a1","TuiHostedDropdownComponent_div_0_ng_template_3_div_2_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","text_r4","ɵɵadvance","ɵɵtextInterpolate1","TuiHostedDropdownComponent_div_0_ng_template_3_Template","_r3","ɵɵgetCurrentView","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵtemplate","ɵɵelement","activeZone_r5","ɵɵreference","ɵɵproperty","ɵɵpureFunction2","TuiHostedDropdownComponent_div_0_Template","_r1","ɵɵprojection","ɵɵtemplateRefExtractor","isOpen_r6","dropdown_r7","TuiAccessorProxyDirective","TuiPositionAccessor","ɵTuiAccessorProxyDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵProvidersFeature","Optional","SkipSelf","accessor","fallback","ɵɵInheritDefinitionFeature","TUI_HOSTED_DROPDOWN_COMPONENT","InjectionToken","TuiDropdownOpenMonitorDirective","destroy$","hosted","dropdown","open","filter","value","takeUntil","_a","ɵɵdirectiveInject","TuiDestroyService","TuiDropdownDirective","TuiDropdownOpenDirective","TuiHostedDropdownConnectorDirective","shouldClose","event","TuiHostedDropdownComponent","hover$","el","BehaviorSubject","combineLatest","tuiTypedFromEvent","map","e","tuiGetActualTarget","switchMap","visible","_b","of","delay","EMPTY","hovered","merge","skip","distinctUntilChanged","share","EventEmitter","tuiIsNativeKeyboardFocusable","tuiGetClosestFocusable","tuiIsNativeFocusedIn","target","down","key","defaultPrevented","tuiIsEditingKey","tuiIsHTMLElement","tuiIsElementEditable","active","obscured","first","host","tuiIsElement","initial","focusable","focused","TuiDropdownHoverDirective","ElementRef","ɵɵdefineComponent","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵviewQuery","TuiActiveZoneDirective","ɵɵresolveDocument","tuiAsFocusableItemAccessor","Self","position","ɵɵprojectionDef","ɵɵpipe","tmp_0_0","ɵɵpipeBind1","TuiLetDirective","TuiDropdownDriverDirective","TuiDropdownPositionDirective","TuiDropdownManualDirective","TuiDropdownPositionSidedDirective","TuiObscuredDirective","PolymorpheusTemplate","PolymorpheusOutletDirective","AsyncPipe","__decorate","shouldCall","TuiHostedDropdownModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","PolymorpheusModule","TuiLetModule","TuiObscuredModule","TuiActiveZoneModule","TuiDropdownModule","TuiTooltipComponent_tui_svg_3_Template","rf","ctx","ɵɵelement","src_r1","ɵɵproperty","TuiTooltipComponent","TuiHintOptionsDirective","destroy$","mode$","options","isMobile","takeUntil","mode","event","_a","ɵɵdirectiveInject","TuiDestroyService","TUI_MODE","TUI_HINT_OPTIONS","TUI_IS_MOBILE","ɵɵdefineComponent","ɵɵviewQuery","TuiHintHoverDirective","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵlistener","$event","ɵɵattribute","ɵɵProvidersFeature","MODE_PROVIDER","ɵɵInheritDefinitionFeature","ɵɵelementStart","ɵɵpipe","ɵɵtemplate","ɵɵelementEnd","driver_r2","ɵɵreference","ɵɵpipeBind1","ɵɵadvance","TuiSvgComponent","TuiWrapperDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintPositionDirective","TuiHintDescribeDirective","PolymorpheusOutletDirective","AsyncPipe","TuiTooltipModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiWrapperModule","TuiSvgModule","TuiHintModule","PolymorpheusModule","_c0","_c1","_c2","_c3","_c4","a0","TuiPrimitiveTextfieldComponent_ng_container_0_Template","rf","ctx","ɵɵelementContainer","TuiPrimitiveTextfieldComponent_ng_container_2_Template","TuiPrimitiveTextfieldComponent_div_10_Template","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","TuiPrimitiveTextfieldComponent_div_12_tui_svg_1_Template","ɵɵelement","src_r2","ɵɵproperty","TuiPrimitiveTextfieldComponent_div_12_Template","ɵɵtemplate","ctx_r2","ɵɵnextContext","ɵɵadvance","ɵɵpureFunction1","TuiPrimitiveTextfieldComponent_label_14_Template","ɵɵclassProp","TuiPrimitiveTextfieldComponent_div_20_tui_svg_1_Template","src_r4","TuiPrimitiveTextfieldComponent_div_20_Template","TuiPrimitiveTextfieldComponent_span_21_tui_svg_1_Template","src_r6","TuiPrimitiveTextfieldComponent_span_21_Template","_r5","ɵɵgetCurrentView","ɵɵlistener","ɵɵrestoreView","ɵɵresetView","TuiPrimitiveTextfieldComponent_tui_tooltip_22_Template","TuiPrimitiveTextfieldComponent_div_23_tui_svg_1_Template","src_r7","TuiPrimitiveTextfieldComponent_div_23_Template","TuiValueDecorationComponent","textfield","fontsReady$","BehaviorSubject","merge","delay","filter","_a","map","distinctUntilChanged","TuiAppearance","focused","placeholder","exampleText","value","ɵɵdirectiveInject","TUI_FOCUSABLE_ITEM_ACCESSOR","TUI_FONTS_READY","ɵɵdefineComponent","rf","ctx","ɵɵviewQuery","_c0","ElementRef","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵlistener","ɵɵclassProp","ɵɵelement","ɵɵproperty","ɵɵadvance","TUI_ICON_PADDINGS","TuiPrimitiveTextfieldComponent","AbstractTuiInteractive","controller","hintOptions","options","el","EventEmitter","nativeElement","tuiIsNativeFocusedIn","showDecor","tuiGetBorder","element","fromEvent","event","nativeFocusableElement","autofilled","tuiRetargetedBoundaryCrossing","TUI_TEXTFIELD_WATCHED_CONTROLLER","TuiHintOptionsDirective","TUI_TEXTFIELD_OPTIONS","dirIndex","ɵɵcontentQuery","PolymorpheusOutletDirective","_c1","ɵɵattribute","ɵɵstyleProp","ɵɵProvidersFeature","tuiAsFocusableItemAccessor","TEXTFIELD_CONTROLLER_PROVIDER","ɵɵInheritDefinitionFeature","_c3","_r1","ɵɵgetCurrentView","ɵɵprojectionDef","_c2","ɵɵtemplate","TuiPrimitiveTextfieldComponent_ng_container_0_Template","ɵɵpipe","TuiPrimitiveTextfieldComponent_ng_container_2_Template","ɵɵelementStart","$event","ɵɵrestoreView","ɵɵresetView","ɵɵprojection","ɵɵelementEnd","TuiPrimitiveTextfieldComponent_div_10_Template","TuiPrimitiveTextfieldComponent_div_12_Template","TuiPrimitiveTextfieldComponent_label_14_Template","TuiPrimitiveTextfieldComponent_div_20_Template","TuiPrimitiveTextfieldComponent_span_21_Template","TuiPrimitiveTextfieldComponent_tui_tooltip_22_Template","TuiPrimitiveTextfieldComponent_div_23_Template","focusableElement_r8","ɵɵreference","decor_r9","ɵɵpipeBind1","TuiSvgComponent","TuiTooltipComponent","NgIf","TuiWrapperDirective","TuiAutofilledDirective","TuiMaskAccessorDirective","DefaultValueAccessor","NgControlStatus","NgModel","TuiFocusableDirective","AsyncPipe","__decorate","tuiPure","TuiPrimitiveTextfieldDirective","AbstractTuiTextfieldHost","ɵɵdefineDirective","tuiAsTextfieldHost","TuiPrimitiveTextfieldModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","FormsModule","PolymorpheusModule","TuiMaskAccessorModule","TuiFocusableModule","TuiWrapperModule","TuiSvgModule","TuiTooltipModule","TuiAutofilledModule","_c0","_c1","TuiPushComponent_button_2_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵpipe","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","ɵɵproperty","ɵɵpipeBind1","TuiPushComponent_span_7_Template","ɵɵelement","TuiPushAlertComponent_tui_push_0_img_1_Template","ɵɵsanitizeUrl","TuiPushAlertComponent_tui_push_0_tui_svg_2_Template","ɵɵstyleProp","TuiPushAlertComponent_tui_push_0_div_3_Template","text_r3","ɵɵsanitizeHtml","TuiPushAlertComponent_tui_push_0_button_4_Template","_r4","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","TuiPushAlertComponent_tui_push_0_button_5_Template","_r5","TuiPushAlertComponent_tui_push_0_Template","ɵɵtemplate","TuiPushAlertComponent_ng_template_1_ng_container_0_Template","ɵɵelementContainer","TuiPushAlertComponent_ng_template_1_Template","TuiPushComponent","closeWord$","icons","EventEmitter","tuiIsString","tuiIsObserved","ɵɵdirectiveInject","TUI_CLOSE_WORD","TUI_COMMON_ICONS","ɵɵdefineComponent","ɵɵprojectionDef","ɵɵprojection","TuiButtonComponent","NgIf","AsyncPipe","TuiFormatDatePipe","TuiPushDirective","TuiModeDirective","modeDirective","_a","Subject","ɵɵdefineDirective","ɵɵProvidersFeature","TUI_BUTTON_OPTIONS","ɵɵInheritDefinitionFeature","TUI_PUSH_DEFAULT_OPTIONS","TUI_PUSH_OPTIONS","tuiCreateToken","TuiPushAlertDirective","PolymorpheusTemplate","template","cdr","destroy$","push","Subject","tuiIfMap","takeUntil","show","ɵɵdirectiveInject","TemplateRef","ChangeDetectorRef","TuiDestroyService","forwardRef","TuiPushService","ɵɵdefineDirective","ɵɵProvidersFeature","ɵɵInheritDefinitionFeature","TuiPushAlertComponent","animation","context","TUI_ANIMATION_OPTIONS","POLYMORPHEUS_CONTEXT","ɵɵdefineComponent","rf","ctx","ɵɵsyntheticHostProperty","ɵɵtemplate","TuiPushAlertComponent_tui_push_0_Template","TuiPushAlertComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","directive_r6","ɵɵreference","ɵɵproperty","TuiPushComponent","TuiSvgComponent","TuiButtonComponent","TuiLinkComponent","NgIf","TuiPushDirective","PolymorpheusOutletDirective","tuiFadeIn","tuiSlideInRight","tuiHeightCollapse","AbstractTuiDialogService","PolymorpheusComponent","inject","TUI_PUSH_OPTIONS","ɵTuiPushService_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineInjectable","TuiPushModule","ɵɵdefineNgModule","ɵɵdefineInjector","TUI_ALERTS","CommonModule","PolymorpheusModule","TuiButtonModule","TuiLinkModule","TuiSvgModule","TuiFormatDatePipeModule","_c0","_c1","a0","TuiToggleComponent_tui_loader_2_Template","rf","ctx","ɵɵelement","ctx_r1","ɵɵnextContext","ɵɵproperty","TuiToggleComponent_span_3_tui_svg_1_Template","src_r3","TuiToggleComponent_span_3_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ɵɵadvance","ɵɵpureFunction1","TuiToggleComponent_tui_loader_5_Template","TuiToggleComponent_span_6_tui_svg_1_Template","src_r4","TuiToggleComponent_span_6_Template","TUI_TOGGLE_DEFAULT_OPTIONS","$implicit","TuiAppearance","TUI_TOGGLE_OPTIONS","tuiCreateToken","TuiToggleComponent","AbstractTuiControl","control","cdr","modeDirective","options","_a","_b","tuiIsNativeFocused","checked","focused","focusVisible","ɵɵdirectiveInject","NgControl","ChangeDetectorRef","TuiModeDirective","TUI_TOGGLE_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵviewQuery","_c0","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","tuiAsFocusableItemAccessor","tuiAsControl","ɵɵInheritDefinitionFeature","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtemplate","TuiToggleComponent_tui_loader_2_Template","TuiToggleComponent_span_3_Template","ɵɵelement","TuiToggleComponent_tui_loader_5_Template","TuiToggleComponent_span_6_Template","ɵɵelementEnd","ɵɵtwoWayListener","$event","ɵɵrestoreView","ɵɵtwoWayBindingSet","ɵɵresetView","ɵɵlistener","ɵɵproperty","ɵɵadvance","ɵɵtwoWayProperty","TuiLoaderComponent","TuiSvgComponent","TuiWrapperDirective","NgIf","PolymorpheusOutletDirective","TuiCheckedDirective","TuiFocusableDirective","TuiFocusedDirective","TuiFocusVisibleDirective","TuiToggleModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiFocusedModule","TuiFocusableModule","TuiPressedModule","TuiFocusVisibleModule","TuiCheckedModule","TuiWrapperModule","TuiSvgModule","TuiLoaderModule","PolymorpheusModule","AbstractTuiEditor","Subject","ɵɵdefineDirective","tuiIsEmptyParagraph","json","TuiTiptapEditorService","AbstractTuiEditor","editorRef","editor","update","content","value","editable","EDITOR_BLANK_COLOR","size","tuiPx","_a","_b","_c","_d","style","styles","tuiParseStyle","align","src","commands","state","setImage","anchor","color","type","nameOrAttributes","startWith","map","distinctUntilChanged","cols","rows","level","options","href","EditorState","pos","schema","doc","range","tuiGetMarkRange","preview","typeOrName","attributes","ɵɵinject","TIPTAP_EDITOR","ɵɵdefineInjectable","TuiTiptapEditorDirective","el","renderer","editorContainer","editorLoaded$","destroy$","takeUntil","ɵɵdirectiveInject","ElementRef","Renderer2","INITIALIZATION_TIPTAP_CONTAINER","TuiDestroyService","ɵɵdefineDirective","ɵɵProvidersFeature","TuiTiptapEditorModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","alignState_r3","texts_r4","ɵɵadvance","ɵɵproperty","TuiAlignContentComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵelement","ɵɵtemplate","ɵɵtemplateRefExtractor","align_r5","ɵɵreference","alignDropdown_r6","TuiAlignContentComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵpipe","ɵɵelementContainerEnd","ɵɵpipeBind1","TuiAlignContentComponent","options","editor","texts$","combineLatest","map","left","right","center","justify","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","NgIf","TuiLetDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiAlignContentModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiLetModule","TuiCodeComponent_ng_template_5_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","index_r2","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵelementEnd","item_r4","ɵɵadvance","ɵɵtextInterpolate1","TuiCodeComponent_ng_template_5_Template","ɵɵtemplate","ɵɵpipe","ɵɵproperty","ɵɵpipeBind1","TuiCodeComponent","options","editor","texts$","codeOptionsTexts$","map","texts","distinctUntilChanged","isCodeBlock","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_CODE_OPTIONS","ɵɵdefineComponent","ɵɵelement","ɵɵtemplateRefExtractor","codes_r5","ɵɵreference","codesDropdown_r6","TuiHostedDropdownComponent","TuiButtonComponent","TuiDataListComponent","TuiOptionComponent","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgForOf","AsyncPipe","TuiCodeModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiDataListModule","TuiDetailsComponent_button_0_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","text_r3","ɵɵproperty","TuiDetailsRemoveComponent_button_0_Template","ɵɵpipe","ɵɵpipeBind1","TuiDetailsComponent","editor","texts$","options","ɵɵdirectiveInject","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","ɵɵtemplate","TuiButtonComponent","NgIf","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiDetailsRemoveComponent","map","distinctUntilChanged","TuiDetailsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHintModule","_c0","TuiFontSizeComponent_ng_template_4_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵpipe","ɵɵlistener","item_r2","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵelementEnd","ɵɵstyleProp","ɵɵproperty","ɵɵpureFunction0","ɵɵattribute","ɵɵpipeBind1","ɵɵadvance","ɵɵtextInterpolate1","TuiFontSizeComponent_ng_template_4_Template","ɵɵtemplate","TuiFontSizeComponent","options","editor","texts$","fontOptionsTexts$","map","texts","headingLevel","px","color","tuiPx","EDITOR_BLANK_COLOR","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_FONT_OPTIONS","ɵɵdefineComponent","ɵɵelement","ɵɵtemplateRefExtractor","fonts_r4","ɵɵreference","fontsDropdown_r5","TuiHostedDropdownComponent","TuiButtonComponent","TuiDataListComponent","TuiOptionComponent","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgForOf","NgClass","NgStyle","AsyncPipe","LowerCasePipe","TuiFontSizeModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiDataListModule","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","state_r3","texts_r4","ɵɵproperty","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_2_Template","_r5","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_3_Template","_r6","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_button_4_Template","_r7","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template","ɵɵtemplate","ɵɵadvance","TuiFontStyleComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵelement","ɵɵtemplateRefExtractor","format_r8","ɵɵreference","formatDropdown_r9","TuiFontStyleComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵpipe","ɵɵelementContainerEnd","ɵɵpipeBind1","TuiFontStyleComponent","options","editor","texts$","defaultEditorTools","TuiEditorTool","combineLatest","map","bold","italic","underline","strike","value","tool","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","NgIf","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiFontStyleModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiEditorGroupToolComponent","editor","texts$","options","map","texts","distinctUntilChanged","ɵɵdirectiveInject","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵelementStart","ɵɵpipe","ɵɵlistener","ɵɵelementEnd","ɵɵproperty","ɵɵpipeBind1","ɵɵadvance","TuiButtonComponent","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiEditorToolGroup","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHintModule","tuiControlValueFactory","control","valueTransformer","tuiControlValue","map","value","of","TUI_CALENDAR_DATE_STREAM","InjectionToken","tuiDateStreamWithTransformer","transformer","Optional","Self","NgControl","tuiControlValueFactory","TUI_COUNTRIES_DEFAULT_MASKS","TuiCountryIsoCode","TUI_COUNTRIES_MASKS","tuiCreateToken","TUI_DATE_VALUE_TRANSFORMER","InjectionToken","TUI_DATE_RANGE_VALUE_TRANSFORMER","TUI_DATE_TIME_VALUE_TRANSFORMER","TUI_PROMPT_WORDS","tuiCreateTokenFromFactory","tuiExtractI18n","TUI_CANCEL_WORD","TUI_DONE_WORD","TUI_MORE_WORD","TUI_HIDE_TEXT","TUI_SHOW_ALL_TEXT","TUI_OTHER_DATE_TEXT","TUI_CHOOSE_DAY_OR_RANGE_TEXTS","TUI_FROM_TO_TEXTS","TUI_PLUS_MINUS_TEXTS","TUI_TIME_TEXTS","TUI_DATE_TEXTS","TUI_DIGITAL_INFORMATION_UNITS","TUI_COPY_TEXTS","TUI_PASSWORD_TEXTS","TUI_CALENDAR_MONTHS","TUI_FILE_TEXTS","TUI_PAGINATION_TEXTS","TUI_INPUT_FILE_TEXTS","TUI_MULTI_SELECT_TEXTS","TUI_COUNTRIES","TUI_INPUT_DATE_DEFAULT_OPTIONS","$implicit","TUI_FIRST_DAY","TUI_LAST_DAY","TUI_INPUT_DATE_OPTIONS","tuiCreateToken","TUI_DEFAULT_ITEMS_HANDLERS","TUI_DEFAULT_STRINGIFY","TUI_DEFAULT_IDENTITY_MATCHER","ALWAYS_FALSE_HANDLER","TUI_ITEMS_HANDLERS","tuiCreateToken","TUI_MOBILE_CALENDAR","InjectionToken","TUI_MONTH_FORMATTER","TUI_TAB_MARGIN","tuiCreateToken","TUI_VALIDATION_ERRORS","MASKITO_DEFAULT_ELEMENT_PREDICATE","MASKITO_DEFAULT_OPTIONS","MaskHistory","state","isValueChanged","isSelectionChanged","item","index","inputType","areElementValuesEqual","sampleState","states","value","areElementStatesEqual","selection","applyOverwriteMode","newCharacters","mode","from","to","computedMode","isFixedCharacter","char","getLeadingFixedCharacters","mask","validatedValuePart","newCharacter","initialElementState","leadingFixedCharacters","i","charConstraint","isInitiallyExisted","validateValueWithMask","maskExpression","guessValidValueByPattern","elementState","maskedFrom","maskedTo","maskedValue","validatedCharacters","charIndex","leadingCharacters","newValidatedChars","trailingFixedCharacters","guessValidValueByRegExp","maskRegExp","newFrom","newTo","newPossibleValue","calibrateValueByMask","removeFixedMaskCharacters","unmaskedValue","rawValue","MaskModel","maskOptions","unmaskedElementState","unmaskedFrom","unmaskedTo","newUnmaskedLeadingValuePart","newCaretIndex","maskedElementState","newUnmaskedValue","EventListener","element","eventType","fn","options","untypedFn","stopListen","isHotkey","event","modifiers","hotkeyCode","isRedo","isUndo","isBeforeInputEventSupported","isEventProducingCharacter","key","ctrlKey","metaKey","altKey","isSystemKeyCombinations","isSingleUnicodeChar","getLineSelection","isForward","nearestBreak","getNotEmptySelection","x","TRAILING_SPACES_REG","LEADING_SPACES_REG","SPACE_REG","getWordSelection","valueAfterSelectionStart","leadingSpaces","nearestWordEndIndex","valueBeforeSelectionEnd","trailingSpaces","selectedWordLength","maskitoPipe","processors","initialData","readonlyArgs","data","maskitoTransform","valueOrState","maskitoOptions","preprocessor","postprocessor","maskModel","Maskito","plugin","_a","selectionStart","selectionEnd","maxLength","teardown","eventInit","initialValue","_b","globalObject","pressedKey","force","initialState","initialFrom","initialTo","newElementState","inputTypeFallback","insertedText","FIXED_DROPDOWN_CONTROLLER_PROVIDER","tuiDropdownOptionsProvider","TUI_VALUE_ACCESSOR_PROVIDER","TUI_VALUE_ACCESSOR","Optional","Self","NG_VALUE_ACCESSOR","identity","TuiValueAccessorDirective","ɵɵdefineDirective","ɵɵProvidersFeature","TUI_VALUE_ACCESSOR_PROVIDER","TuiValueAccessorModule","ɵɵdefineNgModule","ɵɵdefineInjector","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","reject","fulfilled","step","e","rejected","result","MaskitoDirective","ngZone","elementRef","MASKITO_DEFAULT_OPTIONS","MASKITO_DEFAULT_ELEMENT_PREDICATE","_a","__awaiter","predicate","predicateResult","Maskito","ɵɵdirectiveInject","NgZone","ElementRef","ɵɵdefineDirective","ɵɵNgOnChangesFeature","MaskitoModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","_c1","_c2","TuiInputInlineComponent_span_2_Template","rf","ctx","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","TuiInputInlineComponent","AbstractTuiControl","control","cdr","tuiIsNativeFocused","value","focused","_a","indent","ɵɵdirectiveInject","NgControl","ChangeDetectorRef","ɵɵdefineComponent","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵProvidersFeature","TUI_VALUE_ACCESSOR_PROVIDER","tuiAsFocusableItemAccessor","ɵɵInheritDefinitionFeature","_r1","ɵɵgetCurrentView","ɵɵprojectionDef","ɵɵelement","ɵɵtemplate","ɵɵlistener","$event","ɵɵrestoreView","ɵɵresetView","ɵɵstyleProp","ɵɵproperty","ɵɵadvance","ɵɵattribute","NgIf","TuiMaskAccessorDirective","DefaultValueAccessor","NgControlStatus","NgModel","TuiFocusableDirective","TuiFocusedDirective","TuiInputInlineModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","FormsModule","TuiFocusableModule","TuiFocusedModule","TuiMaskAccessorModule","TuiPaletteComponent_button_0_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","color_r2","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","ɵɵstyleProp","ɵɵproperty","TuiPaletteComponent","EventEmitter","_a","_b","ɵɵdefineComponent","rf","ctx","ɵɵtemplate","TuiPaletteComponent_button_0_Template","ɵɵpipe","ɵɵproperty","ɵɵpipeBind2","NgForOf","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","TuiHintDescribeDirective","KeyValuePipe","TuiPaletteModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHintModule","TuiHighlightColorComponent_tui_hosted_dropdown_0_div_4_Template","rf","ctx","ɵɵelement","selectedColor_r1","ɵɵnextContext","ɵɵstyleProp","TuiHighlightColorComponent_tui_hosted_dropdown_0_ng_template_5_Template","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r2","ɵɵresetView","ɵɵelementEnd","activeZone_r4","ɵɵproperty","TuiHighlightColorComponent_tui_hosted_dropdown_0_Template","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","hilite_r5","ɵɵreference","hiliteDropdown_r6","ɵɵadvance","ɵɵpipeBind1","TuiHighlightColorComponent","options","editor","texts$","map","distinctUntilChanged","texts","color","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","TuiPaletteComponent","TuiLetDirective","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgIf","TuiActiveZoneDirective","AsyncPipe","TuiHighlightColorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiPaletteModule","TuiHintModule","TuiDropdownModule","TuiActiveZoneModule","TuiLetModule","TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_3_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","state_r3","texts_r4","ɵɵadvance","ɵɵproperty","TuiListConfigsComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵelement","ɵɵtemplate","ɵɵtemplateRefExtractor","list_r5","ɵɵreference","listDropdown_r6","TuiListConfigsComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵpipe","ɵɵelementContainerEnd","ɵɵpipeBind1","TuiListConfigsComponent","options","editor","texts$","combineLatest","map","ordered","unordered","tasked","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","NgIf","TuiLetDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiListConfigsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiButtonModule","TuiHintModule","TuiLetModule","TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_div_4_Template","rf","ctx","ɵɵelement","color_r1","ɵɵnextContext","ɵɵstyleProp","TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_ng_template_5_Template","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","colorSelect_r3","ɵɵreference","ɵɵresetView","ɵɵelementEnd","activeZone_r5","ctx_r3","ɵɵproperty","TuiTableCellColorComponent_ng_container_0_tui_hosted_dropdown_1_Template","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","isActive_r6","cellColorDropdown_r7","ɵɵadvance","ɵɵpipeBind1","TuiTableCellColorComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","TuiTableCellColorComponent","options","editor","texts$","map","texts","combineLatest","table","group","distinctUntilChanged","color","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","TuiPaletteComponent","TuiLetDirective","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgIf","TuiActiveZoneDirective","AsyncPipe","TuiTableCellColorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiPaletteModule","TuiButtonModule","TuiHintModule","TuiActiveZoneModule","TuiDropdownModule","TuiLetModule","TuiTableSizeSelectorComponent_div_0_div_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","$event","y_r3","x_r4","ɵɵelementEnd","ɵɵclassProp","TuiTableSizeSelectorComponent_div_0_Template","ɵɵtemplate","ɵɵadvance","ɵɵproperty","MAX_COLS_NUMBER","MAX_ROWS_NUMBER","MIN_DISTANCE_PX","TuiTableSizeSelectorComponent","win","EventEmitter","x","y","rows","cols","event","tuiGetViewportWidth","ɵɵdirectiveInject","WINDOW","ɵɵdefineComponent","ɵɵtext","ɵɵtextInterpolate2","TuiRepeatTimesDirective","TuiTableSizeSelectorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiRepeatTimesModule","TuiTableCreateComponent_ng_template_4_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","TuiTableCreateComponent","options","editor","texts$","map","texts","rows","cols","prevLine","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","ɵɵelement","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","table_r3","ɵɵreference","tableDropdown_r4","ɵɵproperty","ɵɵadvance","ɵɵpipeBind1","TuiHostedDropdownComponent","TuiButtonComponent","TuiTableSizeSelectorComponent","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiTableCreateModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiDropdownModule","TuiButtonModule","TuiHintModule","TuiTableSizeSelectorModule","_c0","a0","a1","TuiTableMergeCellsComponent_ng_container_0_button_1_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","can_r2","ɵɵnextContext","ctx_r2","ɵɵresetView","ɵɵelementEnd","texts_r4","ɵɵproperty","TuiTableMergeCellsComponent_ng_container_0_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵpipe","ɵɵelementContainerEnd","ɵɵadvance","ɵɵpipeBind1","TuiTableMergeCellsComponent","editor","texts$","map","distinctUntilChanged","ɵɵdirectiveInject","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","ɵɵpureFunction2","TuiButtonComponent","TuiLetDirective","NgIf","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiTableMergeCellsModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHintModule","TuiLetModule","TuiTableRowColumnManagerComponent_tui_hosted_dropdown_0_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵpipe","ɵɵelementEnd","active_r1","tableCommand_r2","ɵɵreference","ctx_r2","ɵɵnextContext","tableOptionsDropdown_r4","ɵɵproperty","ɵɵadvance","ɵɵpipeBind1","TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_button_1_Template","_r5","ɵɵgetCurrentView","ɵɵlistener","j_r6","ɵɵrestoreView","i_r7","ɵɵresetView","ɵɵtext","item_r8","ɵɵtextInterpolate1","TuiTableRowColumnManagerComponent_ng_template_2_tui_opt_group_1_Template","ɵɵtemplate","group_r9","TuiTableRowColumnManagerComponent_ng_template_2_Template","TuiTableCommands","TuiTableRowColumnManagerComponent","options","editor","texts$","tableCommandTexts$","map","texts","command","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_TABLE_COMMANDS","ɵɵdefineComponent","ɵɵtemplateRefExtractor","TuiHostedDropdownComponent","TuiButtonComponent","TuiDataListComponent","TuiOptionComponent","TuiLetDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","NgForOf","TuiOptGroupDirective","AsyncPipe","TuiTableRowColumnManagerModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHostedDropdownModule","TuiHintModule","TuiButtonModule","TuiDataListModule","TuiLetModule","TuiTextColorComponent_tui_hosted_dropdown_0_ng_template_5_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","activeZone_r3","ɵɵproperty","TuiTextColorComponent_tui_hosted_dropdown_0_Template","ɵɵelement","ɵɵpipe","ɵɵtemplate","ɵɵtemplateRefExtractor","selectedColor_r4","color_r5","ɵɵreference","colorDropdown_r6","ɵɵadvance","ɵɵpipeBind1","ɵɵstyleProp","TuiTextColorComponent","options","editor","texts$","map","distinctUntilChanged","texts","ɵɵdirectiveInject","TUI_EDITOR_OPTIONS","TuiTiptapEditorService","TUI_EDITOR_TOOLBAR_TEXTS","ɵɵdefineComponent","TuiHostedDropdownComponent","TuiButtonComponent","TuiPaletteComponent","TuiLetDirective","TuiDropdownOptionsDirective","TuiHintDescribeDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","TuiActiveZoneDirective","AsyncPipe","TuiTextColorModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiButtonModule","TuiHostedDropdownModule","TuiDropdownModule","TuiHintModule","TuiPaletteModule","TuiActiveZoneModule","TuiLetModule","TuiEditLinkComponent_ng_container_1_ng_container_3_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","TuiEditLinkComponent_ng_container_1_ng_template_4_span_0_Template","ɵɵelementStart","ɵɵelementEnd","TuiEditLinkComponent_ng_container_1_ng_template_4_ng_template_1_Template","TuiEditLinkComponent_ng_container_1_ng_template_4_Template","ɵɵtemplate","ɵɵtemplateRefExtractor","urlTitle_r3","ɵɵreference","ctx_r3","ɵɵnextContext","ɵɵproperty","TuiEditLinkComponent_ng_container_1_ng_container_10_Template","text_r5","ɵɵadvance","ɵɵtextInterpolate1","TuiEditLinkComponent_ng_container_1_Template","_r2","ɵɵgetCurrentView","ɵɵtwoWayListener","$event","ɵɵrestoreView","ɵɵtwoWayBindingSet","ɵɵresetView","ɵɵlistener","ɵɵpipe","fullOptions_r6","ɵɵtextInterpolate","ɵɵclassProp","ɵɵtwoWayProperty","ɵɵpipeBind1","TuiEditLinkComponent_ng_template_2_Template","_r7","ɵɵsanitizeUrl","TuiEditLinkComponent_ng_container_4_button_4_Template","_r8","id_r9","TuiEditLinkComponent_ng_container_4_Template","ɵɵelement","ɵɵpipeBind3","splitOsiProtocol","url","_a","protocolPosition","TUI_EDITOR_LINK_OSI_PROTOCOL_DIVIDER","prefix","path","result","splitSimpleProtocol","tuiIsValidUrl","tuiEditLinkParseUrl","TUI_EDITOR_LINK_HASH_PREFIX","TUI_EDITOR_LINK_SIMPLE_PROTOCOL_DIVIDER","protocol","otherPart","MAX_LENGTH","START","END","TuiShortUrlPipe","ɵɵdefinePipe","TuiFilterAnchorsPipe","anchors","currentUrl","anchor","TuiEditLinkComponent","doc","texts$","editor","options","EventEmitter","_b","TUI_EDITOR_LINK_HTTPS_PREFIX","mode","event","tuiIsElement","isPrefix","a","defaultPrefix","_c","focusable","fullPath","nodes","node","ɵɵdirectiveInject","DOCUMENT","TUI_EDITOR_LINK_TEXTS","TuiTiptapEditorService","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","ɵɵresolveDocument","_r1","view_r10","TuiInputInlineComponent","TuiSvgComponent","TuiButtonComponent","TuiLinkComponent","TuiScrollbarComponent","NgIf","TuiAutoFocusDirective","NgControlStatus","NgModel","NgForOf","AsyncPipe","TuiEditLinkModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","FormsModule","TuiAutoFocusModule","TuiButtonModule","TuiSvgModule","TuiLinkModule","TuiInputInlineModule","TuiToggleModule","TuiScrollbarModule","_c0","_c1","TuiToolbarComponent_ng_container_1_Template","rf","ctx","ɵɵelementContainer","TuiToolbarComponent_section_5_div_1_Template","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵelementEnd","texts_r3","ɵɵadvance","ɵɵproperty","TuiToolbarComponent_section_5_div_2_Template","ɵɵelement","TuiToolbarComponent_section_5_div_3_tui_font_style_1_Template","TuiToolbarComponent_section_5_div_3_tui_align_content_2_Template","TuiToolbarComponent_section_5_div_3_tui_list_configs_3_Template","TuiToolbarComponent_section_5_div_3_button_4_Template","_r4","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_ng_template_4_Template","_r5","$event","link_r6","ɵɵreference","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_5_Template","ɵɵtemplate","ɵɵtemplateRefExtractor","linkDropdown_r7","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_ng_template_3_Template","_r8","anchor_r9","TuiToolbarComponent_section_5_div_3_tui_hosted_dropdown_6_Template","anchorDropdown_r10","TuiToolbarComponent_section_5_div_3_ng_container_7_Template","_r11","ɵɵelementContainerStart","fileUpload_r12","ɵɵelementContainerEnd","TuiToolbarComponent_section_5_div_3_Template","TuiToolbarComponent_section_5_div_4_button_1_Template","_r13","TuiToolbarComponent_section_5_div_4_button_2_Template","_r14","TuiToolbarComponent_section_5_div_4_Template","TuiToolbarComponent_section_5_div_5_tui_text_color_1_Template","TuiToolbarComponent_section_5_div_5_tui_highlight_color_2_Template","TuiToolbarComponent_section_5_div_5_Template","TuiToolbarComponent_section_5_div_6_tui_code_1_Template","TuiToolbarComponent_section_5_div_6_button_2_Template","_r15","TuiToolbarComponent_section_5_div_6_div_3_Template","_r16","image_r17","TuiToolbarComponent_section_5_div_6_button_4_Template","_r18","TuiToolbarComponent_section_5_div_6_Template","TuiToolbarComponent_section_5_div_7_Template","_r19","TuiToolbarComponent_section_5_div_8_Template","TuiToolbarComponent_section_5_div_9_tui_table_cell_color_2_Template","TuiToolbarComponent_section_5_div_9_Template","TuiToolbarComponent_section_5_div_10_Template","TuiToolbarComponent_section_5_Template","ɵɵprojection","TuiToolbarNavigationManagerDirective","el","toPrevious","toolsContainers","focusedToolIndex","tuiIsNativeFocusedIn","targetToolIndex","tuiClamp","targetToolWrapper","targetTool","reversed","tools","focusableElement","tuiIsNativeMouseFocusable","tuiGetClosestFocusable","wrapper","ɵɵdirectiveInject","ElementRef","ɵɵdefineDirective","TuiToolbarComponent","editor","imageLoader","attachOptions","filesLoader","texts$","options","destroy$","EMPTY_QUERY","EventEmitter","TuiEditorTool","defaultEditorTools","value","nativeElement","event","target","input","_a","file","take","takeUntil","image","files","attachedFiles","hosted","url","anchor","tool","firstButton","lastButton","TuiTiptapEditorService","TUI_IMAGE_LOADER","TUI_ATTACH_FILES_OPTIONS","TUI_ATTACH_FILES_LOADER","TUI_EDITOR_TOOLBAR_TEXTS","TUI_EDITOR_OPTIONS","TuiDestroyService","ɵɵdefineComponent","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵclassProp","ɵɵProvidersFeature","ɵɵprojectionDef","ɵɵpipe","ɵɵpipeBind1","TuiButtonComponent","TuiFontSizeComponent","TuiFontStyleComponent","TuiAlignContentComponent","TuiListConfigsComponent","TuiHostedDropdownComponent","TuiEditLinkComponent","TuiTextColorComponent","TuiHighlightColorComponent","TuiCodeComponent","TuiDetailsComponent","TuiDetailsRemoveComponent","TuiEditorGroupToolComponent","TuiTableCellColorComponent","TuiTableCreateComponent","TuiTableRowColumnManagerComponent","TuiTableMergeCellsComponent","NgIf","TuiFocusableDirective","TuiHintDescribeDirective","TuiItemDirective","TuiHintDirective","TuiHintDriverDirective","TuiHintHoverDirective","TuiHintPositionDirective","AsyncPipe","TuiToolbarModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiHintModule","TuiFocusableModule","TuiButtonModule","TuiHostedDropdownModule","TuiEditLinkModule","TuiTableMergeCellsModule","TuiTableCellColorModule","TuiTableRowColumnManagerModule","TuiTableCreateModule","TuiFontSizeModule","TuiFontStyleModule","TuiAlignContentModule","TuiListConfigsModule","TuiTextColorModule","TuiHighlightColorModule","TuiCodeModule","TuiDetailsModule","TuiItemModule","TuiEditorToolGroup","TuiEditorSocketComponent","el","renderer","sanitizer","tuiSanitizer","document","editor","options","content","_a","SecurityContext","event","_b","tuiIsElement","href","ɵɵdirectiveInject","ElementRef","Renderer2","Sanitizer","TUI_SANITIZER","DOCUMENT","TuiTiptapEditorDirective","TUI_EDITOR_OPTIONS","ɵɵdefineComponent","rf","ctx","ɵɵlistener","$event","ɵɵclassProp","TuiEditorSocketModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","_c1","TuiEditorComponent_div_0_tui_toolbar_2_Template","rf","ctx","_r3","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵprojection","ɵɵelementEnd","ɵɵproperty","TuiEditorComponent_div_0_div_5_Template","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate1","TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_1_Template","_r4","ɵɵelementContainer","editor_r5","ɵɵreference","TuiEditorComponent_div_0_ng_container_6_tui_scrollbar_2_Template","_r6","ɵɵelement","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_toolbar_1_Template","_r8","activeZone_r9","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_tui_edit_link_2_Template","_r10","link_r11","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_ng_container_3_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","TuiEditorComponent_div_0_ng_container_6_ng_template_3_ng_template_2_Template","ɵɵtemplate","editorLoaded_r12","ɵɵclassProp","TuiEditorComponent_div_0_ng_container_6_ng_template_3_Template","_r7","ɵɵtemplateRefExtractor","dropdown_r13","TuiEditorComponent_div_0_ng_container_6_Template","TuiEditorComponent_div_0_Template","_r1","TuiDropdownToolbarDirective","TuiDropdownSelectionDirective","combineLatest","map","distinctUntilChanged","x","y","handler","range","_a","contained","tuiIsTextNode","visible","_b","_c","_d","commonAncestorContainer","element","tuiIsElement","EMPTY_CLIENT_RECT","tuiGetWordRange","rect","ɵTuiDropdownToolbarDirective_BaseFactory","t","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsDriver","tuiAsRectAccessor","ɵɵInheritDefinitionFeature","TuiEditorPortalService","AbstractTuiPortalService","ɵTuiEditorPortalService_BaseFactory","ɵɵdefineInjectable","TUI_EDITOR_PROVIDERS","LAZY_EDITOR_EXTENSIONS","TUI_EDITOR_EXTENSIONS","extensions","extensions$","ReplaySubject","INITIALIZATION_TIPTAP_CONTAINER","Renderer2","renderer","TIPTAP_EDITOR","LAZY_TIPTAP_EDITOR","editor","take","LazyEditor","shareReplay","TuiTiptapEditorService","TuiEditorPortalHostComponent","AbstractTuiPortalHostComponent","ɵTuiEditorPortalHostComponent_BaseFactory","ɵɵdefineComponent","TuiDropdownPortalService","TuiEditorPortalDirective","TuiRectAccessor","el","ɵɵdirectiveInject","ElementRef","tuiAsViewport","TuiEditorComponent","AbstractTuiControl","control","cdr","editorLoaded$","editorService","contentProcessor","doc","transformer","options","zone","defaultEditorTools","EventEmitter","delay","takeUntil","extension","ALWAYS_TRUE_HANDLER","ALWAYS_FALSE_HANDLER","focusElement","parentFocusElement","before","value","processed","focused","anchor","link","tuiGetSelectionState","event","tuiIsSafeLinkRange","fromEvent","TUI_EDITOR_RESIZE_EVENT","throttleTime","tuiZonefree","NgControl","ChangeDetectorRef","TUI_EDITOR_CONTENT_PROCESSOR","DOCUMENT","TUI_EDITOR_VALUE_TRANSFORMER","TUI_EDITOR_OPTIONS","NgZone","ɵɵviewQuery","TuiTiptapEditorDirective","TuiToolbarComponent","_t","ɵɵqueryRefresh","ɵɵloadQuery","tuiAsFocusableItemAccessor","tuiAutoFocusOptionsProvider","TUI_ANIMATIONS_DEFAULT_DURATION","ɵɵprojectionDef","ɵɵpipe","ɵɵpipeBind1","TuiScrollbarComponent","TuiEditorSocketComponent","TuiEditLinkComponent","NgIf","TuiWrapperDirective","TuiActiveZoneDirective","NgTemplateOutlet","TuiDropdownOptionsDirective","TuiDropdownDirective","TuiDropdownDriverDirective","TuiDropdownPositionDirective","AsyncPipe","TuiEditorModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiItemModule","CommonModule","TuiToolbarModule","TuiWrapperModule","TuiScrollbarModule","TuiEditLinkModule","TuiActiveZoneModule","TuiDropdownModule","TuiTiptapEditorModule","TuiEditorSocketModule","import_dompurify","DOMPURIFY_CONFIG","InjectionToken","DOMPURIFY_HOOKS","SANITIZE_STYLE","value","createDOMPurify","dompurify","NgDompurifySanitizer","config","sanitizeStyle","defaultView","hooks","name","hook","context","SecurityContext","ɵɵinject","DOCUMENT","ɵɵdefineInjectable","NgDompurifyModule","ɵɵdefineNgModule","ɵɵdefineInjector"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87]}