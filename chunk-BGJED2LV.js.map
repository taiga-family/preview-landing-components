{"version":3,"sources":["node_modules/@angular/cdk/fesm2022/platform-610a08ae.mjs","node_modules/@angular/cdk/fesm2022/directionality-0a678adc.mjs","node_modules/@angular/cdk/fesm2022/scrolling-61955dd1.mjs","node_modules/@angular/cdk/fesm2022/data-source-5320b6fd.mjs","node_modules/@angular/cdk/fesm2022/recycle-view-repeater-strategy-c1712813.mjs","node_modules/@angular/cdk/fesm2022/scrolling-module-dbd83632.mjs","node_modules/@taiga-ui/addon-mobile/fesm2022/taiga-ui-addon-mobile-services.mjs","node_modules/@taiga-ui/cdk/fesm2022/taiga-ui-cdk-utils-browser.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-utils-format.mjs","node_modules/@taiga-ui/addon-mobile/fesm2022/taiga-ui-addon-mobile-directives-ripple.mjs","node_modules/@taiga-ui/addon-mobile/fesm2022/taiga-ui-addon-mobile-directives-touchable.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-pipes-calendar-sheet.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-pipes-format-date.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-pipes-order-week-days.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-components-spin-button.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-components-calendar.mjs","node_modules/@taiga-ui/addon-mobile/fesm2022/taiga-ui-addon-mobile-components-mobile-calendar-sheet.mjs","node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-utils.mjs","node_modules/@taiga-ui/addon-mobile/fesm2022/taiga-ui-addon-mobile-components-mobile-calendar.mjs","node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-components-calendar-range.mjs","node_modules/@taiga-ui/addon-mobile/fesm2022/taiga-ui-addon-mobile-components-mobile-calendar-dropdown.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-components-loader.mjs","node_modules/@taiga-ui/core/fesm2022/taiga-ui-core-components-expand.mjs","node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-components-accordion.mjs","node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-components-checkbox.mjs","node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-components-switch.mjs","node_modules/@maskito/kit/index.esm.js","node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-components-slider.mjs","node_modules/@taiga-ui/kit/fesm2022/taiga-ui-kit-components-push.mjs","node_modules/@taiga-ui/legacy/fesm2022/taiga-ui-legacy-directives-legacy-dropdown-open-monitor.mjs","node_modules/@taiga-ui/legacy/fesm2022/taiga-ui-legacy-directives-value-accessor.mjs","node_modules/@taiga-ui/legacy/fesm2022/taiga-ui-legacy-components-input-date.mjs","node_modules/@taiga-ui/legacy/fesm2022/taiga-ui-legacy-components-tag.mjs","node_modules/@taiga-ui/legacy/fesm2022/taiga-ui-legacy-components-input-tag.mjs","apps/demo/src/app/home/home.component.ts","apps/demo/src/app/home/home.component.html"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { inject, PLATFORM_ID, Injectable } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\n// Whether the current platform supports the V8 Break Iterator. The V8 check\n// is necessary to detect all Blink based browsers.\nlet hasV8BreakIterator;\n// We need a try/catch around the reference to `Intl`, because accessing it in some cases can\n// cause IE to throw. These cases are tied to particular versions of Windows and can happen if\n// the consumer is providing a polyfilled `Map`. See:\n// https://github.com/Microsoft/ChakraCore/issues/3189\n// https://github.com/angular/components/issues/15687\ntry {\n  hasV8BreakIterator = typeof Intl !== 'undefined' && Intl.v8BreakIterator;\n} catch {\n  hasV8BreakIterator = false;\n}\n/**\n * Service to detect the current platform by comparing the userAgent strings and\n * checking browser-specific global properties.\n */\nlet Platform = /*#__PURE__*/(() => {\n  class Platform {\n    _platformId = inject(PLATFORM_ID);\n    // We want to use the Angular platform check because if the Document is shimmed\n    // without the navigator, the following checks will fail. This is preferred because\n    // sometimes the Document may be shimmed without the user's knowledge or intention\n    /** Whether the Angular application is being rendered in the browser. */\n    isBrowser = this._platformId ? isPlatformBrowser(this._platformId) : typeof document === 'object' && !!document;\n    /** Whether the current browser is Microsoft Edge. */\n    EDGE = this.isBrowser && /(edge)/i.test(navigator.userAgent);\n    /** Whether the current rendering engine is Microsoft Trident. */\n    TRIDENT = this.isBrowser && /(msie|trident)/i.test(navigator.userAgent);\n    // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\n    /** Whether the current rendering engine is Blink. */\n    BLINK = this.isBrowser && !!(window.chrome || hasV8BreakIterator) && typeof CSS !== 'undefined' && !this.EDGE && !this.TRIDENT;\n    // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\n    // ensure that Webkit runs standalone and is not used as another engine's base.\n    /** Whether the current rendering engine is WebKit. */\n    WEBKIT = this.isBrowser && /AppleWebKit/i.test(navigator.userAgent) && !this.BLINK && !this.EDGE && !this.TRIDENT;\n    /** Whether the current platform is Apple iOS. */\n    IOS = this.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\n    // It's difficult to detect the plain Gecko engine, because most of the browsers identify\n    // them self as Gecko-like browsers and modify the userAgent's according to that.\n    // Since we only cover one explicit Firefox case, we can simply check for Firefox\n    // instead of having an unstable check for Gecko.\n    /** Whether the current browser is Firefox. */\n    FIREFOX = this.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent);\n    /** Whether the current platform is Android. */\n    // Trident on mobile adds the android platform to the userAgent to trick detections.\n    ANDROID = this.isBrowser && /android/i.test(navigator.userAgent) && !this.TRIDENT;\n    // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\n    // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\n    // Safari browser should also use Webkit as its layout engine.\n    /** Whether the current browser is Safari. */\n    SAFARI = this.isBrowser && /safari/i.test(navigator.userAgent) && this.WEBKIT;\n    constructor() {}\n    static ɵfac = function Platform_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || Platform)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: Platform,\n      factory: Platform.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return Platform;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { Platform as P };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, inject, EventEmitter, Injectable } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\n\n/**\n * Injection token used to inject the document into Directionality.\n * This is used so that the value can be faked in tests.\n *\n * We can't use the real document in tests because changing the real `dir` causes geometry-based\n * tests in Safari to fail.\n *\n * We also can't re-provide the DOCUMENT token from platform-browser because the unit tests\n * themselves use things like `querySelector` in test code.\n *\n * This token is defined in a separate file from Directionality as a workaround for\n * https://github.com/angular/angular/issues/22559\n *\n * @docs-private\n */\nconst DIR_DOCUMENT = /*#__PURE__*/new InjectionToken('cdk-dir-doc', {\n  providedIn: 'root',\n  factory: DIR_DOCUMENT_FACTORY\n});\n/**\n * @docs-private\n * @deprecated No longer used, will be removed.\n * @breaking-change 21.0.0\n */\nfunction DIR_DOCUMENT_FACTORY() {\n  return inject(DOCUMENT);\n}\n\n/** Regex that matches locales with an RTL script. Taken from `goog.i18n.bidi.isRtlLanguage`. */\nconst RTL_LOCALE_PATTERN = /^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;\n/** Resolves a string value to a specific direction. */\nfunction _resolveDirectionality(rawValue) {\n  const value = rawValue?.toLowerCase() || '';\n  if (value === 'auto' && typeof navigator !== 'undefined' && navigator?.language) {\n    return RTL_LOCALE_PATTERN.test(navigator.language) ? 'rtl' : 'ltr';\n  }\n  return value === 'rtl' ? 'rtl' : 'ltr';\n}\n/**\n * The directionality (LTR / RTL) context for the application (or a subtree of it).\n * Exposes the current direction and a stream of direction changes.\n */\nlet Directionality = /*#__PURE__*/(() => {\n  class Directionality {\n    /** The current 'ltr' or 'rtl' value. */\n    value = 'ltr';\n    /** Stream that emits whenever the 'ltr' / 'rtl' state changes. */\n    change = new EventEmitter();\n    constructor() {\n      const _document = inject(DIR_DOCUMENT, {\n        optional: true\n      });\n      if (_document) {\n        const bodyDir = _document.body ? _document.body.dir : null;\n        const htmlDir = _document.documentElement ? _document.documentElement.dir : null;\n        this.value = _resolveDirectionality(bodyDir || htmlDir || 'ltr');\n      }\n    }\n    ngOnDestroy() {\n      this.change.complete();\n    }\n    static ɵfac = function Directionality_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || Directionality)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: Directionality,\n      factory: Directionality.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return Directionality;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { Directionality as D, _resolveDirectionality as _, DIR_DOCUMENT as a };\n","/** The possible ways the browser may handle the horizontal scroll axis in RTL languages. */\nvar RtlScrollAxisType = /*#__PURE__*/function (RtlScrollAxisType) {\n  /**\n   * scrollLeft is 0 when scrolled all the way left and (scrollWidth - clientWidth) when scrolled\n   * all the way right.\n   */\n  RtlScrollAxisType[RtlScrollAxisType[\"NORMAL\"] = 0] = \"NORMAL\";\n  /**\n   * scrollLeft is -(scrollWidth - clientWidth) when scrolled all the way left and 0 when scrolled\n   * all the way right.\n   */\n  RtlScrollAxisType[RtlScrollAxisType[\"NEGATED\"] = 1] = \"NEGATED\";\n  /**\n   * scrollLeft is (scrollWidth - clientWidth) when scrolled all the way left and 0 when scrolled\n   * all the way right.\n   */\n  RtlScrollAxisType[RtlScrollAxisType[\"INVERTED\"] = 2] = \"INVERTED\";\n  return RtlScrollAxisType;\n}(RtlScrollAxisType || {});\n/** Cached result of the way the browser handles the horizontal scroll axis in RTL mode. */\nlet rtlScrollAxisType;\n/** Cached result of the check that indicates whether the browser supports scroll behaviors. */\nlet scrollBehaviorSupported;\n/** Check whether the browser supports scroll behaviors. */\nfunction supportsScrollBehavior() {\n  if (scrollBehaviorSupported == null) {\n    // If we're not in the browser, it can't be supported. Also check for `Element`, because\n    // some projects stub out the global `document` during SSR which can throw us off.\n    if (typeof document !== 'object' || !document || typeof Element !== 'function' || !Element) {\n      scrollBehaviorSupported = false;\n      return scrollBehaviorSupported;\n    }\n    // If the element can have a `scrollBehavior` style, we can be sure that it's supported.\n    if ('scrollBehavior' in document.documentElement.style) {\n      scrollBehaviorSupported = true;\n    } else {\n      // At this point we have 3 possibilities: `scrollTo` isn't supported at all, it's\n      // supported but it doesn't handle scroll behavior, or it has been polyfilled.\n      const scrollToFunction = Element.prototype.scrollTo;\n      if (scrollToFunction) {\n        // We can detect if the function has been polyfilled by calling `toString` on it. Native\n        // functions are obfuscated using `[native code]`, whereas if it was overwritten we'd get\n        // the actual function source. Via https://davidwalsh.name/detect-native-function. Consider\n        // polyfilled functions as supporting scroll behavior.\n        scrollBehaviorSupported = !/\\{\\s*\\[native code\\]\\s*\\}/.test(scrollToFunction.toString());\n      } else {\n        scrollBehaviorSupported = false;\n      }\n    }\n  }\n  return scrollBehaviorSupported;\n}\n/**\n * Checks the type of RTL scroll axis used by this browser. As of time of writing, Chrome is NORMAL,\n * Firefox & Safari are NEGATED, and IE & Edge are INVERTED.\n */\nfunction getRtlScrollAxisType() {\n  // We can't check unless we're on the browser. Just assume 'normal' if we're not.\n  if (typeof document !== 'object' || !document) {\n    return RtlScrollAxisType.NORMAL;\n  }\n  if (rtlScrollAxisType == null) {\n    // Create a 1px wide scrolling container and a 2px wide content element.\n    const scrollContainer = document.createElement('div');\n    const containerStyle = scrollContainer.style;\n    scrollContainer.dir = 'rtl';\n    containerStyle.width = '1px';\n    containerStyle.overflow = 'auto';\n    containerStyle.visibility = 'hidden';\n    containerStyle.pointerEvents = 'none';\n    containerStyle.position = 'absolute';\n    const content = document.createElement('div');\n    const contentStyle = content.style;\n    contentStyle.width = '2px';\n    contentStyle.height = '1px';\n    scrollContainer.appendChild(content);\n    document.body.appendChild(scrollContainer);\n    rtlScrollAxisType = RtlScrollAxisType.NORMAL;\n    // The viewport starts scrolled all the way to the right in RTL mode. If we are in a NORMAL\n    // browser this would mean that the scrollLeft should be 1. If it's zero instead we know we're\n    // dealing with one of the other two types of browsers.\n    if (scrollContainer.scrollLeft === 0) {\n      // In a NEGATED browser the scrollLeft is always somewhere in [-maxScrollAmount, 0]. For an\n      // INVERTED browser it is always somewhere in [0, maxScrollAmount]. We can determine which by\n      // setting to the scrollLeft to 1. This is past the max for a NEGATED browser, so it will\n      // return 0 when we read it again.\n      scrollContainer.scrollLeft = 1;\n      rtlScrollAxisType = scrollContainer.scrollLeft === 0 ? RtlScrollAxisType.NEGATED : RtlScrollAxisType.INVERTED;\n    }\n    scrollContainer.remove();\n  }\n  return rtlScrollAxisType;\n}\nexport { RtlScrollAxisType as R, getRtlScrollAxisType as g, supportsScrollBehavior as s };\n","import { ConnectableObservable } from 'rxjs';\nclass DataSource {}\n/** Checks whether an object is a data source. */\nfunction isDataSource(value) {\n  // Check if the value is a DataSource by observing if it has a connect function. Cannot\n  // be checked as an `instanceof DataSource` since people could create their own sources\n  // that match the interface, but don't extend DataSource. We also can't use `isObservable`\n  // here, because of some internal apps.\n  return value && typeof value.connect === 'function' && !(value instanceof ConnectableObservable);\n}\nexport { DataSource as D, isDataSource as i };\n","import { isObservable, of } from 'rxjs';\nimport { D as DataSource } from './data-source-5320b6fd.mjs';\nimport { InjectionToken } from '@angular/core';\n\n/** DataSource wrapper for a native array. */\nclass ArrayDataSource extends DataSource {\n  _data;\n  constructor(_data) {\n    super();\n    this._data = _data;\n  }\n  connect() {\n    return isObservable(this._data) ? this._data : of(this._data);\n  }\n  disconnect() {}\n}\n\n/** Indicates how a view was changed by a {@link _ViewRepeater}. */\nvar _ViewRepeaterOperation = /*#__PURE__*/function (_ViewRepeaterOperation) {\n  /** The content of an existing view was replaced with another item. */\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"REPLACED\"] = 0] = \"REPLACED\";\n  /** A new view was created with `createEmbeddedView`. */\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"INSERTED\"] = 1] = \"INSERTED\";\n  /** The position of a view changed, but the content remains the same. */\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"MOVED\"] = 2] = \"MOVED\";\n  /** A view was detached from the view container. */\n  _ViewRepeaterOperation[_ViewRepeaterOperation[\"REMOVED\"] = 3] = \"REMOVED\";\n  return _ViewRepeaterOperation;\n}(_ViewRepeaterOperation || {});\n/**\n * Injection token for {@link _ViewRepeater}. This token is for use by Angular Material only.\n * @docs-private\n */\nconst _VIEW_REPEATER_STRATEGY = /*#__PURE__*/new InjectionToken('_ViewRepeater');\n\n/**\n * A repeater that caches views when they are removed from a\n * {@link ViewContainerRef}. When new items are inserted into the container,\n * the repeater will reuse one of the cached views instead of creating a new\n * embedded view. Recycling cached views reduces the quantity of expensive DOM\n * inserts.\n *\n * @template T The type for the embedded view's $implicit property.\n * @template R The type for the item in each IterableDiffer change record.\n * @template C The type for the context passed to each embedded view.\n */\nclass _RecycleViewRepeaterStrategy {\n  /**\n   * The size of the cache used to store unused views.\n   * Setting the cache size to `0` will disable caching. Defaults to 20 views.\n   */\n  viewCacheSize = 20;\n  /**\n   * View cache that stores embedded view instances that have been previously stamped out,\n   * but don't are not currently rendered. The view repeater will reuse these views rather than\n   * creating brand new ones.\n   *\n   * TODO(michaeljamesparsons) Investigate whether using a linked list would improve performance.\n   */\n  _viewCache = [];\n  /** Apply changes to the DOM. */\n  applyChanges(changes, viewContainerRef, itemContextFactory, itemValueResolver, itemViewChanged) {\n    // Rearrange the views to put them in the right location.\n    changes.forEachOperation((record, adjustedPreviousIndex, currentIndex) => {\n      let view;\n      let operation;\n      if (record.previousIndex == null) {\n        // Item added.\n        const viewArgsFactory = () => itemContextFactory(record, adjustedPreviousIndex, currentIndex);\n        view = this._insertView(viewArgsFactory, currentIndex, viewContainerRef, itemValueResolver(record));\n        operation = view ? _ViewRepeaterOperation.INSERTED : _ViewRepeaterOperation.REPLACED;\n      } else if (currentIndex == null) {\n        // Item removed.\n        this._detachAndCacheView(adjustedPreviousIndex, viewContainerRef);\n        operation = _ViewRepeaterOperation.REMOVED;\n      } else {\n        // Item moved.\n        view = this._moveView(adjustedPreviousIndex, currentIndex, viewContainerRef, itemValueResolver(record));\n        operation = _ViewRepeaterOperation.MOVED;\n      }\n      if (itemViewChanged) {\n        itemViewChanged({\n          context: view?.context,\n          operation,\n          record\n        });\n      }\n    });\n  }\n  detach() {\n    for (const view of this._viewCache) {\n      view.destroy();\n    }\n    this._viewCache = [];\n  }\n  /**\n   * Inserts a view for a new item, either from the cache or by creating a new\n   * one. Returns `undefined` if the item was inserted into a cached view.\n   */\n  _insertView(viewArgsFactory, currentIndex, viewContainerRef, value) {\n    const cachedView = this._insertViewFromCache(currentIndex, viewContainerRef);\n    if (cachedView) {\n      cachedView.context.$implicit = value;\n      return undefined;\n    }\n    const viewArgs = viewArgsFactory();\n    return viewContainerRef.createEmbeddedView(viewArgs.templateRef, viewArgs.context, viewArgs.index);\n  }\n  /** Detaches the view at the given index and inserts into the view cache. */\n  _detachAndCacheView(index, viewContainerRef) {\n    const detachedView = viewContainerRef.detach(index);\n    this._maybeCacheView(detachedView, viewContainerRef);\n  }\n  /** Moves view at the previous index to the current index. */\n  _moveView(adjustedPreviousIndex, currentIndex, viewContainerRef, value) {\n    const view = viewContainerRef.get(adjustedPreviousIndex);\n    viewContainerRef.move(view, currentIndex);\n    view.context.$implicit = value;\n    return view;\n  }\n  /**\n   * Cache the given detached view. If the cache is full, the view will be\n   * destroyed.\n   */\n  _maybeCacheView(view, viewContainerRef) {\n    if (this._viewCache.length < this.viewCacheSize) {\n      this._viewCache.push(view);\n    } else {\n      const index = viewContainerRef.indexOf(view);\n      // The host component could remove views from the container outside of\n      // the view repeater. It's unlikely this will occur, but just in case,\n      // destroy the view on its own, otherwise destroy it through the\n      // container to ensure that all the references are removed.\n      if (index === -1) {\n        view.destroy();\n      } else {\n        viewContainerRef.remove(index);\n      }\n    }\n  }\n  /** Inserts a recycled view from the cache at the given index. */\n  _insertViewFromCache(index, viewContainerRef) {\n    const cachedView = this._viewCache.pop();\n    if (cachedView) {\n      viewContainerRef.insert(cachedView, index);\n    }\n    return cachedView || null;\n  }\n}\nexport { ArrayDataSource as A, _RecycleViewRepeaterStrategy as _, _ViewRepeaterOperation as a, _VIEW_REPEATER_STRATEGY as b };\n","import * as i0 from '@angular/core';\nimport { InjectionToken, forwardRef, Directive, Input, inject, NgZone, RendererFactory2, Injectable, ElementRef, Renderer2, ChangeDetectorRef, Injector, afterNextRender, booleanAttribute, Optional, Inject, Component, ViewEncapsulation, ChangeDetectionStrategy, Output, ViewChild, ViewContainerRef, TemplateRef, IterableDiffers, NgModule } from '@angular/core';\nimport { Subject, of, Observable, Subscription, animationFrameScheduler, asapScheduler, isObservable } from 'rxjs';\nimport { distinctUntilChanged, auditTime, filter, startWith, takeUntil, pairwise, switchMap, shareReplay } from 'rxjs/operators';\nimport { a as coerceNumberProperty, c as coerceElement } from './element-705567fe.mjs';\nimport { P as Platform } from './platform-610a08ae.mjs';\nimport { D as Directionality } from './directionality-0a678adc.mjs';\nimport { g as getRtlScrollAxisType, R as RtlScrollAxisType, s as supportsScrollBehavior } from './scrolling-61955dd1.mjs';\nimport { DOCUMENT } from '@angular/common';\nimport { b as _VIEW_REPEATER_STRATEGY, A as ArrayDataSource, _ as _RecycleViewRepeaterStrategy } from './recycle-view-repeater-strategy-c1712813.mjs';\nimport { i as isDataSource } from './data-source-5320b6fd.mjs';\nimport { B as BidiModule } from './bidi-module-56dd006c.mjs';\n\n/** The injection token used to specify the virtual scrolling strategy. */\nconst _c0 = [\"contentWrapper\"];\nconst _c1 = [\"*\"];\nconst VIRTUAL_SCROLL_STRATEGY = /*#__PURE__*/new InjectionToken('VIRTUAL_SCROLL_STRATEGY');\n\n/** Virtual scrolling strategy for lists with items of known fixed size. */\nclass FixedSizeVirtualScrollStrategy {\n  _scrolledIndexChange = /*#__PURE__*/new Subject();\n  /** @docs-private Implemented as part of VirtualScrollStrategy. */\n  scrolledIndexChange = /*#__PURE__*/this._scrolledIndexChange.pipe(/*#__PURE__*/distinctUntilChanged());\n  /** The attached viewport. */\n  _viewport = null;\n  /** The size of the items in the virtually scrolling list. */\n  _itemSize;\n  /** The minimum amount of buffer rendered beyond the viewport (in pixels). */\n  _minBufferPx;\n  /** The number of buffer items to render beyond the edge of the viewport (in pixels). */\n  _maxBufferPx;\n  /**\n   * @param itemSize The size of the items in the virtually scrolling list.\n   * @param minBufferPx The minimum amount of buffer (in pixels) before needing to render more\n   * @param maxBufferPx The amount of buffer (in pixels) to render when rendering more.\n   */\n  constructor(itemSize, minBufferPx, maxBufferPx) {\n    this._itemSize = itemSize;\n    this._minBufferPx = minBufferPx;\n    this._maxBufferPx = maxBufferPx;\n  }\n  /**\n   * Attaches this scroll strategy to a viewport.\n   * @param viewport The viewport to attach this strategy to.\n   */\n  attach(viewport) {\n    this._viewport = viewport;\n    this._updateTotalContentSize();\n    this._updateRenderedRange();\n  }\n  /** Detaches this scroll strategy from the currently attached viewport. */\n  detach() {\n    this._scrolledIndexChange.complete();\n    this._viewport = null;\n  }\n  /**\n   * Update the item size and buffer size.\n   * @param itemSize The size of the items in the virtually scrolling list.\n   * @param minBufferPx The minimum amount of buffer (in pixels) before needing to render more\n   * @param maxBufferPx The amount of buffer (in pixels) to render when rendering more.\n   */\n  updateItemAndBufferSize(itemSize, minBufferPx, maxBufferPx) {\n    if (maxBufferPx < minBufferPx && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n      throw Error('CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx');\n    }\n    this._itemSize = itemSize;\n    this._minBufferPx = minBufferPx;\n    this._maxBufferPx = maxBufferPx;\n    this._updateTotalContentSize();\n    this._updateRenderedRange();\n  }\n  /** @docs-private Implemented as part of VirtualScrollStrategy. */\n  onContentScrolled() {\n    this._updateRenderedRange();\n  }\n  /** @docs-private Implemented as part of VirtualScrollStrategy. */\n  onDataLengthChanged() {\n    this._updateTotalContentSize();\n    this._updateRenderedRange();\n  }\n  /** @docs-private Implemented as part of VirtualScrollStrategy. */\n  onContentRendered() {\n    /* no-op */\n  }\n  /** @docs-private Implemented as part of VirtualScrollStrategy. */\n  onRenderedOffsetChanged() {\n    /* no-op */\n  }\n  /**\n   * Scroll to the offset for the given index.\n   * @param index The index of the element to scroll to.\n   * @param behavior The ScrollBehavior to use when scrolling.\n   */\n  scrollToIndex(index, behavior) {\n    if (this._viewport) {\n      this._viewport.scrollToOffset(index * this._itemSize, behavior);\n    }\n  }\n  /** Update the viewport's total content size. */\n  _updateTotalContentSize() {\n    if (!this._viewport) {\n      return;\n    }\n    this._viewport.setTotalContentSize(this._viewport.getDataLength() * this._itemSize);\n  }\n  /** Update the viewport's rendered range. */\n  _updateRenderedRange() {\n    if (!this._viewport) {\n      return;\n    }\n    const renderedRange = this._viewport.getRenderedRange();\n    const newRange = {\n      start: renderedRange.start,\n      end: renderedRange.end\n    };\n    const viewportSize = this._viewport.getViewportSize();\n    const dataLength = this._viewport.getDataLength();\n    let scrollOffset = this._viewport.measureScrollOffset();\n    // Prevent NaN as result when dividing by zero.\n    let firstVisibleIndex = this._itemSize > 0 ? scrollOffset / this._itemSize : 0;\n    // If user scrolls to the bottom of the list and data changes to a smaller list\n    if (newRange.end > dataLength) {\n      // We have to recalculate the first visible index based on new data length and viewport size.\n      const maxVisibleItems = Math.ceil(viewportSize / this._itemSize);\n      const newVisibleIndex = Math.max(0, Math.min(firstVisibleIndex, dataLength - maxVisibleItems));\n      // If first visible index changed we must update scroll offset to handle start/end buffers\n      // Current range must also be adjusted to cover the new position (bottom of new list).\n      if (firstVisibleIndex != newVisibleIndex) {\n        firstVisibleIndex = newVisibleIndex;\n        scrollOffset = newVisibleIndex * this._itemSize;\n        newRange.start = Math.floor(firstVisibleIndex);\n      }\n      newRange.end = Math.max(0, Math.min(dataLength, newRange.start + maxVisibleItems));\n    }\n    const startBuffer = scrollOffset - newRange.start * this._itemSize;\n    if (startBuffer < this._minBufferPx && newRange.start != 0) {\n      const expandStart = Math.ceil((this._maxBufferPx - startBuffer) / this._itemSize);\n      newRange.start = Math.max(0, newRange.start - expandStart);\n      newRange.end = Math.min(dataLength, Math.ceil(firstVisibleIndex + (viewportSize + this._minBufferPx) / this._itemSize));\n    } else {\n      const endBuffer = newRange.end * this._itemSize - (scrollOffset + viewportSize);\n      if (endBuffer < this._minBufferPx && newRange.end != dataLength) {\n        const expandEnd = Math.ceil((this._maxBufferPx - endBuffer) / this._itemSize);\n        if (expandEnd > 0) {\n          newRange.end = Math.min(dataLength, newRange.end + expandEnd);\n          newRange.start = Math.max(0, Math.floor(firstVisibleIndex - this._minBufferPx / this._itemSize));\n        }\n      }\n    }\n    this._viewport.setRenderedRange(newRange);\n    this._viewport.setRenderedContentOffset(this._itemSize * newRange.start);\n    this._scrolledIndexChange.next(Math.floor(firstVisibleIndex));\n  }\n}\n/**\n * Provider factory for `FixedSizeVirtualScrollStrategy` that simply extracts the already created\n * `FixedSizeVirtualScrollStrategy` from the given directive.\n * @param fixedSizeDir The instance of `CdkFixedSizeVirtualScroll` to extract the\n *     `FixedSizeVirtualScrollStrategy` from.\n */\nfunction _fixedSizeVirtualScrollStrategyFactory(fixedSizeDir) {\n  return fixedSizeDir._scrollStrategy;\n}\n/** A virtual scroll strategy that supports fixed-size items. */\nlet CdkFixedSizeVirtualScroll = /*#__PURE__*/(() => {\n  class CdkFixedSizeVirtualScroll {\n    /** The size of the items in the list (in pixels). */\n    get itemSize() {\n      return this._itemSize;\n    }\n    set itemSize(value) {\n      this._itemSize = coerceNumberProperty(value);\n    }\n    _itemSize = 20;\n    /**\n     * The minimum amount of buffer rendered beyond the viewport (in pixels).\n     * If the amount of buffer dips below this number, more items will be rendered. Defaults to 100px.\n     */\n    get minBufferPx() {\n      return this._minBufferPx;\n    }\n    set minBufferPx(value) {\n      this._minBufferPx = coerceNumberProperty(value);\n    }\n    _minBufferPx = 100;\n    /**\n     * The number of pixels worth of buffer to render for when rendering new items. Defaults to 200px.\n     */\n    get maxBufferPx() {\n      return this._maxBufferPx;\n    }\n    set maxBufferPx(value) {\n      this._maxBufferPx = coerceNumberProperty(value);\n    }\n    _maxBufferPx = 200;\n    /** The scroll strategy used by this directive. */\n    _scrollStrategy = new FixedSizeVirtualScrollStrategy(this.itemSize, this.minBufferPx, this.maxBufferPx);\n    ngOnChanges() {\n      this._scrollStrategy.updateItemAndBufferSize(this.itemSize, this.minBufferPx, this.maxBufferPx);\n    }\n    static ɵfac = function CdkFixedSizeVirtualScroll_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkFixedSizeVirtualScroll)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkFixedSizeVirtualScroll,\n      selectors: [[\"cdk-virtual-scroll-viewport\", \"itemSize\", \"\"]],\n      inputs: {\n        itemSize: \"itemSize\",\n        minBufferPx: \"minBufferPx\",\n        maxBufferPx: \"maxBufferPx\"\n      },\n      features: [i0.ɵɵProvidersFeature([{\n        provide: VIRTUAL_SCROLL_STRATEGY,\n        useFactory: _fixedSizeVirtualScrollStrategyFactory,\n        deps: [forwardRef(() => CdkFixedSizeVirtualScroll)]\n      }]), i0.ɵɵNgOnChangesFeature]\n    });\n  }\n  return CdkFixedSizeVirtualScroll;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Time in ms to throttle the scrolling events by default. */\nconst DEFAULT_SCROLL_TIME = 20;\n/**\n * Service contained all registered Scrollable references and emits an event when any one of the\n * Scrollable references emit a scrolled event.\n */\nlet ScrollDispatcher = /*#__PURE__*/(() => {\n  class ScrollDispatcher {\n    _ngZone = inject(NgZone);\n    _platform = inject(Platform);\n    _renderer = inject(RendererFactory2).createRenderer(null, null);\n    _cleanupGlobalListener;\n    constructor() {}\n    /** Subject for notifying that a registered scrollable reference element has been scrolled. */\n    _scrolled = new Subject();\n    /** Keeps track of the amount of subscriptions to `scrolled`. Used for cleaning up afterwards. */\n    _scrolledCount = 0;\n    /**\n     * Map of all the scrollable references that are registered with the service and their\n     * scroll event subscriptions.\n     */\n    scrollContainers = new Map();\n    /**\n     * Registers a scrollable instance with the service and listens for its scrolled events. When the\n     * scrollable is scrolled, the service emits the event to its scrolled observable.\n     * @param scrollable Scrollable instance to be registered.\n     */\n    register(scrollable) {\n      if (!this.scrollContainers.has(scrollable)) {\n        this.scrollContainers.set(scrollable, scrollable.elementScrolled().subscribe(() => this._scrolled.next(scrollable)));\n      }\n    }\n    /**\n     * De-registers a Scrollable reference and unsubscribes from its scroll event observable.\n     * @param scrollable Scrollable instance to be deregistered.\n     */\n    deregister(scrollable) {\n      const scrollableReference = this.scrollContainers.get(scrollable);\n      if (scrollableReference) {\n        scrollableReference.unsubscribe();\n        this.scrollContainers.delete(scrollable);\n      }\n    }\n    /**\n     * Returns an observable that emits an event whenever any of the registered Scrollable\n     * references (or window, document, or body) fire a scrolled event. Can provide a time in ms\n     * to override the default \"throttle\" time.\n     *\n     * **Note:** in order to avoid hitting change detection for every scroll event,\n     * all of the events emitted from this stream will be run outside the Angular zone.\n     * If you need to update any data bindings as a result of a scroll event, you have\n     * to run the callback using `NgZone.run`.\n     */\n    scrolled(auditTimeInMs = DEFAULT_SCROLL_TIME) {\n      if (!this._platform.isBrowser) {\n        return of();\n      }\n      return new Observable(observer => {\n        if (!this._cleanupGlobalListener) {\n          this._cleanupGlobalListener = this._ngZone.runOutsideAngular(() => this._renderer.listen('document', 'scroll', () => this._scrolled.next()));\n        }\n        // In the case of a 0ms delay, use an observable without auditTime\n        // since it does add a perceptible delay in processing overhead.\n        const subscription = auditTimeInMs > 0 ? this._scrolled.pipe(auditTime(auditTimeInMs)).subscribe(observer) : this._scrolled.subscribe(observer);\n        this._scrolledCount++;\n        return () => {\n          subscription.unsubscribe();\n          this._scrolledCount--;\n          if (!this._scrolledCount) {\n            this._cleanupGlobalListener?.();\n            this._cleanupGlobalListener = undefined;\n          }\n        };\n      });\n    }\n    ngOnDestroy() {\n      this._cleanupGlobalListener?.();\n      this._cleanupGlobalListener = undefined;\n      this.scrollContainers.forEach((_, container) => this.deregister(container));\n      this._scrolled.complete();\n    }\n    /**\n     * Returns an observable that emits whenever any of the\n     * scrollable ancestors of an element are scrolled.\n     * @param elementOrElementRef Element whose ancestors to listen for.\n     * @param auditTimeInMs Time to throttle the scroll events.\n     */\n    ancestorScrolled(elementOrElementRef, auditTimeInMs) {\n      const ancestors = this.getAncestorScrollContainers(elementOrElementRef);\n      return this.scrolled(auditTimeInMs).pipe(filter(target => !target || ancestors.indexOf(target) > -1));\n    }\n    /** Returns all registered Scrollables that contain the provided element. */\n    getAncestorScrollContainers(elementOrElementRef) {\n      const scrollingContainers = [];\n      this.scrollContainers.forEach((_subscription, scrollable) => {\n        if (this._scrollableContainsElement(scrollable, elementOrElementRef)) {\n          scrollingContainers.push(scrollable);\n        }\n      });\n      return scrollingContainers;\n    }\n    /** Returns true if the element is contained within the provided Scrollable. */\n    _scrollableContainsElement(scrollable, elementOrElementRef) {\n      let element = coerceElement(elementOrElementRef);\n      let scrollableElement = scrollable.getElementRef().nativeElement;\n      // Traverse through the element parents until we reach null, checking if any of the elements\n      // are the scrollable's element.\n      do {\n        if (element == scrollableElement) {\n          return true;\n        }\n      } while (element = element.parentElement);\n      return false;\n    }\n    static ɵfac = function ScrollDispatcher_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ScrollDispatcher)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: ScrollDispatcher,\n      factory: ScrollDispatcher.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return ScrollDispatcher;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Sends an event when the directive's element is scrolled. Registers itself with the\n * ScrollDispatcher service to include itself as part of its collection of scrolling events that it\n * can be listened to through the service.\n */\nlet CdkScrollable = /*#__PURE__*/(() => {\n  class CdkScrollable {\n    elementRef = inject(ElementRef);\n    scrollDispatcher = inject(ScrollDispatcher);\n    ngZone = inject(NgZone);\n    dir = inject(Directionality, {\n      optional: true\n    });\n    _scrollElement = this.elementRef.nativeElement;\n    _destroyed = new Subject();\n    _renderer = inject(Renderer2);\n    _cleanupScroll;\n    _elementScrolled = new Subject();\n    constructor() {}\n    ngOnInit() {\n      this._cleanupScroll = this.ngZone.runOutsideAngular(() => this._renderer.listen(this._scrollElement, 'scroll', event => this._elementScrolled.next(event)));\n      this.scrollDispatcher.register(this);\n    }\n    ngOnDestroy() {\n      this._cleanupScroll?.();\n      this._elementScrolled.complete();\n      this.scrollDispatcher.deregister(this);\n      this._destroyed.next();\n      this._destroyed.complete();\n    }\n    /** Returns observable that emits when a scroll event is fired on the host element. */\n    elementScrolled() {\n      return this._elementScrolled;\n    }\n    /** Gets the ElementRef for the viewport. */\n    getElementRef() {\n      return this.elementRef;\n    }\n    /**\n     * Scrolls to the specified offsets. This is a normalized version of the browser's native scrollTo\n     * method, since browsers are not consistent about what scrollLeft means in RTL. For this method\n     * left and right always refer to the left and right side of the scrolling container irrespective\n     * of the layout direction. start and end refer to left and right in an LTR context and vice-versa\n     * in an RTL context.\n     * @param options specified the offsets to scroll to.\n     */\n    scrollTo(options) {\n      const el = this.elementRef.nativeElement;\n      const isRtl = this.dir && this.dir.value == 'rtl';\n      // Rewrite start & end offsets as right or left offsets.\n      if (options.left == null) {\n        options.left = isRtl ? options.end : options.start;\n      }\n      if (options.right == null) {\n        options.right = isRtl ? options.start : options.end;\n      }\n      // Rewrite the bottom offset as a top offset.\n      if (options.bottom != null) {\n        options.top = el.scrollHeight - el.clientHeight - options.bottom;\n      }\n      // Rewrite the right offset as a left offset.\n      if (isRtl && getRtlScrollAxisType() != RtlScrollAxisType.NORMAL) {\n        if (options.left != null) {\n          options.right = el.scrollWidth - el.clientWidth - options.left;\n        }\n        if (getRtlScrollAxisType() == RtlScrollAxisType.INVERTED) {\n          options.left = options.right;\n        } else if (getRtlScrollAxisType() == RtlScrollAxisType.NEGATED) {\n          options.left = options.right ? -options.right : options.right;\n        }\n      } else {\n        if (options.right != null) {\n          options.left = el.scrollWidth - el.clientWidth - options.right;\n        }\n      }\n      this._applyScrollToOptions(options);\n    }\n    _applyScrollToOptions(options) {\n      const el = this.elementRef.nativeElement;\n      if (supportsScrollBehavior()) {\n        el.scrollTo(options);\n      } else {\n        if (options.top != null) {\n          el.scrollTop = options.top;\n        }\n        if (options.left != null) {\n          el.scrollLeft = options.left;\n        }\n      }\n    }\n    /**\n     * Measures the scroll offset relative to the specified edge of the viewport. This method can be\n     * used instead of directly checking scrollLeft or scrollTop, since browsers are not consistent\n     * about what scrollLeft means in RTL. The values returned by this method are normalized such that\n     * left and right always refer to the left and right side of the scrolling container irrespective\n     * of the layout direction. start and end refer to left and right in an LTR context and vice-versa\n     * in an RTL context.\n     * @param from The edge to measure from.\n     */\n    measureScrollOffset(from) {\n      const LEFT = 'left';\n      const RIGHT = 'right';\n      const el = this.elementRef.nativeElement;\n      if (from == 'top') {\n        return el.scrollTop;\n      }\n      if (from == 'bottom') {\n        return el.scrollHeight - el.clientHeight - el.scrollTop;\n      }\n      // Rewrite start & end as left or right offsets.\n      const isRtl = this.dir && this.dir.value == 'rtl';\n      if (from == 'start') {\n        from = isRtl ? RIGHT : LEFT;\n      } else if (from == 'end') {\n        from = isRtl ? LEFT : RIGHT;\n      }\n      if (isRtl && getRtlScrollAxisType() == RtlScrollAxisType.INVERTED) {\n        // For INVERTED, scrollLeft is (scrollWidth - clientWidth) when scrolled all the way left and\n        // 0 when scrolled all the way right.\n        if (from == LEFT) {\n          return el.scrollWidth - el.clientWidth - el.scrollLeft;\n        } else {\n          return el.scrollLeft;\n        }\n      } else if (isRtl && getRtlScrollAxisType() == RtlScrollAxisType.NEGATED) {\n        // For NEGATED, scrollLeft is -(scrollWidth - clientWidth) when scrolled all the way left and\n        // 0 when scrolled all the way right.\n        if (from == LEFT) {\n          return el.scrollLeft + el.scrollWidth - el.clientWidth;\n        } else {\n          return -el.scrollLeft;\n        }\n      } else {\n        // For NORMAL, as well as non-RTL contexts, scrollLeft is 0 when scrolled all the way left and\n        // (scrollWidth - clientWidth) when scrolled all the way right.\n        if (from == LEFT) {\n          return el.scrollLeft;\n        } else {\n          return el.scrollWidth - el.clientWidth - el.scrollLeft;\n        }\n      }\n    }\n    static ɵfac = function CdkScrollable_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkScrollable)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkScrollable,\n      selectors: [[\"\", \"cdk-scrollable\", \"\"], [\"\", \"cdkScrollable\", \"\"]]\n    });\n  }\n  return CdkScrollable;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Time in ms to throttle the resize events by default. */\nconst DEFAULT_RESIZE_TIME = 20;\n/**\n * Simple utility for getting the bounds of the browser viewport.\n * @docs-private\n */\nlet ViewportRuler = /*#__PURE__*/(() => {\n  class ViewportRuler {\n    _platform = inject(Platform);\n    _listeners;\n    /** Cached viewport dimensions. */\n    _viewportSize;\n    /** Stream of viewport change events. */\n    _change = new Subject();\n    /** Used to reference correct document/window */\n    _document = inject(DOCUMENT, {\n      optional: true\n    });\n    constructor() {\n      const ngZone = inject(NgZone);\n      const renderer = inject(RendererFactory2).createRenderer(null, null);\n      ngZone.runOutsideAngular(() => {\n        if (this._platform.isBrowser) {\n          const changeListener = event => this._change.next(event);\n          this._listeners = [renderer.listen('window', 'resize', changeListener), renderer.listen('window', 'orientationchange', changeListener)];\n        }\n        // Clear the cached position so that the viewport is re-measured next time it is required.\n        // We don't need to keep track of the subscription, because it is completed on destroy.\n        this.change().subscribe(() => this._viewportSize = null);\n      });\n    }\n    ngOnDestroy() {\n      this._listeners?.forEach(cleanup => cleanup());\n      this._change.complete();\n    }\n    /** Returns the viewport's width and height. */\n    getViewportSize() {\n      if (!this._viewportSize) {\n        this._updateViewportSize();\n      }\n      const output = {\n        width: this._viewportSize.width,\n        height: this._viewportSize.height\n      };\n      // If we're not on a browser, don't cache the size since it'll be mocked out anyway.\n      if (!this._platform.isBrowser) {\n        this._viewportSize = null;\n      }\n      return output;\n    }\n    /** Gets a DOMRect for the viewport's bounds. */\n    getViewportRect() {\n      // Use the document element's bounding rect rather than the window scroll properties\n      // (e.g. pageYOffset, scrollY) due to in issue in Chrome and IE where window scroll\n      // properties and client coordinates (boundingClientRect, clientX/Y, etc.) are in different\n      // conceptual viewports. Under most circumstances these viewports are equivalent, but they\n      // can disagree when the page is pinch-zoomed (on devices that support touch).\n      // See https://bugs.chromium.org/p/chromium/issues/detail?id=489206#c4\n      // We use the documentElement instead of the body because, by default (without a css reset)\n      // browsers typically give the document body an 8px margin, which is not included in\n      // getBoundingClientRect().\n      const scrollPosition = this.getViewportScrollPosition();\n      const {\n        width,\n        height\n      } = this.getViewportSize();\n      return {\n        top: scrollPosition.top,\n        left: scrollPosition.left,\n        bottom: scrollPosition.top + height,\n        right: scrollPosition.left + width,\n        height,\n        width\n      };\n    }\n    /** Gets the (top, left) scroll position of the viewport. */\n    getViewportScrollPosition() {\n      // While we can get a reference to the fake document\n      // during SSR, it doesn't have getBoundingClientRect.\n      if (!this._platform.isBrowser) {\n        return {\n          top: 0,\n          left: 0\n        };\n      }\n      // The top-left-corner of the viewport is determined by the scroll position of the document\n      // body, normally just (scrollLeft, scrollTop). However, Chrome and Firefox disagree about\n      // whether `document.body` or `document.documentElement` is the scrolled element, so reading\n      // `scrollTop` and `scrollLeft` is inconsistent. However, using the bounding rect of\n      // `document.documentElement` works consistently, where the `top` and `left` values will\n      // equal negative the scroll position.\n      const document = this._document;\n      const window = this._getWindow();\n      const documentElement = document.documentElement;\n      const documentRect = documentElement.getBoundingClientRect();\n      const top = -documentRect.top || document.body.scrollTop || window.scrollY || documentElement.scrollTop || 0;\n      const left = -documentRect.left || document.body.scrollLeft || window.scrollX || documentElement.scrollLeft || 0;\n      return {\n        top,\n        left\n      };\n    }\n    /**\n     * Returns a stream that emits whenever the size of the viewport changes.\n     * This stream emits outside of the Angular zone.\n     * @param throttleTime Time in milliseconds to throttle the stream.\n     */\n    change(throttleTime = DEFAULT_RESIZE_TIME) {\n      return throttleTime > 0 ? this._change.pipe(auditTime(throttleTime)) : this._change;\n    }\n    /** Use defaultView of injected document if available or fallback to global window reference */\n    _getWindow() {\n      return this._document.defaultView || window;\n    }\n    /** Updates the cached viewport size. */\n    _updateViewportSize() {\n      const window = this._getWindow();\n      this._viewportSize = this._platform.isBrowser ? {\n        width: window.innerWidth,\n        height: window.innerHeight\n      } : {\n        width: 0,\n        height: 0\n      };\n    }\n    static ɵfac = function ViewportRuler_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ViewportRuler)();\n    };\n    static ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n      token: ViewportRuler,\n      factory: ViewportRuler.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return ViewportRuler;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst VIRTUAL_SCROLLABLE = /*#__PURE__*/new InjectionToken('VIRTUAL_SCROLLABLE');\n/**\n * Extending the {@link CdkScrollable} to be used as scrolling container for virtual scrolling.\n */\nlet CdkVirtualScrollable = /*#__PURE__*/(() => {\n  class CdkVirtualScrollable extends CdkScrollable {\n    constructor() {\n      super();\n    }\n    /**\n     * Measure the viewport size for the provided orientation.\n     *\n     * @param orientation The orientation to measure the size from.\n     */\n    measureViewportSize(orientation) {\n      const viewportEl = this.elementRef.nativeElement;\n      return orientation === 'horizontal' ? viewportEl.clientWidth : viewportEl.clientHeight;\n    }\n    static ɵfac = function CdkVirtualScrollable_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkVirtualScrollable)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkVirtualScrollable,\n      features: [i0.ɵɵInheritDefinitionFeature]\n    });\n  }\n  return CdkVirtualScrollable;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Checks if the given ranges are equal. */\nfunction rangesEqual(r1, r2) {\n  return r1.start == r2.start && r1.end == r2.end;\n}\n/**\n * Scheduler to be used for scroll events. Needs to fall back to\n * something that doesn't rely on requestAnimationFrame on environments\n * that don't support it (e.g. server-side rendering).\n */\nconst SCROLL_SCHEDULER = typeof requestAnimationFrame !== 'undefined' ? animationFrameScheduler : asapScheduler;\n/** A viewport that virtualizes its scrolling with the help of `CdkVirtualForOf`. */\nlet CdkVirtualScrollViewport = /*#__PURE__*/(() => {\n  class CdkVirtualScrollViewport extends CdkVirtualScrollable {\n    elementRef = inject(ElementRef);\n    _changeDetectorRef = inject(ChangeDetectorRef);\n    _scrollStrategy = inject(VIRTUAL_SCROLL_STRATEGY, {\n      optional: true\n    });\n    scrollable = inject(VIRTUAL_SCROLLABLE, {\n      optional: true\n    });\n    _platform = inject(Platform);\n    /** Emits when the viewport is detached from a CdkVirtualForOf. */\n    _detachedSubject = new Subject();\n    /** Emits when the rendered range changes. */\n    _renderedRangeSubject = new Subject();\n    /** The direction the viewport scrolls. */\n    get orientation() {\n      return this._orientation;\n    }\n    set orientation(orientation) {\n      if (this._orientation !== orientation) {\n        this._orientation = orientation;\n        this._calculateSpacerSize();\n      }\n    }\n    _orientation = 'vertical';\n    /**\n     * Whether rendered items should persist in the DOM after scrolling out of view. By default, items\n     * will be removed.\n     */\n    appendOnly = false;\n    // Note: we don't use the typical EventEmitter here because we need to subscribe to the scroll\n    // strategy lazily (i.e. only if the user is actually listening to the events). We do this because\n    // depending on how the strategy calculates the scrolled index, it may come at a cost to\n    // performance.\n    /** Emits when the index of the first element visible in the viewport changes. */\n    scrolledIndexChange = new Observable(observer => this._scrollStrategy.scrolledIndexChange.subscribe(index => Promise.resolve().then(() => this.ngZone.run(() => observer.next(index)))));\n    /** The element that wraps the rendered content. */\n    _contentWrapper;\n    /** A stream that emits whenever the rendered range changes. */\n    renderedRangeStream = this._renderedRangeSubject;\n    /**\n     * The total size of all content (in pixels), including content that is not currently rendered.\n     */\n    _totalContentSize = 0;\n    /** A string representing the `style.width` property value to be used for the spacer element. */\n    _totalContentWidth = '';\n    /** A string representing the `style.height` property value to be used for the spacer element. */\n    _totalContentHeight = '';\n    /**\n     * The CSS transform applied to the rendered subset of items so that they appear within the bounds\n     * of the visible viewport.\n     */\n    _renderedContentTransform;\n    /** The currently rendered range of indices. */\n    _renderedRange = {\n      start: 0,\n      end: 0\n    };\n    /** The length of the data bound to this viewport (in number of items). */\n    _dataLength = 0;\n    /** The size of the viewport (in pixels). */\n    _viewportSize = 0;\n    /** the currently attached CdkVirtualScrollRepeater. */\n    _forOf;\n    /** The last rendered content offset that was set. */\n    _renderedContentOffset = 0;\n    /**\n     * Whether the last rendered content offset was to the end of the content (and therefore needs to\n     * be rewritten as an offset to the start of the content).\n     */\n    _renderedContentOffsetNeedsRewrite = false;\n    /** Whether there is a pending change detection cycle. */\n    _isChangeDetectionPending = false;\n    /** A list of functions to run after the next change detection cycle. */\n    _runAfterChangeDetection = [];\n    /** Subscription to changes in the viewport size. */\n    _viewportChanges = Subscription.EMPTY;\n    _injector = inject(Injector);\n    _isDestroyed = false;\n    constructor() {\n      super();\n      const viewportRuler = inject(ViewportRuler);\n      if (!this._scrollStrategy && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw Error('Error: cdk-virtual-scroll-viewport requires the \"itemSize\" property to be set.');\n      }\n      this._viewportChanges = viewportRuler.change().subscribe(() => {\n        this.checkViewportSize();\n      });\n      if (!this.scrollable) {\n        // No scrollable is provided, so the virtual-scroll-viewport needs to become a scrollable\n        this.elementRef.nativeElement.classList.add('cdk-virtual-scrollable');\n        this.scrollable = this;\n      }\n    }\n    ngOnInit() {\n      // Scrolling depends on the element dimensions which we can't get during SSR.\n      if (!this._platform.isBrowser) {\n        return;\n      }\n      if (this.scrollable === this) {\n        super.ngOnInit();\n      }\n      // It's still too early to measure the viewport at this point. Deferring with a promise allows\n      // the Viewport to be rendered with the correct size before we measure. We run this outside the\n      // zone to avoid causing more change detection cycles. We handle the change detection loop\n      // ourselves instead.\n      this.ngZone.runOutsideAngular(() => Promise.resolve().then(() => {\n        this._measureViewportSize();\n        this._scrollStrategy.attach(this);\n        this.scrollable.elementScrolled().pipe(\n        // Start off with a fake scroll event so we properly detect our initial position.\n        startWith(null),\n        // Collect multiple events into one until the next animation frame. This way if\n        // there are multiple scroll events in the same frame we only need to recheck\n        // our layout once.\n        auditTime(0, SCROLL_SCHEDULER),\n        // Usually `elementScrolled` is completed when the scrollable is destroyed, but\n        // that may not be the case if a `CdkVirtualScrollableElement` is used so we have\n        // to unsubscribe here just in case.\n        takeUntil(this._destroyed)).subscribe(() => this._scrollStrategy.onContentScrolled());\n        this._markChangeDetectionNeeded();\n      }));\n    }\n    ngOnDestroy() {\n      this.detach();\n      this._scrollStrategy.detach();\n      // Complete all subjects\n      this._renderedRangeSubject.complete();\n      this._detachedSubject.complete();\n      this._viewportChanges.unsubscribe();\n      this._isDestroyed = true;\n      super.ngOnDestroy();\n    }\n    /** Attaches a `CdkVirtualScrollRepeater` to this viewport. */\n    attach(forOf) {\n      if (this._forOf && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw Error('CdkVirtualScrollViewport is already attached.');\n      }\n      // Subscribe to the data stream of the CdkVirtualForOf to keep track of when the data length\n      // changes. Run outside the zone to avoid triggering change detection, since we're managing the\n      // change detection loop ourselves.\n      this.ngZone.runOutsideAngular(() => {\n        this._forOf = forOf;\n        this._forOf.dataStream.pipe(takeUntil(this._detachedSubject)).subscribe(data => {\n          const newLength = data.length;\n          if (newLength !== this._dataLength) {\n            this._dataLength = newLength;\n            this._scrollStrategy.onDataLengthChanged();\n          }\n          this._doChangeDetection();\n        });\n      });\n    }\n    /** Detaches the current `CdkVirtualForOf`. */\n    detach() {\n      this._forOf = null;\n      this._detachedSubject.next();\n    }\n    /** Gets the length of the data bound to this viewport (in number of items). */\n    getDataLength() {\n      return this._dataLength;\n    }\n    /** Gets the size of the viewport (in pixels). */\n    getViewportSize() {\n      return this._viewportSize;\n    }\n    // TODO(mmalerba): This is technically out of sync with what's really rendered until a render\n    // cycle happens. I'm being careful to only call it after the render cycle is complete and before\n    // setting it to something else, but its error prone and should probably be split into\n    // `pendingRange` and `renderedRange`, the latter reflecting whats actually in the DOM.\n    /** Get the current rendered range of items. */\n    getRenderedRange() {\n      return this._renderedRange;\n    }\n    measureBoundingClientRectWithScrollOffset(from) {\n      return this.getElementRef().nativeElement.getBoundingClientRect()[from];\n    }\n    /**\n     * Sets the total size of all content (in pixels), including content that is not currently\n     * rendered.\n     */\n    setTotalContentSize(size) {\n      if (this._totalContentSize !== size) {\n        this._totalContentSize = size;\n        this._calculateSpacerSize();\n        this._markChangeDetectionNeeded();\n      }\n    }\n    /** Sets the currently rendered range of indices. */\n    setRenderedRange(range) {\n      if (!rangesEqual(this._renderedRange, range)) {\n        if (this.appendOnly) {\n          range = {\n            start: 0,\n            end: Math.max(this._renderedRange.end, range.end)\n          };\n        }\n        this._renderedRangeSubject.next(this._renderedRange = range);\n        this._markChangeDetectionNeeded(() => this._scrollStrategy.onContentRendered());\n      }\n    }\n    /**\n     * Gets the offset from the start of the viewport to the start of the rendered data (in pixels).\n     */\n    getOffsetToRenderedContentStart() {\n      return this._renderedContentOffsetNeedsRewrite ? null : this._renderedContentOffset;\n    }\n    /**\n     * Sets the offset from the start of the viewport to either the start or end of the rendered data\n     * (in pixels).\n     */\n    setRenderedContentOffset(offset, to = 'to-start') {\n      // In appendOnly, we always start from the top\n      offset = this.appendOnly && to === 'to-start' ? 0 : offset;\n      // For a horizontal viewport in a right-to-left language we need to translate along the x-axis\n      // in the negative direction.\n      const isRtl = this.dir && this.dir.value == 'rtl';\n      const isHorizontal = this.orientation == 'horizontal';\n      const axis = isHorizontal ? 'X' : 'Y';\n      const axisDirection = isHorizontal && isRtl ? -1 : 1;\n      let transform = `translate${axis}(${Number(axisDirection * offset)}px)`;\n      this._renderedContentOffset = offset;\n      if (to === 'to-end') {\n        transform += ` translate${axis}(-100%)`;\n        // The viewport should rewrite this as a `to-start` offset on the next render cycle. Otherwise\n        // elements will appear to expand in the wrong direction (e.g. `mat-expansion-panel` would\n        // expand upward).\n        this._renderedContentOffsetNeedsRewrite = true;\n      }\n      if (this._renderedContentTransform != transform) {\n        // We know this value is safe because we parse `offset` with `Number()` before passing it\n        // into the string.\n        this._renderedContentTransform = transform;\n        this._markChangeDetectionNeeded(() => {\n          if (this._renderedContentOffsetNeedsRewrite) {\n            this._renderedContentOffset -= this.measureRenderedContentSize();\n            this._renderedContentOffsetNeedsRewrite = false;\n            this.setRenderedContentOffset(this._renderedContentOffset);\n          } else {\n            this._scrollStrategy.onRenderedOffsetChanged();\n          }\n        });\n      }\n    }\n    /**\n     * Scrolls to the given offset from the start of the viewport. Please note that this is not always\n     * the same as setting `scrollTop` or `scrollLeft`. In a horizontal viewport with right-to-left\n     * direction, this would be the equivalent of setting a fictional `scrollRight` property.\n     * @param offset The offset to scroll to.\n     * @param behavior The ScrollBehavior to use when scrolling. Default is behavior is `auto`.\n     */\n    scrollToOffset(offset, behavior = 'auto') {\n      const options = {\n        behavior\n      };\n      if (this.orientation === 'horizontal') {\n        options.start = offset;\n      } else {\n        options.top = offset;\n      }\n      this.scrollable.scrollTo(options);\n    }\n    /**\n     * Scrolls to the offset for the given index.\n     * @param index The index of the element to scroll to.\n     * @param behavior The ScrollBehavior to use when scrolling. Default is behavior is `auto`.\n     */\n    scrollToIndex(index, behavior = 'auto') {\n      this._scrollStrategy.scrollToIndex(index, behavior);\n    }\n    /**\n     * Gets the current scroll offset from the start of the scrollable (in pixels).\n     * @param from The edge to measure the offset from. Defaults to 'top' in vertical mode and 'start'\n     *     in horizontal mode.\n     */\n    measureScrollOffset(from) {\n      // This is to break the call cycle\n      let measureScrollOffset;\n      if (this.scrollable == this) {\n        measureScrollOffset = _from => super.measureScrollOffset(_from);\n      } else {\n        measureScrollOffset = _from => this.scrollable.measureScrollOffset(_from);\n      }\n      return Math.max(0, measureScrollOffset(from ?? (this.orientation === 'horizontal' ? 'start' : 'top')) - this.measureViewportOffset());\n    }\n    /**\n     * Measures the offset of the viewport from the scrolling container\n     * @param from The edge to measure from.\n     */\n    measureViewportOffset(from) {\n      let fromRect;\n      const LEFT = 'left';\n      const RIGHT = 'right';\n      const isRtl = this.dir?.value == 'rtl';\n      if (from == 'start') {\n        fromRect = isRtl ? RIGHT : LEFT;\n      } else if (from == 'end') {\n        fromRect = isRtl ? LEFT : RIGHT;\n      } else if (from) {\n        fromRect = from;\n      } else {\n        fromRect = this.orientation === 'horizontal' ? 'left' : 'top';\n      }\n      const scrollerClientRect = this.scrollable.measureBoundingClientRectWithScrollOffset(fromRect);\n      const viewportClientRect = this.elementRef.nativeElement.getBoundingClientRect()[fromRect];\n      return viewportClientRect - scrollerClientRect;\n    }\n    /** Measure the combined size of all of the rendered items. */\n    measureRenderedContentSize() {\n      const contentEl = this._contentWrapper.nativeElement;\n      return this.orientation === 'horizontal' ? contentEl.offsetWidth : contentEl.offsetHeight;\n    }\n    /**\n     * Measure the total combined size of the given range. Throws if the range includes items that are\n     * not rendered.\n     */\n    measureRangeSize(range) {\n      if (!this._forOf) {\n        return 0;\n      }\n      return this._forOf.measureRangeSize(range, this.orientation);\n    }\n    /** Update the viewport dimensions and re-render. */\n    checkViewportSize() {\n      // TODO: Cleanup later when add logic for handling content resize\n      this._measureViewportSize();\n      this._scrollStrategy.onDataLengthChanged();\n    }\n    /** Measure the viewport size. */\n    _measureViewportSize() {\n      this._viewportSize = this.scrollable.measureViewportSize(this.orientation);\n    }\n    /** Queue up change detection to run. */\n    _markChangeDetectionNeeded(runAfter) {\n      if (runAfter) {\n        this._runAfterChangeDetection.push(runAfter);\n      }\n      // Use a Promise to batch together calls to `_doChangeDetection`. This way if we set a bunch of\n      // properties sequentially we only have to run `_doChangeDetection` once at the end.\n      if (!this._isChangeDetectionPending) {\n        this._isChangeDetectionPending = true;\n        this.ngZone.runOutsideAngular(() => Promise.resolve().then(() => {\n          this._doChangeDetection();\n        }));\n      }\n    }\n    /** Run change detection. */\n    _doChangeDetection() {\n      if (this._isDestroyed) {\n        return;\n      }\n      this.ngZone.run(() => {\n        // Apply changes to Angular bindings. Note: We must call `markForCheck` to run change detection\n        // from the root, since the repeated items are content projected in. Calling `detectChanges`\n        // instead does not properly check the projected content.\n        this._changeDetectorRef.markForCheck();\n        // Apply the content transform. The transform can't be set via an Angular binding because\n        // bypassSecurityTrustStyle is banned in Google. However the value is safe, it's composed of\n        // string literals, a variable that can only be 'X' or 'Y', and user input that is run through\n        // the `Number` function first to coerce it to a numeric value.\n        this._contentWrapper.nativeElement.style.transform = this._renderedContentTransform;\n        afterNextRender(() => {\n          this._isChangeDetectionPending = false;\n          const runAfterChangeDetection = this._runAfterChangeDetection;\n          this._runAfterChangeDetection = [];\n          for (const fn of runAfterChangeDetection) {\n            fn();\n          }\n        }, {\n          injector: this._injector\n        });\n      });\n    }\n    /** Calculates the `style.width` and `style.height` for the spacer element. */\n    _calculateSpacerSize() {\n      this._totalContentHeight = this.orientation === 'horizontal' ? '' : `${this._totalContentSize}px`;\n      this._totalContentWidth = this.orientation === 'horizontal' ? `${this._totalContentSize}px` : '';\n    }\n    static ɵfac = function CdkVirtualScrollViewport_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkVirtualScrollViewport)();\n    };\n    static ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: CdkVirtualScrollViewport,\n      selectors: [[\"cdk-virtual-scroll-viewport\"]],\n      viewQuery: function CdkVirtualScrollViewport_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 7);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx._contentWrapper = _t.first);\n        }\n      },\n      hostAttrs: [1, \"cdk-virtual-scroll-viewport\"],\n      hostVars: 4,\n      hostBindings: function CdkVirtualScrollViewport_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.ɵɵclassProp(\"cdk-virtual-scroll-orientation-horizontal\", ctx.orientation === \"horizontal\")(\"cdk-virtual-scroll-orientation-vertical\", ctx.orientation !== \"horizontal\");\n        }\n      },\n      inputs: {\n        orientation: \"orientation\",\n        appendOnly: [2, \"appendOnly\", \"appendOnly\", booleanAttribute]\n      },\n      outputs: {\n        scrolledIndexChange: \"scrolledIndexChange\"\n      },\n      features: [i0.ɵɵProvidersFeature([{\n        provide: CdkScrollable,\n        useFactory: (virtualScrollable, viewport) => virtualScrollable || viewport,\n        deps: [[new Optional(), new Inject(VIRTUAL_SCROLLABLE)], CdkVirtualScrollViewport]\n      }]), i0.ɵɵInheritDefinitionFeature],\n      ngContentSelectors: _c1,\n      decls: 4,\n      vars: 4,\n      consts: [[\"contentWrapper\", \"\"], [1, \"cdk-virtual-scroll-content-wrapper\"], [1, \"cdk-virtual-scroll-spacer\"]],\n      template: function CdkVirtualScrollViewport_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵprojectionDef();\n          i0.ɵɵelementStart(0, \"div\", 1, 0);\n          i0.ɵɵprojection(2);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(3, \"div\", 2);\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵstyleProp(\"width\", ctx._totalContentWidth)(\"height\", ctx._totalContentHeight);\n        }\n      },\n      styles: [\"cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}\"],\n      encapsulation: 2,\n      changeDetection: 0\n    });\n  }\n  return CdkVirtualScrollViewport;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/** Helper to extract the offset of a DOM Node in a certain direction. */\nfunction getOffset(orientation, direction, node) {\n  const el = node;\n  if (!el.getBoundingClientRect) {\n    return 0;\n  }\n  const rect = el.getBoundingClientRect();\n  if (orientation === 'horizontal') {\n    return direction === 'start' ? rect.left : rect.right;\n  }\n  return direction === 'start' ? rect.top : rect.bottom;\n}\n/**\n * A directive similar to `ngForOf` to be used for rendering data inside a virtual scrolling\n * container.\n */\nlet CdkVirtualForOf = /*#__PURE__*/(() => {\n  class CdkVirtualForOf {\n    _viewContainerRef = inject(ViewContainerRef);\n    _template = inject(TemplateRef);\n    _differs = inject(IterableDiffers);\n    _viewRepeater = inject(_VIEW_REPEATER_STRATEGY);\n    _viewport = inject(CdkVirtualScrollViewport, {\n      skipSelf: true\n    });\n    /** Emits when the rendered view of the data changes. */\n    viewChange = new Subject();\n    /** Subject that emits when a new DataSource instance is given. */\n    _dataSourceChanges = new Subject();\n    /** The DataSource to display. */\n    get cdkVirtualForOf() {\n      return this._cdkVirtualForOf;\n    }\n    set cdkVirtualForOf(value) {\n      this._cdkVirtualForOf = value;\n      if (isDataSource(value)) {\n        this._dataSourceChanges.next(value);\n      } else {\n        // If value is an an NgIterable, convert it to an array.\n        this._dataSourceChanges.next(new ArrayDataSource(isObservable(value) ? value : Array.from(value || [])));\n      }\n    }\n    _cdkVirtualForOf;\n    /**\n     * The `TrackByFunction` to use for tracking changes. The `TrackByFunction` takes the index and\n     * the item and produces a value to be used as the item's identity when tracking changes.\n     */\n    get cdkVirtualForTrackBy() {\n      return this._cdkVirtualForTrackBy;\n    }\n    set cdkVirtualForTrackBy(fn) {\n      this._needsUpdate = true;\n      this._cdkVirtualForTrackBy = fn ? (index, item) => fn(index + (this._renderedRange ? this._renderedRange.start : 0), item) : undefined;\n    }\n    _cdkVirtualForTrackBy;\n    /** The template used to stamp out new elements. */\n    set cdkVirtualForTemplate(value) {\n      if (value) {\n        this._needsUpdate = true;\n        this._template = value;\n      }\n    }\n    /**\n     * The size of the cache used to store templates that are not being used for re-use later.\n     * Setting the cache size to `0` will disable caching. Defaults to 20 templates.\n     */\n    get cdkVirtualForTemplateCacheSize() {\n      return this._viewRepeater.viewCacheSize;\n    }\n    set cdkVirtualForTemplateCacheSize(size) {\n      this._viewRepeater.viewCacheSize = coerceNumberProperty(size);\n    }\n    /** Emits whenever the data in the current DataSource changes. */\n    dataStream = this._dataSourceChanges.pipe(\n    // Start off with null `DataSource`.\n    startWith(null),\n    // Bundle up the previous and current data sources so we can work with both.\n    pairwise(),\n    // Use `_changeDataSource` to disconnect from the previous data source and connect to the\n    // new one, passing back a stream of data changes which we run through `switchMap` to give\n    // us a data stream that emits the latest data from whatever the current `DataSource` is.\n    switchMap(([prev, cur]) => this._changeDataSource(prev, cur)),\n    // Replay the last emitted data when someone subscribes.\n    shareReplay(1));\n    /** The differ used to calculate changes to the data. */\n    _differ = null;\n    /** The most recent data emitted from the DataSource. */\n    _data;\n    /** The currently rendered items. */\n    _renderedItems;\n    /** The currently rendered range of indices. */\n    _renderedRange;\n    /** Whether the rendered data should be updated during the next ngDoCheck cycle. */\n    _needsUpdate = false;\n    _destroyed = new Subject();\n    constructor() {\n      const ngZone = inject(NgZone);\n      this.dataStream.subscribe(data => {\n        this._data = data;\n        this._onRenderedDataChange();\n      });\n      this._viewport.renderedRangeStream.pipe(takeUntil(this._destroyed)).subscribe(range => {\n        this._renderedRange = range;\n        if (this.viewChange.observers.length) {\n          ngZone.run(() => this.viewChange.next(this._renderedRange));\n        }\n        this._onRenderedDataChange();\n      });\n      this._viewport.attach(this);\n    }\n    /**\n     * Measures the combined size (width for horizontal orientation, height for vertical) of all items\n     * in the specified range. Throws an error if the range includes items that are not currently\n     * rendered.\n     */\n    measureRangeSize(range, orientation) {\n      if (range.start >= range.end) {\n        return 0;\n      }\n      if ((range.start < this._renderedRange.start || range.end > this._renderedRange.end) && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n        throw Error(`Error: attempted to measure an item that isn't rendered.`);\n      }\n      // The index into the list of rendered views for the first item in the range.\n      const renderedStartIndex = range.start - this._renderedRange.start;\n      // The length of the range we're measuring.\n      const rangeLen = range.end - range.start;\n      // Loop over all the views, find the first and land node and compute the size by subtracting\n      // the top of the first node from the bottom of the last one.\n      let firstNode;\n      let lastNode;\n      // Find the first node by starting from the beginning and going forwards.\n      for (let i = 0; i < rangeLen; i++) {\n        const view = this._viewContainerRef.get(i + renderedStartIndex);\n        if (view && view.rootNodes.length) {\n          firstNode = lastNode = view.rootNodes[0];\n          break;\n        }\n      }\n      // Find the last node by starting from the end and going backwards.\n      for (let i = rangeLen - 1; i > -1; i--) {\n        const view = this._viewContainerRef.get(i + renderedStartIndex);\n        if (view && view.rootNodes.length) {\n          lastNode = view.rootNodes[view.rootNodes.length - 1];\n          break;\n        }\n      }\n      return firstNode && lastNode ? getOffset(orientation, 'end', lastNode) - getOffset(orientation, 'start', firstNode) : 0;\n    }\n    ngDoCheck() {\n      if (this._differ && this._needsUpdate) {\n        // TODO(mmalerba): We should differentiate needs update due to scrolling and a new portion of\n        // this list being rendered (can use simpler algorithm) vs needs update due to data actually\n        // changing (need to do this diff).\n        const changes = this._differ.diff(this._renderedItems);\n        if (!changes) {\n          this._updateContext();\n        } else {\n          this._applyChanges(changes);\n        }\n        this._needsUpdate = false;\n      }\n    }\n    ngOnDestroy() {\n      this._viewport.detach();\n      this._dataSourceChanges.next(undefined);\n      this._dataSourceChanges.complete();\n      this.viewChange.complete();\n      this._destroyed.next();\n      this._destroyed.complete();\n      this._viewRepeater.detach();\n    }\n    /** React to scroll state changes in the viewport. */\n    _onRenderedDataChange() {\n      if (!this._renderedRange) {\n        return;\n      }\n      this._renderedItems = this._data.slice(this._renderedRange.start, this._renderedRange.end);\n      if (!this._differ) {\n        // Use a wrapper function for the `trackBy` so any new values are\n        // picked up automatically without having to recreate the differ.\n        this._differ = this._differs.find(this._renderedItems).create((index, item) => {\n          return this.cdkVirtualForTrackBy ? this.cdkVirtualForTrackBy(index, item) : item;\n        });\n      }\n      this._needsUpdate = true;\n    }\n    /** Swap out one `DataSource` for another. */\n    _changeDataSource(oldDs, newDs) {\n      if (oldDs) {\n        oldDs.disconnect(this);\n      }\n      this._needsUpdate = true;\n      return newDs ? newDs.connect(this) : of();\n    }\n    /** Update the `CdkVirtualForOfContext` for all views. */\n    _updateContext() {\n      const count = this._data.length;\n      let i = this._viewContainerRef.length;\n      while (i--) {\n        const view = this._viewContainerRef.get(i);\n        view.context.index = this._renderedRange.start + i;\n        view.context.count = count;\n        this._updateComputedContextProperties(view.context);\n        view.detectChanges();\n      }\n    }\n    /** Apply changes to the DOM. */\n    _applyChanges(changes) {\n      this._viewRepeater.applyChanges(changes, this._viewContainerRef, (record, _adjustedPreviousIndex, currentIndex) => this._getEmbeddedViewArgs(record, currentIndex), record => record.item);\n      // Update $implicit for any items that had an identity change.\n      changes.forEachIdentityChange(record => {\n        const view = this._viewContainerRef.get(record.currentIndex);\n        view.context.$implicit = record.item;\n      });\n      // Update the context variables on all items.\n      const count = this._data.length;\n      let i = this._viewContainerRef.length;\n      while (i--) {\n        const view = this._viewContainerRef.get(i);\n        view.context.index = this._renderedRange.start + i;\n        view.context.count = count;\n        this._updateComputedContextProperties(view.context);\n      }\n    }\n    /** Update the computed properties on the `CdkVirtualForOfContext`. */\n    _updateComputedContextProperties(context) {\n      context.first = context.index === 0;\n      context.last = context.index === context.count - 1;\n      context.even = context.index % 2 === 0;\n      context.odd = !context.even;\n    }\n    _getEmbeddedViewArgs(record, index) {\n      // Note that it's important that we insert the item directly at the proper index,\n      // rather than inserting it and the moving it in place, because if there's a directive\n      // on the same node that injects the `ViewContainerRef`, Angular will insert another\n      // comment node which can throw off the move when it's being repeated for all items.\n      return {\n        templateRef: this._template,\n        context: {\n          $implicit: record.item,\n          // It's guaranteed that the iterable is not \"undefined\" or \"null\" because we only\n          // generate views for elements if the \"cdkVirtualForOf\" iterable has elements.\n          cdkVirtualForOf: this._cdkVirtualForOf,\n          index: -1,\n          count: -1,\n          first: false,\n          last: false,\n          odd: false,\n          even: false\n        },\n        index\n      };\n    }\n    static ngTemplateContextGuard(directive, context) {\n      return true;\n    }\n    static ɵfac = function CdkVirtualForOf_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkVirtualForOf)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkVirtualForOf,\n      selectors: [[\"\", \"cdkVirtualFor\", \"\", \"cdkVirtualForOf\", \"\"]],\n      inputs: {\n        cdkVirtualForOf: \"cdkVirtualForOf\",\n        cdkVirtualForTrackBy: \"cdkVirtualForTrackBy\",\n        cdkVirtualForTemplate: \"cdkVirtualForTemplate\",\n        cdkVirtualForTemplateCacheSize: \"cdkVirtualForTemplateCacheSize\"\n      },\n      features: [i0.ɵɵProvidersFeature([{\n        provide: _VIEW_REPEATER_STRATEGY,\n        useClass: _RecycleViewRepeaterStrategy\n      }])]\n    });\n  }\n  return CdkVirtualForOf;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Provides a virtual scrollable for the element it is attached to.\n */\nlet CdkVirtualScrollableElement = /*#__PURE__*/(() => {\n  class CdkVirtualScrollableElement extends CdkVirtualScrollable {\n    constructor() {\n      super();\n    }\n    measureBoundingClientRectWithScrollOffset(from) {\n      return this.getElementRef().nativeElement.getBoundingClientRect()[from] - this.measureScrollOffset(from);\n    }\n    static ɵfac = function CdkVirtualScrollableElement_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkVirtualScrollableElement)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkVirtualScrollableElement,\n      selectors: [[\"\", \"cdkVirtualScrollingElement\", \"\"]],\n      hostAttrs: [1, \"cdk-virtual-scrollable\"],\n      features: [i0.ɵɵProvidersFeature([{\n        provide: VIRTUAL_SCROLLABLE,\n        useExisting: CdkVirtualScrollableElement\n      }]), i0.ɵɵInheritDefinitionFeature]\n    });\n  }\n  return CdkVirtualScrollableElement;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Provides as virtual scrollable for the global / window scrollbar.\n */\nlet CdkVirtualScrollableWindow = /*#__PURE__*/(() => {\n  class CdkVirtualScrollableWindow extends CdkVirtualScrollable {\n    constructor() {\n      super();\n      const document = inject(DOCUMENT);\n      this.elementRef = new ElementRef(document.documentElement);\n      this._scrollElement = document;\n    }\n    measureBoundingClientRectWithScrollOffset(from) {\n      return this.getElementRef().nativeElement.getBoundingClientRect()[from];\n    }\n    static ɵfac = function CdkVirtualScrollableWindow_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkVirtualScrollableWindow)();\n    };\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: CdkVirtualScrollableWindow,\n      selectors: [[\"cdk-virtual-scroll-viewport\", \"scrollWindow\", \"\"]],\n      features: [i0.ɵɵProvidersFeature([{\n        provide: VIRTUAL_SCROLLABLE,\n        useExisting: CdkVirtualScrollableWindow\n      }]), i0.ɵɵInheritDefinitionFeature]\n    });\n  }\n  return CdkVirtualScrollableWindow;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CdkScrollableModule = /*#__PURE__*/(() => {\n  class CdkScrollableModule {\n    static ɵfac = function CdkScrollableModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CdkScrollableModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: CdkScrollableModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  }\n  return CdkScrollableModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * @docs-primary-export\n */\nlet ScrollingModule = /*#__PURE__*/(() => {\n  class ScrollingModule {\n    static ɵfac = function ScrollingModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ScrollingModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: ScrollingModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n      imports: [BidiModule, CdkScrollableModule, BidiModule, CdkScrollableModule]\n    });\n  }\n  return ScrollingModule;\n})();\n/*#__PURE__*/(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nexport { CdkScrollableModule as C, DEFAULT_SCROLL_TIME as D, FixedSizeVirtualScrollStrategy as F, ScrollDispatcher as S, ViewportRuler as V, _fixedSizeVirtualScrollStrategyFactory as _, ScrollingModule as a, CdkScrollable as b, CdkFixedSizeVirtualScroll as c, DEFAULT_RESIZE_TIME as d, CdkVirtualForOf as e, VIRTUAL_SCROLL_STRATEGY as f, CdkVirtualScrollViewport as g, VIRTUAL_SCROLLABLE as h, CdkVirtualScrollable as i, CdkVirtualScrollableElement as j, CdkVirtualScrollableWindow as k };\n","import { DOCUMENT } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, Injectable } from '@angular/core';\nimport { tuiGetNativeFocused } from '@taiga-ui/cdk/utils/focus';\nimport { merge, fromEvent, filter } from 'rxjs';\nlet TuiKeyboardService = /*#__PURE__*/(() => {\n  class TuiKeyboardService {\n    constructor() {\n      this.doc = inject(DOCUMENT);\n      this.sub = merge(fromEvent(this.doc, 'focusout'), fromEvent(this.doc, 'mousedown').pipe(filter(e => Object.is(e.target, this.element)))).subscribe(() => {\n        this.show();\n      });\n      this.inputMode = '';\n    }\n    ngOnDestroy() {\n      this.sub.unsubscribe();\n      this.show();\n    }\n    toggle() {\n      if (this.element) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n    hide() {\n      const focused = tuiGetNativeFocused(this.doc);\n      if (focused?.inputMode === undefined || this.element) {\n        return;\n      }\n      this.element = focused;\n      this.inputMode = focused.inputMode;\n      focused.inputMode = 'none';\n    }\n    show() {\n      if (!this.element) {\n        return;\n      }\n      this.element.inputMode = 'none';\n      this.element.inputMode = this.inputMode;\n      this.element = undefined;\n    }\n    static {\n      this.ɵfac = function TuiKeyboardService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiKeyboardService)();\n      };\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: TuiKeyboardService,\n        factory: TuiKeyboardService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return TuiKeyboardService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiKeyboardService };\n","import { isIos } from '@ng-web-apis/platform';\n\n/**\n * @description:\n * All Chrome / Chromium-based browsers will return MacIntel on macOS,\n * no matter what the hardware architecture is. See the source code here:\n * https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/frame/navigator_id.cc;l=64;drc=703d3c472cf27470dad21a3f2c8972aca3732cd6\n * But maybe in future years, it will be changed to MacM1\n *\n * Documentation:\n * https://developer.mozilla.org/en-US/docs/Web/API/Navigator/platform\n */\nfunction tuiIsApple(navigator) {\n  return navigator.platform.startsWith('Mac') || navigator.platform === 'iPhone';\n}\nfunction tuiIsEdge(userAgent) {\n  return userAgent.toLowerCase().includes('edge');\n}\nfunction tuiIsFirefox(userAgent) {\n  return userAgent.toLowerCase().includes('firefox');\n}\n\n/**\n * @deprecated: drop in v5, use import {isApple} from '@ng-web-apis/platform';\n * @param navigator\n */\nconst tuiIsIos = isIos;\n\n// TODO: Drop change to Document in v5\nfunction tuiIsSafari({\n  ownerDocument: doc\n}) {\n  const win = doc?.defaultView;\n  const isMacOsSafari = win.safari !== undefined && win.safari?.pushNotification?.toString() === '[object SafariRemoteNotification]';\n  const isIosSafari = !!win.navigator?.vendor?.includes('Apple') && !win.navigator?.userAgent?.includes('CriOS') && !win.navigator?.userAgent?.includes('FxiOS');\n  return isMacOsSafari || isIosSafari;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiIsApple, tuiIsEdge, tuiIsFirefox, tuiIsIos, tuiIsSafari };\n","import { CHAR_HYPHEN } from '@taiga-ui/cdk/constants';\nimport { tuiRoundWith } from '@taiga-ui/cdk/utils/math';\nimport { TUI_DEFAULT_NUMBER_FORMAT } from '@taiga-ui/core/tokens';\nimport { tuiIsNumber } from '@taiga-ui/cdk/utils/miscellaneous';\n\n/**\n * Convert number to string with replacing exponent part on decimals\n *\n * @param value the number\n * @return string representation of a number\n */\nfunction tuiNumberToStringWithoutExp(value) {\n  const valueAsString = String(value);\n  const [numberPart, expPart] = valueAsString.split('e-');\n  let valueWithoutExp = valueAsString;\n  if (expPart) {\n    const [, fractionalPart = ''] = numberPart?.split('.') ?? [];\n    const decimalDigits = Number(expPart) + (fractionalPart?.length || 0);\n    valueWithoutExp = value.toFixed(decimalDigits);\n  }\n  return valueWithoutExp;\n}\n\n/**\n * Return fractional part of number\n *\n * @param value the number\n * @param precision number of digits of decimal part, null to keep untouched\n * @return the fractional part of number\n */\nfunction tuiGetFractionPartPadded(value, precision) {\n  const [, fractionPartPadded = ''] = tuiNumberToStringWithoutExp(value).split('.');\n  return tuiIsNumber(precision) ? fractionPartPadded.slice(0, Math.max(0, precision)) : fractionPartPadded;\n}\n\n/**\n * Formats number adding a thousand separators and correct decimal separator\n * padding decimal part with zeroes to given length\n *\n * @param value the input number\n * @param settings See {@link TuiNumberFormatSettings}\n * @return the formatted string\n */\nfunction tuiFormatNumber(value, settings = {}) {\n  const {\n    precision,\n    decimalSeparator,\n    thousandSeparator,\n    decimalMode,\n    rounding\n  } = {\n    ...TUI_DEFAULT_NUMBER_FORMAT,\n    decimalMode: 'always',\n    precision: Infinity,\n    ...settings\n  };\n  const rounded = Number.isFinite(precision) ? tuiRoundWith({\n    value,\n    precision,\n    method: rounding\n  }) : value;\n  const integerPartString = String(Math.floor(Math.abs(rounded)));\n  let fractionPartPadded = tuiGetFractionPartPadded(rounded, precision);\n  const hasFraction = Number(fractionPartPadded) > 0;\n  if (Number.isFinite(precision)) {\n    if (decimalMode === 'always' || hasFraction && decimalMode === 'pad') {\n      const zeroPaddingSize = Math.max(precision - fractionPartPadded.length, 0);\n      const zeroPartString = '0'.repeat(zeroPaddingSize);\n      fractionPartPadded = `${fractionPartPadded}${zeroPartString}`;\n    } else {\n      fractionPartPadded = fractionPartPadded.replace(/0*$/, '');\n    }\n  }\n  const remainder = integerPartString.length % 3;\n  const sign = value < 0 ? CHAR_HYPHEN : '';\n  let result = sign + integerPartString.charAt(0);\n  for (let i = 1; i < integerPartString.length; i++) {\n    if (i % 3 === remainder && integerPartString.length > 3) {\n      result += thousandSeparator;\n    }\n    result += integerPartString.charAt(i);\n  }\n  return fractionPartPadded ? result + decimalSeparator + fractionPartPadded : result;\n}\n\n/**\n * Converts a string to an HSL color\n * @param value string to convert\n * @return HSL color string\n */\n// @bad TODO: convert stringHashToHsl to stringHashToRgb\nfunction tuiStringHashToHsl(value) {\n  if (value === '') {\n    return '';\n  }\n  let hash = 0;\n  for (let i = 0; i < value.length; i++) {\n    hash = value.charCodeAt(i) + ((hash << 5) - hash);\n    hash &= hash;\n  }\n  const hue = hash % 360;\n  const saturation = 60 + hash % 5;\n  const lightness = 80 + hash % 5;\n  return `hsl(${hue},${saturation}%,${lightness}%)`;\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiFormatNumber, tuiGetFractionPartPadded, tuiNumberToStringWithoutExp, tuiStringHashToHsl };\n","import { DOCUMENT } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, inject, DestroyRef, Directive, Input } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { tuiTypedFromEvent } from '@taiga-ui/cdk/observables';\nimport { tuiIsHTMLElement } from '@taiga-ui/cdk/utils/dom';\nimport { tuiWithStyles, tuiPx } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { TUI_ANIMATIONS_SPEED } from '@taiga-ui/core/tokens';\nimport { tuiGetDuration } from '@taiga-ui/core/utils/miscellaneous';\nimport { merge, race, switchMap, first, tap } from 'rxjs';\nconst TO_KEYFRAMES = [{\n  transform: 'scale(0)',\n  opacity: '0.12'\n}, {\n  opacity: '0.12'\n}];\nconst FROM_KEYFRAMES = [{\n  opacity: '0.12'\n}, {\n  opacity: '0'\n}];\nlet TuiRippleStyles = /*#__PURE__*/(() => {\n  class TuiRippleStyles {\n    static {\n      this.ɵfac = function TuiRippleStyles_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiRippleStyles)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiRippleStyles,\n        selectors: [[\"ng-component\"]],\n        hostAttrs: [1, \"tui-ripple-styles\"],\n        decls: 0,\n        vars: 0,\n        template: function TuiRippleStyles_Template(rf, ctx) {},\n        styles: [\".tui-ripple{position:absolute;z-index:100;opacity:.12;border-radius:100%;background:var(--tui-ripple-background, currentColor);animation-fill-mode:forwards;pointer-events:none}\\n\"],\n        encapsulation: 2,\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiRippleStyles;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiRipple = /*#__PURE__*/(() => {\n  class TuiRipple {\n    constructor() {\n      this.document = inject(DOCUMENT);\n      this.destroyRef = inject(DestroyRef);\n      this.animationOptions = {\n        duration: tuiGetDuration(inject(TUI_ANIMATIONS_SPEED))\n      };\n      this.nothing = tuiWithStyles(TuiRippleStyles);\n      this.tuiRipple = '';\n    }\n    start(x, y, target, el) {\n      const element = this.tuiRipple ? target.closest(this.tuiRipple) : el;\n      if (!tuiIsHTMLElement(element)) {\n        return;\n      }\n      const ripple = this.createRipple(x, y, element.getBoundingClientRect());\n      const touchEnd$ = merge(tuiTypedFromEvent(element, 'pointerup'), tuiTypedFromEvent(element, 'pointercancel'), tuiTypedFromEvent(element, 'pointermove'));\n      element.appendChild(ripple);\n      const animationEndOn$ = tuiTypedFromEvent(ripple.animate(TO_KEYFRAMES, this.animationOptions), 'finish');\n      race(touchEnd$.pipe(switchMap(() => animationEndOn$)), animationEndOn$.pipe(switchMap(() => touchEnd$))).pipe(first(), switchMap(() => tuiTypedFromEvent(ripple.animate(FROM_KEYFRAMES, this.animationOptions), 'finish')), first(), tap(() => element.removeChild(ripple)), takeUntilDestroyed(this.destroyRef)).subscribe();\n    }\n    createRipple(clientX, clientY, {\n      width,\n      height,\n      top,\n      left\n    }) {\n      const ripple = this.document.createElement('div');\n      const radius = Math.sqrt(width * width + height * height);\n      const dimension = radius * 2;\n      const x = clientX - left - radius;\n      const y = clientY - top - radius;\n      Object.assign(ripple.style, {\n        position: 'absolute',\n        top: tuiPx(y),\n        left: tuiPx(x),\n        width: tuiPx(dimension),\n        height: tuiPx(dimension),\n        zIndex: 100,\n        opacity: 0.12,\n        borderRadius: '100%',\n        background: 'var(--tui-ripple-background, currentColor)',\n        animationFillMode: 'forwards',\n        pointerEvents: 'none'\n      });\n      return ripple;\n    }\n    static {\n      this.ɵfac = function TuiRipple_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiRipple)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiRipple,\n        selectors: [[\"\", \"tuiRipple\", \"\"]],\n        hostBindings: function TuiRipple_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"pointerdown.zoneless\", function TuiRipple_pointerdown_zoneless_HostBindingHandler($event) {\n              return ctx.start($event.clientX, $event.clientY, $event.target, $event.currentTarget);\n            });\n          }\n        },\n        inputs: {\n          tuiRipple: \"tuiRipple\"\n        }\n      });\n    }\n  }\n  return TuiRipple;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiRipple };\n","import * as i0 from '@angular/core';\nimport { inject, Directive, Input } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { tuiTypedFromEvent } from '@taiga-ui/cdk/observables';\nimport { TUI_IS_IOS } from '@taiga-ui/cdk/tokens';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { tap, map, switchMap, race, filter, take } from 'rxjs';\nconst STYLE = {\n  transform: 'scale(0.95)',\n  opacity: '0.6',\n  background: 'rgba(146, 153, 162, 0.12)'\n};\nfunction tuiFindTouchIndex(touches, id) {\n  for (let i = 0; i < touches.length; i++) {\n    if (touches[i]?.identifier === id) {\n      return i;\n    }\n  }\n  return -1;\n}\nlet TuiTouchable = /*#__PURE__*/(() => {\n  class TuiTouchable {\n    constructor() {\n      this.isIOS = inject(TUI_IS_IOS);\n      this.el = tuiInjectElement();\n      this.tuiTouchable = '';\n      if (!this.isIOS) {\n        return;\n      }\n      tuiTypedFromEvent(this.el, 'touchstart', {\n        passive: true\n      }).pipe(tap(() => this.onTouchStart()), map(({\n        touches\n      }) => touches[touches.length - 1]?.identifier), switchMap(identifier => race(tuiTypedFromEvent(this.el, 'touchmove', {\n        passive: true\n      }).pipe(filter(({\n        touches\n      }) => this.hasTouchLeft(this.el, touches, identifier ?? 0))), tuiTypedFromEvent(this.el, 'touchend')).pipe(take(1))), takeUntilDestroyed()).subscribe(() => {\n        this.el.style.removeProperty('transform');\n        this.el.style.removeProperty('opacity');\n        this.el.style.removeProperty('background');\n      });\n    }\n    get style() {\n      return this.tuiTouchable || 'transform';\n    }\n    hasTouchLeft(element, touches, identifier) {\n      const {\n        ownerDocument\n      } = element;\n      const id = tuiFindTouchIndex(touches, identifier);\n      if (!ownerDocument || id === -1) {\n        return true;\n      }\n      const {\n        clientX = 0,\n        clientY = 0\n      } = touches[id] ?? {};\n      return !element.contains(ownerDocument.elementFromPoint(clientX, clientY));\n    }\n    onTouchStart() {\n      if (this.style !== 'transform') {\n        this.el.style.removeProperty('transition');\n      } else {\n        this.el.style.setProperty('transition', 'transform 0.2s');\n      }\n      this.el.style.setProperty(this.style, STYLE[this.style]);\n    }\n    static {\n      this.ɵfac = function TuiTouchable_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiTouchable)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiTouchable,\n        selectors: [[\"\", \"tuiTouchable\", \"\"]],\n        inputs: {\n          tuiTouchable: \"tuiTouchable\"\n        }\n      });\n    }\n  }\n  return TuiTouchable;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiTouchable, tuiFindTouchIndex };\n","import * as i0 from '@angular/core';\nimport { inject, Pipe } from '@angular/core';\nimport { DAYS_IN_WEEK, TuiDay } from '@taiga-ui/cdk/date-time';\nimport { TUI_FIRST_DAY_OF_WEEK } from '@taiga-ui/core/tokens';\nimport { tuiInRange } from '@taiga-ui/cdk/utils/math';\n\n/**\n * Computes day of week offset of the beginning of the month\n */\nconst getMonthStartDaysOffset = (month, firstDayOfWeek) => {\n  const startMonthOffsetFromSunday = new Date(month.year, month.month, 1).getDay();\n  return startMonthOffsetFromSunday >= firstDayOfWeek ? startMonthOffsetFromSunday - firstDayOfWeek : DAYS_IN_WEEK - (firstDayOfWeek - startMonthOffsetFromSunday);\n};\n/**\n * Calculated day on a calendar grid\n * @return resulting day on these coordinates (could exceed passed month)\n */\nconst getDayFromMonthRowCol = ({\n  month,\n  rowIndex,\n  colIndex,\n  firstDayOfWeek\n}) => {\n  ngDevMode && console.assert(Number.isInteger(rowIndex));\n  ngDevMode && console.assert(tuiInRange(rowIndex, 0, 6));\n  ngDevMode && console.assert(Number.isInteger(colIndex));\n  ngDevMode && console.assert(tuiInRange(colIndex, 0, DAYS_IN_WEEK));\n  let day = rowIndex * DAYS_IN_WEEK + colIndex - getMonthStartDaysOffset(month, firstDayOfWeek) + 1;\n  if (day > month.daysCount) {\n    day -= month.daysCount;\n    month = month.append({\n      month: 1\n    });\n  }\n  if (day <= 0) {\n    month = month.append({\n      month: -1\n    });\n    day = month.daysCount + day;\n  }\n  return new TuiDay(month.year, month.month, day);\n};\nconst CALENDAR_ROWS_COUNT = 6;\nlet TuiCalendarSheetPipe = /*#__PURE__*/(() => {\n  class TuiCalendarSheetPipe {\n    constructor() {\n      this.firstDayOfWeek = inject(TUI_FIRST_DAY_OF_WEEK);\n      this.currentMonth = null;\n      this.currentSheet = [];\n    }\n    transform(month, showAdjacentDays = false) {\n      if (this.currentMonth?.monthSame(month)) {\n        return this.currentSheet;\n      }\n      const sheet = [];\n      for (let rowIndex = 0; rowIndex < CALENDAR_ROWS_COUNT; rowIndex++) {\n        const row = [];\n        for (let colIndex = 0; colIndex < DAYS_IN_WEEK; colIndex++) {\n          const day = getDayFromMonthRowCol({\n            month,\n            rowIndex,\n            colIndex,\n            firstDayOfWeek: this.firstDayOfWeek\n          });\n          const isPrevMonthDay = (day, relativeToMonth = month) => day.year < relativeToMonth.year || day.month < relativeToMonth.month;\n          const isNextMonthDay = (day, relativeToMonth = month) => day.year > relativeToMonth.year || day.month > relativeToMonth.month;\n          if (isPrevMonthDay(day) && !showAdjacentDays) {\n            continue;\n          }\n          if (isNextMonthDay(day) && !showAdjacentDays) {\n            break;\n          }\n          row.push(day);\n        }\n        sheet.push(row);\n      }\n      this.currentSheet = sheet.filter(row => row.length);\n      this.currentMonth = month;\n      return this.currentSheet;\n    }\n    static {\n      this.ɵfac = function TuiCalendarSheetPipe_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiCalendarSheetPipe)();\n      };\n    }\n    static {\n      this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n        name: \"tuiCalendarSheet\",\n        type: TuiCalendarSheetPipe,\n        pure: true\n      });\n    }\n  }\n  return TuiCalendarSheetPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiCalendarSheetPipe };\n","import * as i0 from '@angular/core';\nimport { inject, Pipe } from '@angular/core';\nimport { TuiFormatDateService } from '@taiga-ui/core/services';\nlet TuiFormatDatePipe = /*#__PURE__*/(() => {\n  class TuiFormatDatePipe {\n    constructor() {\n      this.service = inject(TuiFormatDateService);\n    }\n    transform(timestampOrDate) {\n      return this.service.format(timestampOrDate.valueOf());\n    }\n    static {\n      this.ɵfac = function TuiFormatDatePipe_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiFormatDatePipe)();\n      };\n    }\n    static {\n      this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n        name: \"tuiFormatDate\",\n        type: TuiFormatDatePipe,\n        pure: true\n      });\n    }\n  }\n  return TuiFormatDatePipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiFormatDatePipe };\n","import * as i0 from '@angular/core';\nimport { inject, Pipe } from '@angular/core';\nimport { TUI_FIRST_DAY_OF_WEEK } from '@taiga-ui/core/tokens';\nimport { map } from 'rxjs';\nfunction convertToSundayFirstWeekFormat(weekDaysNames) {\n  const sundayIndex = weekDaysNames.length - 1;\n  return [weekDaysNames[sundayIndex] || '', ...weekDaysNames.slice(0, sundayIndex)];\n}\nlet TuiOrderWeekDaysPipe = /*#__PURE__*/(() => {\n  class TuiOrderWeekDaysPipe {\n    constructor() {\n      this.firstDayOfWeekIndex = inject(TUI_FIRST_DAY_OF_WEEK);\n    }\n    transform(mondayFirstWeekDays$) {\n      return mondayFirstWeekDays$.pipe(map(convertToSundayFirstWeekFormat), map(weekDays => [...weekDays.slice(this.firstDayOfWeekIndex), ...weekDays.slice(0, this.firstDayOfWeekIndex)]));\n    }\n    static {\n      this.ɵfac = function TuiOrderWeekDaysPipe_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiOrderWeekDaysPipe)();\n      };\n    }\n    static {\n      this.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n        name: \"tuiOrderWeekDays\",\n        type: TuiOrderWeekDaysPipe,\n        pure: true\n      });\n    }\n  }\n  return TuiOrderWeekDaysPipe;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiOrderWeekDaysPipe };\n","import { AsyncPipe, NgIf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, EventEmitter, Component, ChangeDetectionStrategy, Input, Output } from '@angular/core';\nimport { TuiButton } from '@taiga-ui/core/components/button';\nimport { TUI_SPIN_ICONS, TUI_SPIN_TEXTS } from '@taiga-ui/core/tokens';\nconst _c0 = [\"*\"];\nfunction TuiSpinButton_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function TuiSpinButton_ng_container_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onLeftClick());\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 2);\n    i0.ɵɵprojection(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function TuiSpinButton_ng_container_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onRightClick());\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const texts_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"t-hidden\", ctx_r1.leftComputedDisabled);\n    i0.ɵɵproperty(\"iconStart\", ctx_r1.icons.decrement)(\"tabIndex\", ctx_r1.focusable ? 0 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", texts_r3[0], \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"t-hidden\", ctx_r1.rightComputedDisabled);\n    i0.ɵɵproperty(\"iconStart\", ctx_r1.icons.increment)(\"tabIndex\", ctx_r1.focusable ? 0 : -1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", texts_r3[1], \" \");\n  }\n}\nlet TuiSpinButton = /*#__PURE__*/(() => {\n  class TuiSpinButton {\n    constructor() {\n      this.icons = inject(TUI_SPIN_ICONS);\n      this.spinTexts$ = inject(TUI_SPIN_TEXTS);\n      this.focusable = true;\n      this.disabled = false;\n      this.leftDisabled = false;\n      this.rightDisabled = false;\n      this.leftClick = new EventEmitter();\n      this.rightClick = new EventEmitter();\n    }\n    onLeftClick() {\n      if (!this.leftComputedDisabled) {\n        this.leftClick.emit();\n      }\n    }\n    onRightClick() {\n      if (!this.rightComputedDisabled) {\n        this.rightClick.emit();\n      }\n    }\n    get leftComputedDisabled() {\n      return this.disabled || this.leftDisabled;\n    }\n    get rightComputedDisabled() {\n      return this.disabled || this.rightDisabled;\n    }\n    static {\n      this.ɵfac = function TuiSpinButton_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiSpinButton)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiSpinButton,\n        selectors: [[\"tui-spin-button\"]],\n        hostBindings: function TuiSpinButton_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"mousedown.zoneless.prevent\", function TuiSpinButton_mousedown_zoneless_prevent_HostBindingHandler() {\n              return 0;\n            })(\"keydown.arrowLeft.prevent\", function TuiSpinButton_keydown_arrowLeft_prevent_HostBindingHandler() {\n              return ctx.onLeftClick();\n            })(\"keydown.arrowRight.prevent\", function TuiSpinButton_keydown_arrowRight_prevent_HostBindingHandler() {\n              return ctx.onRightClick();\n            });\n          }\n        },\n        inputs: {\n          focusable: \"focusable\",\n          disabled: \"disabled\",\n          leftDisabled: \"leftDisabled\",\n          rightDisabled: \"rightDisabled\"\n        },\n        outputs: {\n          leftClick: \"leftClick\",\n          rightClick: \"rightClick\"\n        },\n        ngContentSelectors: _c0,\n        decls: 2,\n        vars: 3,\n        consts: [[4, \"ngIf\"], [\"appearance\", \"flat\", \"automation-id\", \"tui-spin-button__left\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"iconStart\", \"tabIndex\"], [1, \"t-content\", \"t-calendar-title\"], [\"appearance\", \"flat\", \"automation-id\", \"tui-spin-button__right\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", 3, \"click\", \"iconStart\", \"tabIndex\"]],\n        template: function TuiSpinButton_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵprojectionDef();\n            i0.ɵɵtemplate(0, TuiSpinButton_ng_container_0_Template, 7, 10, \"ng-container\", 0);\n            i0.ɵɵpipe(1, \"async\");\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.spinTexts$));\n          }\n        },\n        dependencies: [AsyncPipe, NgIf, TuiButton],\n        styles: [\"[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;font:var(--tui-font-text-l);text-align:center;font-weight:700}.t-hidden[_ngcontent-%COMP%]{visibility:hidden}.t-content[_ngcontent-%COMP%]{padding:0 .5rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiSpinButton;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiSpinButton };\n","import * as i1 from '@angular/common';\nimport { CommonModule, AsyncPipe, NgIf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, EventEmitter, Component, ChangeDetectionStrategy, Input, Output } from '@angular/core';\nimport { TUI_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { TuiDay, TuiMonth, TuiDayRange, TUI_FIRST_DAY, TUI_LAST_DAY, MIN_YEAR, MAX_YEAR, TuiYear, TuiMonthRange, TUI_LAST_DISPLAYED_DAY } from '@taiga-ui/cdk/date-time';\nimport { TuiMapperPipe } from '@taiga-ui/cdk/pipes/mapper';\nimport { tuiCreateToken, tuiProvideOptions, tuiNullableSame, tuiPure, tuiIsNumber } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { TuiScrollIntoView, TuiScrollbar } from '@taiga-ui/core/components/scrollbar';\nimport { __decorate } from 'tslib';\nimport { TuiHovered } from '@taiga-ui/cdk/directives/hovered';\nimport { TuiLet } from '@taiga-ui/cdk/directives/let';\nimport { TuiRepeatTimes } from '@taiga-ui/cdk/directives/repeat-times';\nimport { TuiCalendarSheetPipe, TuiOrderWeekDaysPipe, TuiMonthPipe } from '@taiga-ui/core/pipes';\nimport { TUI_SHORT_WEEK_DAYS, TUI_DAY_TYPE_HANDLER } from '@taiga-ui/core/tokens';\nimport { TuiLink } from '@taiga-ui/core/components/link';\nimport { TuiSpinButton } from '@taiga-ui/core/components/spin-button';\nconst _c0 = (a0, a1, a2, a3, a4) => [a0, a1, a2, a3, a4];\nfunction TuiCalendarSheet_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 3);\n  }\n  if (rf & 2) {\n    const day_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"textContent\", day_r1);\n  }\n}\nfunction TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 11);\n  }\n  if (rf & 2) {\n    const markers_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵstyleProp(\"background\", (markers_r5 == null ? null : markers_r5[1]) || \"\");\n  }\n}\nfunction TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelement(1, \"div\", 11);\n    i0.ɵɵtemplate(2, TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_div_3_div_2_Template, 1, 2, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const markers_r5 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"background\", markers_r5 == null ? null : markers_r5[0]);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", markers_r5.length > 1);\n  }\n}\nfunction TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵpipe(1, \"tuiMapper\");\n    i0.ɵɵlistener(\"click\", function TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const item_r3 = i0.ɵɵnextContext().tuiLet;\n      const ctx_r3 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r3.onItemClick(item_r3));\n    })(\"tuiHoveredChange\", function TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_Template_div_tuiHoveredChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const item_r3 = i0.ɵɵnextContext().tuiLet;\n      const ctx_r3 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r3.onItemHovered($event && item_r3));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_div_3_Template, 3, 3, \"div\", 9);\n    i0.ɵɵpipe(4, \"tuiMapper\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().tuiLet;\n    const ctx_r3 = i0.ɵɵnextContext(4);\n    i0.ɵɵclassProp(\"t-cell_disabled\", ctx_r3.disabledItemHandler(item_r3))(\"t-cell_today\", ctx_r3.itemIsToday(item_r3))(\"t-cell_unavailable\", ctx_r3.itemIsUnavailable(item_r3));\n    i0.ɵɵattribute(\"data-range\", ctx_r3.getItemRange(item_r3))(\"data-type\", i0.ɵɵpipeBind2(1, 10, item_r3, ctx_r3.dayTypeHandler));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r3.day, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBindV(4, 13, i0.ɵɵpureFunction5(19, _c0, item_r3, ctx_r3.toMarkers, ctx_r3.itemIsToday(item_r3), ctx_r3.getItemRange(item_r3), ctx_r3.markerHandler)));\n  }\n}\nfunction TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_Template, 5, 25, \"div\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.tuiLet;\n    const ctx_r3 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", item_r3 && (!ctx_r3.itemIsUnavailable(item_r3) || ctx_r3.showAdjacent));\n  }\n}\nfunction TuiCalendarSheet_div_4_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_Template, 2, 1, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const colIndex_r6 = ctx.$implicit;\n    const rowIndex_r7 = i0.ɵɵnextContext().$implicit;\n    const sheet_r8 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", sheet_r8[rowIndex_r7] == null ? null : sheet_r8[rowIndex_r7][colIndex_r6]);\n  }\n}\nfunction TuiCalendarSheet_div_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtemplate(1, TuiCalendarSheet_div_4_div_1_ng_container_1_Template, 2, 1, \"ng-container\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const rowIndex_r7 = ctx.$implicit;\n    const sheet_r8 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", (sheet_r8[rowIndex_r7] == null ? null : sheet_r8[rowIndex_r7].length) || 0);\n  }\n}\nfunction TuiCalendarSheet_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, TuiCalendarSheet_div_4_div_1_Template, 2, 1, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sheet_r8 = ctx.tuiLet;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", sheet_r8.length);\n  }\n}\nfunction TuiCalendarSpin_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.value.formattedYear, \" \");\n  }\n}\nfunction TuiCalendarSpin_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function TuiCalendarSpin_ng_template_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onYearClick());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.value.formattedYear, \" \");\n  }\n}\nfunction TuiCalendarYear_div_0_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function TuiCalendarYear_div_0_ng_container_1_div_1_Template_div_click_0_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).tuiLet;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.yearClick.emit(item_r2));\n    })(\"tuiHoveredChange\", function TuiCalendarYear_div_0_ng_container_1_div_1_Template_div_tuiHoveredChange_0_listener($event) {\n      const item_r2 = i0.ɵɵrestoreView(_r1).tuiLet;\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.onItemHovered($event, item_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.tuiLet;\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"t-cell_disabled\", ctx_r2.isDisabled(item_r2))(\"t-cell_today\", ctx_r2.itemIsToday(item_r2));\n    i0.ɵɵproperty(\"tuiScrollIntoView\", ctx_r2.scrollItemIntoView(item_r2));\n    i0.ɵɵattribute(\"data-range\", ctx_r2.getItemRange(item_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r2, \" \");\n  }\n}\nfunction TuiCalendarYear_div_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiCalendarYear_div_0_ng_container_1_div_1_Template, 2, 7, \"div\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const colIndex_r4 = ctx.$implicit;\n    const rowIndex_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiLet\", ctx_r2.getItem(rowIndex_r5, colIndex_r4));\n  }\n}\nfunction TuiCalendarYear_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, TuiCalendarYear_div_0_ng_container_1_Template, 2, 1, \"ng-container\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", 4);\n  }\n}\nfunction TuiCalendar_tui_scrollbar_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-scrollbar\", 2)(1, \"tui-calendar-year\", 3);\n    i0.ɵɵlistener(\"yearClick\", function TuiCalendar_tui_scrollbar_0_Template_tui_calendar_year_yearClick_1_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPickerYearClick($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"initialItem\", ctx_r1.month.year)(\"max\", ctx_r1.computedMax.year)(\"min\", ctx_r1.computedMin.year)(\"value\", ctx_r1.value);\n  }\n}\nfunction TuiCalendar_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-calendar-spin\", 4);\n    i0.ɵɵlistener(\"valueChange\", function TuiCalendar_ng_template_1_Template_tui_calendar_spin_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPaginationValueChange($event));\n    })(\"yearClick\", function TuiCalendar_ng_template_1_Template_tui_calendar_spin_yearClick_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onPaginationYearClick());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"tui-calendar-sheet\", 5);\n    i0.ɵɵpipe(2, \"tuiMapper\");\n    i0.ɵɵlistener(\"dayClick\", function TuiCalendar_ng_template_1_Template_tui_calendar_sheet_dayClick_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onDayClick($event));\n    })(\"hoveredItemChange\", function TuiCalendar_ng_template_1_Template_tui_calendar_sheet_hoveredItemChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onHoveredItemChange($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"max\", ctx_r1.computedMaxViewedMonth)(\"min\", ctx_r1.computedMinViewedMonth)(\"value\", ctx_r1.month);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabledItemHandler\", i0.ɵɵpipeBind4(2, 9, ctx_r1.disabledItemHandler, ctx_r1.disabledItemHandlerMapper, ctx_r1.computedMin, ctx_r1.computedMax))(\"hoveredItem\", ctx_r1.hoveredItem)(\"markerHandler\", ctx_r1.markerHandler)(\"month\", ctx_r1.month)(\"showAdjacent\", ctx_r1.showAdjacent)(\"value\", ctx_r1.value);\n  }\n}\nconst TUI_CALENDAR_SHEET_DEFAULT_OPTIONS = {\n  rangeMode: false\n};\nconst TUI_CALENDAR_SHEET_OPTIONS = tuiCreateToken(TUI_CALENDAR_SHEET_DEFAULT_OPTIONS);\nfunction tuiCalendarSheetOptionsProvider(options) {\n  return tuiProvideOptions(TUI_CALENDAR_SHEET_OPTIONS, options, TUI_CALENDAR_SHEET_DEFAULT_OPTIONS);\n}\nlet TuiCalendarSheet = /*#__PURE__*/(() => {\n  class TuiCalendarSheet {\n    constructor() {\n      this.options = inject(TUI_CALENDAR_SHEET_OPTIONS);\n      this.today = TuiDay.currentLocal();\n      this.unorderedWeekDays$ = inject(TUI_SHORT_WEEK_DAYS);\n      this.dayTypeHandler = inject(TUI_DAY_TYPE_HANDLER);\n      this.month = TuiMonth.currentLocal();\n      this.disabledItemHandler = TUI_FALSE_HANDLER;\n      this.markerHandler = null;\n      this.value = null;\n      this.hoveredItem = null;\n      this.showAdjacent = true;\n      /**\n       * @deprecated use static DI options instead\n       * ```\n       * tuiCalendarSheetOptionsProvider({rangeMode: true})\n       * ```\n       * TODO(v5): delete it\n       */\n      this.single = true;\n      this.hoveredItemChange = new EventEmitter();\n      this.dayClick = new EventEmitter();\n      this.toMarkers = (day, today, range, markerHandler) => {\n        if (today || ['active', 'end', 'start'].includes(range || '')) {\n          return null;\n        }\n        const markers = markerHandler?.(day);\n        return markers?.length ? markers : null;\n      };\n    }\n    /**\n     * @deprecated TODO(v5): delete it. It is used nowhere except unit tests\n     */\n    itemIsInterval(day) {\n      const {\n        value,\n        hoveredItem\n      } = this;\n      if (!(value instanceof TuiDayRange)) {\n        return false;\n      }\n      if (!value.isSingleDay) {\n        return value.from.daySameOrBefore(day) && value.to.dayAfter(day);\n      }\n      if (hoveredItem === null) {\n        return false;\n      }\n      const range = TuiDayRange.sort(value.from, hoveredItem);\n      return range.from.daySameOrBefore(day) && range.to.dayAfter(day);\n    }\n    onItemHovered(item) {\n      this.updateHoveredItem(item || null);\n    }\n    getItemRange(item) {\n      const {\n        value,\n        hoveredItem\n      } = this;\n      if (!value) {\n        return null;\n      }\n      if (value instanceof TuiDay && !this.computedRangeMode) {\n        return value.daySame(item) ? 'active' : null;\n      }\n      if (value instanceof TuiDayRange && value.isSingleDay) {\n        return value.from.daySame(item) ? 'active' : null;\n      }\n      if (!(value instanceof TuiDay) && !(value instanceof TuiDayRange)) {\n        return value.find(day => day.daySame(item)) ? 'active' : null;\n      }\n      const range = this.getRange(value, hoveredItem);\n      if (range.isSingleDay && range.from.daySame(item)) {\n        return 'active';\n      }\n      if (range.from.daySame(item)) {\n        return 'start';\n      }\n      if (range.to.daySame(item)) {\n        return 'end';\n      }\n      return range.from.dayBefore(item) && range.to.dayAfter(item) ? 'middle' : null;\n    }\n    get computedRangeMode() {\n      return !this.single || this.options.rangeMode;\n    }\n    get isRangePicking() {\n      return this.computedRangeMode ? this.value instanceof TuiDay :\n      /**\n       * Only for backward compatibility!\n       * TODO(v5): replace with `this.options.rangeMode && this.value instanceof TuiDay`\n       */\n      this.value instanceof TuiDayRange && this.value.isSingleDay;\n    }\n    itemIsToday(item) {\n      return this.today.daySame(item);\n    }\n    itemIsUnavailable(item) {\n      return !this.month.monthSame(item);\n    }\n    onItemClick(item) {\n      this.dayClick.emit(item);\n    }\n    getRange(value, hoveredItem) {\n      if (value instanceof TuiDay) {\n        return TuiDayRange.sort(value, hoveredItem ?? value);\n      }\n      return value.isSingleDay ? TuiDayRange.sort(value.from, hoveredItem ?? value.to) : value;\n    }\n    updateHoveredItem(day) {\n      if (tuiNullableSame(this.hoveredItem, day, (a, b) => a.daySame(b))) {\n        return;\n      }\n      this.hoveredItem = day;\n      this.hoveredItemChange.emit(day);\n    }\n    static {\n      this.ɵfac = function TuiCalendarSheet_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiCalendarSheet)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiCalendarSheet,\n        selectors: [[\"tui-calendar-sheet\"]],\n        hostVars: 2,\n        hostBindings: function TuiCalendarSheet_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵclassProp(\"_picking\", ctx.isRangePicking);\n          }\n        },\n        inputs: {\n          month: \"month\",\n          disabledItemHandler: \"disabledItemHandler\",\n          markerHandler: \"markerHandler\",\n          value: \"value\",\n          hoveredItem: \"hoveredItem\",\n          showAdjacent: \"showAdjacent\",\n          single: \"single\"\n        },\n        outputs: {\n          hoveredItemChange: \"hoveredItemChange\",\n          dayClick: \"dayClick\"\n        },\n        decls: 6,\n        vars: 9,\n        consts: [[1, \"t-row\", \"t-row_weekday\"], [\"class\", \"t-cell\", 3, \"textContent\", 4, \"ngFor\", \"ngForOf\"], [4, \"tuiLet\"], [1, \"t-cell\", 3, \"textContent\"], [\"automation-id\", \"tui-calendar-sheet__row\", \"class\", \"t-row\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [\"automation-id\", \"tui-calendar-sheet__row\", 1, \"t-row\"], [4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [\"automation-id\", \"tui-calendar-sheet__cell\", \"class\", \"t-cell\", 3, \"t-cell_disabled\", \"t-cell_today\", \"t-cell_unavailable\", \"click\", \"tuiHoveredChange\", 4, \"ngIf\"], [\"automation-id\", \"tui-calendar-sheet__cell\", 1, \"t-cell\", 3, \"click\", \"tuiHoveredChange\"], [\"class\", \"t-dots\", 4, \"ngIf\"], [1, \"t-dots\"], [1, \"t-dot\"], [\"class\", \"t-dot\", 3, \"background\", 4, \"ngIf\"]],\n        template: function TuiCalendarSheet_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵtemplate(1, TuiCalendarSheet_div_1_Template, 1, 1, \"div\", 1);\n            i0.ɵɵpipe(2, \"tuiOrderWeekDays\");\n            i0.ɵɵpipe(3, \"async\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(4, TuiCalendarSheet_div_4_Template, 2, 1, \"div\", 2);\n            i0.ɵɵpipe(5, \"tuiCalendarSheet\");\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(3, 4, i0.ɵɵpipeBind1(2, 2, ctx.unorderedWeekDays$)));\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind2(5, 6, ctx.month, true));\n          }\n        },\n        dependencies: [CommonModule, i1.NgForOf, i1.NgIf, i1.AsyncPipe, TuiCalendarSheetPipe, TuiHovered, TuiLet, TuiMapperPipe, TuiOrderWeekDaysPipe, TuiRepeatTimes],\n        styles: [\".t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;-webkit-mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem));mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:\\\"\\\";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 12 32\\\"><path d=\\\"M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z\\\"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat;mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 12 32\\\"><path d=\\\"M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z\\\"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);-webkit-mask:none;mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}.t-cell[_ngcontent-%COMP%]{inline-size:2.25rem}[data-type=weekday][_ngcontent-%COMP%]{color:var(--tui-text-primary)}[data-type=weekend][_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-row[_ngcontent-%COMP%]{justify-content:flex-start}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row_weekday[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none}.t-cell_unavailable[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}.t-dots[_ngcontent-%COMP%]{position:absolute;bottom:0;display:flex;justify-content:center;margin-top:-.5rem;padding-bottom:.25rem}.t-dot[_ngcontent-%COMP%]{display:inline-block;inline-size:.25rem;block-size:.25rem;border-radius:100%;margin:0 .0625rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  __decorate([tuiPure], TuiCalendarSheet.prototype, \"getRange\", null);\n  return TuiCalendarSheet;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiCalendarSpin = /*#__PURE__*/(() => {\n  class TuiCalendarSpin {\n    constructor() {\n      this.value = TuiMonth.currentLocal();\n      this.min = TUI_FIRST_DAY;\n      this.max = TUI_LAST_DAY;\n      this.valueChange = new EventEmitter();\n      this.yearClick = new EventEmitter();\n    }\n    onYearClick() {\n      this.yearClick.next(this.value);\n    }\n    append(date) {\n      const value = this.value.append(date);\n      if (this.min.monthSameOrAfter(value)) {\n        this.updateValue(this.min);\n      } else {\n        this.updateValue(this.max.monthSameOrBefore(value) ? this.max : value);\n      }\n    }\n    updateValue(value) {\n      if (this.value.monthSame(value)) {\n        return;\n      }\n      this.value = value;\n      this.valueChange.emit(value);\n    }\n    static {\n      this.ɵfac = function TuiCalendarSpin_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiCalendarSpin)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiCalendarSpin,\n        selectors: [[\"tui-calendar-spin\"]],\n        inputs: {\n          value: \"value\",\n          min: \"min\",\n          max: \"max\"\n        },\n        outputs: {\n          valueChange: \"valueChange\",\n          yearClick: \"yearClick\"\n        },\n        decls: 7,\n        vars: 10,\n        consts: [[\"button\", \"\"], [3, \"leftClick\", \"rightClick\", \"focusable\", \"leftDisabled\", \"rightDisabled\"], [4, \"ngIf\", \"ngIfElse\"], [\"id\", \"year-btn\", \"automation-id\", \"tui-primitive-year-month-pagination__year-button\", \"tabIndex\", \"-1\", \"tuiLink\", \"\", \"type\", \"button\", 3, \"click\"]],\n        template: function TuiCalendarSpin_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"tui-spin-button\", 1);\n            i0.ɵɵlistener(\"leftClick\", function TuiCalendarSpin_Template_tui_spin_button_leftClick_0_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.append({\n                month: -1\n              }));\n            })(\"rightClick\", function TuiCalendarSpin_Template_tui_spin_button_rightClick_0_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.append({\n                month: 1\n              }));\n            });\n            i0.ɵɵtext(1);\n            i0.ɵɵpipe(2, \"tuiMonth\");\n            i0.ɵɵpipe(3, \"async\");\n            i0.ɵɵtemplate(4, TuiCalendarSpin_ng_container_4_Template, 2, 1, \"ng-container\", 2)(5, TuiCalendarSpin_ng_template_5_Template, 2, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const button_r4 = i0.ɵɵreference(6);\n            i0.ɵɵproperty(\"focusable\", false)(\"leftDisabled\", ctx.value.monthSameOrBefore(ctx.min))(\"rightDisabled\", ctx.value.monthSameOrAfter(ctx.max));\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 8, i0.ɵɵpipeBind1(2, 6, ctx.value)), \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.min.year === ctx.max.year)(\"ngIfElse\", button_r4);\n          }\n        },\n        dependencies: [AsyncPipe, NgIf, TuiLink, TuiMonthPipe, TuiSpinButton],\n        styles: [\"[_nghost-%COMP%]{display:block}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiCalendarSpin;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst LIMIT = 100;\nconst ITEMS_IN_ROW = 4;\nlet TuiCalendarYear = /*#__PURE__*/(() => {\n  class TuiCalendarYear {\n    constructor() {\n      this.hoveredItem = null;\n      this.currentYear = TuiMonth.currentLocal().year;\n      this.value = null;\n      this.initialItem = this.currentYear;\n      this.min = MIN_YEAR;\n      this.max = MAX_YEAR;\n      this.disabledItemHandler = TUI_FALSE_HANDLER;\n      this.yearClick = new EventEmitter();\n    }\n    isDisabled(item) {\n      return this.max && this.max < item || this.min && this.min > item || this.disabledItemHandler(item);\n    }\n    getItemRange(item) {\n      const {\n        value,\n        hoveredItem\n      } = this;\n      if (value instanceof TuiYear) {\n        return value.year === item ? 'active' : null;\n      }\n      if (tuiIsNumber(value)) {\n        return value === item ? 'active' : null;\n      }\n      if (!(value instanceof TuiMonthRange)) {\n        return value?.find(day => day.year === item) ? 'active' : null;\n      }\n      const hovered = this.isSingle ? hoveredItem : null;\n      const from = Math.min(value.from.year, hovered ?? value.to.year);\n      const to = Math.max(value.from.year, hovered ?? value.to.year);\n      if (from === to && value.from.year === value.to.year && from === item) {\n        return 'active';\n      }\n      if (from === item) {\n        return 'start';\n      }\n      if (to === item) {\n        return 'end';\n      }\n      return from < item && item < to ? 'middle' : null;\n    }\n    onItemHovered(hovered, item) {\n      this.updateHoveredItem(hovered, item);\n    }\n    get isSingle() {\n      return this.value instanceof TuiMonthRange ? this.value.from.monthSame(this.value.to) : this.value instanceof TuiDayRange && this.value.isSingleDay;\n    }\n    get rows() {\n      return Math.ceil((this.calculatedMax - this.calculatedMin) / ITEMS_IN_ROW);\n    }\n    scrollItemIntoView(item) {\n      return this.initialItem === item;\n    }\n    getItem(rowIndex, colIndex) {\n      return rowIndex * ITEMS_IN_ROW + colIndex + this.calculatedMin;\n    }\n    itemIsToday(item) {\n      return this.currentYear === item;\n    }\n    get calculatedMin() {\n      const initial = this.initialItem - LIMIT;\n      const min = this.min ?? MIN_YEAR;\n      return min > initial ? min : initial;\n    }\n    get calculatedMax() {\n      const initial = this.initialItem + LIMIT;\n      const max = this.max ?? MAX_YEAR;\n      return max < initial ? max + 1 : initial;\n    }\n    updateHoveredItem(hovered, item) {\n      this.hoveredItem = hovered ? item : null;\n    }\n    static {\n      this.ɵfac = function TuiCalendarYear_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiCalendarYear)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiCalendarYear,\n        selectors: [[\"tui-calendar-year\"]],\n        hostVars: 2,\n        hostBindings: function TuiCalendarYear_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵclassProp(\"_picking\", ctx.isSingle);\n          }\n        },\n        inputs: {\n          value: \"value\",\n          initialItem: \"initialItem\",\n          min: \"min\",\n          max: \"max\",\n          disabledItemHandler: \"disabledItemHandler\"\n        },\n        outputs: {\n          yearClick: \"yearClick\"\n        },\n        decls: 1,\n        vars: 1,\n        consts: [[\"automation-id\", \"tui-calendar-year__row\", \"class\", \"t-row\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [\"automation-id\", \"tui-calendar-year__row\", 1, \"t-row\"], [4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [\"automation-id\", \"tui-calendar-year__cell\", \"class\", \"t-cell\", 3, \"t-cell_disabled\", \"t-cell_today\", \"tuiScrollIntoView\", \"click\", \"tuiHoveredChange\", 4, \"tuiLet\"], [\"automation-id\", \"tui-calendar-year__cell\", 1, \"t-cell\", 3, \"click\", \"tuiHoveredChange\", \"tuiScrollIntoView\"]],\n        template: function TuiCalendarYear_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, TuiCalendarYear_div_0_Template, 2, 1, \"div\", 0);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"tuiRepeatTimesOf\", ctx.rows);\n          }\n        },\n        dependencies: [TuiHovered, TuiLet, TuiRepeatTimes, TuiScrollIntoView],\n        styles: [\".t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;-webkit-mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem));mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:\\\"\\\";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 12 32\\\"><path d=\\\"M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z\\\"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat;mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 12 32\\\"><path d=\\\"M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z\\\"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);-webkit-mask:none;mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}[_nghost-%COMP%]{display:block;inline-size:16rem}.t-cell[_ngcontent-%COMP%]{inline-size:4rem;border-block-start-width:.5rem;border-block-end-width:.5rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiCalendarYear;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiCalendar = /*#__PURE__*/(() => {\n  class TuiCalendar {\n    constructor() {\n      this.day = null;\n      this.view = 'month';\n      this.month = TuiMonth.currentLocal();\n      this.disabledItemHandler = TUI_FALSE_HANDLER;\n      this.min = TUI_FIRST_DAY;\n      this.max = TUI_LAST_DAY;\n      this.minViewedMonth = TUI_FIRST_DAY;\n      this.maxViewedMonth = TUI_LAST_DAY;\n      this.hoveredItem = null;\n      this.showAdjacent = true;\n      this.markerHandler = null;\n      this.dayClick = new EventEmitter();\n      this.monthChange = new EventEmitter();\n      this.hoveredItemChange = new EventEmitter();\n      this.disabledItemHandlerMapper = (disabledItemHandler, min, max) => item => item.dayBefore(min) || item.dayAfter(max) || disabledItemHandler(item);\n    }\n    set value(value) {\n      this.day = value;\n      if (this.showAdjacent && value instanceof TuiDay && value.daySameOrBefore(TUI_LAST_DISPLAYED_DAY)) {\n        this.month = value;\n      }\n    }\n    set initialView(view) {\n      this.view = view;\n    }\n    get value() {\n      return this.day;\n    }\n    onPaginationValueChange(month) {\n      this.updateViewedMonth(month);\n    }\n    onDayClick(day) {\n      this.dayClick.emit(day);\n    }\n    onHoveredItemChange(day) {\n      this.updateHoveredDay(day);\n    }\n    get computedMin() {\n      return this.min ?? TUI_FIRST_DAY;\n    }\n    get computedMax() {\n      return this.max ?? TUI_LAST_DAY;\n    }\n    get computedMinViewedMonth() {\n      const min = this.computedMin;\n      const minViewed = this.minViewedMonth ?? TUI_FIRST_DAY;\n      return minViewed.monthSameOrAfter(min) ? minViewed : min;\n    }\n    get computedMaxViewedMonth() {\n      const max = this.computedMax;\n      const maxViewed = this.maxViewedMonth ?? TUI_LAST_DAY;\n      return maxViewed.monthSameOrBefore(max) ? maxViewed : max;\n    }\n    get isInYearView() {\n      return this.view === 'year';\n    }\n    onPaginationYearClick() {\n      this.view = 'year';\n    }\n    onPickerYearClick(year) {\n      this.view = 'month';\n      this.updateViewedMonth(new TuiMonth(year, this.month.month));\n    }\n    updateViewedMonth(month) {\n      if (this.month.monthSame(month)) {\n        return;\n      }\n      this.month = month;\n      this.monthChange.emit(month);\n    }\n    updateHoveredDay(day) {\n      if (tuiNullableSame(this.hoveredItem, day, (a, b) => a.daySame(b))) {\n        return;\n      }\n      this.hoveredItem = day;\n      this.hoveredItemChange.emit(day);\n    }\n    static {\n      this.ɵfac = function TuiCalendar_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiCalendar)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiCalendar,\n        selectors: [[\"tui-calendar\"]],\n        inputs: {\n          month: \"month\",\n          disabledItemHandler: \"disabledItemHandler\",\n          min: \"min\",\n          max: \"max\",\n          minViewedMonth: \"minViewedMonth\",\n          maxViewedMonth: \"maxViewedMonth\",\n          hoveredItem: \"hoveredItem\",\n          showAdjacent: \"showAdjacent\",\n          markerHandler: \"markerHandler\",\n          value: \"value\",\n          initialView: \"initialView\"\n        },\n        outputs: {\n          dayClick: \"dayClick\",\n          monthChange: \"monthChange\",\n          hoveredItemChange: \"hoveredItemChange\"\n        },\n        decls: 3,\n        vars: 2,\n        consts: [[\"calendar\", \"\"], [\"automation-id\", \"tui-calendar__scrollbar\", \"class\", \"t-scrollbar\", 4, \"ngIf\", \"ngIfElse\"], [\"automation-id\", \"tui-calendar__scrollbar\", 1, \"t-scrollbar\"], [\"automation-id\", \"tui-calendar__year\", 3, \"yearClick\", \"initialItem\", \"max\", \"min\", \"value\"], [\"automation-id\", \"tui-calendar__pagination\", 1, \"t-pagination\", 3, \"valueChange\", \"yearClick\", \"max\", \"min\", \"value\"], [\"automation-id\", \"tui-calendar__calendar\", 3, \"dayClick\", \"hoveredItemChange\", \"disabledItemHandler\", \"hoveredItem\", \"markerHandler\", \"month\", \"showAdjacent\", \"value\"]],\n        template: function TuiCalendar_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, TuiCalendar_tui_scrollbar_0_Template, 2, 4, \"tui-scrollbar\", 1)(1, TuiCalendar_ng_template_1_Template, 3, 14, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          }\n          if (rf & 2) {\n            const calendar_r4 = i0.ɵɵreference(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.isInYearView)(\"ngIfElse\", calendar_r4);\n          }\n        },\n        dependencies: [NgIf, TuiCalendarSheet, TuiCalendarSpin, TuiCalendarYear, TuiMapperPipe, TuiScrollbar],\n        styles: [\"[_nghost-%COMP%]{display:block;min-block-size:18.25rem;inline-size:15.75rem;padding:1rem 1.125rem;box-sizing:content-box}.t-scrollbar[_ngcontent-%COMP%]{block-size:18.25rem;inline-size:16.875rem}.t-pagination[_ngcontent-%COMP%]{margin-bottom:1rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiCalendar;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_CALENDAR_SHEET_DEFAULT_OPTIONS, TUI_CALENDAR_SHEET_OPTIONS, TuiCalendar, TuiCalendarSheet, TuiCalendarSpin, TuiCalendarYear, tuiCalendarSheetOptionsProvider };\n","import { NgIf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, Component, ChangeDetectionStrategy } from '@angular/core';\nimport { TuiRipple } from '@taiga-ui/addon-mobile/directives';\nimport { TuiLet } from '@taiga-ui/cdk/directives/let';\nimport { TuiRepeatTimes } from '@taiga-ui/cdk/directives/repeat-times';\nimport { TUI_IS_IOS } from '@taiga-ui/cdk/tokens';\nimport { TuiCalendarSheet } from '@taiga-ui/core/components/calendar';\nimport { TuiCalendarSheetPipe } from '@taiga-ui/core/pipes/calendar-sheet';\nfunction TuiMobileCalendarSheet_ng_container_0_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 5);\n  }\n}\nfunction TuiMobileCalendarSheet_ng_container_0_div_1_ng_container_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function TuiMobileCalendarSheet_ng_container_0_div_1_ng_container_2_div_1_Template_div_click_0_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).ngIf;\n      const ctx_r2 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r2.onItemClick(item_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(4);\n    i0.ɵɵclassProp(\"t-cell_disabled\", ctx_r2.disabledItemHandler(item_r2))(\"t-cell_today\", ctx_r2.itemIsToday(item_r2));\n    i0.ɵɵattribute(\"data-range\", ctx_r2.getItemRange(item_r2));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r2.day, \" \");\n  }\n}\nfunction TuiMobileCalendarSheet_ng_container_0_div_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiMobileCalendarSheet_ng_container_0_div_1_ng_container_2_div_1_Template, 2, 6, \"div\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const colIndex_r4 = ctx.$implicit;\n    const rowIndex_r5 = i0.ɵɵnextContext().$implicit;\n    const sheet_r6 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", sheet_r6[rowIndex_r5] == null ? null : sheet_r6[rowIndex_r5][colIndex_r4]);\n  }\n}\nfunction TuiMobileCalendarSheet_ng_container_0_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 5);\n  }\n}\nfunction TuiMobileCalendarSheet_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, TuiMobileCalendarSheet_ng_container_0_div_1_div_1_Template, 1, 0, \"div\", 3)(2, TuiMobileCalendarSheet_ng_container_0_div_1_ng_container_2_Template, 2, 1, \"ng-container\", 4)(3, TuiMobileCalendarSheet_ng_container_0_div_1_div_3_Template, 1, 0, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    let tmp_4_0;\n    let tmp_5_0;\n    let tmp_6_0;\n    const rowIndex_r5 = ctx.$implicit;\n    const sheet_r6 = i0.ɵɵnextContext().tuiLet;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", 7 - ((tmp_4_0 = sheet_r6[rowIndex_r5] == null ? null : sheet_r6[rowIndex_r5].length) !== null && tmp_4_0 !== undefined ? tmp_4_0 : 0));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", (tmp_5_0 = sheet_r6[rowIndex_r5] == null ? null : sheet_r6[rowIndex_r5].length) !== null && tmp_5_0 !== undefined ? tmp_5_0 : 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", 7 - ((tmp_6_0 = sheet_r6[rowIndex_r5] == null ? null : sheet_r6[rowIndex_r5].length) !== null && tmp_6_0 !== undefined ? tmp_6_0 : 0));\n  }\n}\nfunction TuiMobileCalendarSheet_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiMobileCalendarSheet_ng_container_0_div_1_Template, 4, 3, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const sheet_r6 = ctx.tuiLet;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiRepeatTimesOf\", sheet_r6.length);\n  }\n}\nlet TuiMobileCalendarSheet = /*#__PURE__*/(() => {\n  class TuiMobileCalendarSheet extends TuiCalendarSheet {\n    constructor() {\n      super(...arguments);\n      this.isIOS = inject(TUI_IS_IOS);\n    }\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵTuiMobileCalendarSheet_BaseFactory;\n        return function TuiMobileCalendarSheet_Factory(__ngFactoryType__) {\n          return (ɵTuiMobileCalendarSheet_BaseFactory || (ɵTuiMobileCalendarSheet_BaseFactory = i0.ɵɵgetInheritedFactory(TuiMobileCalendarSheet)))(__ngFactoryType__ || TuiMobileCalendarSheet);\n        };\n      })();\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiMobileCalendarSheet,\n        selectors: [[\"tui-mobile-calendar-sheet\"]],\n        hostVars: 2,\n        hostBindings: function TuiMobileCalendarSheet_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵclassProp(\"_ios\", ctx.isIOS);\n          }\n        },\n        features: [i0.ɵɵInheritDefinitionFeature],\n        decls: 2,\n        vars: 3,\n        consts: [[4, \"tuiLet\"], [\"automation-id\", \"tui-primitive-calendar-mobile__row\", \"class\", \"t-row\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [\"automation-id\", \"tui-primitive-calendar-mobile__row\", 1, \"t-row\"], [\"class\", \"t-cell t-cell_empty\", 4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [4, \"tuiRepeatTimes\", \"tuiRepeatTimesOf\"], [1, \"t-cell\", \"t-cell_empty\"], [\"automation-id\", \"tui-primitive-calendar-mobile__cell\", \"tuiRipple\", \"\", \"class\", \"t-cell\", 3, \"t-cell_disabled\", \"t-cell_today\", \"click\", 4, \"ngIf\"], [\"automation-id\", \"tui-primitive-calendar-mobile__cell\", \"tuiRipple\", \"\", 1, \"t-cell\", 3, \"click\"]],\n        template: function TuiMobileCalendarSheet_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, TuiMobileCalendarSheet_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n            i0.ɵɵpipe(1, \"tuiCalendarSheet\");\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(1, 1, ctx.month));\n          }\n        },\n        dependencies: [NgIf, TuiCalendarSheetPipe, TuiLet, TuiRepeatTimes, TuiRipple],\n        styles: [\".t-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row[_ngcontent-%COMP%]:last-child{justify-content:flex-start}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;line-height:2rem;isolation:isolate;cursor:pointer;overflow:hidden;border:.125rem solid transparent;box-sizing:border-box;-webkit-mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem));mask:linear-gradient(transparent calc(50% - 1rem),#000 calc(50% - 1rem),#000 calc(50% + 1rem),transparent calc(50% + 1rem))}.t-cell[_ngcontent-%COMP%]:first-child{border-inline-start-color:transparent!important}.t-cell[_ngcontent-%COMP%]:last-child{border-inline-end-color:transparent!important}.t-cell[_ngcontent-%COMP%]:before, .t-cell[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:\\\"\\\";z-index:-1;border-radius:var(--tui-radius-m)}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 12 32\\\"><path d=\\\"M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z\\\"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat;mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 12 32\\\"><path d=\\\"M0.2856 0L0.6763 0C2.9265 0 4.9876 1.259 6.0147 3.2611L10.2442 11.5048C11.5301 14.0113 11.5683 16.9754 10.3472 19.5141L5.9766 28.6007C4.9772 30.6786 2.8754 32 0.5696 32H0.285645V0Z\\\"></path></svg>') right / .75rem 100% no-repeat,linear-gradient(#000,#000) left / calc(100% - .7rem) 100% no-repeat}.t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=middle][_ngcontent-%COMP%]{border-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=middle][_ngcontent-%COMP%]:not(:last-child):before{border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%]{border-inline-end-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:not(:last-child):before{right:-1rem}.t-cell[data-range=start][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1);color:var(--tui-text-primary-on-accent-1)}._picking[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]{border-inline-start-color:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{left:-1rem}.t-cell[data-range=end][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);transform:scaleX(-1)}.t-cell[data-range=active][_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range=active][_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1);-webkit-mask:none;mask:none}.t-cell_disabled[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity);pointer-events:none}.t-cell_today[_ngcontent-%COMP%]{text-decoration:underline;text-underline-offset:.25rem}@media (hover: hover) and (pointer: fine){.t-cell[_ngcontent-%COMP%]:hover:not([data-range=start]):not([data-range=end]):before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=start][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=end][_ngcontent-%COMP%]:hover:after, .t-cell[data-range=active][_ngcontent-%COMP%]:hover:after{background:var(--tui-background-accent-1-hover)}}[_nghost-%COMP%]{display:block;inline-size:20.75rem;max-inline-size:100vw}._ios[_nghost-%COMP%]{inline-size:22.625rem}._ios[_nghost-%COMP%]   .t-row[_ngcontent-%COMP%]{block-size:3.125rem;font-size:1.0625rem}._ios[_nghost-%COMP%]   .t-cell[data-range=start][_ngcontent-%COMP%], ._ios[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%], ._ios[_nghost-%COMP%]   .t-cell[data-range=active][_ngcontent-%COMP%]{font-weight:600}.t-row[_ngcontent-%COMP%]{block-size:3rem;justify-content:space-between!important;font-family:inherit;font-size:1.125rem;padding:.125rem;box-sizing:border-box}.t-row[_ngcontent-%COMP%]:first-child   .t-cell[_ngcontent-%COMP%]:not(.t-cell_empty) ~ .t-cell_empty[_ngcontent-%COMP%], .t-row[_ngcontent-%COMP%]:last-child   .t-cell_empty[_ngcontent-%COMP%]{display:none}.t-row[_ngcontent-%COMP%]:last-child   .t-cell[_ngcontent-%COMP%]:not(.t-cell_empty) ~ .t-cell_empty[_ngcontent-%COMP%]{display:flex}.t-cell[_ngcontent-%COMP%]{inline-size:2.5rem;block-size:2.5rem;border-radius:100%;overflow:hidden;-webkit-mask:none;mask:none;border:none;text-decoration:none}.t-cell_empty[_ngcontent-%COMP%]{visibility:hidden}.t-cell_today[_ngcontent-%COMP%]:after{content:\\\"\\\\2022\\\";text-align:center;line-height:4rem;font-size:1.5rem;color:var(--tui-text-action)}.t-cell_today[data-range=start][_ngcontent-%COMP%]:after, .t-cell_today[data-range=end][_ngcontent-%COMP%]:after, .t-cell_today[data-range=active][_ngcontent-%COMP%]:after{color:inherit}.t-cell[data-range=start][_ngcontent-%COMP%], .t-cell[data-range=end][_ngcontent-%COMP%], .t-cell[data-range=active][_ngcontent-%COMP%]{font-weight:500}.t-cell[_ngcontent-%COMP%]:after{-webkit-mask:none;mask:none}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiMobileCalendarSheet;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiMobileCalendarSheet };\n","import { TuiTime, HOURS_IN_DAY } from '@taiga-ui/cdk/date-time';\nimport { MaskitoDirective } from '@maskito/angular';\nimport { tuiDirectiveBinding } from '@taiga-ui/cdk/utils';\nimport { CHAR_PLUS } from '@taiga-ui/cdk/constants';\nimport { getCountryCallingCode } from 'libphonenumber-js/core';\nfunction tuiCreateTimePeriods(minHour = 0, maxHour = HOURS_IN_DAY, minutes = [0, 30]) {\n  const timeArray = [];\n  for (let i = minHour; i < maxHour; i++) {\n    minutes.forEach(minute => {\n      const time = new TuiTime(i, minute);\n      timeArray.push(time);\n    });\n  }\n  return timeArray;\n}\nfunction tuiIsFlat(items) {\n  return !Array.isArray(items[0]);\n}\nfunction tuiMaskito(options) {\n  return tuiDirectiveBinding(MaskitoDirective, 'options', options);\n}\nfunction tuiGetCallingCode(iso, metadata) {\n  return metadata ? CHAR_PLUS + getCountryCallingCode(iso, metadata) : '';\n}\nfunction tuiToggleDay(days, day) {\n  return (days?.find(item => item.daySame(day)) ? days.filter(item => !item.daySame(day)) : days?.concat(day)) || [];\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { tuiCreateTimePeriods, tuiGetCallingCode, tuiIsFlat, tuiMaskito, tuiToggleDay };\n","import { VIRTUAL_SCROLL_STRATEGY, CdkFixedSizeVirtualScroll, CdkVirtualForOf, CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { DOCUMENT, AsyncPipe, NgForOf, NgIf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Optional, inject, DestroyRef, NgZone, EventEmitter, Component, ChangeDetectionStrategy, ViewChild, Input, Output } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { TuiMobileCalendarSheet } from '@taiga-ui/addon-mobile/components/mobile-calendar-sheet';\nimport { TuiRipple, TuiTouchable } from '@taiga-ui/addon-mobile/directives';\nimport { TUI_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { MONTHS_IN_YEAR, TuiDay, TuiMonth, TUI_FIRST_DAY, TUI_LAST_DAY, TuiDayRange } from '@taiga-ui/cdk/date-time';\nimport { tuiWatch, tuiZonefreeScheduler, tuiZonefree, tuiTypedFromEvent } from '@taiga-ui/cdk/observables';\nimport { TuiMapperPipe } from '@taiga-ui/cdk/pipes/mapper';\nimport { TUI_IS_IOS, TUI_IS_E2E } from '@taiga-ui/cdk/tokens';\nimport { TuiButton } from '@taiga-ui/core/components/button';\nimport { TUI_CALENDAR_SHEET_OPTIONS } from '@taiga-ui/core/components/calendar';\nimport { TuiLink } from '@taiga-ui/core/components/link';\nimport { TuiMonthPipe } from '@taiga-ui/core/pipes/month';\nimport { TuiOrderWeekDaysPipe } from '@taiga-ui/core/pipes/order-week-days';\nimport { TUI_ANIMATIONS_SPEED, TUI_COMMON_ICONS, TUI_CLOSE_WORD, TUI_SHORT_WEEK_DAYS } from '@taiga-ui/core/tokens';\nimport { tuiGetDuration } from '@taiga-ui/core/utils/miscellaneous';\nimport { TUI_CALENDAR_DATE_STREAM, TUI_CANCEL_WORD, TUI_DONE_WORD, TUI_CHOOSE_DAY_OR_RANGE_TEXTS } from '@taiga-ui/kit/tokens';\nimport { tuiToggleDay } from '@taiga-ui/kit/utils';\nimport { Subject, distinctUntilChanged, takeUntil, EMPTY, BehaviorSubject, skip, map, timer, identity, delay, take, windowToggle, mergeMap, filter, switchMap, race, debounceTime } from 'rxjs';\nimport { TuiScrollService } from '@taiga-ui/cdk/services';\nimport { tuiPure, tuiCreateToken } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { __decorate } from 'tslib';\nconst _c0 = [\"yearsScrollRef\"];\nconst _c1 = [\"monthsScrollRef\"];\nfunction TuiMobileCalendar_header_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"header\", 10)(1, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TuiMobileCalendar_header_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onClose());\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiMobileCalendar_header_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onClose());\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h2\", 13);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function TuiMobileCalendar_header_0_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onConfirm());\n    });\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const texts_r4 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵstyleProp(\"border-radius\", 100, \"%\");\n    i0.ɵɵproperty(\"iconStart\", ctx_r2.icons.close);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 7, ctx_r2.closeWord$), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 9, ctx_r2.cancelWord$), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.single ? texts_r4[0] : ctx_r2.multi ? texts_r4[2] : texts_r4[1], \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 11, ctx_r2.doneWord$), \" \");\n  }\n}\nfunction TuiMobileCalendar_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function TuiMobileCalendar_button_5_Template_button_click_0_listener() {\n      const index_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.setYear(index_r6));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const index_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"data-state\", ctx_r2.getState(index_r6));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", index_r6, \" \");\n  }\n}\nfunction TuiMobileCalendar_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", day_r7, \" \");\n  }\n}\nfunction TuiMobileCalendar_section_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 17)(1, \"h2\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"tuiMonth\");\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"tui-mobile-calendar-sheet\", 19);\n    i0.ɵɵpipe(6, \"tuiMapper\");\n    i0.ɵɵlistener(\"dayClick\", function TuiMobileCalendar_section_12_Template_tui_mobile_calendar_sheet_dayClick_5_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDayClick($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const month_r9 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 7, i0.ɵɵpipeBind1(3, 5, month_r9)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabledItemHandler\", i0.ɵɵpipeBind4(6, 9, ctx_r2.disabledItemHandler, ctx_r2.disabledItemHandlerMapper, ctx_r2.min, ctx_r2.max))(\"month\", month_r9)(\"single\", ctx_r2.single)(\"value\", ctx_r2.value);\n  }\n}\nfunction getCycle(options) {\n  return Array.from({\n    length: options.yearCycle\n  }, (_, i) => Array.from({\n    length: MONTHS_IN_YEAR\n  }, (_, month) => options.label + weekCount({\n    year: i,\n    month,\n    startingYear: options.startingYear\n  }) * options.week));\n}\nfunction weekCount(options) {\n  const firstOfMonth = new Date(options.year + options.startingYear, options.month, 1);\n  const lastOfMonth = new Date(options.year + options.startingYear, options.month + 1, 0);\n  const days = lastOfMonth.getDate() + (firstOfMonth.getDay() || 7) - 1;\n  return Math.ceil(days / 7);\n}\nconst SCROLL_DEBOUNCE_TIME = 80;\nconst YEARS_IN_ROW = 5;\nconst STARTING_YEAR = 1900;\nconst RANGE = 196;\nconst BUFFER = 500;\nconst ANDROID_LABEL = 64;\nconst ANDROID_WEEK = 48;\nconst IOS_LABEL = 50;\nconst IOS_WEEK = 50;\nconst YEARLY_CYCLE = 28;\nconst ANDROID_CYCLE = getCycle({\n  label: ANDROID_LABEL,\n  week: ANDROID_WEEK,\n  yearCycle: YEARLY_CYCLE,\n  startingYear: STARTING_YEAR\n});\nconst IOS_CYCLE = getCycle({\n  label: IOS_LABEL,\n  week: IOS_WEEK,\n  yearCycle: YEARLY_CYCLE,\n  startingYear: STARTING_YEAR\n});\nconst ANDROID_CYCLE_HEIGHT = reduceCycle(ANDROID_CYCLE);\nconst IOS_CYCLE_HEIGHT = reduceCycle(IOS_CYCLE);\nfunction reduceCycle(cycle, lastYear = 28, lastMonth = 12) {\n  return cycle.reduce((total, year, yearIndex) => yearIndex <= lastYear ? total + year.reduce((sum, month, monthIndex) => yearIndex < lastYear || yearIndex === lastYear && monthIndex < lastMonth ? sum + month : sum, 0) : total, 0);\n}\n/**\n * This scroll strategy is hard wired with styles for iOS and Android.\n * It is dependent on month height on those platforms and is designed to\n * work for {@link TuiMobileCalendar} with years 1906 to 2102\n */\nlet TuiMobileCalendarStrategy = /*#__PURE__*/(() => {\n  class TuiMobileCalendarStrategy {\n    constructor(isIOS, scrollService) {\n      this.isIOS = isIOS;\n      this.scrollService = scrollService;\n      this.index$ = new Subject();\n      this.viewport = null;\n      this.destroy$ = new Subject();\n    }\n    get scrolledIndexChange() {\n      return this.index$.pipe(distinctUntilChanged());\n    }\n    attach(viewport) {\n      const cycle = this.isIOS ? IOS_CYCLE_HEIGHT : ANDROID_CYCLE_HEIGHT;\n      this.viewport = viewport;\n      this.viewport.setTotalContentSize(cycle * 7);\n      this.updateRenderedRange(this.viewport);\n    }\n    detach() {\n      this.index$.complete();\n      this.viewport = null;\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    onContentScrolled() {\n      if (this.viewport) {\n        this.updateRenderedRange(this.viewport);\n      }\n    }\n    /** These do not matter for this case */\n    onDataLengthChanged() {}\n    onContentRendered() {}\n    onRenderedOffsetChanged() {}\n    scrollToIndex(index, behavior) {\n      if (!this.viewport) {\n        return;\n      }\n      const scrollTop = this.getOffsetForIndex(index);\n      if (behavior !== 'smooth') {\n        this.viewport.scrollToOffset(scrollTop, behavior);\n        return;\n      }\n      this.scrollService.scroll$(this.viewport.elementRef.nativeElement, scrollTop).pipe(takeUntil(this.destroy$)).subscribe();\n    }\n    getOffsetForIndex(index) {\n      const month = index % MONTHS_IN_YEAR;\n      const year = (index - month) / MONTHS_IN_YEAR;\n      return this.computeHeight(year, month);\n    }\n    getIndexForOffset(offset) {\n      const cycle = this.isIOS ? IOS_CYCLE : ANDROID_CYCLE;\n      const cycleHeight = this.isIOS ? IOS_CYCLE_HEIGHT : ANDROID_CYCLE_HEIGHT;\n      const remainder = offset % cycleHeight;\n      const years = (offset - remainder) / cycleHeight * YEARLY_CYCLE;\n      let accumulator = 0;\n      for (let year = 0; year < cycle.length; year++) {\n        for (let month = 0; month < (cycle[year]?.length ?? 0); month++) {\n          accumulator += cycle[year]?.[month] ?? 0;\n          if (accumulator - (cycle[year]?.[month] ?? 0) / 2 > remainder) {\n            return Math.max((years + year) * MONTHS_IN_YEAR + month, 0);\n          }\n        }\n      }\n      return RANGE;\n    }\n    computeHeight(year, month) {\n      const cycle = this.isIOS ? IOS_CYCLE : ANDROID_CYCLE;\n      const remainder = year % YEARLY_CYCLE;\n      const remainderHeight = reduceCycle(cycle, remainder, month);\n      const fullCycles = (year - remainder) / YEARLY_CYCLE;\n      const fullCyclesHeight = this.isIOS ? fullCycles * IOS_CYCLE_HEIGHT : fullCycles * ANDROID_CYCLE_HEIGHT;\n      return fullCyclesHeight + remainderHeight;\n    }\n    updateRenderedRange(viewport) {\n      const offset = viewport.measureScrollOffset();\n      const {\n        start,\n        end\n      } = viewport.getRenderedRange();\n      const viewportSize = viewport.getViewportSize();\n      const dataLength = viewport.getDataLength();\n      const newRange = {\n        start,\n        end\n      };\n      const firstVisibleIndex = this.getIndexForOffset(offset);\n      const startBuffer = offset - this.getOffsetForIndex(start);\n      if (startBuffer < BUFFER && start !== 0) {\n        newRange.start = Math.max(0, this.getIndexForOffset(offset - BUFFER * 2));\n        newRange.end = Math.min(dataLength, this.getIndexForOffset(offset + viewportSize + BUFFER));\n      } else {\n        const endBuffer = this.getOffsetForIndex(end) - offset - viewportSize;\n        if (endBuffer < BUFFER && end !== dataLength) {\n          newRange.start = Math.max(0, this.getIndexForOffset(offset - BUFFER));\n          newRange.end = Math.min(dataLength, this.getIndexForOffset(offset + viewportSize + BUFFER * 2));\n        }\n      }\n      viewport.setRenderedRange(newRange);\n      viewport.setRenderedContentOffset(this.getOffsetForIndex(newRange.start));\n      this.index$.next(firstVisibleIndex);\n    }\n  }\n  __decorate([tuiPure], TuiMobileCalendarStrategy.prototype, \"scrolledIndexChange\", null);\n\n  /**\n   * Stream for updating value\n   */\n  return TuiMobileCalendarStrategy;\n})();\nconst TUI_VALUE_STREAM = tuiCreateToken();\nconst TUI_MOBILE_CALENDAR_PROVIDERS = [TuiScrollService, {\n  provide: VIRTUAL_SCROLL_STRATEGY,\n  deps: [TUI_IS_IOS, TuiScrollService],\n  useClass: TuiMobileCalendarStrategy\n}, {\n  provide: TUI_VALUE_STREAM,\n  deps: [[new Optional(), TUI_CALENDAR_DATE_STREAM]],\n  useFactory: value$ => (value$ || EMPTY).pipe(tuiWatch(), takeUntilDestroyed())\n}];\nlet TuiMobileCalendar = /*#__PURE__*/(() => {\n  class TuiMobileCalendar {\n    constructor() {\n      this.value$ = new BehaviorSubject(null);\n      this.today = TuiDay.currentLocal();\n      this.activeYear = 0;\n      this.activeMonth = 0;\n      this.destroyRef = inject(DestroyRef);\n      this.doc = inject(DOCUMENT);\n      this.speed = inject(TUI_ANIMATIONS_SPEED);\n      this.ngZone = inject(NgZone);\n      this.initialized = false;\n      this.isIOS = inject(TUI_IS_IOS);\n      this.isE2E = inject(TUI_IS_E2E);\n      this.icons = inject(TUI_COMMON_ICONS);\n      this.closeWord$ = inject(TUI_CLOSE_WORD);\n      this.cancelWord$ = inject(TUI_CANCEL_WORD);\n      this.doneWord$ = inject(TUI_DONE_WORD);\n      this.unorderedWeekDays$ = inject(TUI_SHORT_WEEK_DAYS);\n      this.chooseDayOrRangeTexts$ = inject(TUI_CHOOSE_DAY_OR_RANGE_TEXTS, {\n        optional: true\n      });\n      this.years = Array.from({\n        length: RANGE\n      }, (_, i) => i + STARTING_YEAR);\n      this.months = Array.from({\n        length: RANGE * 12\n      }, (_, i) => new TuiMonth(Math.floor(i / MONTHS_IN_YEAR) + STARTING_YEAR, i % MONTHS_IN_YEAR));\n      /**\n       * @deprecated use static DI options instead\n       * ```\n       * tuiCalendarSheetOptionsProvider({rangeMode: boolean})\n       * ```\n       * TODO(v5): delete it\n       */\n      this.single = !inject(TUI_CALENDAR_SHEET_OPTIONS).rangeMode;\n      this.multi = false;\n      this.min = TUI_FIRST_DAY;\n      this.max = TUI_LAST_DAY;\n      this.disabledItemHandler = TUI_FALSE_HANDLER;\n      this.cancel = new EventEmitter();\n      this.confirm = new EventEmitter();\n      this.valueChange = this.value$.pipe(skip(1), distinctUntilChanged((a, b) => a?.toString() === b?.toString()), map(x => !this.single && x instanceof TuiDay ? new TuiDayRange(x, x) : x));\n      this.disabledItemHandlerMapper = (disabledItemHandler, min, max) => item => item.dayBefore(min) || max !== null && item.dayAfter(max) || disabledItemHandler(item);\n      inject(TUI_VALUE_STREAM).pipe(takeUntilDestroyed()).subscribe(value => {\n        this.value = value;\n      });\n    }\n    ngAfterViewInit() {\n      this.activeYear = this.initialYear;\n      this.activeMonth = this.initialMonth;\n      // Virtual scroll has not yet rendered items even in ngAfterViewInit\n      this.waitScrolledChange();\n    }\n    setYear(year) {\n      if (this.activeYear === year) {\n        return;\n      }\n      this.activeMonth += this.getMonthOffset(year);\n      this.activeYear = year;\n      this.scrollToActiveYear('smooth');\n      timer(0, tuiZonefreeScheduler(this.ngZone)).pipe(tuiZonefree(this.ngZone), takeUntilDestroyed(this.destroyRef)).subscribe(() => this.scrollToActiveMonth());\n    }\n    set value(value) {\n      this.value$.next(value);\n    }\n    get value() {\n      return this.value$.value;\n    }\n    get yearWidth() {\n      return this.doc.documentElement.clientWidth / YEARS_IN_ROW;\n    }\n    onClose() {\n      this.cancel.emit();\n    }\n    onConfirm() {\n      if (this.value) {\n        this.confirm.emit(this.value);\n      } else {\n        this.cancel.emit();\n      }\n    }\n    onDayClick(day) {\n      if (this.single) {\n        this.value = day;\n      } else if (this.isMultiValue(this.value)) {\n        this.value = tuiToggleDay(this.value, day);\n      } else if (this.value instanceof TuiDay) {\n        this.value = TuiDayRange.sort(this.value, day);\n      } else if (this.value instanceof TuiDayRange) {\n        this.value = day;\n      } else if (!this.value) {\n        this.value = day;\n      }\n    }\n    getState(index) {\n      if (this.isYearActive(index)) {\n        return 'active';\n      }\n      if (this.isYearActive(index - 1) || this.isYearActive(index + 1)) {\n        return 'adjacent';\n      }\n      return null;\n    }\n    onMonthChange(month) {\n      // Skipping initial callback where index === 0\n      if (!month || this.activeMonth === month) {\n        return;\n      }\n      this.activeMonth = month;\n      const activeYear = this.monthToYear(month);\n      if (activeYear === this.activeYear) {\n        return;\n      }\n      this.activeYear = activeYear;\n      this.scrollToActiveYear();\n    }\n    get initialYear() {\n      if (!this.value) {\n        return this.today.year;\n      }\n      if (this.value instanceof TuiDay) {\n        return this.value.year;\n      }\n      if (!(this.value instanceof TuiDayRange)) {\n        return this.value?.[0]?.year ?? this.today.year;\n      }\n      return this.value.to.year;\n    }\n    get initialMonth() {\n      if (!this.value) {\n        return this.today.month + (this.today.year - STARTING_YEAR) * MONTHS_IN_YEAR;\n      }\n      if (this.value instanceof TuiDay) {\n        return this.value.month + (this.value.year - STARTING_YEAR) * MONTHS_IN_YEAR;\n      }\n      if (!(this.value instanceof TuiDayRange)) {\n        return (this.value?.[0]?.month ?? this.today.month) + ((this.value?.[0]?.year ?? this.today.year) - STARTING_YEAR) * MONTHS_IN_YEAR;\n      }\n      return this.value.to.month + (this.value.to.year - STARTING_YEAR) * MONTHS_IN_YEAR;\n    }\n    isMultiValue(day) {\n      return !(day instanceof TuiDay) && !(day instanceof TuiDayRange) && this.multi;\n    }\n    getYearsViewportSize() {\n      return this.yearsScrollRef?.getViewportSize() || 0;\n    }\n    updateViewportDimension() {\n      this.yearsScrollRef?.checkViewportSize();\n      this.monthsScrollRef?.checkViewportSize();\n    }\n    lateInit() {\n      return this.getYearsViewportSize() > 0 ? identity : delay(200);\n    }\n    waitScrolledChange() {\n      this.updateViewportDimension();\n      this.monthsScrollRef?.scrolledIndexChange.pipe(delay(tuiGetDuration(this.speed)), this.lateInit(), take(1), takeUntilDestroyed(this.destroyRef)).subscribe(() => {\n        this.initialized = true;\n        this.updateViewportDimension();\n        this.initYearScroll();\n        this.initMonthScroll();\n        this.scrollToActiveYear();\n        this.scrollToActiveMonth();\n      });\n    }\n    initYearScroll() {\n      const {\n        yearsScrollRef\n      } = this;\n      if (!yearsScrollRef) {\n        return;\n      }\n      const touchstart$ = tuiTypedFromEvent(yearsScrollRef.elementRef.nativeElement, 'touchstart', {\n        passive: true\n      });\n      const touchend$ = tuiTypedFromEvent(yearsScrollRef.elementRef.nativeElement, 'touchend', {\n        passive: true\n      });\n      const click$ = tuiTypedFromEvent(yearsScrollRef.elementRef.nativeElement, 'click');\n      // Refresh activeYear\n      yearsScrollRef.elementScrolled().pipe(\n      // Ignore smooth scroll resulting from click on the exact year\n      windowToggle(touchstart$, () => click$), mergeMap(x => x),\n      // Delay is required to run months scroll in the next frame to prevent flicker\n      delay(0), map(() => Math.round(yearsScrollRef.measureScrollOffset() / this.yearWidth) + Math.floor(YEARS_IN_ROW / 2) + STARTING_YEAR), filter(activeYear => activeYear !== this.activeYear), takeUntilDestroyed(this.destroyRef)).subscribe(activeYear => {\n        this.activeMonth += this.getMonthOffset(activeYear);\n        this.activeYear = activeYear;\n        this.scrollToActiveMonth();\n      });\n      // Smooth scroll to activeYear after scrolling is done\n      touchstart$.pipe(switchMap(() => touchend$), switchMap(() => race(yearsScrollRef.elementScrolled(), timer(SCROLL_DEBOUNCE_TIME, tuiZonefreeScheduler(this.ngZone))).pipe(debounceTime(SCROLL_DEBOUNCE_TIME * 2, tuiZonefreeScheduler(this.ngZone)), take(1), takeUntil(touchstart$))), takeUntilDestroyed(this.destroyRef)).subscribe(() => this.scrollToActiveYear('smooth'));\n    }\n    initMonthScroll() {\n      const {\n        monthsScrollRef\n      } = this;\n      if (!monthsScrollRef) {\n        return;\n      }\n      const touchstart$ = tuiTypedFromEvent(monthsScrollRef.elementRef.nativeElement, 'touchstart', {\n        passive: true\n      });\n      const touchend$ = tuiTypedFromEvent(monthsScrollRef.elementRef.nativeElement, 'touchend', {\n        passive: true\n      });\n      // Smooth scroll to the closest month after scrolling is done\n      touchstart$.pipe(switchMap(() => touchend$), switchMap(() => race(monthsScrollRef.elementScrolled(), timer(SCROLL_DEBOUNCE_TIME, tuiZonefreeScheduler(this.ngZone))).pipe(debounceTime(SCROLL_DEBOUNCE_TIME * 2, tuiZonefreeScheduler(this.ngZone)), take(1), takeUntil(touchstart$))), takeUntilDestroyed(this.destroyRef)).subscribe(() => this.scrollToActiveMonth('smooth'));\n    }\n    scrollToActiveYear(behavior = 'auto') {\n      this.yearsScrollRef?.scrollToIndex(Math.max(this.activeYear - STARTING_YEAR - 2, 0), this.isE2E ? 'auto' : behavior);\n    }\n    scrollToActiveMonth(behavior = 'auto') {\n      this.monthsScrollRef?.scrollToIndex(this.activeMonth, this.isE2E ? 'auto' : behavior);\n    }\n    isYearActive(index) {\n      return index === this.activeYear;\n    }\n    monthToYear(month) {\n      return Math.ceil((month + 1) / MONTHS_IN_YEAR) + STARTING_YEAR - 1;\n    }\n    getMonthOffset(year) {\n      return (year - this.activeYear) * MONTHS_IN_YEAR;\n    }\n    static {\n      this.ɵfac = function TuiMobileCalendar_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiMobileCalendar)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiMobileCalendar,\n        selectors: [[\"tui-mobile-calendar\"]],\n        viewQuery: function TuiMobileCalendar_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n            i0.ɵɵviewQuery(_c1, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.yearsScrollRef = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.monthsScrollRef = _t.first);\n          }\n        },\n        hostVars: 4,\n        hostBindings: function TuiMobileCalendar_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"mousedown.prevent\", function TuiMobileCalendar_mousedown_prevent_HostBindingHandler() {\n              return 0;\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵclassProp(\"_ios\", ctx.isIOS)(\"_initialized\", ctx.initialized);\n          }\n        },\n        inputs: {\n          single: \"single\",\n          multi: \"multi\",\n          min: \"min\",\n          max: \"max\",\n          disabledItemHandler: \"disabledItemHandler\",\n          value: \"value\"\n        },\n        outputs: {\n          cancel: \"cancel\",\n          confirm: \"confirm\",\n          valueChange: \"valueChange\"\n        },\n        features: [i0.ɵɵProvidersFeature(TUI_MOBILE_CALENDAR_PROVIDERS)],\n        decls: 13,\n        vars: 12,\n        consts: [[\"yearsScrollRef\", \"\"], [\"monthsScrollRef\", \"\"], [\"class\", \"t-header\", 4, \"ngIf\"], [\"orientation\", \"horizontal\", 1, \"t-years\", 3, \"itemSize\"], [1, \"t-years-wrapper\"], [\"type\", \"button\", \"class\", \"t-year\", 3, \"click\", 4, \"cdkVirtualFor\", \"cdkVirtualForOf\"], [1, \"t-week\"], [\"class\", \"t-day\", 4, \"ngFor\", \"ngForOf\"], [\"itemSize\", \"354\", \"maxBufferPx\", \"5000\", \"minBufferPx\", \"0\", 1, \"t-months\", 3, \"scrolledIndexChange\"], [\"class\", \"t-month-wrapper\", 4, \"cdkVirtualFor\", \"cdkVirtualForOf\", \"cdkVirtualForTemplateCacheSize\"], [1, \"t-header\"], [\"appearance\", \"\", \"automation-id\", \"tui-mobile-calendar__cancel\", \"tuiIconButton\", \"\", \"tuiRipple\", \"\", \"type\", \"button\", 1, \"t-close\", 3, \"click\", \"iconStart\"], [\"tuiLink\", \"\", \"tuiTouchable\", \"opacity\", \"type\", \"button\", 1, \"t-link\", \"t-link_close\", 3, \"click\"], [\"automation-id\", \"tui-mobile-calendar__label\", 1, \"t-label\"], [\"automation-id\", \"tui-mobile-calendar__confirm\", \"tuiLink\", \"\", \"tuiTouchable\", \"opacity\", \"type\", \"button\", 1, \"t-link\", 3, \"click\"], [\"type\", \"button\", 1, \"t-year\", 3, \"click\"], [1, \"t-day\"], [1, \"t-month-wrapper\"], [1, \"t-month\"], [1, \"t-calendar\", 3, \"dayClick\", \"disabledItemHandler\", \"month\", \"single\", \"value\"]],\n        template: function TuiMobileCalendar_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵtemplate(0, TuiMobileCalendar_header_0_Template, 12, 13, \"header\", 2);\n            i0.ɵɵpipe(1, \"async\");\n            i0.ɵɵelementStart(2, \"cdk-virtual-scroll-viewport\", 3, 0)(4, \"div\", 4);\n            i0.ɵɵtemplate(5, TuiMobileCalendar_button_5_Template, 2, 2, \"button\", 5);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 6);\n            i0.ɵɵtemplate(7, TuiMobileCalendar_div_7_Template, 2, 1, \"div\", 7);\n            i0.ɵɵpipe(8, \"tuiOrderWeekDays\");\n            i0.ɵɵpipe(9, \"async\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"cdk-virtual-scroll-viewport\", 8, 1);\n            i0.ɵɵlistener(\"scrolledIndexChange\", function TuiMobileCalendar_Template_cdk_virtual_scroll_viewport_scrolledIndexChange_10_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onMonthChange($event));\n            });\n            i0.ɵɵtemplate(12, TuiMobileCalendar_section_12_Template, 7, 14, \"section\", 9);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 6, ctx.chooseDayOrRangeTexts$));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"itemSize\", ctx.yearWidth);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"cdkVirtualForOf\", ctx.years);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(9, 10, i0.ɵɵpipeBind1(8, 8, ctx.unorderedWeekDays$)));\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"cdkVirtualForOf\", ctx.months)(\"cdkVirtualForTemplateCacheSize\", 10);\n          }\n        },\n        dependencies: [AsyncPipe, CdkFixedSizeVirtualScroll, CdkVirtualForOf, CdkVirtualScrollViewport, NgForOf, NgIf, TuiButton, TuiLink, TuiMapperPipe, TuiMobileCalendarSheet, TuiMonthPipe, TuiOrderWeekDaysPipe, TuiRipple, TuiTouchable],\n        styles: [\"[_nghost-%COMP%]{display:block;block-size:100%;font-family:-apple-system,BlinkMacSystemFont,Roboto,sans-serif;color:var(--tui-text-primary);-webkit-tap-highlight-color:transparent}.t-header[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;block-size:3.5rem;padding:0 1rem;border-bottom:.5px solid var(--tui-border-normal)}._ios[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{block-size:2.75rem;border-bottom:none}.t-close[_ngcontent-%COMP%]{inline-size:1.5rem;block-size:1.5rem;margin-right:2rem}._ios[_nghost-%COMP%]   .t-close[_ngcontent-%COMP%]{display:none}.t-link[_ngcontent-%COMP%]{margin-left:auto;flex-shrink:0;font-size:.875rem;line-height:1rem;font-weight:500;text-transform:uppercase;color:var(--tui-text-action)}.t-link_close[_ngcontent-%COMP%]{display:none}._ios[_nghost-%COMP%]   .t-link[_ngcontent-%COMP%]{min-inline-size:3.75rem;text-align:end;font-size:.9375rem;line-height:1.125rem;font-weight:400;letter-spacing:.018125rem;text-transform:none}._ios[_nghost-%COMP%]   .t-link_close[_ngcontent-%COMP%]{display:block;margin:0 auto 0 0;text-align:start}.t-label[_ngcontent-%COMP%]{flex-grow:1;margin:0;font-size:1.25rem;line-height:3.5rem;font-weight:500;letter-spacing:-.0125rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.t-label[_ngcontent-%COMP%] + .t-link[_ngcontent-%COMP%]{padding-left:1rem}._ios[_nghost-%COMP%]   .t-label[_ngcontent-%COMP%]{font-size:1.0625rem;font-weight:600;letter-spacing:-.025625rem;text-align:center}.t-years[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;block-size:4.0625rem;background-color:var(--tui-background-base);box-shadow:0 .5px var(--tui-border-normal)}.t-years[_ngcontent-%COMP%]::-webkit-scrollbar, .t-years[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}._ios[_nghost-%COMP%]   .t-years[_ngcontent-%COMP%]{background-color:transparent}.t-years-wrapper[_ngcontent-%COMP%]{display:flex;block-size:4.0625rem}.t-year[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;outline:none;inline-size:20vw;flex-shrink:0;font-size:.9375rem;font-weight:700;letter-spacing:.015625rem;cursor:pointer;opacity:.1;transform:scale(.73);transition:color,opacity,transform .2s}.t-year[data-state=adjacent][_ngcontent-%COMP%]{transform:scale(.86);opacity:.3}.t-year[data-state=active][_ngcontent-%COMP%]{color:var(--tui-text-action);opacity:1;transform:scale(1)}.t-week[_ngcontent-%COMP%]{display:flex;align-items:center;block-size:1.875rem;inline-size:20.75rem;max-inline-size:100%;margin:0 auto;font-size:.75rem}._ios[_nghost-%COMP%]   .t-week[_ngcontent-%COMP%]{inline-size:22.625rem;font-size:.6875rem;font-weight:500;color:var(--tui-text-secondary)}.t-day[_ngcontent-%COMP%]{flex:1;text-align:center}.t-months[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;block-size:calc(100% - 9.5rem);box-shadow:0 -1px var(--tui-border-normal);overflow-x:hidden}.t-months[_ngcontent-%COMP%]::-webkit-scrollbar, .t-months[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}._ios[_nghost-%COMP%]   .t-months[_ngcontent-%COMP%]{block-size:calc(100% - 8.75rem)}.t-month-wrapper[_ngcontent-%COMP%]{display:flex;margin:.625rem 0 -.625rem;block-size:22.125rem;flex-direction:column}.t-month[_ngcontent-%COMP%]{block-size:2.75rem;inline-size:100%;line-height:2.75rem;padding-left:1rem;font-size:.875rem;font-weight:500;text-transform:uppercase;margin:0 0 1.25rem;box-sizing:border-box;border-bottom:.5px solid var(--tui-border-normal)}._ios[_nghost-%COMP%]   .t-month[_ngcontent-%COMP%]{block-size:3.125rem;margin:0;border-bottom:none;text-transform:none;font-size:1.375rem;line-height:3.125rem;letter-spacing:.02rem;font-weight:700}.t-calendar[_ngcontent-%COMP%]{margin:0 auto;transition:opacity .2s}.t-week[_ngcontent-%COMP%], .t-years[_ngcontent-%COMP%], .t-months[_ngcontent-%COMP%]{transition-property:opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;opacity:0}._initialized[_nghost-%COMP%]   .t-week[_ngcontent-%COMP%], ._initialized[_nghost-%COMP%]   .t-years[_ngcontent-%COMP%], ._initialized[_nghost-%COMP%]   .t-months[_ngcontent-%COMP%]{opacity:1}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiMobileCalendar;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ANDROID_CYCLE, ANDROID_LABEL, ANDROID_WEEK, BUFFER, IOS_CYCLE, IOS_LABEL, IOS_WEEK, RANGE, SCROLL_DEBOUNCE_TIME, STARTING_YEAR, TUI_MOBILE_CALENDAR_PROVIDERS, TUI_VALUE_STREAM, TuiMobileCalendar, TuiMobileCalendarStrategy, YEARLY_CYCLE, YEARS_IN_ROW };\n","import { TuiDayRange, TuiDay, TUI_FIRST_DAY, TUI_LAST_DAY, TuiMonth } from '@taiga-ui/cdk/date-time';\nimport { __decorate } from 'tslib';\nimport { AsyncPipe, NgForOf, NgIf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, EventEmitter, Component, ChangeDetectionStrategy, Input, Output } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { TUI_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { tuiWatch } from '@taiga-ui/cdk/observables';\nimport { TuiMapperPipe } from '@taiga-ui/cdk/pipes/mapper';\nimport { tuiIsString, tuiNullableSame, tuiPure } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { tuiCalendarSheetOptionsProvider, TuiCalendar } from '@taiga-ui/core/components/calendar';\nimport * as i1 from '@taiga-ui/core/components/data-list';\nimport { TuiDataList } from '@taiga-ui/core/components/data-list';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport { TUI_COMMON_ICONS } from '@taiga-ui/core/tokens';\nimport { TUI_OTHER_DATE_TEXT, TUI_CALENDAR_DATE_STREAM } from '@taiga-ui/kit/tokens';\nconst _c0 = (a0, a1, a2, a3) => [a0, a1, a2, a3, false];\nconst _c1 = (a0, a1, a2, a3) => [a0, a1, a2, a3, true];\nconst _c2 = (a0, a1, a2, a3, a4, a5) => [a0, a1, a2, a3, a4, a5];\nfunction TuiCalendarRange_tui_calendar_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-calendar\", 3);\n    i0.ɵɵpipe(1, \"tuiMapper\");\n    i0.ɵɵpipe(2, \"tuiMapper\");\n    i0.ɵɵpipe(3, \"tuiMapper\");\n    i0.ɵɵpipe(4, \"tuiMapper\");\n    i0.ɵɵtwoWayListener(\"hoveredItemChange\", function TuiCalendarRange_tui_calendar_4_Template_tui_calendar_hoveredItemChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.hoveredItem, $event) || (ctx_r2.hoveredItem = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵlistener(\"dayClick\", function TuiCalendarRange_tui_calendar_4_Template_tui_calendar_dayClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDayClick($event));\n    })(\"monthChange\", function TuiCalendarRange_tui_calendar_4_Template_tui_calendar_monthChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onMonthChange($event.append({\n        month: -1\n      })));\n    })(\"mousedown.prevent.zoneless\", function TuiCalendarRange_tui_calendar_4_Template_tui_calendar_mousedown_prevent_zoneless_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      return i0.ɵɵresetView(0);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabledItemHandler\", ctx_r2.calculatedDisabledItemHandler)(\"markerHandler\", ctx_r2.markerHandler)(\"max\", i0.ɵɵpipeBindV(1, 9, i0.ɵɵpureFunction4(29, _c0, ctx_r2.max, ctx_r2.capsMapper, ctx_r2.value, ctx_r2.maxLength)))(\"min\", i0.ɵɵpipeBindV(2, 15, i0.ɵɵpureFunction4(34, _c1, ctx_r2.min, ctx_r2.capsMapper, ctx_r2.value, ctx_r2.maxLength)))(\"minViewedMonth\", i0.ɵɵpipeBind3(3, 21, ctx_r2.defaultViewedMonth, ctx_r2.monthOffset, 1))(\"month\", i0.ɵɵpipeBind3(4, 25, ctx_r2.defaultViewedMonth, ctx_r2.monthOffset, 1))(\"showAdjacent\", false)(\"value\", ctx_r2.value);\n    i0.ɵɵtwoWayProperty(\"hoveredItem\", ctx_r2.hoveredItem);\n  }\n}\nfunction TuiCalendarRange_ng_template_5_button_1_tui_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-icon\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵstyleProp(\"font-size\", 1, \"rem\");\n    i0.ɵɵproperty(\"icon\", ctx_r2.icons.check);\n  }\n}\nfunction TuiCalendarRange_ng_template_5_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function TuiCalendarRange_ng_template_5_button_1_Template_button_click_0_listener() {\n      const item_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onItemSelect(item_r5));\n    })(\"mousedown.prevent.zoneless\", function TuiCalendarRange_ng_template_5_button_1_Template_button_mousedown_prevent_zoneless_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      return i0.ɵɵresetView(0);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, TuiCalendarRange_ng_template_5_button_1_tui_icon_2_Template, 1, 3, \"tui-icon\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"aria-checked\", ctx_r2.isItemActive(item_r5));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", item_r5, \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isItemActive(item_r5));\n  }\n}\nfunction TuiCalendarRange_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-data-list\", 4);\n    i0.ɵɵtemplate(1, TuiCalendarRange_ng_template_5_button_1_Template, 3, 3, \"button\", 5);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵpipe(3, \"tuiMapper\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"flex\", 1);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBindV(3, 5, i0.ɵɵpureFunction6(12, _c2, ctx_r2.items, ctx_r2.mapper, ctx_r2.min, ctx_r2.max, ctx_r2.minLength, i0.ɵɵpipeBind1(2, 3, ctx_r2.otherDateText$))));\n  }\n}\nconst calculateDisabledItemHandler = (disabledItemHandler, value, minLength) => item => {\n  if (!value || value instanceof TuiDayRange || !minLength) {\n    return disabledItemHandler(item);\n  }\n  const negativeMinLength = Object.fromEntries(Object.entries(minLength).map(([key, value]) => [key, -value]));\n  const disabledBefore = value.append(negativeMinLength).append({\n    day: 1\n  });\n  const disabledAfter = value.append(minLength).append({\n    day: -1\n  });\n  const inDisabledRange = disabledBefore.dayBefore(item) && disabledAfter.dayAfter(item);\n  return inDisabledRange || disabledItemHandler(item);\n};\nconst TUI_DAY_CAPS_MAPPER = (current, value, maxLength, backwards) => {\n  if (value instanceof TuiDay || !value?.isSingleDay || !maxLength) {\n    return backwards ? current || TUI_FIRST_DAY : current || TUI_LAST_DAY;\n  }\n  const negativeMaxLength = Object.fromEntries(Object.entries(maxLength).map(([key, value]) => [key, -value]));\n  const dateShift = value.from.append(backwards ? negativeMaxLength : maxLength).append({\n    day: !backwards ? -1 : 1\n  });\n  if (backwards) {\n    return dateShift.dayBefore(current || TUI_FIRST_DAY) ? current || TUI_FIRST_DAY : dateShift;\n  }\n  if (!current) {\n    return dateShift;\n  }\n  return dateShift.dayAfter(current) ? current : dateShift;\n};\nlet TuiCalendarRange = /*#__PURE__*/(() => {\n  class TuiCalendarRange {\n    constructor() {\n      /**\n       * @deprecated use `item`\n       */\n      this.selectedPeriod = null;\n      this.value = null;\n      this.previousValue = null;\n      this.hoveredItem = null;\n      this.month = TuiMonth.currentLocal();\n      this.otherDateText$ = inject(TUI_OTHER_DATE_TEXT);\n      this.icons = inject(TUI_COMMON_ICONS);\n      this.capsMapper = TUI_DAY_CAPS_MAPPER;\n      this.disabledItemHandler = TUI_FALSE_HANDLER;\n      this.markerHandler = null;\n      this.items = [];\n      this.min = TUI_FIRST_DAY;\n      this.max = TUI_LAST_DAY;\n      this.minLength = null;\n      this.maxLength = null;\n      this.item = null;\n      this.valueChange = new EventEmitter();\n      this.itemChange = new EventEmitter();\n      this.monthOffset = (value, month) => value.append({\n        month\n      });\n      this.mapper = (items, min, max, minLength, otherDateText) => [...items.filter(item => (minLength === null || item.range.from.append(minLength).append({\n        day: -1\n      }).daySameOrBefore(item.range.to)) && (min === null || item.range.to.daySameOrAfter(min)) && (max === null || item.range.from.daySameOrBefore(max))), otherDateText || ''];\n      inject(TUI_CALENDAR_DATE_STREAM, {\n        optional: true\n      })?.pipe(tuiWatch(), takeUntilDestroyed()).subscribe(value => {\n        this.value = value;\n        this.initDefaultViewedMonth();\n      });\n    }\n    set valueSetter(value) {\n      this.value = value;\n    }\n    set defaultViewedMonth(month) {\n      if (!this.value) {\n        this.month = month;\n      }\n    }\n    get defaultViewedMonth() {\n      return this.month;\n    }\n    /**\n     * @deprecated use `item`\n     */\n    get selectedActivePeriod() {\n      return this.selectedPeriod;\n    }\n    /**\n     * @deprecated use `item`\n     */\n    set selectedActivePeriod(period) {\n      this.selectedPeriod = period;\n    }\n    ngOnChanges() {\n      if (!this.value) {\n        this.initDefaultViewedMonth();\n      }\n    }\n    ngOnInit() {\n      this.initDefaultViewedMonth();\n    }\n    get calculatedDisabledItemHandler() {\n      return this.calculateDisabledItemHandler(this.disabledItemHandler, this.value, this.minLength);\n    }\n    onEsc(event) {\n      if (event.key !== 'Escape' || !(this.value instanceof TuiDay)) {\n        return;\n      }\n      event.stopPropagation();\n      this.value = this.previousValue;\n    }\n    isItemActive(item) {\n      const {\n        activePeriod\n      } = this;\n      return tuiIsString(item) && activePeriod === null || activePeriod === item || activePeriod?.toString() === item.toString();\n    }\n    onItemSelect(item) {\n      if (!tuiIsString(item)) {\n        this.selectedActivePeriod = item;\n        this.updateValue(item.range.dayLimit(this.min, this.max));\n        this.itemChange.emit(item);\n      } else if (this.activePeriod !== null) {\n        this.selectedActivePeriod = null;\n        this.updateValue(null);\n        this.itemChange.emit(null);\n      }\n      this.initDefaultViewedMonth();\n    }\n    onMonthChange(month) {\n      this.month = month;\n    }\n    onDayClick(day) {\n      this.previousValue = this.value;\n      this.selectedActivePeriod = null;\n      if (this.value instanceof TuiDay) {\n        const range = TuiDayRange.sort(this.value, day);\n        this.value = range;\n        this.updateValue(range);\n        this.itemChange.emit(this.findItemByDayRange(range));\n      } else {\n        this.value = day;\n      }\n    }\n    updateValue(value) {\n      this.value = value;\n      this.valueChange.emit(value);\n    }\n    get activePeriod() {\n      return this.item ?? this.selectedActivePeriod ?? (this.items.find(item => tuiNullableSame(this.value instanceof TuiDay ? new TuiDayRange(this.value, this.value) : this.value, item.range, (a, b) => a.from.daySame(b.from.dayLimit(this.min, this.max)) && a.to.daySame(b.to.dayLimit(this.min, this.max)))) || null);\n    }\n    calculateDisabledItemHandler(disabledItemHandler, value, minLength) {\n      return calculateDisabledItemHandler(disabledItemHandler, value, minLength);\n    }\n    initDefaultViewedMonth() {\n      if (this.value instanceof TuiDay) {\n        this.month = this.value;\n      } else if (this.value) {\n        this.month = this.items.length ? this.value.to : this.value.from;\n      } else if (this.max && this.month.monthSameOrAfter(this.max)) {\n        this.month = this.items.length ? this.max : this.max.append({\n          month: -1\n        });\n      } else if (this.min && this.month.monthSameOrBefore(this.min)) {\n        this.month = this.min;\n      }\n    }\n    findItemByDayRange(dayRange) {\n      return this.items.find(item => dayRange.daySame(item.range)) ?? null;\n    }\n    static {\n      this.ɵfac = function TuiCalendarRange_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiCalendarRange)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiCalendarRange,\n        selectors: [[\"tui-calendar-range\"]],\n        hostBindings: function TuiCalendarRange_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"keydown.capture\", function TuiCalendarRange_keydown_capture_HostBindingHandler($event) {\n              return ctx.onEsc($event);\n            }, false, i0.ɵɵresolveDocument);\n          }\n        },\n        inputs: {\n          disabledItemHandler: \"disabledItemHandler\",\n          markerHandler: \"markerHandler\",\n          items: \"items\",\n          min: \"min\",\n          max: \"max\",\n          minLength: \"minLength\",\n          maxLength: \"maxLength\",\n          item: \"item\",\n          valueSetter: [0, \"value\", \"valueSetter\"],\n          defaultViewedMonth: \"defaultViewedMonth\"\n        },\n        outputs: {\n          valueChange: \"valueChange\",\n          itemChange: \"itemChange\"\n        },\n        features: [i0.ɵɵProvidersFeature([tuiCalendarSheetOptionsProvider({\n          rangeMode: true\n        })]), i0.ɵɵNgOnChangesFeature],\n        decls: 7,\n        vars: 37,\n        consts: [[\"presets\", \"\"], [\"automation-id\", \"tui-calendar-range__calendar\", 1, \"t-calendar\", 3, \"hoveredItemChange\", \"dayClick\", \"monthChange\", \"mousedown.prevent.zoneless\", \"disabledItemHandler\", \"markerHandler\", \"max\", \"maxViewedMonth\", \"min\", \"month\", \"showAdjacent\", \"value\", \"hoveredItem\"], [3, \"disabledItemHandler\", \"markerHandler\", \"max\", \"min\", \"minViewedMonth\", \"month\", \"showAdjacent\", \"value\", \"hoveredItem\", \"hoveredItemChange\", \"dayClick\", \"monthChange\", \"mousedown.prevent.zoneless\", 4, \"ngIf\", \"ngIfElse\"], [3, \"hoveredItemChange\", \"dayClick\", \"monthChange\", \"mousedown.prevent.zoneless\", \"disabledItemHandler\", \"markerHandler\", \"max\", \"min\", \"minViewedMonth\", \"month\", \"showAdjacent\", \"value\", \"hoveredItem\"], [\"automation-id\", \"tui-calendar-range__menu\", \"role\", \"menu\"], [\"automation-id\", \"tui-calendar-range__menu__item\", \"role\", \"menuitemradio\", \"tuiOption\", \"\", \"type\", \"button\", 3, \"click\", \"mousedown.prevent.zoneless\", 4, \"ngFor\", \"ngForOf\"], [\"automation-id\", \"tui-calendar-range__menu__item\", \"role\", \"menuitemradio\", \"tuiOption\", \"\", \"type\", \"button\", 3, \"click\", \"mousedown.prevent.zoneless\"], [\"automation-id\", \"tui-calendar-range__checkmark\", 3, \"icon\", \"font-size\", 4, \"ngIf\"], [\"automation-id\", \"tui-calendar-range__checkmark\", 3, \"icon\"]],\n        template: function TuiCalendarRange_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"tui-calendar\", 1);\n            i0.ɵɵpipe(1, \"tuiMapper\");\n            i0.ɵɵpipe(2, \"tuiMapper\");\n            i0.ɵɵpipe(3, \"tuiMapper\");\n            i0.ɵɵtwoWayListener(\"hoveredItemChange\", function TuiCalendarRange_Template_tui_calendar_hoveredItemChange_0_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.hoveredItem, $event) || (ctx.hoveredItem = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"dayClick\", function TuiCalendarRange_Template_tui_calendar_dayClick_0_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onDayClick($event));\n            })(\"monthChange\", function TuiCalendarRange_Template_tui_calendar_monthChange_0_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onMonthChange($event));\n            })(\"mousedown.prevent.zoneless\", function TuiCalendarRange_Template_tui_calendar_mousedown_prevent_zoneless_0_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(0);\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(4, TuiCalendarRange_tui_calendar_4_Template, 5, 39, \"tui-calendar\", 2)(5, TuiCalendarRange_ng_template_5_Template, 4, 19, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          }\n          if (rf & 2) {\n            const presets_r6 = i0.ɵɵreference(6);\n            i0.ɵɵproperty(\"disabledItemHandler\", ctx.calculatedDisabledItemHandler)(\"markerHandler\", ctx.markerHandler)(\"max\", i0.ɵɵpipeBindV(1, 11, i0.ɵɵpureFunction4(27, _c0, ctx.max, ctx.capsMapper, ctx.value, ctx.maxLength)))(\"maxViewedMonth\", ctx.items.length ? null : i0.ɵɵpipeBind3(2, 17, ctx.defaultViewedMonth, ctx.monthOffset, -1))(\"min\", i0.ɵɵpipeBindV(3, 21, i0.ɵɵpureFunction4(32, _c1, ctx.min, ctx.capsMapper, ctx.value, ctx.maxLength)))(\"month\", ctx.defaultViewedMonth)(\"showAdjacent\", !!ctx.items.length)(\"value\", ctx.value);\n            i0.ɵɵtwoWayProperty(\"hoveredItem\", ctx.hoveredItem);\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"ngIf\", !ctx.items.length)(\"ngIfElse\", presets_r6);\n          }\n        },\n        dependencies: [AsyncPipe, NgForOf, NgIf, TuiCalendar, i1.TuiDataListComponent, i1.TuiOption, TuiIcon, TuiMapperPipe],\n        styles: [\"[_nghost-%COMP%]{display:flex;min-inline-size:30rem}.t-calendar[_ngcontent-%COMP%]{border-inline-end:1px solid var(--tui-border-normal)}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  __decorate([tuiPure], TuiCalendarRange.prototype, \"calculateDisabledItemHandler\", null);\n  return TuiCalendarRange;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass TuiDayRangePeriod {\n  constructor(range, name, content) {\n    this.range = range;\n    this.name = name;\n    this.content = content;\n  }\n  toString() {\n    return this.name;\n  }\n}\nfunction tuiCreateDefaultDayRangePeriods(periodTitles = ['For all the time', 'Today', 'Yesterday', 'Current week', 'Current month', 'Previous month']) {\n  const today = TuiDay.currentLocal();\n  const yesterday = today.append({\n    day: -1\n  });\n  const startOfWeek = today.append({\n    day: -today.dayOfWeek()\n  });\n  const endOfWeek = startOfWeek.append({\n    day: 6\n  });\n  const startOfMonth = today.append({\n    day: 1 - today.day\n  });\n  const endOfMonth = startOfMonth.append({\n    month: 1,\n    day: -1\n  });\n  const startOfLastMonth = startOfMonth.append({\n    month: -1\n  });\n  return [new TuiDayRangePeriod(new TuiDayRange(TUI_FIRST_DAY, today), periodTitles[0]), new TuiDayRangePeriod(new TuiDayRange(today, today), periodTitles[1]), new TuiDayRangePeriod(new TuiDayRange(yesterday, yesterday), periodTitles[2]), new TuiDayRangePeriod(new TuiDayRange(startOfWeek, endOfWeek), periodTitles[3]), new TuiDayRangePeriod(new TuiDayRange(startOfMonth, endOfMonth), periodTitles[4]), new TuiDayRangePeriod(new TuiDayRange(startOfLastMonth, startOfMonth.append({\n    day: -1\n  })), periodTitles[5])];\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_DAY_CAPS_MAPPER, TuiCalendarRange, TuiDayRangePeriod, calculateDisabledItemHandler, tuiCreateDefaultDayRangePeriods };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { inject, Component, ChangeDetectionStrategy } from '@angular/core';\nimport { TuiMobileCalendar } from '@taiga-ui/addon-mobile/components/mobile-calendar';\nimport { TuiKeyboardService } from '@taiga-ui/addon-mobile/services';\nimport { TuiControl } from '@taiga-ui/cdk/classes';\nimport { TUI_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { TUI_LAST_DAY, TUI_FIRST_DAY, TuiDayRange, TuiDay } from '@taiga-ui/cdk/date-time';\nimport * as i1 from '@taiga-ui/cdk/directives/active-zone';\nimport { TuiActiveZone } from '@taiga-ui/cdk/directives/active-zone';\nimport { tuiPure } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { tuiSlideInTop, tuiFadeIn } from '@taiga-ui/core/animations';\nimport { TuiDropdownDirective } from '@taiga-ui/core/directives/dropdown';\nimport { TUI_ANIMATIONS_SPEED } from '@taiga-ui/core/tokens';\nimport { tuiGetDuration } from '@taiga-ui/core/utils/miscellaneous';\nimport { TUI_DAY_CAPS_MAPPER, calculateDisabledItemHandler } from '@taiga-ui/kit/components/calendar-range';\nimport { TUI_MOBILE_CALENDAR } from '@taiga-ui/kit/tokens';\nimport { injectContext } from '@taiga-ui/polymorpheus';\nlet TuiMobileCalendarDropdown = /*#__PURE__*/(() => {\n  class TuiMobileCalendarDropdown {\n    constructor() {\n      // TODO: Rework to use TuiDropdownOpenDirective so the focus returns to the field on closing\n      this.dropdown = inject(TuiDropdownDirective, {\n        optional: true\n      });\n      this.keyboard = inject(TuiKeyboardService);\n      this.context = injectContext({\n        optional: true\n      });\n      this.observer = this.context?.$implicit;\n      this.data = this.context?.data || {};\n      this.selectedPeriod = null;\n      this.animation = {\n        value: '',\n        params: {\n          start: '100vh',\n          duration: tuiGetDuration(inject(TUI_ANIMATIONS_SPEED))\n        }\n      };\n      // TODO: Refactor to proper Date, DateMulti and DateRange components after they are added to kit\n      this.control = inject(TuiControl, {\n        optional: true\n      });\n      this.range = this.is('tui-input-date-range');\n      this.multi = this.data.multi || this.is('tui-input-date[multiple]');\n      this.single = this.data.single ||\n      // TODO(v5): use `rangeMode` from DI token `TUI_CALENDAR_SHEET_DEFAULT_OPTIONS`\n      this.is('tui-input-date:not([multiple])');\n      this.keyboard.hide();\n    }\n    max() {\n      return this.data.max || (this.range ? TUI_DAY_CAPS_MAPPER(this.control.max, this.selectedPeriod, this.control.maxLength, false) : this.control?.max) || TUI_LAST_DAY;\n    }\n    min() {\n      return this.data.min || (this.range ? TUI_DAY_CAPS_MAPPER(this.control.min, this.selectedPeriod, this.control.maxLength, true) : this.control?.min) || TUI_FIRST_DAY;\n    }\n    onValueChange(value) {\n      if (!this.range) {\n        return;\n      }\n      if (value === null || value instanceof TuiDayRange) {\n        this.selectedPeriod = value;\n      } else if (value instanceof TuiDay) {\n        this.selectedPeriod = new TuiDayRange(value, value);\n      }\n    }\n    get calculatedDisabledItemHandler() {\n      return this.calculateDisabledItemHandler(this.data.disabledItemHandler || this.control?.disabledItemHandler || TUI_FALSE_HANDLER, this.selectedPeriod, this.control?.minLength ?? null);\n    }\n    close() {\n      this.dropdown?.toggle(false);\n      this.observer?.complete();\n      this.keyboard.show();\n    }\n    confirm(value) {\n      const normalizedValue = this.range ? this.selectedPeriod : value;\n      if (this.control) {\n        this.control.value = normalizedValue;\n      }\n      this.observer?.next(normalizedValue);\n      this.close();\n    }\n    calculateDisabledItemHandler(disabledItemHandler, value, minLength) {\n      return calculateDisabledItemHandler(disabledItemHandler, value, minLength);\n    }\n    is(selector) {\n      return !!this.dropdown?.el.closest(selector);\n    }\n    static {\n      this.ɵfac = function TuiMobileCalendarDropdown_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiMobileCalendarDropdown)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiMobileCalendarDropdown,\n        selectors: [[\"tui-mobile-calendar-dropdown\"]],\n        hostVars: 2,\n        hostBindings: function TuiMobileCalendarDropdown_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵsyntheticHostProperty(\"@tuiSlideInTop\", ctx.animation)(\"@tuiFadeIn\", ctx.animation);\n          }\n        },\n        features: [i0.ɵɵHostDirectivesFeature([i1.TuiActiveZone])],\n        decls: 1,\n        vars: 5,\n        consts: [[3, \"cancel\", \"confirm\", \"valueChange\", \"disabledItemHandler\", \"max\", \"min\", \"multi\", \"single\"]],\n        template: function TuiMobileCalendarDropdown_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"tui-mobile-calendar\", 0);\n            i0.ɵɵlistener(\"cancel\", function TuiMobileCalendarDropdown_Template_tui_mobile_calendar_cancel_0_listener() {\n              return ctx.close();\n            })(\"confirm\", function TuiMobileCalendarDropdown_Template_tui_mobile_calendar_confirm_0_listener($event) {\n              return ctx.confirm($event);\n            })(\"valueChange\", function TuiMobileCalendarDropdown_Template_tui_mobile_calendar_valueChange_0_listener($event) {\n              return ctx.onValueChange($event);\n            });\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"disabledItemHandler\", ctx.calculatedDisabledItemHandler)(\"max\", ctx.max())(\"min\", ctx.min())(\"multi\", ctx.multi)(\"single\", ctx.single);\n          }\n        },\n        dependencies: [TuiMobileCalendar],\n        styles: [\"[_nghost-%COMP%]{position:fixed;top:0;left:0;inline-size:100%;block-size:100%;background:var(--tui-background-elevation-1);box-shadow:0 10rem var(--tui-background-elevation-1),0 -90vh 1rem 2rem var(--tui-service-backdrop)}\"],\n        data: {\n          animation: [tuiSlideInTop, tuiFadeIn]\n        },\n        changeDetection: 0\n      });\n    }\n  }\n  __decorate([tuiPure], TuiMobileCalendarDropdown.prototype, \"calculateDisabledItemHandler\", null);\n  return TuiMobileCalendarDropdown;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction tuiProvideMobileCalendar() {\n  return {\n    provide: TUI_MOBILE_CALENDAR,\n    useValue: TuiMobileCalendarDropdown\n  };\n}\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiMobileCalendarDropdown, tuiProvideMobileCalendar };\n","import { NgIf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, Component, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { TUI_IS_IOS } from '@taiga-ui/cdk/tokens';\nimport { tuiIsSafari } from '@taiga-ui/cdk/utils/browser';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { tuiSizeBigger } from '@taiga-ui/core/utils/miscellaneous';\nimport { PolymorpheusOutlet, PolymorpheusTemplate } from '@taiga-ui/polymorpheus';\nimport { tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk/utils/miscellaneous';\n\n/** Default values for the loader options. */\nconst _c0 = [\"*\"];\nfunction TuiLoader_div_2_div_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiLoader_div_2_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, TuiLoader_div_2_div_3_ng_container_1_Template, 2, 1, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"t-text_horizontal\", ctx_r1.isHorizontal);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.textContent);\n  }\n}\nfunction TuiLoader_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 3);\n    i0.ɵɵelement(2, \"circle\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TuiLoader_div_2_div_3_Template, 2, 3, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-loader_horizontal\", ctx_r1.isHorizontal)(\"t-loader_inherit-color\", ctx_r1.inheritColor);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.textContent);\n  }\n}\nconst TUI_LOADER_DEFAULT_OPTIONS = {\n  size: 'm',\n  inheritColor: false,\n  overlay: false\n};\n/**\n * Default parameters for loader component\n */\nconst TUI_LOADER_OPTIONS = tuiCreateToken(TUI_LOADER_DEFAULT_OPTIONS);\nfunction tuiLoaderOptionsProvider(options) {\n  return tuiProvideOptions(TUI_LOADER_OPTIONS, options, TUI_LOADER_DEFAULT_OPTIONS);\n}\nlet TuiLoader = /*#__PURE__*/(() => {\n  class TuiLoader {\n    constructor() {\n      this.isIOS = inject(TUI_IS_IOS);\n      this.options = inject(TUI_LOADER_OPTIONS);\n      this.isApple = tuiIsSafari(tuiInjectElement()) || this.isIOS;\n      this.size = this.options.size;\n      this.inheritColor = this.options.inheritColor;\n      this.overlay = this.options.overlay;\n      // TODO: Drop alias in v5\n      this.loading = true;\n    }\n    get isHorizontal() {\n      return !tuiSizeBigger(this.size);\n    }\n    static {\n      this.ɵfac = function TuiLoader_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiLoader)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiLoader,\n        selectors: [[\"tui-loader\"]],\n        hostVars: 3,\n        hostBindings: function TuiLoader_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵattribute(\"data-size\", ctx.size);\n            i0.ɵɵclassProp(\"_loading\", ctx.loading);\n          }\n        },\n        inputs: {\n          size: \"size\",\n          inheritColor: \"inheritColor\",\n          overlay: \"overlay\",\n          textContent: \"textContent\",\n          loading: [0, \"showLoader\", \"loading\"]\n        },\n        ngContentSelectors: _c0,\n        decls: 3,\n        vars: 7,\n        consts: [[1, \"t-content\", 3, \"disabled\"], [\"class\", \"t-loader\", 3, \"t-loader_horizontal\", \"t-loader_inherit-color\", 4, \"ngIf\"], [1, \"t-loader\"], [\"automation-id\", \"tui-loader__loader\", \"focusable\", \"false\", \"height\", \"100%\", \"width\", \"100%\", 1, \"t-icon\"], [\"cx\", \"50%\", \"cy\", \"50%\", 1, \"t-circle\"], [\"automation-id\", \"tui-loader__text\", \"class\", \"t-text\", 3, \"t-text_horizontal\", 4, \"ngIf\"], [\"automation-id\", \"tui-loader__text\", 1, \"t-text\"], [4, \"polymorpheusOutlet\"]],\n        template: function TuiLoader_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵprojectionDef();\n            i0.ɵɵelementStart(0, \"fieldset\", 0);\n            i0.ɵɵprojection(1);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(2, TuiLoader_div_2_Template, 4, 5, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵclassProp(\"t-content_has-overlay\", ctx.overlay && ctx.loading)(\"t-content_loading\", ctx.loading);\n            i0.ɵɵproperty(\"disabled\", ctx.loading && !ctx.isApple);\n            i0.ɵɵattribute(\"inert\", ctx.loading || null);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          }\n        },\n        dependencies: [NgIf, PolymorpheusOutlet],\n        styles: [\"[_nghost-%COMP%]{position:relative;display:flex;min-inline-size:1.5rem;--tui-thickness: calc(var(--t-diameter) / 12)}._loading[_nghost-%COMP%]{overflow:hidden}[data-size=xs][_nghost-%COMP%]{--t-diameter: .75em}[data-size=s][_nghost-%COMP%]{--t-diameter: 1em}[data-size=m][_nghost-%COMP%]{--t-diameter: 1.5em}[data-size=l][_nghost-%COMP%]{--t-diameter: 2.5em}[data-size=xl][_nghost-%COMP%]{--t-diameter: 3.5em}[data-size=xxl][_nghost-%COMP%]{--t-diameter: 5em}.t-content[_ngcontent-%COMP%]{z-index:0;min-inline-size:100%;block-size:100%;padding:0;margin:0;border:none}.t-content_has-overlay[_ngcontent-%COMP%]{opacity:.3}.t-content_loading[_ngcontent-%COMP%]{pointer-events:none}.t-loader[_ngcontent-%COMP%]{position:relative;left:-100%;display:flex;flex-direction:column;align-items:center;justify-content:center;min-inline-size:100%;min-block-size:var(--t-diameter);flex-shrink:0;align-self:center;color:var(--tui-text-primary);stroke:var(--tui-background-accent-1);animation:tuiFadeIn var(--tui-duration);font-size:1rem}.t-loader.t-loader_horizontal[_ngcontent-%COMP%]{flex-direction:row}.t-loader.t-loader_inherit-color[_ngcontent-%COMP%]{color:inherit;stroke:currentColor}.t-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font:var(--tui-font-text-s);margin-top:1rem;color:inherit;max-inline-size:100%;text-align:center;stroke-width:0}.t-text_horizontal[_ngcontent-%COMP%]{margin:0 0 0 1rem}@keyframes _ngcontent-%COMP%_tuiLoaderRotate{0%{transform:rotate(-90deg)}50%{transform:rotate(-90deg) rotate(1turn)}to{transform:rotate(-90deg) rotate(3turn)}}.t-icon[_ngcontent-%COMP%]{display:block;inline-size:var(--t-diameter);block-size:var(--t-diameter);margin:.25rem calc(var(--t-diameter) / -2);border-radius:100%;overflow:hidden;animation:_ngcontent-%COMP%_tuiLoaderRotate 4s linear infinite}@supports (-webkit-hyphens: none){.t-icon[_ngcontent-%COMP%]{overflow:visible}}@keyframes _ngcontent-%COMP%_tuiLoaderDashOffset{0%{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}50%{stroke-dashoffset:calc(.05 * calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness))))}to{stroke-dashoffset:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)))}}.t-circle[_ngcontent-%COMP%]{r:calc(var(--t-diameter) / 2 - var(--tui-thickness));stroke-dasharray:calc(2 * 3.14159265 * calc(var(--t-diameter) / 2 - var(--tui-thickness)));fill:none;stroke:inherit;stroke-width:max(var(--tui-thickness),1.5px);animation:_ngcontent-%COMP%_tuiLoaderDashOffset 4s linear infinite}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiLoader;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_LOADER_DEFAULT_OPTIONS, TUI_LOADER_OPTIONS, TuiLoader, tuiLoaderOptionsProvider };\n","import { NgIf, NgTemplateOutlet } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Directive, inject, ChangeDetectorRef, DestroyRef, TemplateRef, Component, ChangeDetectionStrategy, ViewChild, ContentChild, Input } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { tuiParentAnimation } from '@taiga-ui/core/animations';\nimport { TuiLoader } from '@taiga-ui/core/components/loader';\nimport { timer } from 'rxjs';\nconst _c0 = [\"wrapper\"];\nconst _c1 = [\"*\"];\nfunction TuiExpandComponent_ng_container_2_tui_loader_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tui-loader\", 4);\n    i0.ɵɵelementContainer(1, 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"overlay\", true)(\"showLoader\", ctx_r0.loading);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r0.content);\n  }\n}\nfunction TuiExpandComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵprojection(1);\n    i0.ɵɵtemplate(2, TuiExpandComponent_ng_container_2_tui_loader_2_Template, 2, 3, \"tui-loader\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.async)(\"ngIfElse\", ctx_r0.content);\n  }\n}\nlet TuiExpandContent = /*#__PURE__*/(() => {\n  class TuiExpandContent {\n    static {\n      this.ɵfac = function TuiExpandContent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiExpandContent)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiExpandContent,\n        selectors: [[\"\", \"tuiExpandContent\", \"\"]]\n      });\n    }\n  }\n  return TuiExpandContent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst State = {\n  Idle: 0,\n  Loading: 1,\n  Prepared: 2,\n  Animated: 3\n};\nconst LOADER_HEIGHT = 48;\n/**\n * An event indicating that async data for expand has finished loading.\n * Dispatch to finish loading states for {@link TuiExpandComponent}.\n */\nconst TUI_EXPAND_LOADED = 'tui-expand-loaded';\nlet TuiExpandComponent = /*#__PURE__*/(() => {\n  class TuiExpandComponent {\n    constructor() {\n      this.cdr = inject(ChangeDetectorRef);\n      this.destroyRef = inject(DestroyRef);\n      this.state = State.Idle;\n      this.content = null;\n      this.expanded = null;\n      this.async = false;\n    }\n    set expandedSetter(expanded) {\n      if (this.expanded === null) {\n        this.expanded = expanded;\n        return;\n      }\n      if (this.state !== State.Idle) {\n        this.expanded = expanded;\n        this.state = State.Animated;\n        return;\n      }\n      this.expanded = expanded;\n      this.retrigger(this.async && expanded ? State.Loading : State.Animated);\n    }\n    get contentVisible() {\n      return this.expanded || this.state !== State.Idle;\n    }\n    get overflow() {\n      return this.state !== State.Idle;\n    }\n    get loading() {\n      return !!this.expanded && this.async && this.state === State.Loading;\n    }\n    get height() {\n      const {\n        expanded,\n        state,\n        contentWrapper\n      } = this;\n      if (expanded && state === State.Prepared || !expanded && state === State.Animated) {\n        return 0;\n      }\n      if (contentWrapper && (!expanded && state === State.Prepared || expanded && state === State.Animated)) {\n        return contentWrapper.nativeElement.offsetHeight;\n      }\n      if (contentWrapper && expanded && state === State.Loading) {\n        return Math.max(contentWrapper.nativeElement.offsetHeight, LOADER_HEIGHT);\n      }\n      return null;\n    }\n    onTransitionEnd({\n      propertyName,\n      pseudoElement\n    }) {\n      if (propertyName === 'opacity' && !pseudoElement && this.state === State.Animated) {\n        this.state = State.Idle;\n      }\n    }\n    onExpandLoaded(event) {\n      event.stopPropagation();\n      if (this.state === State.Loading) {\n        this.retrigger(State.Animated);\n      }\n    }\n    retrigger(state) {\n      this.state = State.Prepared;\n      timer(0).pipe(takeUntilDestroyed(this.destroyRef)).subscribe(() => {\n        // We need delay to re-trigger CSS height transition from the correct number\n        if (this.state !== State.Prepared) {\n          return;\n        }\n        this.state = state;\n        this.cdr.markForCheck();\n      });\n    }\n    static {\n      this.ɵfac = function TuiExpandComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiExpandComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiExpandComponent,\n        selectors: [[\"tui-expand\"]],\n        contentQueries: function TuiExpandComponent_ContentQueries(rf, ctx, dirIndex) {\n          if (rf & 1) {\n            i0.ɵɵcontentQuery(dirIndex, TuiExpandContent, 5, TemplateRef);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n          }\n        },\n        viewQuery: function TuiExpandComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.contentWrapper = _t.first);\n          }\n        },\n        hostVars: 9,\n        hostBindings: function TuiExpandComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"transitionend.self\", function TuiExpandComponent_transitionend_self_HostBindingHandler($event) {\n              return ctx.onTransitionEnd($event);\n            })(\"tui-expand-loaded\", function TuiExpandComponent_tui_expand_loaded_HostBindingHandler($event) {\n              return ctx.onExpandLoaded($event);\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵattribute(\"aria-expanded\", ctx.expanded);\n            i0.ɵɵstyleProp(\"height\", ctx.height, \"px\");\n            i0.ɵɵclassProp(\"_loading\", ctx.loading)(\"_overflow\", ctx.overflow)(\"_expanded\", ctx.expanded);\n          }\n        },\n        inputs: {\n          async: \"async\",\n          expandedSetter: [0, \"expanded\", \"expandedSetter\"]\n        },\n        ngContentSelectors: _c1,\n        decls: 3,\n        vars: 3,\n        consts: [[\"wrapper\", \"\"], [1, \"t-wrapper\"], [4, \"ngIf\"], [\"size\", \"l\", 3, \"overlay\", \"showLoader\", 4, \"ngIf\", \"ngIfElse\"], [\"size\", \"l\", 3, \"overlay\", \"showLoader\"], [3, \"ngTemplateOutlet\"]],\n        template: function TuiExpandComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵprojectionDef();\n            i0.ɵɵelementStart(0, \"div\", 1, 0);\n            i0.ɵɵtemplate(2, TuiExpandComponent_ng_container_2_Template, 3, 2, \"ng-container\", 2);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"@tuiParentAnimation\", undefined)(\"@.disabled\", ctx.overflow);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.contentVisible);\n          }\n        },\n        dependencies: [NgIf, NgTemplateOutlet, TuiLoader],\n        styles: [\"[_nghost-%COMP%]{transition-property:opacity,height,visibility;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:block;opacity:0;transition-delay:1ms}._overflow[_nghost-%COMP%]{overflow:hidden}._expanded[_nghost-%COMP%]{opacity:1}._loading[_nghost-%COMP%]{opacity:.99}.t-wrapper[_ngcontent-%COMP%]:before, .t-wrapper[_ngcontent-%COMP%]:after{content:\\\"\\\";display:table}\"],\n        data: {\n          animation: [tuiParentAnimation]\n        },\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiExpandComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TuiExpand = [TuiExpandComponent, TuiExpandContent];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_EXPAND_LOADED, TuiExpand, TuiExpandComponent, TuiExpandContent };\n","import * as i0 from '@angular/core';\nimport { Directive, inject, ChangeDetectorRef, EventEmitter, Component, ChangeDetectionStrategy, ContentChild, Input, Output, DestroyRef, ContentChildren } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { EMPTY_QUERY } from '@taiga-ui/cdk/constants';\nimport { tuiQueryListChanges } from '@taiga-ui/cdk/observables';\nimport { tuiIsPresent } from '@taiga-ui/cdk/utils/miscellaneous';\nimport * as i1$1 from '@taiga-ui/core/directives/group';\nimport { TuiGroup } from '@taiga-ui/core/directives/group';\nimport { pairwise, map, filter, merge, switchMap, identity } from 'rxjs';\nimport { NgIf } from '@angular/common';\nimport * as i1 from '@taiga-ui/core/components/expand';\nimport { TuiExpand } from '@taiga-ui/core/components/expand';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport { TuiChevron } from '@taiga-ui/kit/directives';\nimport { PolymorpheusTemplate, PolymorpheusOutlet } from '@taiga-ui/polymorpheus';\nconst _c0 = [\"*\", [[\"\", \"tuiAccordionItemContent\", \"\", 5, \"ng-template\"]]];\nconst _c1 = [\"*\", \"[tuiAccordionItemContent]:not(ng-template)\"];\nfunction TuiAccordionItem_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"tui-icon\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"tuiChevron\", ctx_r0.open);\n  }\n}\nfunction TuiAccordionItem_ng_template_6_div_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r2 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r2, \" \");\n  }\n}\nfunction TuiAccordionItem_ng_template_6_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtemplate(1, TuiAccordionItem_ng_template_6_div_0_ng_container_1_Template, 2, 1, \"ng-container\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r0.lazyContent);\n  }\n}\nfunction TuiAccordionItem_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiAccordionItem_ng_template_6_div_0_Template, 2, 1, \"div\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.lazyContent);\n  }\n}\nfunction TuiAccordionItem_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵprojection(1, 1);\n    i0.ɵɵelementEnd();\n  }\n}\nlet TuiAccordionItemContent = /*#__PURE__*/(() => {\n  class TuiAccordionItemContent extends PolymorpheusTemplate {\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵTuiAccordionItemContent_BaseFactory;\n        return function TuiAccordionItemContent_Factory(__ngFactoryType__) {\n          return (ɵTuiAccordionItemContent_BaseFactory || (ɵTuiAccordionItemContent_BaseFactory = i0.ɵɵgetInheritedFactory(TuiAccordionItemContent)))(__ngFactoryType__ || TuiAccordionItemContent);\n        };\n      })();\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiAccordionItemContent,\n        selectors: [[\"ng-template\", \"tuiAccordionItemContent\", \"\"]],\n        features: [i0.ɵɵInheritDefinitionFeature]\n      });\n    }\n  }\n  return TuiAccordionItemContent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAccordionItemEagerContent = /*#__PURE__*/(() => {\n  class TuiAccordionItemEagerContent {\n    static {\n      this.ɵfac = function TuiAccordionItemEagerContent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiAccordionItemEagerContent)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiAccordionItemEagerContent,\n        selectors: [[\"\", \"tuiAccordionItemContent\", \"\", 5, \"ng-template\"]]\n      });\n    }\n  }\n  return TuiAccordionItemEagerContent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAccordionItem = /*#__PURE__*/(() => {\n  class TuiAccordionItem {\n    constructor() {\n      this.cdr = inject(ChangeDetectorRef);\n      this.noPadding = false;\n      this.showArrow = true;\n      this.borders = 'all';\n      this.size = 'm';\n      this.disabled = false;\n      this.disableHover = false;\n      this.open = false;\n      this.async = false;\n      this.openChange = new EventEmitter();\n    }\n    close() {\n      this.updateOpen(false);\n      this.cdr.markForCheck();\n    }\n    onRowToggle() {\n      if (!this.disabled) {\n        this.updateOpen(!this.open);\n      }\n    }\n    onItemKeyDownEsc(event) {\n      if (!this.open) {\n        return;\n      }\n      event.stopPropagation();\n      this.updateOpen(false);\n    }\n    updateOpen(open) {\n      if (this.open === open) {\n        return;\n      }\n      this.open = open;\n      this.openChange.emit(open);\n    }\n    static {\n      this.ɵfac = function TuiAccordionItem_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiAccordionItem)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiAccordionItem,\n        selectors: [[\"tui-accordion-item\"]],\n        contentQueries: function TuiAccordionItem_ContentQueries(rf, ctx, dirIndex) {\n          if (rf & 1) {\n            i0.ɵɵcontentQuery(dirIndex, TuiAccordionItemEagerContent, 5);\n            i0.ɵɵcontentQuery(dirIndex, TuiAccordionItemContent, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.eagerContent = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.lazyContent = _t.first);\n          }\n        },\n        hostVars: 8,\n        hostBindings: function TuiAccordionItem_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵattribute(\"data-borders\", ctx.borders)(\"data-size\", ctx.size);\n            i0.ɵɵclassProp(\"_no-padding\", ctx.noPadding)(\"_has-arrow\", ctx.showArrow)(\"_disabled\", ctx.disabled);\n          }\n        },\n        inputs: {\n          noPadding: \"noPadding\",\n          showArrow: \"showArrow\",\n          borders: \"borders\",\n          size: \"size\",\n          disabled: \"disabled\",\n          disableHover: \"disableHover\",\n          open: \"open\",\n          async: \"async\"\n        },\n        outputs: {\n          openChange: \"openChange\"\n        },\n        ngContentSelectors: _c1,\n        decls: 8,\n        vars: 9,\n        consts: [[\"automation-id\", \"tui-accordion__item-wrapper\", 1, \"t-wrapper\"], [\"automation-id\", \"tui-accordion__item-header\", \"type\", \"button\", 1, \"t-header\", 3, \"click\", \"keydown.esc\", \"disabled\"], [\"automation-id\", \"tui-accordion__item-title\", 1, \"t-title\"], [4, \"ngIf\"], [3, \"async\", \"expanded\"], [\"tuiExpandContent\", \"\"], [\"class\", \"t-content\", 4, \"ngIf\"], [1, \"t-icon\", 3, \"tuiChevron\"], [\"automation-id\", \"tui-accordion__item-content\", \"class\", \"t-content\", 4, \"ngIf\"], [\"automation-id\", \"tui-accordion__item-content\", 1, \"t-content\"], [4, \"polymorpheusOutlet\"], [1, \"t-content\"]],\n        template: function TuiAccordionItem_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵprojectionDef(_c0);\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n            i0.ɵɵlistener(\"click\", function TuiAccordionItem_Template_button_click_1_listener() {\n              return ctx.onRowToggle();\n            })(\"keydown.esc\", function TuiAccordionItem_Template_button_keydown_esc_1_listener($event) {\n              return ctx.onItemKeyDownEsc($event);\n            });\n            i0.ɵɵelementStart(2, \"span\", 2);\n            i0.ɵɵprojection(3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(4, TuiAccordionItem_ng_container_4_Template, 2, 1, \"ng-container\", 3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"tui-expand\", 4);\n            i0.ɵɵtemplate(6, TuiAccordionItem_ng_template_6_Template, 1, 1, \"ng-template\", 5)(7, TuiAccordionItem_div_7_Template, 2, 0, \"div\", 6);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"t-header_hoverable\", !ctx.disableHover)(\"t-header_open\", ctx.open);\n            i0.ɵɵproperty(\"disabled\", ctx.disabled);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.showArrow);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"async\", ctx.async)(\"expanded\", ctx.open);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.eagerContent);\n          }\n        },\n        dependencies: [NgIf, PolymorpheusOutlet, TuiChevron, i1.TuiExpandComponent, i1.TuiExpandContent, TuiIcon],\n        styles: [\"[_nghost-%COMP%]{position:relative;display:block;overflow:hidden;border-radius:var(--tui-radius-l)}[data-borders=top-bottom][_nghost-%COMP%]{border-radius:0!important}  tui-accordion{inline-size:100%}.t-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:inherit}.t-wrapper[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\\\"\\\";box-sizing:border-box;border-radius:inherit;border:1px solid var(--tui-border-normal);pointer-events:none}[_nghost-%COMP%]:not([data-borders])   .t-wrapper[_ngcontent-%COMP%]:after{border-width:0}[data-borders=all][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-width:1px}[data-borders=top-bottom][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-inline-start-width:0;border-inline-end-width:0}[data-borders=top][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-inline-start-width:0;border-inline-end-width:0;border-block-end-width:0}[data-borders=bottom][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]:after{border-inline-start-width:0;border-inline-end-width:0;border-block-start-width:0}.t-header[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;display:flex;inline-size:100%;font:var(--tui-font-text-l);align-items:center;box-sizing:border-box;border-block-end:1px solid var(--tui-border-normal);min-block-size:var(--tui-height-l);padding:.75rem 1.25rem;color:var(--tui-text-primary);cursor:pointer;text-align:start;outline:none}.t-header[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 2px var(--tui-border-focus)}[_nghost-%COMP%]:not([data-borders])   .t-header[_ngcontent-%COMP%]{border-block-end-width:0}._has-arrow[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{padding-right:.75rem}[tuiTheme=\\\"dark\\\"][_nghost-%COMP%]   .t-header_open[_ngcontent-%COMP%], [tuiTheme=\\\"dark\\\"]   [_nghost-%COMP%]   .t-header_open[_ngcontent-%COMP%]{background:var(--tui-background-neutral-1)}[data-size=s][_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{font:var(--tui-font-text-m);min-block-size:var(--tui-height-m);padding:.625rem .75rem .625rem 1rem}._no-padding[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{padding-left:0;padding-right:0}._disabled[_nghost-%COMP%]   .t-header[_ngcontent-%COMP%]{cursor:default}.t-wrapper[_ngcontent-%COMP%]:hover > .t-header_hoverable[_ngcontent-%COMP%]{background:var(--tui-background-base-alt)}.t-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-right:0;flex-grow:1}._has-arrow[_nghost-%COMP%]   .t-title[_ngcontent-%COMP%]{margin-right:.5rem}.t-icon[_ngcontent-%COMP%]{transition-property:color;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;margin-left:auto;border-width:.25rem;color:var(--tui-text-tertiary)}[_nghost-%COMP%]:hover   .t-icon[_ngcontent-%COMP%]{color:var(--tui-text-secondary)}.t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-m);padding:1.25rem;overflow-wrap:break-word}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{font:var(--tui-font-text-s);padding:1rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiAccordionItem;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiAccordionDirective = /*#__PURE__*/(() => {\n  class TuiAccordionDirective {\n    constructor() {\n      this.destroyRef = inject(DestroyRef);\n      this.accordionItems = EMPTY_QUERY;\n      this.closeOthers = true;\n      // Not using DI options to avoid changed defaults spilling to content\n      const group = inject(TuiGroup);\n      group.orientation = 'vertical';\n      group.collapsed = true;\n    }\n    ngAfterContentInit() {\n      const {\n        accordionItems\n      } = this;\n      const rows$ = tuiQueryListChanges(accordionItems);\n      const newOpenRow$ = rows$.pipe(pairwise(), map(([previous, current]) => current.find(item => !previous.includes(item) && item.open)), filter(tuiIsPresent));\n      const rowsOpen$ = merge(rows$.pipe(switchMap(rows => merge(...rows.map(row => row.openChange.pipe(filter(identity), map(() => row)))))), newOpenRow$).pipe(filter(() => this.closeOthers), takeUntilDestroyed(this.destroyRef));\n      rowsOpen$.subscribe(currentRow => {\n        accordionItems.forEach(row => {\n          if (currentRow !== row) {\n            row.close();\n          }\n        });\n      });\n    }\n    static {\n      this.ɵfac = function TuiAccordionDirective_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiAccordionDirective)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiAccordionDirective,\n        selectors: [[\"tui-accordion\"]],\n        contentQueries: function TuiAccordionDirective_ContentQueries(rf, ctx, dirIndex) {\n          if (rf & 1) {\n            i0.ɵɵcontentQuery(dirIndex, TuiAccordionItem, 4);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.accordionItems = _t);\n          }\n        },\n        inputs: {\n          closeOthers: \"closeOthers\"\n        },\n        features: [i0.ɵɵHostDirectivesFeature([{\n          directive: i1$1.TuiGroup,\n          inputs: [\"rounded\", \"rounded\"]\n        }])]\n      });\n    }\n  }\n  return TuiAccordionDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TuiAccordion = [TuiAccordionItem, TuiAccordionDirective, TuiAccordionItemContent, TuiAccordionItemEagerContent];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiAccordion, TuiAccordionDirective, TuiAccordionItem, TuiAccordionItemContent, TuiAccordionItemEagerContent };\n","import * as i0 from '@angular/core';\nimport { inject, ChangeDetectorRef, DestroyRef, Component, ViewEncapsulation, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { NgControl, NgModel } from '@angular/forms';\nimport * as i2 from '@taiga-ui/cdk/directives/native-validator';\nimport { TuiNativeValidator } from '@taiga-ui/cdk/directives/native-validator';\nimport { tuiControlValue, tuiWatch } from '@taiga-ui/cdk/observables';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { tuiCreateToken, tuiProvideOptions, tuiIsString } from '@taiga-ui/cdk/utils/miscellaneous';\nimport * as i1 from '@taiga-ui/core/directives/appearance';\nimport { TuiAppearance } from '@taiga-ui/core/directives/appearance';\nimport { tuiInjectIconResolver } from '@taiga-ui/core/tokens';\nconst _c0 = [\"type\", \"checkbox\", \"tuiCheckbox\", \"\"];\nconst TUI_CHECKBOX_DEFAULT_OPTIONS = {\n  size: 'm',\n  appearance: el => el.checked || el.indeterminate ? 'primary' : 'outline-grayscale',\n  icons: {\n    checked: '@tui.check',\n    indeterminate: '@tui.minus'\n  }\n};\nconst TUI_CHECKBOX_OPTIONS = tuiCreateToken(TUI_CHECKBOX_DEFAULT_OPTIONS);\nfunction tuiCheckboxOptionsProvider(options) {\n  return tuiProvideOptions(TUI_CHECKBOX_OPTIONS, options, TUI_CHECKBOX_DEFAULT_OPTIONS);\n}\nlet TuiCheckbox = /*#__PURE__*/(() => {\n  class TuiCheckbox {\n    constructor() {\n      this.appearance = inject(TuiAppearance);\n      this.options = inject(TUI_CHECKBOX_OPTIONS);\n      this.cdr = inject(ChangeDetectorRef);\n      this.resolver = tuiInjectIconResolver();\n      this.destroyRef = inject(DestroyRef);\n      this.el = tuiInjectElement();\n      this.size = this.options.size;\n      this.control = inject(NgControl, {\n        optional: true,\n        self: true\n      });\n    }\n    ngOnInit() {\n      if (!this.control?.valueChanges) {\n        return;\n      }\n      tuiControlValue(this.control).pipe(tuiWatch(this.cdr), takeUntilDestroyed(this.destroyRef)).subscribe(value => {\n        // https://github.com/angular/angular/issues/14988\n        const fix = this.control instanceof NgModel && value === null ? this.control.model : value;\n        this.el.indeterminate = fix === null;\n      });\n    }\n    ngDoCheck() {\n      this.appearance.tuiAppearance = tuiIsString(this.options.appearance) ? this.options.appearance : this.options.appearance(this.el);\n    }\n    getIcon(state) {\n      const option = this.options.icons[state];\n      const icon = tuiIsString(option) ? option : option(this.size);\n      return icon && `url(${this.resolver(icon)})`;\n    }\n    static {\n      this.ɵfac = function TuiCheckbox_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiCheckbox)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiCheckbox,\n        selectors: [[\"input\", \"type\", \"checkbox\", \"tuiCheckbox\", \"\"]],\n        hostVars: 8,\n        hostBindings: function TuiCheckbox_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵhostProperty(\"disabled\", !ctx.control || ctx.control.disabled);\n            i0.ɵɵattribute(\"data-size\", ctx.size);\n            i0.ɵɵstyleProp(\"--t-checked-icon\", ctx.getIcon(\"checked\"))(\"--t-indeterminate-icon\", ctx.getIcon(\"indeterminate\"));\n            i0.ɵɵclassProp(\"_readonly\", !ctx.control);\n          }\n        },\n        inputs: {\n          size: \"size\"\n        },\n        features: [i0.ɵɵHostDirectivesFeature([{\n          directive: i1.TuiAppearance,\n          inputs: [\"tuiAppearanceState\", \"tuiAppearanceState\", \"tuiAppearanceFocus\", \"tuiAppearanceFocus\", \"tuiAppearanceMode\", \"tuiAppearanceMode\"]\n        }, i2.TuiNativeValidator])],\n        attrs: _c0,\n        decls: 0,\n        vars: 0,\n        template: function TuiCheckbox_Template(rf, ctx) {},\n        styles: [\"[tuiCheckbox]{--t-size: 1.5rem;--t-radius: var(--tui-radius-s);inline-size:var(--t-size);block-size:var(--t-size);border-radius:var(--t-radius);cursor:pointer;margin:0;flex-shrink:0}[tuiCheckbox]:before{position:absolute;top:0;left:0;bottom:0;right:0;content:\\\"\\\";inline-size:1rem;block-size:1rem;margin:auto;background:currentColor;-webkit-mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"></svg>') center / 100%;mask:url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"></svg>') center / 100%;transform:scale(0);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s var(--tui-duration) ease-in-out,-webkit-mask 0s var(--tui-duration) ease-in-out}[tuiCheckbox]:disabled._readonly{opacity:1;pointer-events:none}[tuiCheckbox]:checked:before,[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-checked-icon);mask-image:var(--t-checked-icon);transform:scale(1);transition:transform var(--tui-duration) ease-in-out,-webkit-mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out;transition:transform var(--tui-duration) ease-in-out,mask 0s ease-in-out,-webkit-mask 0s ease-in-out}[tuiCheckbox]:indeterminate:before{-webkit-mask-image:var(--t-indeterminate-icon);mask-image:var(--t-indeterminate-icon)}[tuiCheckbox][data-size=s]{--t-size: 1rem;--t-radius: var(--tui-radius-xs)}[tuiCheckbox][data-size=s]:before{inline-size:.875rem;block-size:.875rem}[tuiCheckbox]:invalid:not([data-mode]),[tuiCheckbox][data-mode~=invalid]{color:#fff}\\n\"],\n        encapsulation: 2,\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiCheckbox;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_CHECKBOX_DEFAULT_OPTIONS, TUI_CHECKBOX_OPTIONS, TuiCheckbox, tuiCheckboxOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { inject, DestroyRef, ChangeDetectorRef, Component, ViewEncapsulation, ChangeDetectionStrategy, Input } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { NgControl } from '@angular/forms';\nimport * as i2 from '@taiga-ui/cdk/directives/native-validator';\nimport { TuiNativeValidator } from '@taiga-ui/cdk/directives/native-validator';\nimport { tuiWatch } from '@taiga-ui/cdk/observables';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { tuiCreateToken, tuiProvideOptions, tuiIsString } from '@taiga-ui/cdk/utils/miscellaneous';\nimport * as i1 from '@taiga-ui/core/directives/appearance';\nimport { TuiAppearance } from '@taiga-ui/core/directives/appearance';\nimport { tuiInjectIconResolver } from '@taiga-ui/core/tokens';\nconst _c0 = [\"type\", \"checkbox\", \"tuiSwitch\", \"\"];\nconst TUI_SWITCH_DEFAULT_OPTIONS = {\n  showIcons: true,\n  size: 'm',\n  icon: '@tui.check',\n  appearance: el => el.checked ? 'primary' : 'secondary'\n};\nconst TUI_SWITCH_OPTIONS = tuiCreateToken(TUI_SWITCH_DEFAULT_OPTIONS);\nfunction tuiSwitchOptionsProvider(options) {\n  return tuiProvideOptions(TUI_SWITCH_OPTIONS, options, TUI_SWITCH_DEFAULT_OPTIONS);\n}\nlet TuiSwitch = /*#__PURE__*/(() => {\n  class TuiSwitch {\n    constructor() {\n      this.appearance = inject(TuiAppearance);\n      this.resolver = tuiInjectIconResolver();\n      this.destroyRef = inject(DestroyRef);\n      this.cdr = inject(ChangeDetectorRef);\n      this.options = inject(TUI_SWITCH_OPTIONS);\n      this.el = tuiInjectElement();\n      this.control = inject(NgControl, {\n        self: true,\n        optional: true\n      });\n      this.size = this.options.size;\n      this.showIcons = this.options.showIcons;\n    }\n    ngOnInit() {\n      this.control?.valueChanges?.pipe(tuiWatch(this.cdr), takeUntilDestroyed(this.destroyRef)).subscribe();\n    }\n    ngDoCheck() {\n      this.appearance.tuiAppearance = this.options.appearance(this.el);\n    }\n    get icon() {\n      const {\n        options,\n        resolver,\n        size\n      } = this;\n      const icon = tuiIsString(options.icon) ? options.icon : options.icon(size);\n      return this.showIcons && icon ? `url(${resolver(icon)})` : null;\n    }\n    static {\n      this.ɵfac = function TuiSwitch_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiSwitch)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiSwitch,\n        selectors: [[\"input\", \"type\", \"checkbox\", \"tuiSwitch\", \"\"]],\n        hostAttrs: [\"role\", \"switch\"],\n        hostVars: 6,\n        hostBindings: function TuiSwitch_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵhostProperty(\"disabled\", !ctx.control || ctx.control.disabled);\n            i0.ɵɵattribute(\"data-size\", ctx.size);\n            i0.ɵɵstyleProp(\"--t-checked-icon\", ctx.icon);\n            i0.ɵɵclassProp(\"_readonly\", !ctx.control);\n          }\n        },\n        inputs: {\n          size: \"size\",\n          showIcons: \"showIcons\"\n        },\n        features: [i0.ɵɵHostDirectivesFeature([{\n          directive: i1.TuiAppearance,\n          inputs: [\"tuiAppearanceState\", \"tuiAppearanceState\", \"tuiAppearanceFocus\", \"tuiAppearanceFocus\", \"tuiAppearanceMode\", \"tuiAppearanceMode\"]\n        }, i2.TuiNativeValidator])],\n        attrs: _c0,\n        decls: 0,\n        vars: 0,\n        template: function TuiSwitch_Template(rf, ctx) {},\n        styles: [\"[tuiSwitch]{transition-property:background,box-shadow;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;inline-size:3rem;block-size:1.5rem;border-radius:2rem;overflow:hidden;cursor:pointer;margin:0;flex-shrink:0;color:#fff!important}[tuiSwitch][data-size=s]{block-size:1rem;inline-size:2rem}[tuiSwitch][data-size=s]:before{inline-size:1rem;transform:translate(-1rem);-webkit-mask-size:.75rem;mask-size:.75rem}[tuiSwitch][data-size=s]:after{inline-size:1rem;box-shadow:-2.625rem 0 0 .5rem var(--tui-background-base);outline-width:.167rem;transform:scale(.375)}[tuiSwitch][data-size=s]:checked:after{transform:scale(.375) translate(2.625rem)}[tuiSwitch]:checked:before{transform:none}[tuiSwitch]:checked:after{transform:scale(.33333) translate(4.5rem)}[tuiSwitch]:disabled._readonly{opacity:1}[tuiSwitch]:before,[tuiSwitch]:after{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;content:\\\"\\\";position:absolute;block-size:100%;inline-size:1.5rem}[tuiSwitch]:before{display:var(--t-checked-icon, none);background:currentColor;-webkit-mask:var(--t-checked-icon) no-repeat center;mask:var(--t-checked-icon) no-repeat center;-webkit-mask-size:1rem;mask-size:1rem;transform:translate(-1.5rem)}[tuiSwitch]:after{right:0;border-radius:100%;transform:scale(.33333);box-shadow:-4.5rem 0 0 .75rem var(--tui-background-base);outline:.375rem solid var(--tui-background-neutral-2-pressed);outline-offset:var(--t-checked-icon, 20rem)}[tuiSwitch]:invalid:not([data-mode]),[tuiSwitch][data-mode~=invalid]{color:#fff}\\n\"],\n        encapsulation: 2,\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiSwitch;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_SWITCH_DEFAULT_OPTIONS, TUI_SWITCH_OPTIONS, TuiSwitch, tuiSwitchOptionsProvider };\n","import { maskitoUpdateElement, MASKITO_DEFAULT_OPTIONS, maskitoTransform } from '@maskito/core';\n\n/**\n * Clamps a value between two inclusive limits\n *\n * @param value\n * @param min lower limit\n * @param max upper limit\n */\nfunction clamp(value, min, max) {\n  const clampedValue = Math.min(Number(max), Math.max(Number(min), Number(value)));\n  return value instanceof Date ? new Date(clampedValue) : clampedValue;\n}\nfunction countDigits(str) {\n  return str.replaceAll(/\\W/g, '').length;\n}\nfunction appendDate(initialDate, {\n  day,\n  month,\n  year\n} = {}) {\n  const date = new Date(initialDate);\n  if (day) {\n    date.setDate(date.getDate() + day);\n  }\n  if (month) {\n    date.setMonth(date.getMonth() + month);\n  }\n  if (year) {\n    date.setFullYear(date.getFullYear() + year);\n  }\n  return date;\n}\nconst getDateSegmentValueLength = dateString => {\n  var _a, _b, _c, _d, _e, _f;\n  return {\n    day: (_b = (_a = dateString.match(/d/g)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0,\n    month: (_d = (_c = dateString.match(/m/g)) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0,\n    year: (_f = (_e = dateString.match(/y/g)) === null || _e === void 0 ? void 0 : _e.length) !== null && _f !== void 0 ? _f : 0\n  };\n};\nfunction dateToSegments(date) {\n  return {\n    day: String(date.getDate()).padStart(2, '0'),\n    month: String(date.getMonth() + 1).padStart(2, '0'),\n    year: String(date.getFullYear()).padStart(4, '0'),\n    hours: String(date.getHours()).padStart(2, '0'),\n    minutes: String(date.getMinutes()).padStart(2, '0'),\n    seconds: String(date.getSeconds()).padStart(2, '0'),\n    milliseconds: String(date.getMilliseconds()).padStart(3, '0')\n  };\n}\nfunction getFirstCompleteDate(dateString, dateModeTemplate) {\n  const digitsInDate = countDigits(dateModeTemplate);\n  const [completeDate = ''] = new RegExp(`(\\\\D*\\\\d){${digitsInDate}}`).exec(dateString) || [];\n  return completeDate;\n}\nfunction isDateStringComplete(dateString, dateModeTemplate) {\n  if (dateString.length < dateModeTemplate.length) {\n    return false;\n  }\n  return dateString.split(/\\D/).every(segment => !/^0+$/.exec(segment));\n}\nfunction parseDateRangeString(dateRange, dateModeTemplate, rangeSeparator) {\n  const digitsInDate = countDigits(dateModeTemplate);\n  return dateRange.replace(rangeSeparator, '').match(new RegExp(`(\\\\D*\\\\d[^\\\\d\\\\s]*){1,${digitsInDate}}`, 'g')) || [];\n}\nfunction parseDateString(dateString, fullMode) {\n  const cleanMode = fullMode.replaceAll(/[^dmy]/g, '');\n  const onlyDigitsDate = dateString.replaceAll(/\\D+/g, '');\n  const dateSegments = {\n    day: onlyDigitsDate.slice(cleanMode.indexOf('d'), cleanMode.lastIndexOf('d') + 1),\n    month: onlyDigitsDate.slice(cleanMode.indexOf('m'), cleanMode.lastIndexOf('m') + 1),\n    year: onlyDigitsDate.slice(cleanMode.indexOf('y'), cleanMode.lastIndexOf('y') + 1)\n  };\n  return Object.fromEntries(Object.entries(dateSegments).filter(([_, value]) => Boolean(value)).sort(([a], [b]) => fullMode.toLowerCase().indexOf(a.slice(0, 1)) > fullMode.toLowerCase().indexOf(b.slice(0, 1)) ? 1 : -1));\n}\nfunction segmentsToDate(parsedDate, parsedTime) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  const year = ((_a = parsedDate.year) === null || _a === void 0 ? void 0 : _a.length) === 2 ? `20${parsedDate.year}` : parsedDate.year;\n  const date = new Date(Number(year !== null && year !== void 0 ? year : '0'), Number((_b = parsedDate.month) !== null && _b !== void 0 ? _b : '1') - 1, Number((_c = parsedDate.day) !== null && _c !== void 0 ? _c : '1'), Number((_d = parsedTime === null || parsedTime === void 0 ? void 0 : parsedTime.hours) !== null && _d !== void 0 ? _d : '0'), Number((_e = parsedTime === null || parsedTime === void 0 ? void 0 : parsedTime.minutes) !== null && _e !== void 0 ? _e : '0'), Number((_f = parsedTime === null || parsedTime === void 0 ? void 0 : parsedTime.seconds) !== null && _f !== void 0 ? _f : '0'), Number((_g = parsedTime === null || parsedTime === void 0 ? void 0 : parsedTime.milliseconds) !== null && _g !== void 0 ? _g : '0'));\n  // needed for years less than 1900\n  date.setFullYear(Number(year !== null && year !== void 0 ? year : '0'));\n  return date;\n}\nconst DATE_TIME_SEPARATOR = ', ';\nfunction toDateString({\n  day,\n  month,\n  year,\n  hours,\n  minutes,\n  seconds,\n  milliseconds\n}, {\n  dateMode,\n  dateTimeSeparator = DATE_TIME_SEPARATOR,\n  timeMode\n}) {\n  var _a;\n  const safeYear = ((_a = dateMode.match(/y/g)) === null || _a === void 0 ? void 0 : _a.length) === 2 ? year === null || year === void 0 ? void 0 : year.slice(-2) : year;\n  const fullMode = dateMode + (timeMode ? dateTimeSeparator + timeMode : '');\n  return fullMode.replaceAll(/d+/g, day !== null && day !== void 0 ? day : '').replaceAll(/m+/g, month !== null && month !== void 0 ? month : '').replaceAll(/y+/g, safeYear !== null && safeYear !== void 0 ? safeYear : '').replaceAll(/H+/g, hours !== null && hours !== void 0 ? hours : '').replaceAll('MSS', milliseconds !== null && milliseconds !== void 0 ? milliseconds : '').replaceAll(/M+/g, minutes !== null && minutes !== void 0 ? minutes : '').replaceAll(/S+/g, seconds !== null && seconds !== void 0 ? seconds : '').replaceAll(/^\\D+/g, '').replaceAll(/\\D+$/g, '');\n}\nconst DATE_SEGMENTS_MAX_VALUES = {\n  day: 31,\n  month: 12,\n  year: 9999\n};\n\n// eslint-disable-next-line i18n/no-russian-character\nconst DEFAULT_DECIMAL_PSEUDO_SEPARATORS = ['.', ',', 'б', 'ю'];\nconst DEFAULT_MIN_DATE = new Date('0001-01-01');\nconst DEFAULT_MAX_DATE = new Date('9999-12-31');\nconst DEFAULT_TIME_SEGMENT_MAX_VALUES = {\n  hours: 23,\n  minutes: 59,\n  seconds: 59,\n  milliseconds: 999\n};\nconst DEFAULT_TIME_SEGMENT_MIN_VALUES = {\n  hours: 0,\n  minutes: 0,\n  seconds: 0,\n  milliseconds: 0\n};\n\n/**\n * {@link https://unicode-table.com/en/00A0/ Non-breaking space}.\n */\nconst CHAR_NO_BREAK_SPACE = '\\u00A0';\n/**\n * {@link https://symbl.cc/en/200B/ Zero width space}.\n */\nconst CHAR_ZERO_WIDTH_SPACE = '\\u200B';\n/**\n * {@link https://unicode-table.com/en/2013/ EN dash}\n * is used to indicate a range of numbers or a span of time.\n * @example 2006–2022\n */\nconst CHAR_EN_DASH = '\\u2013';\n/**\n * {@link https://unicode-table.com/en/2014/ EM dash}\n * is used to mark a break in a sentence.\n * @example Taiga UI — powerful set of open source components for Angular\n * ___\n * Don't confuse with {@link CHAR_EN_DASH} or {@link CHAR_HYPHEN}!\n */\nconst CHAR_EM_DASH = '\\u2014';\n/**\n * {@link https://unicode-table.com/en/002D/ Hyphen (minus sign)}\n * is used to combine words.\n * @example well-behaved\n * ___\n * Don't confuse with {@link CHAR_EN_DASH} or {@link CHAR_EM_DASH}!\n */\nconst CHAR_HYPHEN = '\\u002D';\n/**\n * {@link https://unicode-table.com/en/2212/ Minus}\n * is used as math operator symbol or before negative digits.\n * ---\n * Can be used as `&minus;`. Don't confuse with {@link CHAR_HYPHEN}\n */\nconst CHAR_MINUS = '\\u2212';\n/**\n * {@link https://symbl.cc/en/30FC/ Katakana-Hiragana Prolonged Sound Mark}\n * is used as prolonged sounds in Japanese.\n */\nconst CHAR_JP_HYPHEN = '\\u30FC';\n/**\n * {@link https://symbl.cc/en/003A/ Colon}\n * is a punctuation mark that connects parts of a text logically.\n * ---\n * is also used as separator in time.\n */\nconst CHAR_COLON = '\\u003A';\n/**\n * {@link https://symbl.cc/en/FF1A/ Full-width colon}\n * is a full-width punctuation mark used to separate parts of a text commonly in Japanese.\n */\nconst CHAR_JP_COLON = '\\uFF1A';\nconst ANY_MERIDIEM_CHARACTER_RE = new RegExp(`[${CHAR_NO_BREAK_SPACE}APM]+$`, 'g');\nconst ALL_MERIDIEM_CHARACTERS_RE = new RegExp(`${CHAR_NO_BREAK_SPACE}[AP]M$`, 'g');\nconst TIME_FIXED_CHARACTERS = [':', '.'];\nconst TIME_SEGMENT_VALUE_LENGTHS = {\n  hours: 2,\n  minutes: 2,\n  seconds: 2,\n  milliseconds: 3\n};\nfunction validateDateString({\n  dateString,\n  dateModeTemplate,\n  dateSegmentsSeparator,\n  offset,\n  selection: [from, to]\n}) {\n  const parsedDate = parseDateString(dateString, dateModeTemplate);\n  const dateSegments = Object.entries(parsedDate);\n  const validatedDateSegments = {};\n  for (const [segmentName, segmentValue] of dateSegments) {\n    const validatedDate = toDateString(validatedDateSegments, {\n      dateMode: dateModeTemplate\n    });\n    const maxSegmentValue = DATE_SEGMENTS_MAX_VALUES[segmentName];\n    const fantomSeparator = validatedDate.length && dateSegmentsSeparator.length;\n    const lastSegmentDigitIndex = offset + validatedDate.length + fantomSeparator + getDateSegmentValueLength(dateModeTemplate)[segmentName];\n    const isLastSegmentDigitAdded = lastSegmentDigitIndex >= from && lastSegmentDigitIndex === to;\n    if (isLastSegmentDigitAdded && Number(segmentValue) > Number(maxSegmentValue)) {\n      // 3|1.10.2010 => Type 9 => 3|1.10.2010\n      return {\n        validatedDateString: '',\n        updatedSelection: [from, to]\n      }; // prevent changes\n    }\n    if (isLastSegmentDigitAdded && Number(segmentValue) < 1) {\n      // 31.0|1.2010 => Type 0 => 31.0|1.2010\n      return {\n        validatedDateString: '',\n        updatedSelection: [from, to]\n      }; // prevent changes\n    }\n    validatedDateSegments[segmentName] = segmentValue;\n  }\n  const validatedDateString = toDateString(validatedDateSegments, {\n    dateMode: dateModeTemplate\n  });\n  const addedDateSegmentSeparators = validatedDateString.length - dateString.length;\n  return {\n    validatedDateString,\n    updatedSelection: [from + addedDateSegmentSeparators, to + addedDateSegmentSeparators]\n  };\n}\nfunction identity(x) {\n  return x;\n}\n// eslint-disable-next-line  @typescript-eslint/no-empty-function\nfunction noop() {}\n\n/**\n * Copy-pasted solution from lodash\n * @see https://lodash.com/docs/4.17.15#escapeRegExp\n */\nconst reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nconst reHasRegExpChar = new RegExp(reRegExpChar.source);\nfunction escapeRegExp(str) {\n  return str && reHasRegExpChar.test(str) ? str.replaceAll(reRegExpChar, String.raw`\\$&`) : str;\n}\nfunction extractAffixes(value, {\n  prefix,\n  postfix\n}) {\n  var _a, _b;\n  const prefixRegExp = new RegExp(`^${escapeRegExp(prefix)}`);\n  const postfixRegExp = new RegExp(`${escapeRegExp(postfix)}$`);\n  const [extractedPrefix = ''] = (_a = value.match(prefixRegExp)) !== null && _a !== void 0 ? _a : [];\n  const [extractedPostfix = ''] = (_b = value.match(postfixRegExp)) !== null && _b !== void 0 ? _b : [];\n  return {\n    extractedPrefix,\n    extractedPostfix,\n    cleanValue: extractedPrefix || extractedPostfix ? value.slice(extractedPrefix.length, extractedPostfix.length ? -extractedPostfix.length : Infinity) : value\n  };\n}\nfunction findCommonBeginningSubstr(a, b) {\n  let res = '';\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return res;\n    }\n    res += a[i];\n  }\n  return res;\n}\nfunction isEmpty(entity) {\n  return !entity || typeof entity === 'object' && Object.keys(entity).length === 0;\n}\nconst ALL_ZEROES_RE = /^0+$/;\nfunction padWithZeroesUntilValid(segmentValue, paddedMaxValue, prefixedZeroesCount = 0) {\n  const paddedSegmentValue = segmentValue.padEnd(paddedMaxValue.length, '0');\n  if (Number(paddedSegmentValue) <= Number(paddedMaxValue)) {\n    return {\n      validatedSegmentValue: segmentValue,\n      prefixedZeroesCount\n    };\n  }\n  if (paddedSegmentValue.endsWith('0')) {\n    // 00:|00 => Type 9 => 00:09|\n    return padWithZeroesUntilValid(`0${segmentValue.slice(0, paddedMaxValue.length - 1)}`, paddedMaxValue, prefixedZeroesCount + 1);\n  }\n  const valueWithoutLastChar = segmentValue.slice(0, paddedMaxValue.length - 1);\n  if (ALL_ZEROES_RE.exec(valueWithoutLastChar)) {\n    return {\n      validatedSegmentValue: '',\n      prefixedZeroesCount\n    };\n  }\n  // |19:00 => Type 2 => 2|0:00\n  return padWithZeroesUntilValid(`${valueWithoutLastChar}0`, paddedMaxValue, prefixedZeroesCount);\n}\n\n/**\n * Replace fullwidth colon with half width colon\n * @param fullWidthColon full width colon\n * @returns processed half width colon\n */\nfunction toHalfWidthColon(fullWidthColon) {\n  return fullWidthColon.replaceAll(new RegExp(CHAR_JP_COLON, 'g'), CHAR_COLON);\n}\n\n/**\n * Replace fullwidth numbers with half width number\n * @param fullWidthNumber full width number\n * @returns processed half width number\n */\nfunction toHalfWidthNumber(fullWidthNumber) {\n  return fullWidthNumber.replaceAll(/[０-９]/g, s => String.fromCharCode(s.charCodeAt(0) - 0xfee0));\n}\n\n/**\n * Convert full width colon (：) to half width one (:)\n */\nfunction createColonConvertPreprocessor() {\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    return {\n      elementState: {\n        selection,\n        value: toHalfWidthColon(value)\n      },\n      data: toHalfWidthColon(data)\n    };\n  };\n}\nfunction createDateSegmentsZeroPaddingPostprocessor({\n  dateModeTemplate,\n  dateSegmentSeparator,\n  splitFn,\n  uniteFn\n}) {\n  return ({\n    value,\n    selection\n  }) => {\n    var _a;\n    const [from, to] = selection;\n    const {\n      dateStrings,\n      restPart = ''\n    } = splitFn(value);\n    const validatedDateStrings = [];\n    let caretShift = 0;\n    dateStrings.forEach(dateString => {\n      const parsedDate = parseDateString(dateString, dateModeTemplate);\n      const dateSegments = Object.entries(parsedDate);\n      const validatedDateSegments = dateSegments.reduce((acc, [segmentName, segmentValue]) => {\n        const {\n          validatedSegmentValue,\n          prefixedZeroesCount\n        } = padWithZeroesUntilValid(segmentValue, `${DATE_SEGMENTS_MAX_VALUES[segmentName]}`);\n        caretShift += prefixedZeroesCount;\n        return Object.assign(Object.assign({}, acc), {\n          [segmentName]: validatedSegmentValue\n        });\n      }, {});\n      validatedDateStrings.push(toDateString(validatedDateSegments, {\n        dateMode: dateModeTemplate\n      }));\n    });\n    const validatedValue = uniteFn(validatedDateStrings, value) + (((_a = dateStrings[dateStrings.length - 1]) === null || _a === void 0 ? void 0 : _a.endsWith(dateSegmentSeparator)) ? dateSegmentSeparator : '') + restPart;\n    if (caretShift && validatedValue.slice(to + caretShift, to + caretShift + dateSegmentSeparator.length) === dateSegmentSeparator) {\n      /**\n       * If `caretShift` > 0, it means that time segment was padded with zero.\n       * It is only possible if any character insertion happens.\n       * If caret is before `dateSegmentSeparator` => it should be moved after `dateSegmentSeparator`.\n       */\n      caretShift += dateSegmentSeparator.length;\n    }\n    return {\n      selection: [from + caretShift, to + caretShift],\n      value: validatedValue\n    };\n  };\n}\n\n/**\n * It replaces pseudo range separators with valid one.\n * @example '01.01.2000_11.11.2000' -> '01.01.2000 - 01.01.2000'\n * @example '01.01.2000_23:59' -> '01.01.2000, 23:59'\n */\nfunction createFirstDateEndSeparatorPreprocessor({\n  dateModeTemplate,\n  firstDateEndSeparator,\n  dateSegmentSeparator,\n  pseudoFirstDateEndSeparators\n}) {\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    const [from, to] = selection;\n    const firstCompleteDate = getFirstCompleteDate(value, dateModeTemplate);\n    const pseudoSeparators = pseudoFirstDateEndSeparators.filter(x => !firstDateEndSeparator.includes(x) && x !== dateSegmentSeparator);\n    const pseudoSeparatorsRE = new RegExp(`[${pseudoSeparators.join('')}]`, 'gi');\n    const newValue = firstCompleteDate && value.length > firstCompleteDate.length ? firstCompleteDate + value.slice(firstCompleteDate.length).replace(/^[\\D\\s]*/, firstDateEndSeparator) : value;\n    const caretShift = newValue.length - value.length;\n    return {\n      elementState: {\n        selection: [from + caretShift, to + caretShift],\n        value: newValue\n      },\n      data: data.replace(pseudoSeparatorsRE, firstDateEndSeparator)\n    };\n  };\n}\n\n/**\n * Convert full width numbers like １, ２ to half width numbers 1, 2\n */\nfunction createFullWidthToHalfWidthPreprocessor() {\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    return {\n      elementState: {\n        selection,\n        value: toHalfWidthNumber(value)\n      },\n      data: toHalfWidthNumber(data)\n    };\n  };\n}\nfunction createTimeMaskExpression(mode) {\n  return Array.from(mode.replace(' AA', '')).map(char => TIME_FIXED_CHARACTERS.includes(char) ? char : /\\d/).concat(mode.includes('AA') ? [CHAR_NO_BREAK_SPACE, /[AP]/i, /M/i] : []);\n}\nfunction padTimeSegments(timeSegments, pad) {\n  return Object.fromEntries(Object.entries(timeSegments).map(([segmentName, segmentValue]) => [segmentName, pad(String(segmentValue), TIME_SEGMENT_VALUE_LENGTHS[segmentName])]));\n}\nfunction padStartTimeSegments(timeSegments) {\n  return padTimeSegments(timeSegments, (value, length) => value.padStart(length, '0'));\n}\nconst SEGMENT_FULL_NAME = {\n  HH: 'hours',\n  MM: 'minutes',\n  SS: 'seconds',\n  MSS: 'milliseconds'\n};\n/**\n * @param timeString can be with/without fixed characters\n */\nfunction parseTimeString(timeString, timeMode) {\n  const onlyDigits = timeString.replaceAll(/\\D+/g, '');\n  let offset = 0;\n  return Object.fromEntries(timeMode.split(/\\W/).filter(segmentAbbr => SEGMENT_FULL_NAME[segmentAbbr]).map(segmentAbbr => {\n    const segmentValue = onlyDigits.slice(offset, offset + segmentAbbr.length);\n    offset += segmentAbbr.length;\n    return [SEGMENT_FULL_NAME[segmentAbbr], segmentValue];\n  }));\n}\nconst LEADING_NON_DIGITS = /^\\D*/;\nconst TRAILING_NON_DIGITS = /\\D*$/;\nfunction toTimeString({\n  hours = '',\n  minutes = '',\n  seconds = '',\n  milliseconds = ''\n}) {\n  return `${hours}:${minutes}:${seconds}.${milliseconds}`.replace(LEADING_NON_DIGITS, '').replace(TRAILING_NON_DIGITS, '');\n}\nconst TRAILING_TIME_SEGMENT_SEPARATOR_REG = new RegExp(`[${TIME_FIXED_CHARACTERS.map(escapeRegExp).join('')}]$`);\n/**\n * Pads invalid time segment with zero to make it valid.\n * @example 00:|00 => Type 9 (too much for the first digit of minutes) => 00:09|\n * @example |19:00 => Type 2 (29 - invalid value for hours) => 2|0:00\n */\nfunction enrichTimeSegmentsWithZeroes({\n  value,\n  selection\n}, {\n  mode,\n  timeSegmentMaxValues = DEFAULT_TIME_SEGMENT_MAX_VALUES\n}) {\n  const [from, to] = selection;\n  const parsedTime = parseTimeString(value, mode);\n  const possibleTimeSegments = Object.entries(parsedTime);\n  const paddedMaxValues = padStartTimeSegments(timeSegmentMaxValues);\n  const validatedTimeSegments = {};\n  let paddedZeroes = 0;\n  for (const [segmentName, segmentValue] of possibleTimeSegments) {\n    const maxSegmentValue = paddedMaxValues[segmentName];\n    const {\n      validatedSegmentValue,\n      prefixedZeroesCount\n    } = padWithZeroesUntilValid(segmentValue, String(maxSegmentValue));\n    paddedZeroes += prefixedZeroesCount;\n    validatedTimeSegments[segmentName] = validatedSegmentValue;\n  }\n  // trailing segment separators or meridiem characters\n  const [trailingNonDigitCharacters = ''] = value.match(/\\D+$/g) || [];\n  const validatedTimeString = toTimeString(validatedTimeSegments) + trailingNonDigitCharacters;\n  const addedDateSegmentSeparators = Math.max(validatedTimeString.length - value.length, 0);\n  let newFrom = from + paddedZeroes + addedDateSegmentSeparators;\n  let newTo = to + paddedZeroes + addedDateSegmentSeparators;\n  if (newFrom === newTo && paddedZeroes &&\n  // if next character after cursor is time segment separator\n  validatedTimeString.slice(0, newTo + 1).match(TRAILING_TIME_SEGMENT_SEPARATOR_REG)) {\n    newFrom++;\n    newTo++;\n  }\n  return {\n    value: validatedTimeString,\n    selection: [newFrom, newTo]\n  };\n}\nfunction padEndTimeSegments(timeSegments) {\n  return padTimeSegments(timeSegments, (value, length) => value.padEnd(length, '0'));\n}\n\n/**\n * Prevent insertion if any time segment will become invalid\n * (and even zero padding won't help with it).\n * @example 2|0:00 => Type 9 => 2|0:00\n */\nfunction createInvalidTimeSegmentInsertionPreprocessor({\n  timeMode,\n  timeSegmentMinValues = DEFAULT_TIME_SEGMENT_MIN_VALUES,\n  timeSegmentMaxValues = DEFAULT_TIME_SEGMENT_MAX_VALUES,\n  parseValue = x => ({\n    timeString: x\n  })\n}) {\n  const invalidCharsRegExp = new RegExp(`[^\\\\d${TIME_FIXED_CHARACTERS.map(escapeRegExp).join('')}]+`);\n  return ({\n    elementState,\n    data\n  }, actionType) => {\n    if (actionType !== 'insert') {\n      return {\n        elementState,\n        data\n      };\n    }\n    const {\n      value,\n      selection\n    } = elementState;\n    const [from, rawTo] = selection;\n    const newCharacters = data.replace(invalidCharsRegExp, '');\n    const to = rawTo + newCharacters.length; // to be conformed with `overwriteMode: replace`\n    const newPossibleValue = value.slice(0, from) + newCharacters + value.slice(to);\n    const {\n      timeString,\n      restValue = ''\n    } = parseValue(newPossibleValue);\n    const timeSegments = Object.entries(parseTimeString(timeString, timeMode));\n    let offset = restValue.length;\n    for (const [segmentName, stringifiedSegmentValue] of timeSegments) {\n      const minSegmentValue = timeSegmentMinValues[segmentName];\n      const maxSegmentValue = timeSegmentMaxValues[segmentName];\n      const segmentValue = Number(stringifiedSegmentValue);\n      const lastSegmentDigitIndex = offset + TIME_SEGMENT_VALUE_LENGTHS[segmentName];\n      if (lastSegmentDigitIndex >= from && lastSegmentDigitIndex <= to && segmentValue !== clamp(segmentValue, minSegmentValue, maxSegmentValue)) {\n        return {\n          elementState,\n          data: ''\n        }; // prevent insertion\n      }\n      offset += stringifiedSegmentValue.length +\n      // any time segment separator\n      1;\n    }\n    return {\n      elementState,\n      data\n    };\n  };\n}\nfunction createMeridiemPreprocessor(timeMode) {\n  if (!timeMode.includes('AA')) {\n    return identity;\n  }\n  const mainMeridiemCharRE = /^[AP]$/gi;\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    const newValue = value.toUpperCase();\n    const newData = data.toUpperCase();\n    if (newValue.match(ALL_MERIDIEM_CHARACTERS_RE) && newData.match(mainMeridiemCharRE)) {\n      return {\n        elementState: {\n          value: newValue.replaceAll(ALL_MERIDIEM_CHARACTERS_RE, ''),\n          selection\n        },\n        data: `${newData}M`\n      };\n    }\n    return {\n      elementState: {\n        selection,\n        value: newValue\n      },\n      data: newData\n    };\n  };\n}\nfunction createMeridiemPostprocessor(timeMode) {\n  if (!timeMode.includes('AA')) {\n    return identity;\n  }\n  return ({\n    value,\n    selection\n  }, initialElementState) => {\n    if (!value.match(ANY_MERIDIEM_CHARACTER_RE) || value.match(ALL_MERIDIEM_CHARACTERS_RE)) {\n      return {\n        value,\n        selection\n      };\n    }\n    const [from, to] = selection;\n    // any meridiem character was deleted\n    if (initialElementState.value.match(ALL_MERIDIEM_CHARACTERS_RE)) {\n      const newValue = value.replace(ANY_MERIDIEM_CHARACTER_RE, '');\n      return {\n        value: newValue,\n        selection: [Math.min(from, newValue.length), Math.min(to, newValue.length)]\n      };\n    }\n    const fullMeridiem = `${CHAR_NO_BREAK_SPACE}${value.includes('P') ? 'P' : 'A'}M`;\n    const newValue = value.replace(ANY_MERIDIEM_CHARACTER_RE, x => x !== CHAR_NO_BREAK_SPACE ? fullMeridiem : x);\n    return {\n      value: newValue,\n      selection: to >= newValue.indexOf(fullMeridiem) ? [newValue.length, newValue.length] : selection\n    };\n  };\n}\nfunction raiseSegmentValueToMin(segments, fullMode) {\n  const segmentsLength = getDateSegmentValueLength(fullMode);\n  return Object.fromEntries(Object.entries(segments).map(([key, value]) => {\n    const segmentLength = segmentsLength[key];\n    return [key, value.length === segmentLength && /^0+$/.exec(value) ? '1'.padStart(segmentLength, '0') : value];\n  }));\n}\nconst LEAP_YEAR = '1972';\nfunction createMinMaxDatePostprocessor({\n  dateModeTemplate,\n  min = DEFAULT_MIN_DATE,\n  max = DEFAULT_MAX_DATE,\n  rangeSeparator = '',\n  dateSegmentSeparator = '.'\n}) {\n  return ({\n    value,\n    selection\n  }) => {\n    const endsWithRangeSeparator = rangeSeparator && value.endsWith(rangeSeparator);\n    const dateStrings = parseDateRangeString(value, dateModeTemplate, rangeSeparator);\n    let validatedValue = '';\n    for (const dateString of dateStrings) {\n      validatedValue += validatedValue ? rangeSeparator : '';\n      const parsedDate = parseDateString(dateString, dateModeTemplate);\n      if (!isDateStringComplete(dateString, dateModeTemplate)) {\n        const fixedDate = raiseSegmentValueToMin(parsedDate, dateModeTemplate);\n        const fixedValue = toDateString(fixedDate, {\n          dateMode: dateModeTemplate\n        });\n        const tail = dateString.endsWith(dateSegmentSeparator) ? dateSegmentSeparator : '';\n        validatedValue += fixedValue + tail;\n        continue;\n      }\n      const date = segmentsToDate(Object.assign({\n        year: LEAP_YEAR\n      }, parsedDate));\n      const clampedDate = clamp(date, min, max);\n      validatedValue += toDateString(dateToSegments(clampedDate), {\n        dateMode: dateModeTemplate\n      });\n    }\n    return {\n      selection,\n      value: validatedValue + (endsWithRangeSeparator ? rangeSeparator : '')\n    };\n  };\n}\nfunction normalizeDatePreprocessor({\n  dateModeTemplate,\n  dateSegmentsSeparator,\n  rangeSeparator = '',\n  dateTimeSeparator = DATE_TIME_SEPARATOR\n}) {\n  return ({\n    elementState,\n    data\n  }) => {\n    const templateSegments = dateModeTemplate.split(dateSegmentsSeparator);\n    const includesTime = data.includes(dateTimeSeparator);\n    const dateSegments = data.slice(0, includesTime ? data.indexOf(dateTimeSeparator) : Infinity).split(/\\D/).filter(Boolean);\n    if (!dateSegments.length || dateSegments.length % templateSegments.length !== 0) {\n      return {\n        elementState,\n        data\n      };\n    }\n    const dates = dateSegments.reduce((dates, segment, index) => {\n      var _a;\n      const template = (_a = templateSegments[index % templateSegments.length]) !== null && _a !== void 0 ? _a : '';\n      const dateIndex = Math.trunc(index / templateSegments.length);\n      const isLastDateSegment = index % templateSegments.length === templateSegments.length - 1;\n      if (!dates[dateIndex]) {\n        dates[dateIndex] = '';\n      }\n      dates[dateIndex] += isLastDateSegment ? segment : `${segment.padStart(template.length, '0')}${dateSegmentsSeparator}`;\n      return dates;\n    }, []);\n    return {\n      elementState,\n      data: includesTime ? `${dates[0]}${data.slice(data.indexOf(dateTimeSeparator))}` : dates.join(rangeSeparator)\n    };\n  };\n}\nfunction maskitoPostfixPostprocessorGenerator(postfix) {\n  const postfixRE = new RegExp(`${escapeRegExp(postfix)}$`);\n  return postfix ? ({\n    value,\n    selection\n  }, initialElementState) => {\n    if (!value && !initialElementState.value.endsWith(postfix)) {\n      // cases when developer wants input to be empty (programmatically)\n      return {\n        value,\n        selection\n      };\n    }\n    if (!value.endsWith(postfix) && !initialElementState.value.endsWith(postfix)) {\n      return {\n        selection,\n        value: value + postfix\n      };\n    }\n    const initialValueBeforePostfix = initialElementState.value.replace(postfixRE, '');\n    const postfixWasModified = initialElementState.selection[1] > initialValueBeforePostfix.length;\n    const alreadyExistedValueBeforePostfix = findCommonBeginningSubstr(initialValueBeforePostfix, value);\n    return {\n      selection,\n      value: Array.from(postfix).reverse().reduce((newValue, char, index) => {\n        const i = newValue.length - 1 - index;\n        const isInitiallyMirroredChar = alreadyExistedValueBeforePostfix[i] === char && postfixWasModified;\n        return newValue[i] !== char || isInitiallyMirroredChar ? newValue.slice(0, i + 1) + char + newValue.slice(i + 1) : newValue;\n      }, value)\n    };\n  } : identity;\n}\nfunction maskitoPrefixPostprocessorGenerator(prefix) {\n  return prefix ? ({\n    value,\n    selection\n  }, initialElementState) => {\n    if (value.startsWith(prefix) ||\n    // already valid\n    !value && !initialElementState.value.startsWith(prefix) // cases when developer wants input to be empty\n    ) {\n      return {\n        value,\n        selection\n      };\n    }\n    const [from, to] = selection;\n    const prefixedValue = Array.from(prefix).reduce((modifiedValue, char, i) => modifiedValue[i] === char ? modifiedValue : modifiedValue.slice(0, i) + char + modifiedValue.slice(i), value);\n    const addedCharsCount = prefixedValue.length - value.length;\n    return {\n      selection: [from + addedCharsCount, to + addedCharsCount],\n      value: prefixedValue\n    };\n  } : identity;\n}\nfunction createValidDatePreprocessor({\n  dateModeTemplate,\n  dateSegmentsSeparator,\n  rangeSeparator = ''\n}) {\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    if (data === dateSegmentsSeparator) {\n      return {\n        elementState,\n        data: selection[0] === value.length ? data : ''\n      };\n    }\n    const newCharacters = data.replaceAll(new RegExp(`[^\\\\d${escapeRegExp(dateSegmentsSeparator)}${rangeSeparator}]`, 'g'), '');\n    if (!newCharacters) {\n      return {\n        elementState,\n        data: ''\n      };\n    }\n    const [from, rawTo] = selection;\n    let to = rawTo + data.length;\n    const newPossibleValue = value.slice(0, from) + newCharacters + value.slice(to);\n    const dateStrings = parseDateRangeString(newPossibleValue, dateModeTemplate, rangeSeparator);\n    let validatedValue = '';\n    const hasRangeSeparator = Boolean(rangeSeparator) && newPossibleValue.includes(rangeSeparator);\n    for (const dateString of dateStrings) {\n      const {\n        validatedDateString,\n        updatedSelection\n      } = validateDateString({\n        dateString,\n        dateModeTemplate,\n        dateSegmentsSeparator,\n        offset: validatedValue.length,\n        selection: [from, to]\n      });\n      if (dateString && !validatedDateString) {\n        return {\n          elementState,\n          data: ''\n        }; // prevent changes\n      }\n      to = updatedSelection[1];\n      validatedValue += hasRangeSeparator && !validatedValue ? validatedDateString + rangeSeparator : validatedDateString;\n    }\n    const newData = validatedValue.slice(from, to);\n    return {\n      elementState: {\n        selection,\n        value: validatedValue.slice(0, from) + newData.split(dateSegmentsSeparator).map(segment => '0'.repeat(segment.length)).join(dateSegmentsSeparator) + validatedValue.slice(to)\n      },\n      data: newData\n    };\n  };\n}\nfunction maskitoEventHandler(name, handler, eventListenerOptions) {\n  return (element, maskitoOptions) => {\n    const listener = () => handler(element, maskitoOptions);\n    element.addEventListener(name, listener, eventListenerOptions);\n    return () => element.removeEventListener(name, listener, eventListenerOptions);\n  };\n}\nfunction maskitoAddOnFocusPlugin(value) {\n  return maskitoEventHandler('focus', element => {\n    if (!element.value) {\n      maskitoUpdateElement(element, value);\n    }\n  });\n}\nfunction maskitoSelectionChangeHandler(handler) {\n  return (element, options) => {\n    const document = element.ownerDocument;\n    let isPointerDown = 0;\n    const onPointerDown = () => isPointerDown++;\n    const onPointerUp = () => {\n      isPointerDown = Math.max(--isPointerDown, 0);\n    };\n    const listener = () => {\n      if (!element.matches(':focus')) {\n        return;\n      }\n      if (isPointerDown) {\n        return document.addEventListener('mouseup', listener, {\n          once: true,\n          passive: true\n        });\n      }\n      handler(element, options);\n    };\n    document.addEventListener('selectionchange', listener, {\n      passive: true\n    });\n    // Safari does not fire `selectionchange` on focus after programmatic update of textfield value\n    element.addEventListener('focus', listener, {\n      passive: true\n    });\n    element.addEventListener('mousedown', onPointerDown, {\n      passive: true\n    });\n    document.addEventListener('mouseup', onPointerUp, {\n      passive: true\n    });\n    return () => {\n      document.removeEventListener('selectionchange', listener);\n      element.removeEventListener('focus', listener);\n      element.removeEventListener('mousedown', onPointerDown);\n      document.removeEventListener('mouseup', onPointerUp);\n    };\n  };\n}\nfunction maskitoCaretGuard(guard) {\n  return maskitoSelectionChangeHandler(element => {\n    var _a, _b;\n    const start = (_a = element.selectionStart) !== null && _a !== void 0 ? _a : 0;\n    const end = (_b = element.selectionEnd) !== null && _b !== void 0 ? _b : 0;\n    const [fromLimit, toLimit] = guard(element.value, [start, end]);\n    if (fromLimit > start || toLimit < end) {\n      element.setSelectionRange(clamp(start, fromLimit, toLimit), clamp(end, fromLimit, toLimit));\n    }\n  });\n}\nconst maskitoRejectEvent = element => {\n  const listener = () => {\n    const value = element.value;\n    element.addEventListener('beforeinput', event => {\n      if (event.defaultPrevented && value === element.value) {\n        element.dispatchEvent(new CustomEvent('maskitoReject', {\n          bubbles: true\n        }));\n      }\n    }, {\n      once: true\n    });\n  };\n  element.addEventListener('beforeinput', listener, true);\n  return () => element.removeEventListener('beforeinput', listener, true);\n};\nfunction maskitoRemoveOnBlurPlugin(value) {\n  return maskitoEventHandler('blur', element => {\n    if (element.value === value) {\n      maskitoUpdateElement(element, '');\n    }\n  });\n}\nfunction createMeridiemSteppingPlugin(meridiemStartIndex) {\n  if (meridiemStartIndex < 0) {\n    return noop;\n  }\n  return element => {\n    const listener = event => {\n      const caretIndex = Number(element.selectionStart);\n      const value = element.value.toUpperCase();\n      if (event.key !== 'ArrowUp' && event.key !== 'ArrowDown' || caretIndex < meridiemStartIndex) {\n        return;\n      }\n      event.preventDefault();\n      // eslint-disable-next-line no-nested-ternary\n      const meridiemMainCharacter = value.includes('A') ? 'P' : value.includes('P') || event.key === 'ArrowUp' ? 'A' : 'P';\n      const newMeridiem = `${CHAR_NO_BREAK_SPACE}${meridiemMainCharacter}M`;\n      maskitoUpdateElement(element, {\n        value: value.length === meridiemStartIndex ? value + newMeridiem : value.replace(ANY_MERIDIEM_CHARACTER_RE, newMeridiem),\n        selection: [caretIndex, caretIndex]\n      });\n    };\n    element.addEventListener('keydown', listener);\n    return () => element.removeEventListener('keydown', listener);\n  };\n}\nfunction createTimeSegmentsSteppingPlugin({\n  step,\n  fullMode,\n  timeSegmentMaxValues\n}) {\n  const segmentsIndexes = createTimeSegmentsIndexes(fullMode);\n  return step <= 0 ? noop : element => {\n    const listener = event => {\n      var _a;\n      if (event.key !== 'ArrowUp' && event.key !== 'ArrowDown') {\n        return;\n      }\n      event.preventDefault();\n      const selectionStart = (_a = element.selectionStart) !== null && _a !== void 0 ? _a : 0;\n      const activeSegment = getActiveSegment({\n        segmentsIndexes,\n        selectionStart\n      });\n      if (!activeSegment) {\n        return;\n      }\n      const updatedValue = updateSegmentValue({\n        selection: segmentsIndexes.get(activeSegment),\n        value: element.value,\n        toAdd: event.key === 'ArrowUp' ? step : -step,\n        max: timeSegmentMaxValues[activeSegment]\n      });\n      maskitoUpdateElement(element, {\n        value: updatedValue,\n        selection: [selectionStart, selectionStart]\n      });\n    };\n    element.addEventListener('keydown', listener);\n    return () => element.removeEventListener('keydown', listener);\n  };\n}\nfunction createTimeSegmentsIndexes(fullMode) {\n  return new Map([['hours', getSegmentRange(fullMode, 'HH')], ['milliseconds', getSegmentRange(fullMode, 'MSS')], ['minutes', getSegmentRange(fullMode, 'MM')], ['seconds', getSegmentRange(fullMode, 'SS')]]);\n}\nfunction getSegmentRange(mode, segment) {\n  const index = mode.indexOf(segment);\n  return index === -1 ? [-1, -1] : [index, index + segment.length];\n}\nfunction getActiveSegment({\n  segmentsIndexes,\n  selectionStart\n}) {\n  for (const [segmentName, segmentRange] of segmentsIndexes.entries()) {\n    const [from, to] = segmentRange;\n    if (from <= selectionStart && selectionStart <= to) {\n      return segmentName;\n    }\n  }\n  return null;\n}\nfunction updateSegmentValue({\n  selection,\n  value,\n  toAdd,\n  max\n}) {\n  const [from, to] = selection;\n  const segmentValue = Number(value.slice(from, to).padEnd(to - from, '0'));\n  const newSegmentValue = mod(segmentValue + toAdd, max + 1);\n  return value.slice(0, from) + String(newSegmentValue).padStart(to - from, '0') + value.slice(to, value.length);\n}\nfunction mod(value, max) {\n  if (value < 0) {\n    value += Math.floor(Math.abs(value) / max + 1) * max;\n  }\n  return value % max;\n}\nfunction maskitoWithPlaceholder(placeholder, focusedOnly = false) {\n  let lastClearValue = '';\n  let action = 'validation';\n  const removePlaceholder = value => {\n    for (let i = value.length - 1; i >= lastClearValue.length; i--) {\n      if (value[i] !== placeholder[i]) {\n        return value.slice(0, i + 1);\n      }\n    }\n    return value.slice(0, lastClearValue.length);\n  };\n  const plugins = [maskitoCaretGuard(value => [0, removePlaceholder(value).length])];\n  let focused = false;\n  if (focusedOnly) {\n    const focus = maskitoEventHandler('focus', element => {\n      focused = true;\n      maskitoUpdateElement(element, element.value + placeholder.slice(element.value.length));\n    }, {\n      capture: true\n    });\n    const blur = maskitoEventHandler('blur', element => {\n      focused = false;\n      maskitoUpdateElement(element, removePlaceholder(element.value));\n    }, {\n      capture: true\n    });\n    plugins.push(focus, blur);\n  }\n  return {\n    plugins,\n    removePlaceholder,\n    preprocessors: [({\n      elementState,\n      data\n    }, actionType) => {\n      action = actionType;\n      const {\n        value,\n        selection\n      } = elementState;\n      return {\n        elementState: {\n          selection,\n          value: removePlaceholder(value)\n        },\n        data\n      };\n    }],\n    postprocessors: [({\n      value,\n      selection\n    }, initialElementState) => {\n      lastClearValue = value;\n      const justPlaceholderRemoval = value + placeholder.slice(value.length, initialElementState.value.length) === initialElementState.value;\n      if (action === 'validation' && justPlaceholderRemoval) {\n        /**\n         * If `value` still equals to `initialElementState.value`,\n         * then it means that value is patched programmatically (from Maskito's plugin or externally).\n         * In this case, we don't want to mutate value and automatically add/remove placeholder.\n         * ___\n         * For example, developer wants to remove manually placeholder (+ do something else with value) on blur.\n         * Without this condition, placeholder will be unexpectedly added again.\n         */\n        return {\n          selection,\n          value: initialElementState.value\n        };\n      }\n      const newValue = focused || !focusedOnly ? value + placeholder.slice(value.length) : value;\n      if (newValue === initialElementState.value && action === 'deleteBackward') {\n        const [caretIndex] = initialElementState.selection;\n        return {\n          value: newValue,\n          selection: [caretIndex, caretIndex]\n        };\n      }\n      return {\n        value: newValue,\n        selection\n      };\n    }]\n  };\n}\nfunction createZeroPlaceholdersPreprocessor() {\n  return ({\n    elementState\n  }, actionType) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    if (!value || isLastChar(value, selection)) {\n      return {\n        elementState\n      };\n    }\n    const [from, to] = selection;\n    const zeroes = value.slice(from, to).replaceAll(/\\d/g, '0');\n    const newValue = value.slice(0, from) + zeroes + value.slice(to);\n    if (!zeroes.replaceAll(/\\D/g, '')) {\n      return {\n        elementState\n      };\n    }\n    if (actionType === 'validation' || actionType === 'insert' && from === to) {\n      return {\n        elementState: {\n          selection,\n          value: newValue\n        }\n      };\n    }\n    return {\n      elementState: {\n        selection: actionType === 'deleteBackward' || actionType === 'insert' ? [from, from] : [to, to],\n        value: newValue\n      }\n    };\n  };\n}\nfunction isLastChar(value, [_, to]) {\n  return to === value.length;\n}\nfunction maskitoDateOptionsGenerator({\n  mode,\n  separator = '.',\n  max,\n  min\n}) {\n  const dateModeTemplate = mode.split('/').join(separator);\n  return Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), {\n    mask: Array.from(dateModeTemplate).map(char => separator.includes(char) ? char : /\\d/),\n    overwriteMode: 'replace',\n    preprocessors: [createFullWidthToHalfWidthPreprocessor(), createZeroPlaceholdersPreprocessor(), normalizeDatePreprocessor({\n      dateModeTemplate,\n      dateSegmentsSeparator: separator\n    }), createValidDatePreprocessor({\n      dateModeTemplate,\n      dateSegmentsSeparator: separator\n    })],\n    postprocessors: [createDateSegmentsZeroPaddingPostprocessor({\n      dateModeTemplate,\n      dateSegmentSeparator: separator,\n      splitFn: value => ({\n        dateStrings: [value]\n      }),\n      uniteFn: ([dateString = '']) => dateString\n    }), createMinMaxDatePostprocessor({\n      min,\n      max,\n      dateModeTemplate,\n      dateSegmentSeparator: separator\n    })]\n  });\n}\nfunction maskitoParseDate(value, {\n  mode,\n  min = DEFAULT_MIN_DATE,\n  max = DEFAULT_MAX_DATE\n}) {\n  const dateSegments = parseDateString(value, mode);\n  const parsedDate = segmentsToDate(dateSegments);\n  return clamp(parsedDate, min, max);\n}\nconst formatter = Intl.DateTimeFormat('en-US', {\n  month: '2-digit',\n  day: '2-digit',\n  year: 'numeric'\n});\nfunction toDateSegments(date) {\n  return formatter.formatToParts(date).reduce((acc, part) => Object.assign(Object.assign({}, acc), {\n    [part.type]: part.value\n  }), {});\n}\nfunction maskitoStringifyDate(date, {\n  mode,\n  separator = '.',\n  min = DEFAULT_MIN_DATE,\n  max = DEFAULT_MAX_DATE\n}) {\n  const validatedDate = clamp(date, min, max);\n  const segments = toDateSegments(validatedDate);\n  return toDateString(segments, {\n    dateMode: mode.replaceAll('/', separator)\n  });\n}\nconst POSSIBLE_DATE_RANGE_SEPARATOR = [CHAR_HYPHEN, CHAR_EN_DASH, CHAR_EM_DASH, CHAR_MINUS, CHAR_JP_HYPHEN];\nfunction createMinMaxRangeLengthPostprocessor({\n  dateModeTemplate,\n  rangeSeparator,\n  minLength,\n  maxLength,\n  max = DEFAULT_MAX_DATE\n}) {\n  if (isEmpty(minLength) && isEmpty(maxLength)) {\n    return identity;\n  }\n  return ({\n    value,\n    selection\n  }) => {\n    const dateStrings = parseDateRangeString(value, dateModeTemplate, rangeSeparator);\n    if (dateStrings.length !== 2 || dateStrings.some(date => !isDateStringComplete(date, dateModeTemplate))) {\n      return {\n        value,\n        selection\n      };\n    }\n    const [fromDate, toDate] = dateStrings.map(dateString => segmentsToDate(parseDateString(dateString, dateModeTemplate)));\n    if (!fromDate || !toDate) {\n      return {\n        value,\n        selection\n      };\n    }\n    const minDistantToDate = appendDate(fromDate, Object.assign(Object.assign({}, minLength), {\n      // 06.02.2023 - 07.02.2023 => {minLength: {day: 3}} => 06.02.2023 - 08.02.2023\n      // \"from\"-day is included in the range\n      day: (minLength === null || minLength === void 0 ? void 0 : minLength.day) && minLength.day - 1\n    }));\n    const maxDistantToDate = !isEmpty(maxLength) ? appendDate(fromDate, Object.assign(Object.assign({}, maxLength), {\n      day: (maxLength === null || maxLength === void 0 ? void 0 : maxLength.day) && maxLength.day - 1\n    })) : max;\n    const minLengthClampedToDate = clamp(toDate, minDistantToDate, max);\n    const minMaxLengthClampedToDate = minLengthClampedToDate > maxDistantToDate ? maxDistantToDate : minLengthClampedToDate;\n    return {\n      selection,\n      value: dateStrings[0] + rangeSeparator + toDateString(dateToSegments(minMaxLengthClampedToDate), {\n        dateMode: dateModeTemplate\n      })\n    };\n  };\n}\nfunction createSwapDatesPostprocessor({\n  dateModeTemplate,\n  rangeSeparator\n}) {\n  return ({\n    value,\n    selection\n  }) => {\n    const dateStrings = parseDateRangeString(value, dateModeTemplate, rangeSeparator);\n    const isDateRangeComplete = dateStrings.length === 2 && dateStrings.every(date => isDateStringComplete(date, dateModeTemplate));\n    const [from, to] = selection;\n    const caretAtTheEnd = from >= value.length;\n    const allValueSelected = from === 0 && to >= value.length; // dropping text inside with a pointer\n    if (!(caretAtTheEnd || allValueSelected) || !isDateRangeComplete) {\n      return {\n        value,\n        selection\n      };\n    }\n    const [fromDate, toDate] = dateStrings.map(dateString => segmentsToDate(parseDateString(dateString, dateModeTemplate)));\n    return {\n      selection,\n      value: fromDate && toDate && fromDate > toDate ? dateStrings.reverse().join(rangeSeparator) : value\n    };\n  };\n}\nfunction maskitoDateRangeOptionsGenerator({\n  mode,\n  min,\n  max,\n  minLength,\n  maxLength,\n  dateSeparator = '.',\n  rangeSeparator = `${CHAR_NO_BREAK_SPACE}${CHAR_EN_DASH}${CHAR_NO_BREAK_SPACE}`\n}) {\n  const dateModeTemplate = mode.split('/').join(dateSeparator);\n  const dateMask = Array.from(dateModeTemplate).map(char => dateSeparator.includes(char) ? char : /\\d/);\n  return Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), {\n    mask: [...dateMask, ...Array.from(rangeSeparator), ...dateMask],\n    overwriteMode: 'replace',\n    preprocessors: [createFullWidthToHalfWidthPreprocessor(), createFirstDateEndSeparatorPreprocessor({\n      dateModeTemplate,\n      dateSegmentSeparator: dateSeparator,\n      firstDateEndSeparator: rangeSeparator,\n      pseudoFirstDateEndSeparators: POSSIBLE_DATE_RANGE_SEPARATOR\n    }), createZeroPlaceholdersPreprocessor(), normalizeDatePreprocessor({\n      dateModeTemplate,\n      rangeSeparator,\n      dateSegmentsSeparator: dateSeparator\n    }), createValidDatePreprocessor({\n      dateModeTemplate,\n      rangeSeparator,\n      dateSegmentsSeparator: dateSeparator\n    })],\n    postprocessors: [createDateSegmentsZeroPaddingPostprocessor({\n      dateModeTemplate,\n      dateSegmentSeparator: dateSeparator,\n      splitFn: value => ({\n        dateStrings: parseDateRangeString(value, dateModeTemplate, rangeSeparator)\n      }),\n      uniteFn: (validatedDateStrings, initialValue) => validatedDateStrings.reduce((acc, dateString, dateIndex) => acc + dateString + (!dateIndex && initialValue.includes(rangeSeparator) ? rangeSeparator : ''), '')\n    }), createMinMaxDatePostprocessor({\n      min,\n      max,\n      dateModeTemplate,\n      rangeSeparator,\n      dateSegmentSeparator: dateSeparator\n    }), createMinMaxRangeLengthPostprocessor({\n      dateModeTemplate,\n      minLength,\n      maxLength,\n      max,\n      rangeSeparator\n    }), createSwapDatesPostprocessor({\n      dateModeTemplate,\n      rangeSeparator\n    })]\n  });\n}\nfunction isDateTimeStringComplete(dateTimeString, {\n  dateMode,\n  timeMode,\n  dateTimeSeparator = DATE_TIME_SEPARATOR\n}) {\n  var _a;\n  return dateTimeString.length >= dateMode.length + timeMode.length + dateTimeSeparator.length && ((_a = dateTimeString.split(dateTimeSeparator)[0]) !== null && _a !== void 0 ? _a : '').split(/\\D/).every(segment => !/^0+$/.exec(segment));\n}\nconst NON_DIGIT_PLACEHOLDER_RE = /[^dmy]/g;\nconst LEADING_NON_DIGIT_RE = /^\\D*/;\nfunction parseDateTimeString(dateTime, dateModeTemplate) {\n  const dateDigitsCount = dateModeTemplate.replaceAll(NON_DIGIT_PLACEHOLDER_RE, '').length;\n  const [date = ''] = new RegExp(`(\\\\d[^\\\\d]*){0,${dateDigitsCount - 1}}\\\\d?`).exec(dateTime) || [];\n  const [dateTimeSeparator = ''] = LEADING_NON_DIGIT_RE.exec(dateTime.slice(date.length)) || [];\n  return [date, dateTime.slice(date.length + dateTimeSeparator.length)];\n}\nfunction createMinMaxDateTimePostprocessor({\n  dateModeTemplate,\n  timeMode,\n  min = DEFAULT_MIN_DATE,\n  max = DEFAULT_MAX_DATE,\n  dateTimeSeparator\n}) {\n  return ({\n    value,\n    selection\n  }) => {\n    const [dateString, timeString] = parseDateTimeString(value, dateModeTemplate);\n    const parsedDate = parseDateString(dateString, dateModeTemplate);\n    const parsedTime = parseTimeString(timeString, timeMode);\n    if (!isDateTimeStringComplete(value, {\n      dateMode: dateModeTemplate,\n      timeMode,\n      dateTimeSeparator\n    })) {\n      const fixedDate = raiseSegmentValueToMin(parsedDate, dateModeTemplate);\n      const {\n        year,\n        month,\n        day\n      } = isDateStringComplete(dateString, dateModeTemplate) ? dateToSegments(clamp(segmentsToDate(fixedDate), min, max)) : fixedDate;\n      const fixedValue = toDateString(Object.assign({\n        year,\n        month,\n        day\n      }, parsedTime), {\n        dateMode: dateModeTemplate,\n        dateTimeSeparator,\n        timeMode\n      });\n      const tail = value.slice(fixedValue.length);\n      return {\n        selection,\n        value: fixedValue + tail\n      };\n    }\n    const date = segmentsToDate(parsedDate, parsedTime);\n    const clampedDate = clamp(date, min, max);\n    // trailing segment separators or meridiem characters\n    const [trailingNonDigitCharacters = ''] = value.match(/\\D+$/g) || [];\n    const validatedValue = toDateString(dateToSegments(clampedDate), {\n      dateMode: dateModeTemplate,\n      dateTimeSeparator,\n      timeMode\n    }) + trailingNonDigitCharacters;\n    return {\n      selection,\n      value: validatedValue\n    };\n  };\n}\nfunction createValidDateTimePreprocessor({\n  dateModeTemplate,\n  dateSegmentsSeparator,\n  dateTimeSeparator,\n  timeMode,\n  timeSegmentMaxValues\n}) {\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    if (data === dateSegmentsSeparator) {\n      return {\n        elementState,\n        data: selection[0] === value.length ? data : ''\n      };\n    }\n    const newCharacters = data.replaceAll(/\\D/g, '');\n    if (!newCharacters) {\n      return {\n        elementState,\n        data\n      };\n    }\n    const [from, rawTo] = selection;\n    let to = rawTo + data.length;\n    const newPossibleValue = value.slice(0, from) + newCharacters + value.slice(to);\n    const [dateString, timeString] = parseDateTimeString(newPossibleValue, dateModeTemplate);\n    let validatedValue = '';\n    const hasDateTimeSeparator = newPossibleValue.includes(dateTimeSeparator);\n    const {\n      validatedDateString,\n      updatedSelection\n    } = validateDateString({\n      dateString,\n      dateSegmentsSeparator,\n      dateModeTemplate,\n      offset: 0,\n      selection: [from, to]\n    });\n    if (dateString && !validatedDateString) {\n      return {\n        elementState,\n        data: ''\n      }; // prevent changes\n    }\n    to = updatedSelection[1];\n    validatedValue += validatedDateString;\n    const updatedTimeState = enrichTimeSegmentsWithZeroes({\n      value: timeString,\n      selection: [from, to]\n    }, {\n      mode: timeMode,\n      timeSegmentMaxValues\n    });\n    to = updatedTimeState.selection[1];\n    validatedValue += hasDateTimeSeparator ? dateTimeSeparator + updatedTimeState.value : updatedTimeState.value;\n    const newData = validatedValue.slice(from, to);\n    return {\n      elementState: {\n        selection,\n        value: validatedValue.slice(0, from) + newData.split(dateSegmentsSeparator).map(segment => '0'.repeat(segment.length)).join(dateSegmentsSeparator) + validatedValue.slice(to)\n      },\n      data: newData\n    };\n  };\n}\nfunction maskitoDateTimeOptionsGenerator({\n  dateMode,\n  timeMode,\n  dateSeparator = '.',\n  min,\n  max,\n  dateTimeSeparator = DATE_TIME_SEPARATOR,\n  timeStep = 0\n}) {\n  const hasMeridiem = timeMode.includes('AA');\n  const dateModeTemplate = dateMode.split('/').join(dateSeparator);\n  const timeSegmentMaxValues = Object.assign(Object.assign({}, DEFAULT_TIME_SEGMENT_MAX_VALUES), hasMeridiem ? {\n    hours: 12\n  } : {});\n  const timeSegmentMinValues = Object.assign(Object.assign({}, DEFAULT_TIME_SEGMENT_MIN_VALUES), hasMeridiem ? {\n    hours: 1\n  } : {});\n  const fullMode = `${dateModeTemplate}${dateTimeSeparator}${timeMode}`;\n  return Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), {\n    mask: [...Array.from(dateModeTemplate).map(char => dateSeparator.includes(char) ? char : /\\d/), ...dateTimeSeparator.split(''), ...createTimeMaskExpression(timeMode)],\n    overwriteMode: 'replace',\n    preprocessors: [createFullWidthToHalfWidthPreprocessor(), createColonConvertPreprocessor(), createFirstDateEndSeparatorPreprocessor({\n      dateModeTemplate,\n      dateSegmentSeparator: dateSeparator,\n      firstDateEndSeparator: dateTimeSeparator,\n      pseudoFirstDateEndSeparators: dateTimeSeparator.split('')\n    }), createZeroPlaceholdersPreprocessor(), createMeridiemPreprocessor(timeMode), normalizeDatePreprocessor({\n      dateModeTemplate,\n      dateSegmentsSeparator: dateSeparator,\n      dateTimeSeparator\n    }), createInvalidTimeSegmentInsertionPreprocessor({\n      timeMode,\n      timeSegmentMinValues,\n      timeSegmentMaxValues,\n      parseValue: x => {\n        const [dateString, timeString] = parseDateTimeString(x, dateModeTemplate);\n        return {\n          timeString,\n          restValue: dateString + dateTimeSeparator\n        };\n      }\n    }), createValidDateTimePreprocessor({\n      dateModeTemplate,\n      dateSegmentsSeparator: dateSeparator,\n      dateTimeSeparator,\n      timeMode,\n      timeSegmentMaxValues\n    })],\n    postprocessors: [createMeridiemPostprocessor(timeMode), createDateSegmentsZeroPaddingPostprocessor({\n      dateModeTemplate,\n      dateSegmentSeparator: dateSeparator,\n      splitFn: value => {\n        const [dateString, timeString] = parseDateTimeString(value, dateModeTemplate);\n        return {\n          dateStrings: [dateString],\n          restPart: timeString\n        };\n      },\n      uniteFn: ([validatedDateString], initialValue) => validatedDateString + (initialValue.includes(dateTimeSeparator) ? dateTimeSeparator : '')\n    }), createMinMaxDateTimePostprocessor({\n      min,\n      max,\n      dateModeTemplate,\n      timeMode,\n      dateTimeSeparator\n    })],\n    plugins: [createTimeSegmentsSteppingPlugin({\n      step: timeStep,\n      fullMode,\n      timeSegmentMaxValues: DEFAULT_TIME_SEGMENT_MAX_VALUES\n    }), createMeridiemSteppingPlugin(fullMode.indexOf('AA'))]\n  });\n}\n\n/**\n * It drops prefix and postfix from data\n * Needed for case, when prefix or postfix contain decimalSeparator, to ignore it in resulting number\n * @example User pastes '{prefix}123.45{postfix}' => 123.45\n */\nfunction createAffixesFilterPreprocessor({\n  prefix,\n  postfix\n}) {\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      cleanValue: cleanData\n    } = extractAffixes(data, {\n      prefix,\n      postfix\n    });\n    return {\n      elementState,\n      data: cleanData\n    };\n  };\n}\nfunction generateMaskExpression({\n  decimalSeparator,\n  isNegativeAllowed,\n  precision,\n  thousandSeparator,\n  prefix,\n  postfix,\n  decimalPseudoSeparators = [],\n  pseudoMinuses = [],\n  minusSign\n}) {\n  const computedPrefix = computeAllOptionalCharsRegExp(prefix);\n  const digit = String.raw`\\d`;\n  const optionalMinus = isNegativeAllowed ? `[${minusSign}${pseudoMinuses.map(x => `\\\\${x}`).join('')}]?` : '';\n  const integerPart = thousandSeparator ? `[${digit}${escapeRegExp(thousandSeparator).replaceAll(/\\s/g, String.raw`\\s`)}]*` : `[${digit}]*`;\n  const precisionPart = Number.isFinite(precision) ? precision : '';\n  const decimalPart = precision > 0 ? `([${escapeRegExp(decimalSeparator)}${decimalPseudoSeparators.map(escapeRegExp).join('')}]${digit}{0,${precisionPart}})?` : '';\n  const computedPostfix = computeAllOptionalCharsRegExp(postfix);\n  return new RegExp(`^${computedPrefix}${optionalMinus}${integerPart}${decimalPart}${computedPostfix}$`);\n}\nfunction computeAllOptionalCharsRegExp(str) {\n  return str ? `${str.split('').map(char => `${escapeRegExp(char)}?`).join('')}` : '';\n}\nfunction maskitoParseNumber(maskedNumber, decimalSeparator = '.') {\n  const hasNegativeSign = !!new RegExp(`^\\\\D*[${CHAR_MINUS}\\\\${CHAR_HYPHEN}${CHAR_EN_DASH}${CHAR_EM_DASH}${CHAR_JP_HYPHEN}]`).exec(maskedNumber);\n  const escapedDecimalSeparator = escapeRegExp(decimalSeparator);\n  const unmaskedNumber = maskedNumber\n  // drop all decimal separators not followed by a digit\n  .replaceAll(new RegExp(`${escapedDecimalSeparator}(?!\\\\d)`, 'g'), '')\n  // drop all non-digit characters except decimal separator\n  .replaceAll(new RegExp(`[^\\\\d${escapedDecimalSeparator}]`, 'g'), '').replace(decimalSeparator, decimalSeparator && '.');\n  if (unmaskedNumber) {\n    const sign = hasNegativeSign ? CHAR_HYPHEN : '';\n    return Number(`${sign}${unmaskedNumber}`);\n  }\n  return NaN;\n}\nfunction maskitoStringifyNumber(number, params) {\n  if (Number.isNaN(number) || number === null) {\n    return '';\n  }\n  const {\n    min = Number.MIN_SAFE_INTEGER,\n    max = Number.MAX_SAFE_INTEGER,\n    decimalSeparator = '.'\n  } = params;\n  const value = clamp(number, min, max).toString().replace('.', decimalSeparator);\n  return maskitoTransform(value, maskitoNumberOptionsGenerator(params));\n}\n\n/**\n * Convert number to string with replacing exponent part on decimals\n *\n * @param value the number\n * @return string representation of a number\n */\nfunction stringifyNumberWithoutExp(value) {\n  var _a;\n  const valueAsString = String(value);\n  const [numberPart = '', expPart] = valueAsString.split('e-');\n  let valueWithoutExp = valueAsString;\n  if (expPart) {\n    const [, fractionalPart] = numberPart.split('.');\n    const decimalDigits = Number(expPart) + ((_a = fractionalPart === null || fractionalPart === void 0 ? void 0 : fractionalPart.length) !== null && _a !== void 0 ? _a : 0);\n    valueWithoutExp = value.toFixed(decimalDigits);\n  }\n  return valueWithoutExp;\n}\nfunction toNumberParts(value, {\n  decimalSeparator,\n  minusSign\n}) {\n  const [integerWithMinus = '', decimalPart = ''] = decimalSeparator ? value.split(decimalSeparator) : [value];\n  const escapedMinus = escapeRegExp(minusSign);\n  const [, minus = '', integerPart = ''] = new RegExp(`^(?:[^\\\\d${escapedMinus}])?(${escapedMinus})?(.*)`).exec(integerWithMinus) || [];\n  return {\n    minus,\n    integerPart,\n    decimalPart\n  };\n}\nfunction validateDecimalPseudoSeparators({\n  decimalSeparator,\n  thousandSeparator,\n  decimalPseudoSeparators = DEFAULT_DECIMAL_PSEUDO_SEPARATORS\n}) {\n  return decimalPseudoSeparators.filter(char => char !== thousandSeparator && char !== decimalSeparator);\n}\n\n/**\n * If `decimalZeroPadding` is `true`, it pads decimal part with zeroes\n * (until number of digits after decimalSeparator is equal to the `precision`).\n * @example 1,42 => (`precision` is equal to 4) => 1,4200.\n */\nfunction createDecimalZeroPaddingPostprocessor({\n  decimalSeparator,\n  precision,\n  decimalZeroPadding,\n  prefix,\n  postfix\n}) {\n  if (precision <= 0 || !decimalZeroPadding) {\n    return identity;\n  }\n  return ({\n    value,\n    selection\n  }) => {\n    const {\n      cleanValue,\n      extractedPrefix,\n      extractedPostfix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    if (Number.isNaN(maskitoParseNumber(cleanValue, decimalSeparator))) {\n      return {\n        value,\n        selection\n      };\n    }\n    const [integerPart, decimalPart = ''] = cleanValue.split(decimalSeparator);\n    return {\n      value: extractedPrefix + integerPart + decimalSeparator + decimalPart.padEnd(precision, '0') + extractedPostfix,\n      selection\n    };\n  };\n}\n\n/**\n * Make textfield empty if there is no integer part and all decimal digits are zeroes.\n * @example 0|,00 => Backspace => Empty.\n * @example -0|,00 => Backspace => -.\n * @example ,42| => Backspace x2 => ,|00 => Backspace => Empty\n */\nfunction emptyPostprocessor({\n  prefix,\n  postfix,\n  decimalSeparator,\n  minusSign\n}) {\n  return ({\n    value,\n    selection\n  }) => {\n    const [caretIndex] = selection;\n    const {\n      cleanValue,\n      extractedPrefix,\n      extractedPostfix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const {\n      minus,\n      integerPart,\n      decimalPart\n    } = toNumberParts(cleanValue, {\n      decimalSeparator,\n      minusSign\n    });\n    const aloneDecimalSeparator = !integerPart && !decimalPart && Boolean(decimalSeparator) && cleanValue.includes(decimalSeparator);\n    if (!integerPart && !Number(decimalPart) && caretIndex === (minus + extractedPrefix).length || aloneDecimalSeparator) {\n      return {\n        selection,\n        value: extractedPrefix + minus + extractedPostfix\n      };\n    }\n    return {\n      value,\n      selection\n    };\n  };\n}\n\n/**\n * This preprocessor works only once at initialization phase (when `new Maskito(...)` is executed).\n * This preprocessor helps to avoid conflicts during transition from one mask to another (for the same input).\n * For example, the developer changes postfix (or other mask's props) during run-time.\n * ```\n * let maskitoOptions = maskitoNumberOptionsGenerator({postfix: ' year'});\n * // [3 seconds later]\n * maskitoOptions = maskitoNumberOptionsGenerator({postfix: ' years'});\n * ```\n */\nfunction createInitializationOnlyPreprocessor({\n  decimalSeparator,\n  decimalPseudoSeparators,\n  pseudoMinuses,\n  prefix,\n  postfix,\n  minusSign\n}) {\n  let isInitializationPhase = true;\n  const cleanNumberMask = generateMaskExpression({\n    decimalSeparator,\n    decimalPseudoSeparators,\n    pseudoMinuses,\n    prefix: '',\n    postfix: '',\n    thousandSeparator: '',\n    precision: Infinity,\n    isNegativeAllowed: true,\n    minusSign\n  });\n  return ({\n    elementState,\n    data\n  }) => {\n    if (!isInitializationPhase) {\n      return {\n        elementState,\n        data\n      };\n    }\n    isInitializationPhase = false;\n    const {\n      value,\n      selection\n    } = elementState;\n    const [from, to] = selection;\n    const {\n      extractedPrefix,\n      cleanValue,\n      extractedPostfix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const cleanState = maskitoTransform({\n      selection: [Math.max(from - extractedPrefix.length, 0), clamp(to - extractedPrefix.length, 0, cleanValue.length)],\n      value: cleanValue\n    }, {\n      mask: cleanNumberMask\n    });\n    const [cleanFrom, cleanTo] = cleanState.selection;\n    return {\n      elementState: {\n        selection: [cleanFrom + extractedPrefix.length, cleanTo + extractedPrefix.length],\n        value: extractedPrefix + cleanState.value + extractedPostfix\n      },\n      data\n    };\n  };\n}\n\n/**\n * It removes repeated leading zeroes for integer part.\n * @example 0,|00005 => Backspace => |5\n * @example -0,|00005 => Backspace => -|5\n * @example User types \"000000\" => 0|\n * @example 0| => User types \"5\" => 5|\n */\nfunction createLeadingZeroesValidationPostprocessor({\n  decimalSeparator,\n  thousandSeparator,\n  prefix,\n  postfix\n}) {\n  const trimLeadingZeroes = value => {\n    const escapedThousandSeparator = escapeRegExp(thousandSeparator);\n    return value.replace(\n    // all leading zeroes followed by another zero\n    new RegExp(`^(\\\\D+)?[0${escapedThousandSeparator}]+(?=0)`), '$1').replace(\n    // zero followed by not-zero digit\n    new RegExp(`^(\\\\D+)?[0${escapedThousandSeparator}]+(?=[1-9])`), '$1');\n  };\n  const countTrimmedZeroesBefore = (value, index) => {\n    const valueBefore = value.slice(0, index);\n    const followedByZero = value.slice(index).startsWith('0');\n    return valueBefore.length - trimLeadingZeroes(valueBefore).length + (followedByZero ? 1 : 0);\n  };\n  return ({\n    value,\n    selection\n  }) => {\n    const [from, to] = selection;\n    const {\n      cleanValue,\n      extractedPrefix,\n      extractedPostfix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const hasDecimalSeparator = Boolean(decimalSeparator) && cleanValue.includes(decimalSeparator);\n    const [integerPart = '', decimalPart = ''] = decimalSeparator ? cleanValue.split(decimalSeparator) : [cleanValue];\n    const zeroTrimmedIntegerPart = trimLeadingZeroes(integerPart);\n    if (integerPart === zeroTrimmedIntegerPart) {\n      return {\n        value,\n        selection\n      };\n    }\n    const newFrom = from - countTrimmedZeroesBefore(value, from);\n    const newTo = to - countTrimmedZeroesBefore(value, to);\n    return {\n      value: extractedPrefix + zeroTrimmedIntegerPart + (hasDecimalSeparator ? decimalSeparator : '') + decimalPart + extractedPostfix,\n      selection: [Math.max(newFrom, 0), Math.max(newTo, 0)]\n    };\n  };\n}\n\n/**\n * This postprocessor is connected with {@link createMinMaxPlugin}:\n * both validate `min`/`max` bounds of entered value (but at the different point of time).\n */\nfunction createMinMaxPostprocessor({\n  min,\n  max,\n  decimalSeparator,\n  minusSign\n}) {\n  return ({\n    value,\n    selection\n  }) => {\n    const parsedNumber = maskitoParseNumber(value, decimalSeparator);\n    const limitedValue =\n    /**\n     * We cannot limit lower bound if user enters positive number.\n     * The same for upper bound and negative number.\n     * ___\n     * @example (min = 5)\n     * Empty input => Without this condition user cannot type 42 (the first digit will be rejected)\n     * ___\n     * @example (max = -10)\n     * Value is -10 => Without this condition user cannot delete 0 to enter another digit\n     */\n    parsedNumber > 0 ? Math.min(parsedNumber, max) : Math.max(parsedNumber, min);\n    if (parsedNumber && limitedValue !== parsedNumber) {\n      const newValue = `${limitedValue}`.replace('.', decimalSeparator).replace(CHAR_HYPHEN, minusSign);\n      return {\n        value: newValue,\n        selection: [newValue.length, newValue.length]\n      };\n    }\n    return {\n      value,\n      selection\n    };\n  };\n}\n\n/**\n * Manage caret-navigation when user \"deletes\" non-removable digits or separators\n * @example 1,|42 => Backspace => 1|,42 (only if `decimalZeroPadding` is `true`)\n * @example 1|,42 => Delete => 1,|42 (only if `decimalZeroPadding` is `true`)\n * @example 0,|00 => Delete => 0,0|0 (only if `decimalZeroPadding` is `true`)\n * @example 1 |000 => Backspace => 1| 000 (always)\n */\nfunction createNonRemovableCharsDeletionPreprocessor({\n  decimalSeparator,\n  thousandSeparator,\n  decimalZeroPadding\n}) {\n  return ({\n    elementState,\n    data\n  }, actionType) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    const [from, to] = selection;\n    const selectedCharacters = value.slice(from, to);\n    const nonRemovableSeparators = decimalZeroPadding ? [decimalSeparator, thousandSeparator] : [thousandSeparator];\n    const areNonRemovableZeroesSelected = decimalZeroPadding && from > value.indexOf(decimalSeparator) && Boolean(selectedCharacters.match(/^0+$/gi));\n    if (actionType !== 'deleteBackward' && actionType !== 'deleteForward' || !nonRemovableSeparators.includes(selectedCharacters) && !areNonRemovableZeroesSelected) {\n      return {\n        elementState,\n        data\n      };\n    }\n    return {\n      elementState: {\n        value,\n        selection: actionType === 'deleteForward' ? [to, to] : [from, from]\n      },\n      data\n    };\n  };\n}\n\n/**\n * It pads integer part with zero if user types decimal separator (for empty input).\n * @example Empty input => User types \",\" (decimal separator) => 0,|\n */\nfunction createNotEmptyIntegerPartPreprocessor({\n  decimalSeparator,\n  precision,\n  prefix,\n  postfix\n}) {\n  const startWithDecimalSepRegExp = new RegExp(`^\\\\D*${escapeRegExp(decimalSeparator)}`);\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    const {\n      cleanValue,\n      extractedPrefix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const [from, to] = selection;\n    const cleanFrom = clamp(from - extractedPrefix.length, 0, cleanValue.length);\n    const cleanTo = clamp(to - extractedPrefix.length, 0, cleanValue.length);\n    if (precision <= 0 || cleanValue.slice(0, cleanFrom).includes(decimalSeparator) || cleanValue.slice(cleanTo).includes(decimalSeparator) || !data.match(startWithDecimalSepRegExp)) {\n      return {\n        elementState,\n        data\n      };\n    }\n    const digitsBeforeCursor = /\\d+/.exec(cleanValue.slice(0, cleanFrom));\n    return {\n      elementState,\n      data: digitsBeforeCursor ? data : `0${data}`\n    };\n  };\n}\n\n/**\n * It replaces pseudo characters with valid one.\n * @example User types '.' (but separator is equal to comma) => dot is replaced with comma.\n * @example User types hyphen / en-dash / em-dash => it is replaced with minus.\n */\nfunction createPseudoCharactersPreprocessor({\n  validCharacter,\n  pseudoCharacters,\n  prefix,\n  postfix\n}) {\n  const pseudoCharactersRegExp = new RegExp(`[${pseudoCharacters.join('')}]`, 'gi');\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    const {\n      cleanValue,\n      extractedPostfix,\n      extractedPrefix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    return {\n      elementState: {\n        selection,\n        value: extractedPrefix + cleanValue.replace(pseudoCharactersRegExp, validCharacter) + extractedPostfix\n      },\n      data: data.replace(pseudoCharactersRegExp, validCharacter)\n    };\n  };\n}\n\n/**\n * It rejects new typed decimal separator if it already exists in text field.\n * Behaviour is similar to native <input type=\"number\"> (Chrome).\n * @example 1|23,45 => Press comma (decimal separator) => 1|23,45 (do nothing).\n */\nfunction createRepeatedDecimalSeparatorPreprocessor({\n  decimalSeparator,\n  prefix,\n  postfix\n}) {\n  if (!decimalSeparator) {\n    return identity;\n  }\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    const [from, to] = selection;\n    const {\n      cleanValue\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    return {\n      elementState,\n      data: !cleanValue.includes(decimalSeparator) || value.slice(from, to + 1).includes(decimalSeparator) ? data : data.replaceAll(new RegExp(escapeRegExp(decimalSeparator), 'gi'), '')\n    };\n  };\n}\n\n/**\n * It adds symbol for separating thousands.\n * @example 1000000 => (thousandSeparator is equal to space) => 1 000 000.\n */\nfunction createThousandSeparatorPostprocessor({\n  thousandSeparator,\n  decimalSeparator,\n  prefix,\n  postfix,\n  minusSign\n}) {\n  if (!thousandSeparator) {\n    return identity;\n  }\n  const isAllSpaces = (...chars) => chars.every(x => /\\s/.test(x));\n  return ({\n    value,\n    selection\n  }) => {\n    const [initialFrom, initialTo] = selection;\n    let [from, to] = selection;\n    const {\n      cleanValue,\n      extractedPostfix,\n      extractedPrefix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const {\n      minus,\n      integerPart,\n      decimalPart\n    } = toNumberParts(cleanValue, {\n      decimalSeparator,\n      minusSign\n    });\n    const hasDecimalSeparator = decimalSeparator && cleanValue.includes(decimalSeparator);\n    const deletedChars = cleanValue.length - (minus + integerPart + (hasDecimalSeparator ? decimalSeparator + decimalPart : '')).length;\n    if (deletedChars > 0 && initialFrom && initialFrom <= deletedChars) {\n      from -= deletedChars;\n    }\n    if (deletedChars > 0 && initialTo && initialTo <= deletedChars) {\n      to -= deletedChars;\n    }\n    const processedIntegerPart = Array.from(integerPart).reduceRight((formattedValuePart, char, i) => {\n      const isLeadingThousandSeparator = !i && char === thousandSeparator;\n      const isPositionForSeparator = !isLeadingThousandSeparator && Boolean(formattedValuePart.length) && (formattedValuePart.length + 1) % 4 === 0;\n      const isSeparator = char === thousandSeparator || isAllSpaces(char, thousandSeparator);\n      if (isPositionForSeparator && isSeparator) {\n        return thousandSeparator + formattedValuePart;\n      }\n      if (!isPositionForSeparator && isSeparator) {\n        if (i && i <= initialFrom) {\n          from--;\n        }\n        if (i && i <= initialTo) {\n          to--;\n        }\n        return formattedValuePart;\n      }\n      if (!isPositionForSeparator) {\n        return char + formattedValuePart;\n      }\n      if (i < initialFrom) {\n        from++;\n      }\n      if (i < initialTo) {\n        to++;\n      }\n      return char + thousandSeparator + formattedValuePart;\n    }, '');\n    return {\n      value: extractedPrefix + minus + processedIntegerPart + (hasDecimalSeparator ? decimalSeparator : '') + decimalPart + extractedPostfix,\n      selection: [from, to]\n    };\n  };\n}\n\n/**\n * It drops decimal part if precision is zero.\n * @example User pastes '123.45' (but precision is zero) => 123\n */\nfunction createZeroPrecisionPreprocessor({\n  precision,\n  decimalSeparator,\n  prefix,\n  postfix\n}) {\n  if (precision > 0 || !decimalSeparator // all separators should be treated only as thousand separators\n  ) {\n    return identity;\n  }\n  const decimalPartRegExp = new RegExp(`${escapeRegExp(decimalSeparator)}.*$`, 'g');\n  return ({\n    elementState,\n    data\n  }) => {\n    const {\n      value,\n      selection\n    } = elementState;\n    const {\n      cleanValue,\n      extractedPrefix,\n      extractedPostfix\n    } = extractAffixes(value, {\n      prefix,\n      postfix\n    });\n    const [from, to] = selection;\n    const newValue = extractedPrefix + cleanValue.replace(decimalPartRegExp, '') + extractedPostfix;\n    return {\n      elementState: {\n        selection: [Math.min(from, newValue.length), Math.min(to, newValue.length)],\n        value: newValue\n      },\n      data: data.replace(decimalPartRegExp, '')\n    };\n  };\n}\nconst DUMMY_SELECTION = [0, 0];\n/**\n * It removes repeated leading zeroes for integer part on blur-event.\n * @example 000000 => blur => 0\n * @example 00005 => blur => 5\n */\nfunction createLeadingZeroesValidationPlugin({\n  decimalSeparator,\n  thousandSeparator,\n  prefix,\n  postfix\n}) {\n  const dropRepeatedLeadingZeroes = createLeadingZeroesValidationPostprocessor({\n    decimalSeparator,\n    thousandSeparator,\n    prefix,\n    postfix\n  });\n  return maskitoEventHandler('blur', element => {\n    const newValue = dropRepeatedLeadingZeroes({\n      value: element.value,\n      selection: DUMMY_SELECTION\n    }, {\n      value: '',\n      selection: DUMMY_SELECTION\n    }).value;\n    maskitoUpdateElement(element, newValue);\n  }, {\n    capture: true\n  });\n}\n\n/**\n * This plugin is connected with {@link createMinMaxPostprocessor}:\n * both validate `min`/`max` bounds of entered value (but at the different point of time).\n */\nfunction createMinMaxPlugin({\n  min,\n  max,\n  decimalSeparator\n}) {\n  return maskitoEventHandler('blur', (element, options) => {\n    const parsedNumber = maskitoParseNumber(element.value, decimalSeparator);\n    const clampedNumber = clamp(parsedNumber, min, max);\n    if (!Number.isNaN(parsedNumber) && parsedNumber !== clampedNumber) {\n      maskitoUpdateElement(element, maskitoTransform(stringifyNumberWithoutExp(clampedNumber), options));\n    }\n  }, {\n    capture: true\n  });\n}\n\n/**\n * It pads EMPTY integer part with zero if decimal parts exists.\n * It works on blur event only!\n * @example 1|,23 => Backspace => Blur => 0,23\n */\nfunction createNotEmptyIntegerPlugin({\n  decimalSeparator,\n  prefix,\n  postfix\n}) {\n  if (!decimalSeparator) {\n    return noop;\n  }\n  return maskitoEventHandler('blur', element => {\n    const {\n      cleanValue,\n      extractedPostfix,\n      extractedPrefix\n    } = extractAffixes(element.value, {\n      prefix,\n      postfix\n    });\n    const newValue = extractedPrefix + cleanValue.replace(new RegExp(`^(\\\\D+)?${escapeRegExp(decimalSeparator)}`), `$10${decimalSeparator}`) + extractedPostfix;\n    maskitoUpdateElement(element, newValue);\n  }, {\n    capture: true\n  });\n}\nfunction maskitoNumberOptionsGenerator({\n  max = Number.MAX_SAFE_INTEGER,\n  min = Number.MIN_SAFE_INTEGER,\n  precision = 0,\n  thousandSeparator = CHAR_NO_BREAK_SPACE,\n  decimalSeparator = '.',\n  decimalPseudoSeparators,\n  decimalZeroPadding = false,\n  prefix: unsafePrefix = '',\n  postfix = '',\n  minusSign = CHAR_MINUS\n} = {}) {\n  const pseudoMinuses = [CHAR_HYPHEN, CHAR_EN_DASH, CHAR_EM_DASH, CHAR_JP_HYPHEN, CHAR_MINUS].filter(char => char !== thousandSeparator && char !== decimalSeparator && char !== minusSign);\n  const validatedDecimalPseudoSeparators = validateDecimalPseudoSeparators({\n    decimalSeparator,\n    thousandSeparator,\n    decimalPseudoSeparators\n  });\n  const prefix = unsafePrefix.endsWith(decimalSeparator) && precision > 0 ? `${unsafePrefix}${CHAR_ZERO_WIDTH_SPACE}` : unsafePrefix;\n  const initializationOnlyPreprocessor = createInitializationOnlyPreprocessor({\n    decimalSeparator,\n    decimalPseudoSeparators: validatedDecimalPseudoSeparators,\n    pseudoMinuses,\n    prefix,\n    postfix,\n    minusSign\n  });\n  decimalSeparator = precision <= 0 && decimalSeparator === thousandSeparator ? '' : decimalSeparator;\n  return Object.assign(Object.assign({}, MASKITO_DEFAULT_OPTIONS), {\n    mask: generateMaskExpression({\n      decimalSeparator,\n      precision,\n      thousandSeparator,\n      prefix,\n      postfix,\n      isNegativeAllowed: min < 0,\n      minusSign\n    }),\n    preprocessors: [createFullWidthToHalfWidthPreprocessor(), initializationOnlyPreprocessor, createAffixesFilterPreprocessor({\n      prefix,\n      postfix\n    }), createPseudoCharactersPreprocessor({\n      validCharacter: minusSign,\n      pseudoCharacters: pseudoMinuses,\n      prefix,\n      postfix\n    }), createPseudoCharactersPreprocessor({\n      validCharacter: decimalSeparator,\n      pseudoCharacters: validatedDecimalPseudoSeparators,\n      prefix,\n      postfix\n    }), createNotEmptyIntegerPartPreprocessor({\n      decimalSeparator,\n      precision,\n      prefix,\n      postfix\n    }), createNonRemovableCharsDeletionPreprocessor({\n      decimalSeparator,\n      decimalZeroPadding,\n      thousandSeparator\n    }), createZeroPrecisionPreprocessor({\n      precision,\n      decimalSeparator,\n      prefix,\n      postfix\n    }), createRepeatedDecimalSeparatorPreprocessor({\n      decimalSeparator,\n      prefix,\n      postfix\n    })],\n    postprocessors: [createMinMaxPostprocessor({\n      decimalSeparator,\n      min,\n      max,\n      minusSign\n    }), maskitoPrefixPostprocessorGenerator(prefix), maskitoPostfixPostprocessorGenerator(postfix), createThousandSeparatorPostprocessor({\n      decimalSeparator,\n      thousandSeparator,\n      prefix,\n      postfix,\n      minusSign\n    }), createDecimalZeroPaddingPostprocessor({\n      decimalSeparator,\n      decimalZeroPadding,\n      precision,\n      prefix,\n      postfix\n    }), emptyPostprocessor({\n      prefix,\n      postfix,\n      decimalSeparator,\n      minusSign\n    })],\n    plugins: [createLeadingZeroesValidationPlugin({\n      decimalSeparator,\n      thousandSeparator,\n      prefix,\n      postfix\n    }), createNotEmptyIntegerPlugin({\n      decimalSeparator,\n      prefix,\n      postfix\n    }), createMinMaxPlugin({\n      min,\n      max,\n      decimalSeparator\n    })],\n    overwriteMode: decimalZeroPadding ? ({\n      value,\n      selection: [from]\n    }) => from <= value.indexOf(decimalSeparator) ? 'shift' : 'replace' : 'shift'\n  });\n}\nfunction maskitoTimeOptionsGenerator({\n  mode,\n  timeSegmentMaxValues = {},\n  timeSegmentMinValues = {},\n  step = 0\n}) {\n  const hasMeridiem = mode.includes('AA');\n  const enrichedTimeSegmentMaxValues = Object.assign(Object.assign(Object.assign({}, DEFAULT_TIME_SEGMENT_MAX_VALUES), hasMeridiem ? {\n    hours: 12\n  } : {}), timeSegmentMaxValues);\n  const enrichedTimeSegmentMinValues = Object.assign(Object.assign(Object.assign({}, DEFAULT_TIME_SEGMENT_MIN_VALUES), hasMeridiem ? {\n    hours: 1\n  } : {}), timeSegmentMinValues);\n  return {\n    mask: createTimeMaskExpression(mode),\n    preprocessors: [createFullWidthToHalfWidthPreprocessor(), createColonConvertPreprocessor(), createZeroPlaceholdersPreprocessor(), createMeridiemPreprocessor(mode), createInvalidTimeSegmentInsertionPreprocessor({\n      timeMode: mode,\n      timeSegmentMinValues: enrichedTimeSegmentMinValues,\n      timeSegmentMaxValues: enrichedTimeSegmentMaxValues\n    })],\n    postprocessors: [createMeridiemPostprocessor(mode), elementState => enrichTimeSegmentsWithZeroes(elementState, {\n      mode,\n      timeSegmentMaxValues: enrichedTimeSegmentMaxValues\n    })],\n    plugins: [createTimeSegmentsSteppingPlugin({\n      fullMode: mode,\n      step,\n      timeSegmentMaxValues: enrichedTimeSegmentMaxValues\n    }), createMeridiemSteppingPlugin(mode.indexOf('AA'))],\n    overwriteMode: 'replace'\n  };\n}\n\n/**\n * Converts a formatted time string to milliseconds based on the given `options.mode`.\n *\n * @param maskedTime a formatted time string by {@link maskitoTimeOptionsGenerator} or {@link maskitoStringifyTime}\n * @param params\n */\nfunction maskitoParseTime(maskedTime, {\n  mode,\n  timeSegmentMaxValues = {}\n}) {\n  var _a, _b, _c, _d;\n  const maxValues = Object.assign(Object.assign({}, DEFAULT_TIME_SEGMENT_MAX_VALUES), timeSegmentMaxValues);\n  const msInSecond = maxValues.milliseconds + 1;\n  const msInMinute = (maxValues.seconds + 1) * msInSecond;\n  const msInHour = (maxValues.minutes + 1) * msInMinute;\n  const parsedTime = padEndTimeSegments(parseTimeString(maskedTime, mode));\n  return Number((_a = parsedTime.hours) !== null && _a !== void 0 ? _a : '') * msInHour + Number((_b = parsedTime.minutes) !== null && _b !== void 0 ? _b : '') * msInMinute + Number((_c = parsedTime.seconds) !== null && _c !== void 0 ? _c : '') * msInSecond + Number((_d = parsedTime.milliseconds) !== null && _d !== void 0 ? _d : '');\n}\n\n/**\n * Converts milliseconds to a formatted time string based on the given `options.mode`.\n *\n * @param milliseconds unsigned integer milliseconds\n * @param params\n */\nfunction maskitoStringifyTime(milliseconds, {\n  mode,\n  timeSegmentMaxValues = {}\n}) {\n  const maxValues = Object.assign(Object.assign({}, DEFAULT_TIME_SEGMENT_MAX_VALUES), timeSegmentMaxValues);\n  const msInSecond = maxValues.milliseconds + 1;\n  const msInMinute = (maxValues.seconds + 1) * msInSecond;\n  const msInHour = (maxValues.minutes + 1) * msInMinute;\n  const hours = Math.trunc(milliseconds / msInHour);\n  milliseconds -= hours * msInHour;\n  const minutes = Math.trunc(milliseconds / msInMinute);\n  milliseconds -= minutes * msInMinute;\n  const seconds = Math.trunc(milliseconds / msInSecond);\n  milliseconds -= seconds * msInSecond;\n  const result = padStartTimeSegments({\n    hours,\n    minutes,\n    seconds,\n    milliseconds\n  });\n  return mode.replaceAll(/H+/g, result.hours).replaceAll('MSS', result.milliseconds).replaceAll(/M+/g, result.minutes).replaceAll(/S+/g, result.seconds);\n}\nexport { maskitoAddOnFocusPlugin, maskitoCaretGuard, maskitoDateOptionsGenerator, maskitoDateRangeOptionsGenerator, maskitoDateTimeOptionsGenerator, maskitoEventHandler, maskitoNumberOptionsGenerator, maskitoParseDate, maskitoParseNumber, maskitoParseTime, maskitoPostfixPostprocessorGenerator, maskitoPrefixPostprocessorGenerator, maskitoRejectEvent, maskitoRemoveOnBlurPlugin, maskitoSelectionChangeHandler, maskitoStringifyDate, maskitoStringifyNumber, maskitoStringifyTime, maskitoTimeOptionsGenerator, maskitoWithPlaceholder };","import { tuiRound, tuiClamp } from '@taiga-ui/cdk/utils/math';\nimport * as i0 from '@angular/core';\nimport { inject, INJECTOR, Component, ChangeDetectionStrategy, Input, forwardRef, Directive, ContentChild } from '@angular/core';\nimport { TuiControl } from '@taiga-ui/cdk/classes';\nimport { tuiFallbackValueProvider } from '@taiga-ui/cdk/tokens';\nimport { __decorate } from 'tslib';\nimport { NgControl, NgModel } from '@angular/forms';\nimport { tuiWatch, tuiTypedFromEvent } from '@taiga-ui/cdk/observables';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { tuiCreateToken, tuiProvideOptions, tuiPure } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { take, merge, tap, map, combineLatest, filter } from 'rxjs';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { DOCUMENT, AsyncPipe, NgIf } from '@angular/common';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { TUI_TRUE_HANDLER, TUI_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\n\n/**\n * Used as a limit for eliminating JS issues with floating point math\n */\nconst _c0 = [\"type\", \"range\", \"tuiSlider\", \"\"];\nconst _c1 = [\"tuiSliderThumbLabel\", \"\"];\nconst _c2 = [\"*\", [[\"input\", \"type\", \"range\"]]];\nconst _c3 = [\"*\", \"input[type=range]\"];\nfunction TuiSliderThumbLabel_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst TUI_FLOATING_PRECISION = 7;\nfunction tuiFindKeyStepsBoundariesByFn(keySteps, fn) {\n  const keyStepUpperIndex = keySteps.findIndex((keyStep, i) => i && fn(keyStep));\n  const lowerStep = keySteps[keyStepUpperIndex - 1] || keySteps[0];\n  const upperStep = keySteps[keyStepUpperIndex] || keySteps[keySteps.length - 1] || [0, 0];\n  return [lowerStep, upperStep];\n}\nfunction tuiPercentageToKeyStepValue(valuePercentage, keySteps) {\n  const [[lowerStepPercent, lowerStepValue], [upperStepPercent, upperStepValue]] = tuiFindKeyStepsBoundariesByFn(keySteps, ([keyStepPercentage, _]) => valuePercentage <= keyStepPercentage);\n  const ratio = (valuePercentage - lowerStepPercent) / (upperStepPercent - lowerStepPercent);\n  const controlValue = (upperStepValue - lowerStepValue) * ratio + lowerStepValue;\n  return tuiRound(controlValue, TUI_FLOATING_PRECISION);\n}\nfunction tuiKeyStepValueToPercentage(value, keySteps) {\n  const [[lowerStepPercent, lowerStepValue], [upperStepPercent, upperStepValue]] = tuiFindKeyStepsBoundariesByFn(keySteps, ([_, keyStepValue]) => value <= keyStepValue);\n  const ratio = (value - lowerStepValue) / (upperStepValue - lowerStepValue) || 0;\n  return (upperStepPercent - lowerStepPercent) * ratio + lowerStepPercent;\n}\nconst TUI_SLIDER_DEFAULT_OPTIONS = {\n  size: 'm',\n  trackColor: 'var(--tui-background-neutral-2)'\n};\n/**\n * Default parameters for Slider component\n */\nconst TUI_SLIDER_OPTIONS = tuiCreateToken(TUI_SLIDER_DEFAULT_OPTIONS);\nfunction tuiSliderOptionsProvider(options) {\n  return tuiProvideOptions(TUI_SLIDER_OPTIONS, options, TUI_SLIDER_DEFAULT_OPTIONS);\n}\nlet TuiSliderComponent = /*#__PURE__*/(() => {\n  class TuiSliderComponent {\n    constructor() {\n      this.injector = inject(INJECTOR);\n      this.control = inject(NgControl, {\n        self: true,\n        optional: true\n      });\n      this.options = inject(TUI_SLIDER_OPTIONS);\n      this.size = this.options.size;\n      this.segments = 1;\n      this.el = tuiInjectElement();\n      if (this.control instanceof NgModel) {\n        /**\n         * The ValueAccessor.writeValue method is called twice on any value accessor during component initialization,\n         * when a control is bound using [(ngModel)], first time with a phantom null value.\n         * With `changeDetection: ChangeDetectionStrategy.OnPush` the second call of writeValue with real value don't re-render the view.\n         * ___\n         * See this {@link https://github.com/angular/angular/issues/14988 issue}\n         */\n        this.control.valueChanges?.pipe(tuiWatch(), take(1)).subscribe();\n      }\n    }\n    get valueRatio() {\n      return (this.value - this.min) / (this.max - this.min) || 0;\n    }\n    get min() {\n      return Number(this.el.min);\n    }\n    get max() {\n      return Number(this.el.max || 100);\n    }\n    get value() {\n      if (!this.hasKeySteps && this.control instanceof NgModel) {\n        /**\n         * If developer uses `[(ngModel)]` and programmatically change value,\n         * the `el.nativeElement.value` is equal to the previous value at this moment.\n         */\n        return this.control.viewModel;\n      }\n      return Number(this.el.value) || 0;\n    }\n    set value(newValue) {\n      this.el.value = `${newValue}`;\n    }\n    get hasKeySteps() {\n      return Boolean(this.injector.get(TuiSliderKeySteps, null));\n    }\n    get segmentWidth() {\n      return 100 / Math.max(1, this.segments);\n    }\n    get step() {\n      return Number(this.el.step) || 1;\n    }\n    static {\n      this.ɵfac = function TuiSliderComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiSliderComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiSliderComponent,\n        selectors: [[\"input\", \"type\", \"range\", \"tuiSlider\", \"\"]],\n        hostVars: 7,\n        hostBindings: function TuiSliderComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"input\", function TuiSliderComponent_input_HostBindingHandler() {\n              return 0;\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵattribute(\"data-size\", ctx.size);\n            i0.ɵɵstyleProp(\"--tui-slider-track-color\", ctx.options.trackColor)(\"--tui-slider-segment-width\", ctx.segmentWidth, \"%\")(\"--tui-slider-fill-ratio\", ctx.valueRatio);\n          }\n        },\n        inputs: {\n          size: \"size\",\n          segments: \"segments\"\n        },\n        attrs: _c0,\n        decls: 0,\n        vars: 0,\n        template: function TuiSliderComponent_Template(rf, ctx) {},\n        styles: [\"[_nghost-%COMP%]{position:relative;display:block;inline-size:100%;color:var(--tui-background-accent-1);cursor:pointer;-webkit-appearance:none;appearance:none;block-size:.125rem;padding:.4375rem 0;background-color:transparent;background-clip:content-box;outline:none;border-radius:var(--tui-radius-m)}[_nghost-%COMP%]:active{cursor:ew-resize}[_nghost-%COMP%]:disabled{opacity:var(--tui-disabled-opacity);cursor:auto}[data-size=s][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.25rem;left:calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .5rem);inline-size:.5rem;block-size:.5rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:\\\"\\\";cursor:ew-resize;background:currentColor;opacity:0}[data-size=s][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[data-size=m][_nghost-%COMP%]:not(:disabled):before{transition-property:transform,opacity;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:.125rem;left:calc(var(--tui-slider-fill-ratio) * 100% - var(--tui-slider-fill-ratio) * .75rem);inline-size:.75rem;block-size:.75rem;border-radius:50%;transform:var(--tui-slider-thumb-transform, scale(1));content:\\\"\\\";cursor:ew-resize;background:currentColor;opacity:0}[data-size=m][_nghost-%COMP%]:active:before{opacity:.2;transform:var(--tui-slider-thumb-transform, scale(1)) scale(2.33)}[_nghost-%COMP%]::-webkit-slider-container{border-radius:inherit}[data-size=m][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:0,.25rem,0;background-size:calc(100% - .75rem),calc(100% - .75rem),auto}[data-size=s][_nghost-%COMP%]::-webkit-slider-runnable-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width)),linear-gradient(to right,currentColor calc(100% * var(--tui-slider-fill-ratio)),transparent calc(100% * var(--tui-slider-fill-ratio)));background-position-x:0,.125rem,0;background-size:calc(100% - .5rem),calc(100% - .5rem),auto}[data-size=m][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .5rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.25rem;background-size:calc(100% - .75rem)}[data-size=s][_nghost-%COMP%]::-moz-range-track{block-size:.125rem;border-radius:inherit;background-repeat:no-repeat;background-color:var(--tui-slider-track-color);background-image:linear-gradient(to right,currentColor 0px .375rem,transparent .25rem),repeating-linear-gradient(to right,var(--tui-text-tertiary) 0 .25rem,transparent 0 var(--tui-slider-segment-width));background-position-x:0,.125rem;background-size:calc(100% - .5rem)}[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{-webkit-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1));margin-top:-.4375rem}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-webkit-slider-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=m][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.75rem;inline-size:.75rem;box-sizing:content-box;background-clip:content-box;border:.125rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=m][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.333)}:focus-visible[data-size=m][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]::-moz-range-thumb{-moz-transition-property:transform;transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;isolation:isolate;-webkit-appearance:none;appearance:none;background-color:currentColor;box-shadow:none;border-radius:50%;block-size:.5rem;inline-size:.5rem;box-sizing:content-box;background-clip:content-box;border:.25rem solid transparent;border-inline-start:0;border-inline-end:0;transform:var(--tui-slider-thumb-transform, scale(1))}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{cursor:ew-resize}:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb:hover, :active:not(:disabled)[data-size=s][_nghost-%COMP%]::-moz-range-thumb{transform:var(--tui-slider-thumb-transform, scale(1)) scale(1.5)}:focus-visible[data-size=s][_nghost-%COMP%]::-moz-range-thumb{box-shadow:0 0 0 2px inset var(--tui-border-focus)}[_nghost-%COMP%]::-moz-range-progress{border-radius:inherit}[_nghost-%COMP%]::-moz-range-progress{block-size:.125rem;background:currentColor;border-top-right-radius:0;border-bottom-right-radius:0}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  __decorate([tuiPure], TuiSliderComponent.prototype, \"hasKeySteps\", null);\n  return TuiSliderComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiSliderKeySteps = /*#__PURE__*/(() => {\n  class TuiSliderKeySteps extends TuiControl {\n    constructor() {\n      super(...arguments);\n      this.slider = inject(forwardRef(() => TuiSliderComponent));\n    }\n    writeValue(controlValue) {\n      if (controlValue === null) {\n        return;\n      }\n      const clampedControlValue = tuiClamp(controlValue, this.min, this.max);\n      ngDevMode && console.assert(controlValue === clampedControlValue, '\\n[SliderKeySteps]: You cannot programmatically set value which is less/more than min/max');\n      this.slider.value = this.transformToNativeValue(clampedControlValue);\n    }\n    get min() {\n      return this.keySteps[0][1];\n    }\n    get max() {\n      return this.keySteps[this.keySteps.length - 1]?.[1] ?? 0;\n    }\n    updateControlValue() {\n      this.onChange(tuiPercentageToKeyStepValue(this.slider.valueRatio * 100, this.keySteps));\n    }\n    transformToNativeValue(controlValue) {\n      const {\n        min,\n        max\n      } = this.slider;\n      const newValuePercentage = tuiKeyStepValueToPercentage(controlValue, this.keySteps);\n      return newValuePercentage * (max - min) / 100 + min;\n    }\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵTuiSliderKeySteps_BaseFactory;\n        return function TuiSliderKeySteps_Factory(__ngFactoryType__) {\n          return (ɵTuiSliderKeySteps_BaseFactory || (ɵTuiSliderKeySteps_BaseFactory = i0.ɵɵgetInheritedFactory(TuiSliderKeySteps)))(__ngFactoryType__ || TuiSliderKeySteps);\n        };\n      })();\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiSliderKeySteps,\n        selectors: [[\"input\", \"tuiSlider\", \"\", \"keySteps\", \"\"]],\n        hostVars: 4,\n        hostBindings: function TuiSliderKeySteps_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"blur\", function TuiSliderKeySteps_blur_HostBindingHandler() {\n              return ctx.onTouched();\n            })(\"input\", function TuiSliderKeySteps_input_HostBindingHandler() {\n              return ctx.updateControlValue();\n            })(\"change\", function TuiSliderKeySteps_change_HostBindingHandler() {\n              return ctx.updateControlValue();\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵhostProperty(\"disabled\", ctx.disabled());\n            i0.ɵɵattribute(\"aria-valuenow\", ctx.value())(\"aria-valuemin\", ctx.min)(\"aria-valuemax\", ctx.max);\n          }\n        },\n        inputs: {\n          keySteps: \"keySteps\"\n        },\n        features: [i0.ɵɵProvidersFeature([tuiFallbackValueProvider(0)]), i0.ɵɵInheritDefinitionFeature]\n      });\n    }\n  }\n  return TuiSliderKeySteps;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst SLIDER_INTERACTION_KEYS = new Set(['ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowUp', 'End', 'Home', 'PageDown', 'PageUp']);\n/**\n * Native <input type='range' readonly> doesn't work.\n * This directive imitates this native behaviour.\n */\nlet TuiSliderReadonly = /*#__PURE__*/(() => {\n  class TuiSliderReadonly {\n    constructor() {\n      this.el = tuiInjectElement();\n      this.doc = inject(DOCUMENT);\n      this.readonly = true;\n      const touchStart$ = tuiTypedFromEvent(this.el, 'touchstart', {\n        passive: false\n      });\n      const touchMove$ = tuiTypedFromEvent(this.doc, 'touchmove', {\n        passive: false\n      });\n      const touchEnd$ = tuiTypedFromEvent(this.doc, 'touchend', {\n        passive: true\n      });\n      const shouldPreventMove$ = merge(touchStart$.pipe(tap(e => this.preventEvent(e)), map(TUI_TRUE_HANDLER)), touchEnd$.pipe(map(TUI_FALSE_HANDLER)));\n      /**\n       * @bad TODO think about another solution.\n       * Keep in mind that preventing touch event (on slider) inside `@HostListener('touchstart')` doesn't work for mobile chrome.\n       */\n      combineLatest([touchMove$, shouldPreventMove$]).pipe(filter(([_, shouldPreventMove]) => shouldPreventMove), takeUntilDestroyed()).subscribe(([moveEvent]) => this.preventEvent(moveEvent));\n    }\n    preventEvent(event) {\n      if (event.cancelable && this.readonly) {\n        event.preventDefault();\n      }\n    }\n    preventKeyboardInteraction(event) {\n      if (SLIDER_INTERACTION_KEYS.has(event.key)) {\n        this.preventEvent(event);\n      }\n    }\n    static {\n      this.ɵfac = function TuiSliderReadonly_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiSliderReadonly)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiSliderReadonly,\n        selectors: [[\"input\", \"tuiSlider\", \"\", \"readonly\", \"\"]],\n        hostBindings: function TuiSliderReadonly_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"keydown\", function TuiSliderReadonly_keydown_HostBindingHandler($event) {\n              return ctx.preventKeyboardInteraction($event);\n            })(\"mousedown\", function TuiSliderReadonly_mousedown_HostBindingHandler($event) {\n              return ctx.preventEvent($event);\n            });\n          }\n        },\n        inputs: {\n          readonly: [2, \"readonly\", \"readonly\", coerceBooleanProperty]\n        }\n      });\n    }\n  }\n  return TuiSliderReadonly;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/// <reference types=\"@taiga-ui/tsconfig/ng-dev-mode\" />\n/// <reference types=\"@taiga-ui/tsconfig/ng-dev-mode\" />\nlet TuiSliderThumbLabel = /*#__PURE__*/(() => {\n  class TuiSliderThumbLabel {\n    ngAfterContentInit() {\n      ngDevMode && console.assert(Boolean(this.control?.valueChanges), '\\n[tuiSliderThumbLabel] expected <input tuiSlider type=\"range\" /> to use Angular Forms.\\n' + 'Use [(ngModel)] or [formControl] or formControlName for correct work.');\n    }\n    get size() {\n      return this.slider?.size || 'm';\n    }\n    get ratio() {\n      return this.slider?.valueRatio || 0;\n    }\n    get ghostLeft() {\n      return this.ratio * (this.slider?.el.offsetWidth || 0);\n    }\n    static {\n      this.ɵfac = function TuiSliderThumbLabel_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiSliderThumbLabel)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiSliderThumbLabel,\n        selectors: [[\"\", \"tuiSliderThumbLabel\", \"\"]],\n        contentQueries: function TuiSliderThumbLabel_ContentQueries(rf, ctx, dirIndex) {\n          if (rf & 1) {\n            i0.ɵɵcontentQuery(dirIndex, TuiSliderComponent, 5);\n            i0.ɵɵcontentQuery(dirIndex, NgControl, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slider = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.control = _t.first);\n          }\n        },\n        attrs: _c1,\n        ngContentSelectors: _c3,\n        decls: 5,\n        vars: 8,\n        consts: [[4, \"ngIf\"], [1, \"t-ghost\"]],\n        template: function TuiSliderThumbLabel_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵprojectionDef(_c2);\n            i0.ɵɵtemplate(0, TuiSliderThumbLabel_ng_container_0_Template, 1, 0, \"ng-container\", 0);\n            i0.ɵɵpipe(1, \"async\");\n            i0.ɵɵelementStart(2, \"div\", 1);\n            i0.ɵɵprojection(3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵprojection(4, 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 6, ctx.control == null ? null : ctx.control.valueChanges));\n            i0.ɵɵadvance(2);\n            i0.ɵɵstyleProp(\"--tui-slider-thumb-ratio\", ctx.ratio)(\"left\", ctx.ghostLeft, \"px\");\n            i0.ɵɵattribute(\"data-size\", ctx.size);\n          }\n        },\n        dependencies: [AsyncPipe, NgIf],\n        styles: [\"[_nghost-%COMP%]{position:relative}.t-ghost[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;margin:auto;border-radius:50%;pointer-events:none}.t-ghost[data-size=s][_ngcontent-%COMP%]{inline-size:.5rem;block-size:.5rem;transform:translate(calc(var(--tui-slider-thumb-ratio) * -.5rem))}.t-ghost[data-size=m][_ngcontent-%COMP%]{inline-size:.75rem;block-size:.75rem;transform:translate(calc(var(--tui-slider-thumb-ratio) * -.75rem))}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiSliderThumbLabel;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TuiSlider = [TuiSliderComponent, TuiSliderThumbLabel, TuiSliderKeySteps, TuiSliderReadonly];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_FLOATING_PRECISION, TUI_SLIDER_DEFAULT_OPTIONS, TUI_SLIDER_OPTIONS, TuiSlider, TuiSliderComponent, TuiSliderKeySteps, TuiSliderReadonly, TuiSliderThumbLabel, tuiKeyStepValueToPercentage, tuiPercentageToKeyStepValue, tuiSliderOptionsProvider };\n","import { AsyncPipe, NgIf } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, EventEmitter, Component, ChangeDetectionStrategy, Input, Output, Injectable, TemplateRef, ChangeDetectorRef, forwardRef, Directive } from '@angular/core';\nimport { tuiIsString, tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { tuiButtonOptionsProvider, TuiButton } from '@taiga-ui/core/components/button';\nimport { TuiFormatDatePipe } from '@taiga-ui/core/pipes/format-date';\nimport { TUI_CLOSE_WORD, TUI_COMMON_ICONS, TUI_ANIMATIONS_SPEED } from '@taiga-ui/core/tokens';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { tuiIfMap } from '@taiga-ui/cdk/observables';\nimport { injectContext, PolymorpheusOutlet, PolymorpheusTemplate } from '@taiga-ui/polymorpheus';\nimport { Subject } from 'rxjs';\nimport { TuiPopoverService } from '@taiga-ui/cdk/services';\nimport { TUI_ALERTS } from '@taiga-ui/core/components/alert';\nimport { tuiFadeIn, tuiSlideInRight, tuiHeightCollapse } from '@taiga-ui/core/animations';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport { TuiLink } from '@taiga-ui/core/components/link';\nimport { tuiToAnimationOptions } from '@taiga-ui/core/utils/miscellaneous';\nconst _c0 = [[[\"img\"]], [[\"tui-svg\"], [\"tui-icon\"]], \"*\", [[\"\", \"tuiButton\", \"\"]], [[\"\", \"tuiLink\", \"\"]]];\nconst _c1 = [\"img\", \"tui-svg,tui-icon\", \"*\", \"[tuiButton]\", \"[tuiLink]\"];\nfunction TuiPushComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function TuiPushComponent_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.close.emit());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"border-radius\", 100, \"%\");\n    i0.ɵɵproperty(\"iconStart\", ctx_r1.icons.close);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 4, ctx_r1.closeWord$), \"\\n\");\n  }\n}\nfunction TuiPushComponent_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 11);\n    i0.ɵɵpipe(1, \"tuiFormatDate\");\n    i0.ɵɵpipe(2, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"textContent\", ctx_r1.isString(ctx_r1.timestamp) ? ctx_r1.timestamp : i0.ɵɵpipeBind1(2, 3, i0.ɵɵpipeBind1(1, 1, ctx_r1.timestamp)));\n  }\n}\nfunction TuiPushAlert_tui_push_0_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r1.context.image, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction TuiPushAlert_tui_push_0_tui_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-icon\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleProp(\"color\", ctx_r1.context.iconColor);\n    i0.ɵɵproperty(\"icon\", ctx_r1.context.icon);\n  }\n}\nfunction TuiPushAlert_tui_push_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 10);\n  }\n  if (rf & 2) {\n    const text_r3 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"innerHTML\", text_r3, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction TuiPushAlert_tui_push_0_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function TuiPushAlert_tui_push_0_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.context.$implicit.next(ctx_r1.context.buttons[0] || \"\"));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.context.buttons[0], \" \");\n  }\n}\nfunction TuiPushAlert_tui_push_0_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function TuiPushAlert_tui_push_0_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.context.$implicit.next(ctx_r1.context.buttons[ctx_r1.context.buttons.length - 1] || \"\"));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.context.buttons[ctx_r1.context.buttons.length - 1], \" \");\n  }\n}\nfunction TuiPushAlert_tui_push_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-push\", 2);\n    i0.ɵɵlistener(\"close\", function TuiPushAlert_tui_push_0_Template_tui_push_close_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.context.$implicit.complete());\n    });\n    i0.ɵɵtemplate(1, TuiPushAlert_tui_push_0_img_1_Template, 1, 1, \"img\", 3)(2, TuiPushAlert_tui_push_0_tui_icon_2_Template, 1, 3, \"tui-icon\", 4)(3, TuiPushAlert_tui_push_0_div_3_Template, 1, 1, \"div\", 5)(4, TuiPushAlert_tui_push_0_button_4_Template, 2, 1, \"button\", 6)(5, TuiPushAlert_tui_push_0_button_5_Template, 2, 1, \"button\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"heading\", ctx_r1.context.heading)(\"timestamp\", ctx_r1.context.timestamp)(\"type\", ctx_r1.context.type);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.image);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.icon);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.context.content)(\"polymorpheusOutletContext\", ctx_r1.context);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.buttons.length > 1);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.context.buttons.length);\n  }\n}\nfunction TuiPushAlert_ng_template_1_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiPushAlert_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiPushAlert_ng_template_1_ng_container_0_Template, 1, 0, \"ng-container\", 13);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.context.content);\n  }\n}\nlet TuiPushComponent = /*#__PURE__*/(() => {\n  class TuiPushComponent {\n    constructor() {\n      this.isString = tuiIsString;\n      this.closeWord$ = inject(TUI_CLOSE_WORD);\n      this.icons = inject(TUI_COMMON_ICONS);\n      this.heading = '';\n      this.type = '';\n      this.lines = 2;\n      this.timestamp = '';\n      this.close = new EventEmitter();\n    }\n    static {\n      this.ɵfac = function TuiPushComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiPushComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiPushComponent,\n        selectors: [[\"tui-push\"]],\n        hostVars: 2,\n        hostBindings: function TuiPushComponent_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵstyleProp(\"--t-lines\", ctx.lines);\n          }\n        },\n        inputs: {\n          heading: \"heading\",\n          type: \"type\",\n          lines: \"lines\",\n          timestamp: \"timestamp\"\n        },\n        outputs: {\n          close: \"close\"\n        },\n        features: [i0.ɵɵProvidersFeature([tuiButtonOptionsProvider({\n          size: 's',\n          appearance: 'secondary'\n        })])],\n        ngContentSelectors: _c1,\n        decls: 17,\n        vars: 4,\n        consts: [[1, \"t-image\"], [\"appearance\", \"\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", \"class\", \"t-close\", 3, \"iconStart\", \"border-radius\", \"click\", 4, \"ngIf\"], [1, \"t-top\"], [1, \"t-icon\"], [\"class\", \"t-time\", 3, \"textContent\", 4, \"ngIf\"], [\"automation-id\", \"tui-push__heading\", 1, \"t-heading\"], [1, \"t-content\"], [1, \"t-actions\"], [1, \"t-button\"], [1, \"t-link\"], [\"appearance\", \"\", \"size\", \"xs\", \"tuiIconButton\", \"\", \"type\", \"button\", 1, \"t-close\", 3, \"click\", \"iconStart\"], [1, \"t-time\", 3, \"textContent\"]],\n        template: function TuiPushComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵprojectionDef(_c0);\n            i0.ɵɵelementStart(0, \"div\", 0);\n            i0.ɵɵprojection(1);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(2, TuiPushComponent_button_2_Template, 3, 6, \"button\", 1);\n            i0.ɵɵelementStart(3, \"div\", 2)(4, \"span\", 3);\n            i0.ɵɵprojection(5, 1);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(6);\n            i0.ɵɵtemplate(7, TuiPushComponent_span_7_Template, 3, 5, \"span\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"h3\", 5);\n            i0.ɵɵtext(9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(10, \"div\", 6);\n            i0.ɵɵprojection(11, 2);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"div\", 7)(13, \"span\", 8);\n            i0.ɵɵprojection(14, 3);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"span\", 9);\n            i0.ɵɵprojection(16, 4);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.close.observed);\n            i0.ɵɵadvance(4);\n            i0.ɵɵtextInterpolate1(\" \", ctx.type, \" \");\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.timestamp);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate1(\" \", ctx.heading, \"\\n\");\n          }\n        },\n        dependencies: [AsyncPipe, NgIf, TuiButton, TuiFormatDatePipe],\n        styles: [\"[_nghost-%COMP%]{position:relative;display:block;inline-size:22.5rem;max-inline-size:100%;box-sizing:border-box;padding:1.25rem 1.25rem .25rem;overflow:hidden;font:var(--tui-font-text-m);border-radius:var(--tui-radius-xl);background:var(--tui-background-elevation-3);box-shadow:var(--tui-shadow-small)}.t-image[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-block-size:10.625rem;overflow:hidden;margin:-1.25rem -1.25rem 1.25rem}.t-close[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:.75rem;color:#0000008a;background:#f2f2f252;-webkit-backdrop-filter:blur(1rem);backdrop-filter:blur(1rem)}.t-top[_ngcontent-%COMP%]{display:flex;align-items:center;font:var(--tui-font-text-s);color:var(--tui-text-secondary)}.t-icon[_ngcontent-%COMP%]{block-size:1.25rem;margin-right:.5rem;transform:scale(.833);transform-origin:top left;color:var(--tui-text-action)}.t-time[_ngcontent-%COMP%]:before{content:\\\"\\\\2022\\\";display:inline-block;inline-size:1rem;text-align:center}.t-heading[_ngcontent-%COMP%]{line-height:1.25rem;font-weight:700;margin:.75rem 0 .25rem}.t-heading[_ngcontent-%COMP%], .t-content[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:var(--t-lines);word-break:break-word;overflow:hidden}.t-actions[_ngcontent-%COMP%]{display:flex;align-items:center;font:var(--tui-font-text-s)}.t-button[_ngcontent-%COMP%]:not(:empty){margin:.75rem .75rem .75rem 0}.t-link[_ngcontent-%COMP%]{margin:.75rem 0}.t-link[_ngcontent-%COMP%]:empty{margin:.5rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiPushComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TUI_PUSH_DEFAULT_OPTIONS = {\n  heading: '',\n  type: '',\n  timestamp: '',\n  image: '',\n  icon: '',\n  iconColor: '',\n  buttons: []\n};\n/**\n * Default parameters for Push component\n */\nconst TUI_PUSH_OPTIONS = tuiCreateToken(TUI_PUSH_DEFAULT_OPTIONS);\nfunction tuiPushOptionsProvider(options) {\n  return tuiProvideOptions(TUI_PUSH_OPTIONS, options, TUI_PUSH_DEFAULT_OPTIONS);\n}\nlet TuiPushAlert = /*#__PURE__*/(() => {\n  class TuiPushAlert {\n    constructor() {\n      this.options = tuiToAnimationOptions(inject(TUI_ANIMATIONS_SPEED));\n      this.context = injectContext();\n    }\n    get isDirective() {\n      return this.context.content instanceof TuiPushDirective;\n    }\n    static {\n      this.ɵfac = function TuiPushAlert_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiPushAlert)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiPushAlert,\n        selectors: [[\"ng-component\"]],\n        hostAttrs: [\"role\", \"alert\"],\n        hostVars: 3,\n        hostBindings: function TuiPushAlert_HostBindings(rf, ctx) {\n          if (rf & 2) {\n            i0.ɵɵsyntheticHostProperty(\"@tuiFadeIn\", ctx.options)(\"@tuiSlideInRight\", ctx.options)(\"@tuiHeightCollapse\", ctx.options);\n          }\n        },\n        decls: 3,\n        vars: 2,\n        consts: [[\"directive\", \"\"], [3, \"heading\", \"timestamp\", \"type\", \"close\", 4, \"ngIf\", \"ngIfElse\"], [3, \"close\", \"heading\", \"timestamp\", \"type\"], [\"alt\", \"\", 3, \"src\", 4, \"ngIf\"], [3, \"icon\", \"color\", 4, \"ngIf\"], [3, \"innerHTML\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"tuiButton\", \"\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"tuiLink\", \"\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"alt\", \"\", 3, \"src\"], [3, \"icon\"], [3, \"innerHTML\"], [\"tuiButton\", \"\", \"type\", \"button\", 3, \"click\"], [\"tuiLink\", \"\", \"type\", \"button\", 3, \"click\"], [4, \"polymorpheusOutlet\"]],\n        template: function TuiPushAlert_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, TuiPushAlert_tui_push_0_Template, 6, 9, \"tui-push\", 1)(1, TuiPushAlert_ng_template_1_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n          }\n          if (rf & 2) {\n            const directive_r6 = i0.ɵɵreference(2);\n            i0.ɵɵproperty(\"ngIf\", !ctx.isDirective)(\"ngIfElse\", directive_r6);\n          }\n        },\n        dependencies: [NgIf, PolymorpheusOutlet, TuiButton, TuiIcon, TuiLink, TuiPushComponent],\n        styles: [\"[_nghost-%COMP%]{max-inline-size:calc(100% - 2rem);margin:0 1rem 1rem auto}[_nghost-%COMP%]:first-child{margin-top:auto}\"],\n        data: {\n          animation: [tuiFadeIn, tuiSlideInRight, tuiHeightCollapse]\n        },\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiPushAlert;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPushService = /*#__PURE__*/(() => {\n  class TuiPushService extends TuiPopoverService {\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵTuiPushService_BaseFactory;\n        return function TuiPushService_Factory(__ngFactoryType__) {\n          return (ɵTuiPushService_BaseFactory || (ɵTuiPushService_BaseFactory = i0.ɵɵgetInheritedFactory(TuiPushService)))(__ngFactoryType__ || TuiPushService);\n        };\n      })();\n    }\n    static {\n      this.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n        token: TuiPushService,\n        factory: () => (() => new TuiPushService(TUI_ALERTS, TuiPushAlert, inject(TUI_PUSH_OPTIONS)))(),\n        providedIn: 'root'\n      });\n    }\n  }\n  return TuiPushService;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiPushDirective = /*#__PURE__*/(() => {\n  class TuiPushDirective extends PolymorpheusTemplate {\n    constructor() {\n      super(inject(TemplateRef), inject(ChangeDetectorRef));\n      this.push = inject(forwardRef(() => TuiPushService));\n      this.show$ = new Subject();\n      this.show$.pipe(tuiIfMap(() => this.push.open(this)), takeUntilDestroyed()).subscribe();\n    }\n    set tuiPush(show) {\n      this.show$.next(show);\n    }\n    static {\n      this.ɵfac = function TuiPushDirective_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiPushDirective)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiPushDirective,\n        selectors: [[\"ng-template\", \"tuiPush\", \"\"]],\n        inputs: {\n          tuiPush: \"tuiPush\"\n        },\n        features: [i0.ɵɵInheritDefinitionFeature]\n      });\n    }\n  }\n  return TuiPushDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst TuiPush = [TuiPushComponent, TuiPushAlert, TuiPushDirective];\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_PUSH_DEFAULT_OPTIONS, TUI_PUSH_OPTIONS, TuiPush, TuiPushAlert, TuiPushComponent, TuiPushDirective, TuiPushService, tuiPushOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { inject, DestroyRef, Directive } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { tuiGetClosestFocusable } from '@taiga-ui/cdk/utils/focus';\nimport { TuiDropdownOpen, TuiDropdownOpenLegacy } from '@taiga-ui/core/directives/dropdown';\nimport { distinctUntilChanged } from 'rxjs';\nlet TuiLegacyDropdownOpenMonitorDirective = /*#__PURE__*/(() => {\n  class TuiLegacyDropdownOpenMonitorDirective {\n    constructor() {\n      this.destroyRef = inject(DestroyRef);\n      this.el = tuiInjectElement();\n      this.host = inject(TuiDropdownOpen, {\n        self: true\n      });\n      this.external = inject(TuiDropdownOpenLegacy, {\n        optional: true\n      });\n    }\n    ngAfterViewInit() {\n      this.external?.tuiDropdownOpenChange.pipe(distinctUntilChanged(), takeUntilDestroyed(this.destroyRef)).subscribe(open => {\n        if (open) {\n          tuiGetClosestFocusable({\n            initial: this.el,\n            root: this.el\n          })?.focus();\n        }\n        this.host.toggle(open);\n      });\n      this.host.driver.pipe(distinctUntilChanged(), takeUntilDestroyed(this.destroyRef)).subscribe(open => this.external?.emitOpenChange(open));\n    }\n    static {\n      this.ɵfac = function TuiLegacyDropdownOpenMonitorDirective_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiLegacyDropdownOpenMonitorDirective)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiLegacyDropdownOpenMonitorDirective,\n        selectors: [[\"\", \"tuiDropdownOpenMonitor\", \"\"]]\n      });\n    }\n  }\n  return TuiLegacyDropdownOpenMonitorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiLegacyDropdownOpenMonitorDirective };\n","import * as i0 from '@angular/core';\nimport { Optional, Self, Directive, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { TUI_VALUE_ACCESSOR } from '@taiga-ui/legacy/tokens';\nimport { identity } from 'rxjs';\nconst TUI_VALUE_ACCESSOR_PROVIDER = {\n  provide: TUI_VALUE_ACCESSOR,\n  deps: [[new Optional(), new Self(), NG_VALUE_ACCESSOR]],\n  useFactory: identity\n};\nlet TuiValueAccessorDirective = /*#__PURE__*/(() => {\n  class TuiValueAccessorDirective {\n    static {\n      this.ɵfac = function TuiValueAccessorDirective_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiValueAccessorDirective)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiValueAccessorDirective,\n        selectors: [[\"\", \"tuiValueAccessor\", \"\"]],\n        standalone: false,\n        features: [i0.ɵɵProvidersFeature([TUI_VALUE_ACCESSOR_PROVIDER])]\n      });\n    }\n  }\n  return TuiValueAccessorDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiValueAccessorModule = /*#__PURE__*/(() => {\n  class TuiValueAccessorModule {\n    static {\n      this.ɵfac = function TuiValueAccessorModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiValueAccessorModule)();\n      };\n    }\n    static {\n      this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n        type: TuiValueAccessorModule\n      });\n    }\n    static {\n      this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n    }\n  }\n  return TuiValueAccessorModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_VALUE_ACCESSOR_PROVIDER, TuiValueAccessorDirective, TuiValueAccessorModule };\n","import { __decorate } from 'tslib';\nimport * as i0 from '@angular/core';\nimport { Directive, inject, signal, Component, ChangeDetectionStrategy, ViewChild, Input, NgModule } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { MASKITO_DEFAULT_OPTIONS } from '@maskito/core';\nimport { maskitoDateOptionsGenerator } from '@maskito/kit';\nimport { tuiAsControl } from '@taiga-ui/cdk/classes';\nimport { TUI_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { DATE_FILLER_LENGTH, TuiDay, TuiMonth, tuiDateClamp, TUI_LAST_DISPLAYED_DAY } from '@taiga-ui/cdk/date-time';\nimport { tuiWatch } from '@taiga-ui/cdk/observables';\nimport { TUI_IS_MOBILE } from '@taiga-ui/cdk/tokens';\nimport { changeDateSeparator, tuiNullableSame, tuiPure } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { TUI_DEFAULT_DATE_FORMAT, TUI_DATE_FORMAT } from '@taiga-ui/core/tokens';\nimport { TUI_INPUT_DATE_OPTIONS, TUI_MOBILE_CALENDAR, TUI_DATE_TEXTS, TUI_DATE_VALUE_TRANSFORMER, tuiDateStreamWithTransformer, TUI_MOBILE_CALENDAR_PROVIDER } from '@taiga-ui/kit/tokens';\nimport { AbstractTuiTextfieldHost, AbstractTuiNullableControl, tuiAsControl as tuiAsControl$1 } from '@taiga-ui/legacy/classes';\nimport * as i6 from '@taiga-ui/legacy/components/primitive-textfield';\nimport { TuiPrimitiveTextfieldComponent, TuiPrimitiveTextfieldModule, TuiTextfieldComponent } from '@taiga-ui/legacy/components/primitive-textfield';\nimport * as i7 from '@taiga-ui/legacy/directives';\nimport { TUI_TEXTFIELD_SIZE, TuiValueAccessorModule, TuiTextfieldControllerModule, TuiLegacyDropdownOpenMonitorDirective } from '@taiga-ui/legacy/directives';\nimport { tuiAsTextfieldHost, tuiAsFocusableItemAccessor } from '@taiga-ui/legacy/tokens';\nimport { TUI_DATE_MODE_MASKITO_ADAPTER } from '@taiga-ui/legacy/utils';\nimport { map } from 'rxjs';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2 from '@maskito/angular';\nimport { MaskitoDirective } from '@maskito/angular';\nimport * as i3 from '@taiga-ui/polymorpheus';\nimport { PolymorpheusOutlet, PolymorpheusTemplate } from '@taiga-ui/polymorpheus';\nimport * as i4 from '@taiga-ui/core/components/calendar';\nimport { TuiCalendar } from '@taiga-ui/core/components/calendar';\nimport * as i5 from '@taiga-ui/core/components/link';\nimport { TuiLink } from '@taiga-ui/core/components/link';\nimport * as i8 from '@taiga-ui/cdk/directives/let';\nimport { TuiLet } from '@taiga-ui/cdk/directives/let';\nimport * as i9 from '@taiga-ui/core/directives/appearance';\nimport { TuiAppearance } from '@taiga-ui/core/directives/appearance';\nimport * as i10 from '@taiga-ui/core/components/icon';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport * as i1$1 from '@taiga-ui/core/directives/dropdown';\nimport { TuiDropdown } from '@taiga-ui/core/directives/dropdown';\nconst _c0 = [\"*\", [[\"input\"]]];\nconst _c1 = [\"*\", \"input\"];\nconst _c2 = a0 => ({\n  $implicit: a0\n});\nfunction TuiInputDateComponent_tui_primitive_textfield_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-primitive-textfield\", 5);\n    i0.ɵɵlistener(\"focusedChange\", function TuiInputDateComponent_tui_primitive_textfield_1_Template_tui_primitive_textfield_focusedChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onFocused($event));\n    })(\"valueChange\", function TuiInputDateComponent_tui_primitive_textfield_1_Template_tui_primitive_textfield_valueChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onValueChange($event));\n    });\n    i0.ɵɵprojection(1);\n    i0.ɵɵprojection(2, 1, [\"ngProjectAs\", \"input\", 5, [\"input\"]]);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const filler_r4 = ctx.tuiLet;\n    const ctx_r2 = i0.ɵɵnextContext();\n    const iconContent_r5 = i0.ɵɵreference(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.computedDisabled)(\"focusable\", ctx_r2.computedFocusable)(\"invalid\", ctx_r2.computedInvalid)(\"maskito\", ctx_r2.computedMask)(\"nativeId\", ctx_r2.nativeId)(\"pseudoFocus\", ctx_r2.pseudoFocus)(\"pseudoHover\", ctx_r2.pseudoHover)(\"readOnly\", ctx_r2.readOnly)(\"tuiTextfieldFiller\", ctx_r2.getComputedFiller(filler_r4 || \"\"))(\"tuiTextfieldIcon\", ctx_r2.calendarIcon && iconContent_r5)(\"value\", ctx_r2.computedValue);\n  }\n}\nfunction TuiInputDateComponent_ng_template_3_tui_icon_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-icon\", 8);\n    i0.ɵɵlistener(\"click\", function TuiInputDateComponent_ng_template_3_tui_icon_0_Template_tui_icon_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onIconClick());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const src_r7 = ctx.polymorpheusOutlet;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"t-icon_small\", ctx_r2.size === \"s\")(\"t-icon\", !ctx_r2.computedDisabled);\n    i0.ɵɵproperty(\"icon\", src_r7.toString());\n  }\n}\nfunction TuiInputDateComponent_ng_template_3_input_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"input\", 9);\n  }\n}\nfunction TuiInputDateComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiInputDateComponent_ng_template_3_tui_icon_0_Template, 1, 5, \"tui-icon\", 6)(1, TuiInputDateComponent_ng_template_3_input_1_Template, 1, 0, \"input\", 7);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.calendarIcon)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(3, _c2, ctx_r2.size));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.nativePicker);\n  }\n}\nfunction TuiInputDateComponent_ng_template_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵlistener(\"mousedown.prevent.zoneless\", function TuiInputDateComponent_ng_template_5_div_1_Template_div_mousedown_prevent_zoneless_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      return i0.ɵɵresetView(0);\n    });\n    i0.ɵɵelementStart(1, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function TuiInputDateComponent_ng_template_5_div_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.items[0] && ctx_r2.onDayClick(ctx_r2.items[0].day));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.items[0], \" \");\n  }\n}\nfunction TuiInputDateComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-calendar\", 10);\n    i0.ɵɵlistener(\"dayClick\", function TuiInputDateComponent_ng_template_5_Template_tui_calendar_dayClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onDayClick($event));\n    })(\"monthChange\", function TuiInputDateComponent_ng_template_5_Template_tui_calendar_monthChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onMonthChange($event));\n    })(\"mousedown.prevent.zoneless\", function TuiInputDateComponent_ng_template_5_Template_tui_calendar_mousedown_prevent_zoneless_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      return i0.ɵɵresetView(0);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(1, TuiInputDateComponent_ng_template_5_div_1_Template, 3, 1, \"div\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabledItemHandler\", ctx_r2.disabledItemHandler)(\"markerHandler\", ctx_r2.markerHandler)(\"max\", ctx_r2.computedMax)(\"min\", ctx_r2.computedMin)(\"month\", ctx_r2.computedActiveYearMonth)(\"value\", ctx_r2.value);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.items.length === 1);\n  }\n}\nlet TuiInputDateDirective = /*#__PURE__*/(() => {\n  class TuiInputDateDirective extends AbstractTuiTextfieldHost {\n    get value() {\n      return this.host.computedValue;\n    }\n    get max() {\n      return this.host.computedMax;\n    }\n    get min() {\n      return this.host.computedMin;\n    }\n    get format() {\n      return this.host.dateFormat;\n    }\n    onValueChange(value) {\n      this.host.onValueChange(value);\n    }\n    process(input) {\n      input.inputMode = 'numeric';\n    }\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵTuiInputDateDirective_BaseFactory;\n        return function TuiInputDateDirective_Factory(__ngFactoryType__) {\n          return (ɵTuiInputDateDirective_BaseFactory || (ɵTuiInputDateDirective_BaseFactory = i0.ɵɵgetInheritedFactory(TuiInputDateDirective)))(__ngFactoryType__ || TuiInputDateDirective);\n        };\n      })();\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiInputDateDirective,\n        selectors: [[\"tui-input-date\", 3, \"multiple\", \"\"]],\n        standalone: false,\n        features: [i0.ɵɵProvidersFeature([tuiAsTextfieldHost(TuiInputDateDirective)]), i0.ɵɵInheritDefinitionFeature]\n      });\n    }\n  }\n  return TuiInputDateDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiNativeDateDirective = /*#__PURE__*/(() => {\n  class TuiNativeDateDirective {\n    constructor() {\n      this.host = inject(TuiInputDateDirective);\n    }\n    get value() {\n      return this.host.value.length === DATE_FILLER_LENGTH ? TuiDay.normalizeParse(this.host.value, this.host.format.mode).toString('YMD', '-') : '';\n    }\n    get max() {\n      return this.host.max.toJSON();\n    }\n    get min() {\n      return this.host.min.toJSON();\n    }\n    onChange(value) {\n      this.host.onValueChange(value ? TuiDay.normalizeParse(value, 'YMD').toString(this.host.format.mode) : '');\n    }\n    static {\n      this.ɵfac = function TuiNativeDateDirective_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiNativeDateDirective)();\n      };\n    }\n    static {\n      this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n        type: TuiNativeDateDirective,\n        selectors: [[\"input\", \"tuiDate\", \"\"]],\n        hostAttrs: [\"type\", \"date\"],\n        hostVars: 4,\n        hostBindings: function TuiNativeDateDirective_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"change\", function TuiNativeDateDirective_change_HostBindingHandler($event) {\n              return ctx.onChange($event.target.value);\n            })(\"click.stop.zoneless\", function TuiNativeDateDirective_click_stop_zoneless_HostBindingHandler() {\n              return 0;\n            })(\"input.stop.zoneless\", function TuiNativeDateDirective_input_stop_zoneless_HostBindingHandler() {\n              return 0;\n            })(\"mousedown.stop.zoneless\", function TuiNativeDateDirective_mousedown_stop_zoneless_HostBindingHandler() {\n              return 0;\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵhostProperty(\"tabIndex\", -1)(\"value\", ctx.value)(\"max\", ctx.max)(\"min\", ctx.min);\n          }\n        },\n        standalone: false,\n        features: [i0.ɵɵProvidersFeature([tuiAsTextfieldHost(TuiInputDateDirective)])]\n      });\n    }\n  }\n  return TuiNativeDateDirective;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiInputDateComponent = /*#__PURE__*/(() => {\n  class TuiInputDateComponent extends AbstractTuiNullableControl {\n    constructor() {\n      super(...arguments);\n      this.options = inject(TUI_INPUT_DATE_OPTIONS);\n      this.textfieldSize = inject(TUI_TEXTFIELD_SIZE);\n      this.mobileCalendar = inject(TUI_MOBILE_CALENDAR, {\n        optional: true\n      });\n      this.month = null;\n      this.nativeValue = signal('');\n      this.min = this.options.min;\n      this.max = this.options.max;\n      this.disabledItemHandler = TUI_FALSE_HANDLER;\n      this.markerHandler = null;\n      this.items = [];\n      this.defaultActiveYearMonth = TuiMonth.currentLocal();\n      this.dateFormat = TUI_DEFAULT_DATE_FORMAT;\n      this.open = false;\n      this.dateTexts$ = inject(TUI_DATE_TEXTS);\n      this.valueTransformer = inject(TUI_DATE_VALUE_TRANSFORMER, {\n        optional: true\n      });\n      this.isMobile = inject(TUI_IS_MOBILE);\n      this.filler$ = this.dateTexts$.pipe(map(dateTexts => changeDateSeparator(dateTexts[this.dateFormat.mode], this.dateFormat.separator)));\n      this.dateFormat$ = inject(TUI_DATE_FORMAT).pipe(tuiWatch(this.cdr), takeUntilDestroyed()).subscribe(format => {\n        this.dateFormat = format;\n      });\n    }\n    get computedMin() {\n      return this.min ?? this.options.min;\n    }\n    get computedMax() {\n      return this.max ?? this.options.max;\n    }\n    get nativeFocusableElement() {\n      return this.textfield?.nativeFocusableElement ?? null;\n    }\n    get focused() {\n      return !!this.textfield?.focused;\n    }\n    get computedValue() {\n      const {\n        value,\n        nativeValue,\n        activeItem\n      } = this;\n      if (activeItem) {\n        return String(activeItem);\n      }\n      return value ? value.toString(this.dateFormat.mode, this.dateFormat.separator) : nativeValue();\n    }\n    onValueChange(value) {\n      this.nativeValue.set(value);\n      if (this.control) {\n        this.control.updateValueAndValidity({\n          emitEvent: false\n        });\n      }\n      if (!value && !this.mobileCalendar) {\n        this.onOpenChange(true);\n      }\n      if (this.activeItem) {\n        this.nativeValue.set('');\n      }\n      this.value = value.length !== DATE_FILLER_LENGTH || this.activeItem ? null : TuiDay.normalizeParse(value, this.dateFormat.mode);\n    }\n    setDisabledState() {\n      super.setDisabledState();\n      this.open = false;\n    }\n    writeValue(value) {\n      if (this.value === null && value === this.value) {\n        return;\n      }\n      super.writeValue(value);\n      this.nativeValue.set(this.value ? this.computedValue : '');\n    }\n    get size() {\n      return this.textfieldSize.size;\n    }\n    get nativePicker() {\n      return this.options.nativePicker && this.isMobile;\n    }\n    get calendarIcon() {\n      return this.options.icon;\n    }\n    get computedActiveYearMonth() {\n      const clampedDate = tuiDateClamp(this.defaultActiveYearMonth, this.computedMin, this.computedMax);\n      if (this.value?.dayAfter(TUI_LAST_DISPLAYED_DAY)) {\n        return this.month || clampedDate;\n      }\n      if (this.items[0] && this.value?.daySame(this.items[0].day)) {\n        return this.items[0].displayDay;\n      }\n      return this.month || this.value || clampedDate;\n    }\n    get computedMask() {\n      return this.activeItem ? MASKITO_DEFAULT_OPTIONS : this.computeMaskOptions(this.dateFormat.mode, this.dateFormat.separator, this.computedMin, this.computedMax);\n    }\n    get activeItem() {\n      const {\n        value\n      } = this;\n      return value && this.items.find(item => item.day.daySame(value)) || null;\n    }\n    onClick() {\n      if (!this.isMobile && this.interactive) {\n        this.open = !this.open;\n      }\n    }\n    getComputedFiller(filler) {\n      return this.activeItem ? '' : filler;\n    }\n    onIconClick() {\n      if (this.isMobile && this.interactive) {\n        this.open = true;\n      }\n    }\n    onDayClick(value) {\n      this.value = value;\n      this.open = false;\n    }\n    onMonthChange(month) {\n      this.month = month;\n    }\n    onOpenChange(open) {\n      this.open = open;\n    }\n    onFocused(focused) {\n      this.updateFocused(focused);\n    }\n    valueIdenticalComparator(oldValue, newValue) {\n      return tuiNullableSame(oldValue, newValue, (a, b) => a.daySame(b));\n    }\n    computeMaskOptions(mode, separator, min, max) {\n      return maskitoDateOptionsGenerator({\n        separator,\n        mode: TUI_DATE_MODE_MASKITO_ADAPTER[mode],\n        min: min.toLocalNativeDate(),\n        max: max.toLocalNativeDate()\n      });\n    }\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵTuiInputDateComponent_BaseFactory;\n        return function TuiInputDateComponent_Factory(__ngFactoryType__) {\n          return (ɵTuiInputDateComponent_BaseFactory || (ɵTuiInputDateComponent_BaseFactory = i0.ɵɵgetInheritedFactory(TuiInputDateComponent)))(__ngFactoryType__ || TuiInputDateComponent);\n        };\n      })();\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiInputDateComponent,\n        selectors: [[\"tui-input-date\", 3, \"multiple\", \"\"]],\n        viewQuery: function TuiInputDateComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(TuiPrimitiveTextfieldComponent, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.textfield = _t.first);\n          }\n        },\n        hostVars: 1,\n        hostBindings: function TuiInputDateComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"click\", function TuiInputDateComponent_click_HostBindingHandler() {\n              return ctx.onClick();\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵattribute(\"data-size\", ctx.size);\n          }\n        },\n        inputs: {\n          min: \"min\",\n          max: \"max\",\n          disabledItemHandler: \"disabledItemHandler\",\n          markerHandler: \"markerHandler\",\n          items: \"items\",\n          defaultActiveYearMonth: \"defaultActiveYearMonth\"\n        },\n        standalone: false,\n        features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiInputDateComponent), tuiAsControl(TuiInputDateComponent), tuiAsControl$1(TuiInputDateComponent), tuiDateStreamWithTransformer(TUI_DATE_VALUE_TRANSFORMER), TUI_MOBILE_CALENDAR_PROVIDER]), i0.ɵɵInheritDefinitionFeature],\n        ngContentSelectors: _c1,\n        decls: 7,\n        vars: 7,\n        consts: [[\"iconContent\", \"\"], [\"dropdown\", \"polymorpheus\"], [\"tuiDropdownOpenMonitor\", \"\", 1, \"t-hosted\", 3, \"tuiDropdownOpenChange\", \"tuiDropdown\", \"tuiDropdownEnabled\", \"tuiDropdownOpen\"], [\"automation-id\", \"tui-input-date-range__textfield\", \"tuiValueAccessor\", \"\", \"class\", \"t-textfield\", 3, \"disabled\", \"focusable\", \"invalid\", \"maskito\", \"nativeId\", \"pseudoFocus\", \"pseudoHover\", \"readOnly\", \"tuiTextfieldFiller\", \"tuiTextfieldIcon\", \"value\", \"focusedChange\", \"valueChange\", 4, \"tuiLet\"], [3, \"polymorpheus\"], [\"automation-id\", \"tui-input-date-range__textfield\", \"tuiValueAccessor\", \"\", 1, \"t-textfield\", 3, \"focusedChange\", \"valueChange\", \"disabled\", \"focusable\", \"invalid\", \"maskito\", \"nativeId\", \"pseudoFocus\", \"pseudoHover\", \"readOnly\", \"tuiTextfieldFiller\", \"tuiTextfieldIcon\", \"value\"], [\"automation-id\", \"tui-input-date-range__icon\", \"tuiAppearance\", \"icon\", 3, \"t-icon_small\", \"t-icon\", \"icon\", \"click\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"tuiDate\", \"\", \"class\", \"t-native-input\", 4, \"ngIf\"], [\"automation-id\", \"tui-input-date-range__icon\", \"tuiAppearance\", \"icon\", 3, \"click\", \"icon\"], [\"tuiDate\", \"\", 1, \"t-native-input\"], [\"automation-id\", \"tui-input-date__calendar\", 3, \"dayClick\", \"monthChange\", \"mousedown.prevent.zoneless\", \"disabledItemHandler\", \"markerHandler\", \"max\", \"min\", \"month\", \"value\"], [\"class\", \"t-button\", 3, \"mousedown.prevent.zoneless\", 4, \"ngIf\"], [1, \"t-button\", 3, \"mousedown.prevent.zoneless\"], [\"tuiLink\", \"\", \"type\", \"button\", 3, \"click\"]],\n        template: function TuiInputDateComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵprojectionDef(_c0);\n            i0.ɵɵelementStart(0, \"div\", 2);\n            i0.ɵɵlistener(\"tuiDropdownOpenChange\", function TuiInputDateComponent_Template_div_tuiDropdownOpenChange_0_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onOpenChange($event));\n            });\n            i0.ɵɵtemplate(1, TuiInputDateComponent_tui_primitive_textfield_1_Template, 3, 11, \"tui-primitive-textfield\", 3);\n            i0.ɵɵpipe(2, \"async\");\n            i0.ɵɵtemplate(3, TuiInputDateComponent_ng_template_3_Template, 2, 5, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor)(5, TuiInputDateComponent_ng_template_5_Template, 2, 7, \"ng-template\", 4, 1, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const dropdown_r10 = i0.ɵɵreference(6);\n            i0.ɵɵproperty(\"tuiDropdown\", dropdown_r10)(\"tuiDropdownEnabled\", ctx.interactive && !ctx.nativePicker)(\"tuiDropdownOpen\", ctx.open);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"tuiLet\", i0.ɵɵpipeBind1(2, 5, ctx.filler$));\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"polymorpheus\", ctx.type);\n          }\n        },\n        dependencies: [i1.NgIf, i2.MaskitoDirective, i3.PolymorpheusOutlet, i3.PolymorpheusTemplate, i4.TuiCalendar, i5.TuiLink, i6.TuiPrimitiveTextfieldComponent, i6.TuiPrimitiveTextfieldDirective, i7.TuiValueAccessorDirective, i8.TuiLet, i7.TuiTextfieldIconDirective, i7.TuiTextfieldFillerDirective, i7.TuiLegacyDropdownOpenMonitorDirective, i9.TuiAppearance, i10.TuiIcon, i1$1.TuiDropdownDirective, i1$1.TuiDropdownOpen, TuiNativeDateDirective, i1.AsyncPipe],\n        styles: [\"[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:start}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-icon_small[_ngcontent-%COMP%]{border-width:.25rem}.t-button[_ngcontent-%COMP%]{display:flex;block-size:2.75rem;justify-content:center;box-shadow:inset 0 1px var(--tui-border-normal)}.t-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;text-align:center}.t-native-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;opacity:0;pointer-events:auto;font-size:2rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  __decorate([tuiPure], TuiInputDateComponent.prototype, \"computeMaskOptions\", null);\n  return TuiInputDateComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiInputDateModule = /*#__PURE__*/(() => {\n  class TuiInputDateModule {\n    static {\n      this.ɵfac = function TuiInputDateModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiInputDateModule)();\n      };\n    }\n    static {\n      this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n        type: TuiInputDateModule\n      });\n    }\n    static {\n      this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n        imports: [CommonModule, TuiCalendar, TuiPrimitiveTextfieldModule, TuiValueAccessorModule, TuiTextfieldControllerModule, TuiIcon, i1$1.TuiDropdownComponent]\n      });\n    }\n  }\n  return TuiInputDateModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TuiInputDateComponent, TuiInputDateDirective, TuiInputDateModule };\n","import * as i0 from '@angular/core';\nimport { inject, EventEmitter, ElementRef, Component, ChangeDetectionStrategy, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { tuiInjectElement } from '@taiga-ui/cdk/utils/dom';\nimport { TUI_COMMON_ICONS } from '@taiga-ui/core/tokens';\nimport { tuiStringHashToHsl } from '@taiga-ui/core/utils/format';\nimport { tuiSizeBigger } from '@taiga-ui/core/utils/miscellaneous';\nimport { tuiCreateToken, tuiProvideOptions } from '@taiga-ui/cdk/utils/miscellaneous';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport * as i3 from '@taiga-ui/core/components/icon';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport * as i4 from '@taiga-ui/core/components/loader';\nimport { TuiLoader } from '@taiga-ui/core/components/loader';\nimport * as i5 from '@taiga-ui/polymorpheus';\nimport { PolymorpheusOutlet, PolymorpheusTemplate } from '@taiga-ui/polymorpheus';\n\n/**\n * @deprecated: drop in v5.0 use {@link TuiChip}\n * https://taiga-ui.dev/components/chip\n */\nconst _c0 = [\"input\"];\nconst _c1 = () => ({\n  standalone: true\n});\nfunction TuiTagComponent_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const text_r1 = ctx.polymorpheusOutlet;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", text_r1, \" \");\n  }\n}\nfunction TuiTagComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, TuiTagComponent_div_1_ng_container_1_Template, 2, 1, \"ng-container\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r1.leftContent);\n  }\n}\nfunction TuiTagComponent_tui_loader_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-loader\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"inheritColor\", true)(\"size\", ctx_r1.loaderSize);\n  }\n}\nfunction TuiTagComponent_tui_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-icon\", 10);\n    i0.ɵɵlistener(\"click\", function TuiTagComponent_tui_icon_4_Template_tui_icon_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.remove($event));\n    })(\"mousedown.stop.prevent.zoneless\", function TuiTagComponent_tui_icon_4_Template_tui_icon_mousedown_stop_prevent_zoneless_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      return i0.ɵɵresetView(0);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r1.icons.close);\n  }\n}\nfunction TuiTagComponent_input_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 11, 0);\n    i0.ɵɵlistener(\"blur\", function TuiTagComponent_input_5_Template_input_blur_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onBlur());\n    })(\"keydown\", function TuiTagComponent_input_5_Template_input_keydown_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onKeyDown($event));\n    })(\"ngModelChange\", function TuiTagComponent_input_5_Template_input_ngModelChange_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onInput($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.editedText)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c1));\n    i0.ɵɵattribute(\"maxLength\", ctx_r1.maxLength);\n  }\n}\nconst TUI_TAG_DEFAULT_OPTIONS = {\n  size: 'm',\n  status: 'default',\n  autoColor: false\n};\n/**\n * @deprecated: drop in v5.0 use {@link TuiChip}\n * https://taiga-ui.dev/components/chip\n */\nconst TUI_TAG_OPTIONS = tuiCreateToken(TUI_TAG_DEFAULT_OPTIONS);\n/**\n * @deprecated: drop in v5.0 use {@link TuiChip}\n * https://taiga-ui.dev/components/chip\n */\nfunction tuiTagOptionsProvider(options) {\n  return tuiProvideOptions(TUI_TAG_OPTIONS, options, TUI_TAG_DEFAULT_OPTIONS);\n}\n\n/**\n * @deprecated: drop in v5.0 use {@link TuiChip}\n * https://taiga-ui.dev/components/chip\n */\nlet TuiTagComponent = /*#__PURE__*/(() => {\n  class TuiTagComponent {\n    constructor() {\n      this.el = tuiInjectElement();\n      this.options = inject(TUI_TAG_OPTIONS);\n      this.editing = false;\n      this.icons = inject(TUI_COMMON_ICONS);\n      this.editedText = null;\n      this.value = '';\n      this.editable = false;\n      this.separator = ',';\n      this.maxLength = null;\n      this.size = this.options.size;\n      this.showLoader = false;\n      this.status = this.options.status;\n      this.hoverable = false;\n      this.removable = false;\n      this.disabled = false;\n      this.autoColor = this.options.autoColor;\n      this.edited = new EventEmitter();\n    }\n    set input(input) {\n      if (input) {\n        input.nativeElement.focus();\n      }\n    }\n    get backgroundColor() {\n      return this.autoColor ? tuiStringHashToHsl(this.value) : null;\n    }\n    get canRemove() {\n      return this.removable && !this.disabled && !this.showLoader;\n    }\n    get displayText() {\n      return this.editedText ?? this.value;\n    }\n    get loaderSize() {\n      return tuiSizeBigger(this.size) ? 's' : 'xs';\n    }\n    edit(event) {\n      if (!this.canEdit) {\n        return;\n      }\n      event.preventDefault();\n      this.editing = true;\n      this.editedText = this.value;\n    }\n    remove(event) {\n      if (!this.canRemove) {\n        return;\n      }\n      event.preventDefault();\n      event.stopPropagation();\n      this.edited.emit('');\n    }\n    onInput(value) {\n      const newTags = value.split(this.separator);\n      if (newTags.length > 1) {\n        this.save(String(newTags));\n        return;\n      }\n      this.editedText = value;\n    }\n    onKeyDown(event) {\n      event.stopPropagation();\n      switch (event.key.toLowerCase()) {\n        case 'enter':\n          event.preventDefault();\n          this.save(this.editedText || '');\n          break;\n        case 'esc':\n        case 'escape':\n          event.preventDefault();\n          this.stopEditing();\n          this.el.focus();\n          break;\n        default:\n          break;\n      }\n    }\n    onBlur() {\n      if (this.editedText !== null) {\n        this.save(this.editedText);\n      }\n    }\n    get canEdit() {\n      return this.editable && !this.disabled && !this.showLoader;\n    }\n    stopEditing() {\n      this.editing = false;\n      this.editedText = null;\n    }\n    save(value) {\n      this.stopEditing();\n      this.edited.emit(value.trim());\n    }\n    static {\n      this.ɵfac = function TuiTagComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiTagComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiTagComponent,\n        selectors: [[\"tui-tag\"], [\"a\", \"tuiTag\", \"\"], [\"button\", \"tuiTag\", \"\"]],\n        viewQuery: function TuiTagComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(_c0, 5, ElementRef);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n          }\n        },\n        hostVars: 10,\n        hostBindings: function TuiTagComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"keydown.delete\", function TuiTagComponent_keydown_delete_HostBindingHandler($event) {\n              return ctx.remove($event);\n            })(\"keydown.backspace\", function TuiTagComponent_keydown_backspace_HostBindingHandler($event) {\n              return ctx.remove($event);\n            })(\"keydown.enter\", function TuiTagComponent_keydown_enter_HostBindingHandler($event) {\n              return ctx.edit($event);\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵattribute(\"data-size\", ctx.size)(\"data-status\", ctx.status);\n            i0.ɵɵclassProp(\"_editing\", ctx.editing)(\"_hoverable\", ctx.hoverable)(\"_autocolor\", ctx.autoColor)(\"_disabled\", ctx.disabled);\n          }\n        },\n        inputs: {\n          value: \"value\",\n          editable: \"editable\",\n          separator: \"separator\",\n          maxLength: \"maxLength\",\n          size: \"size\",\n          showLoader: \"showLoader\",\n          status: \"status\",\n          hoverable: \"hoverable\",\n          removable: \"removable\",\n          disabled: \"disabled\",\n          autoColor: \"autoColor\",\n          leftContent: \"leftContent\"\n        },\n        outputs: {\n          edited: \"edited\"\n        },\n        standalone: false,\n        decls: 6,\n        vars: 7,\n        consts: [[\"input\", \"\"], [1, \"t-tag\", 3, \"dblclick\"], [\"class\", \"t-content\", 4, \"ngIf\"], [\"automation-id\", \"tui-tag__text\", 1, \"t-text\", 3, \"textContent\"], [\"class\", \"t-content\", 3, \"inheritColor\", \"size\", 4, \"ngIf\"], [\"automation-id\", \"tui-tag__remove\", \"class\", \"t-icon\", 3, \"icon\", \"click\", \"mousedown.stop.prevent.zoneless\", 4, \"ngIf\"], [\"automation-id\", \"tui-tag__edit\", \"type\", \"text\", \"class\", \"t-edit\", 3, \"ngModel\", \"ngModelOptions\", \"blur\", \"keydown\", \"ngModelChange\", 4, \"ngIf\"], [1, \"t-content\"], [4, \"polymorpheusOutlet\"], [1, \"t-content\", 3, \"inheritColor\", \"size\"], [\"automation-id\", \"tui-tag__remove\", 1, \"t-icon\", 3, \"click\", \"mousedown.stop.prevent.zoneless\", \"icon\"], [\"automation-id\", \"tui-tag__edit\", \"type\", \"text\", 1, \"t-edit\", 3, \"blur\", \"keydown\", \"ngModelChange\", \"ngModel\", \"ngModelOptions\"]],\n        template: function TuiTagComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1);\n            i0.ɵɵlistener(\"dblclick\", function TuiTagComponent_Template_div_dblclick_0_listener($event) {\n              return ctx.edit($event);\n            });\n            i0.ɵɵtemplate(1, TuiTagComponent_div_1_Template, 2, 1, \"div\", 2);\n            i0.ɵɵelement(2, \"span\", 3);\n            i0.ɵɵtemplate(3, TuiTagComponent_tui_loader_3_Template, 1, 2, \"tui-loader\", 4)(4, TuiTagComponent_tui_icon_4_Template, 1, 1, \"tui-icon\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(5, TuiTagComponent_input_5_Template, 2, 4, \"input\", 6);\n          }\n          if (rf & 2) {\n            i0.ɵɵstyleProp(\"background-color\", ctx.backgroundColor);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.leftContent);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"textContent\", ctx.displayText);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.showLoader);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.canRemove);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.editing);\n          }\n        },\n        dependencies: [i1.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i3.TuiIcon, i4.TuiLoader, i5.PolymorpheusOutlet],\n        styles: [\"[_nghost-%COMP%]{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;display:inline-block;font:var(--tui-font-text-s);line-height:1.25rem;max-inline-size:100%;cursor:default;outline:none;text-decoration:none;padding:0;border:0}[_nghost-%COMP%]:after{transition-property:background;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;content:\\\"\\\";box-sizing:border-box;border-radius:inherit;pointer-events:none}._hoverable[_nghost-%COMP%]:hover[data-status=custom]:after, ._hoverable[_nghost-%COMP%]:active[data-status=custom]:after{background-color:var(--tui-background-neutral-1)}[_nghost-%COMP%]:focus:after{border:2px solid var(--tui-border-focus)}[data-size=s][_nghost-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;border-radius:var(--tui-radius-xs)}[data-size=m][_nghost-%COMP%]{border-radius:var(--tui-radius-xs)}[data-size=l][_nghost-%COMP%]{border-radius:var(--tui-radius-s)}[data-status=primary][_nghost-%COMP%]{background-color:var(--tui-background-accent-1);color:var(--tui-text-primary-on-accent-1)}[data-status=primary]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-background-accent-1-hover)}[data-status=primary]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-background-accent-1-pressed)}[data-status=error][_nghost-%COMP%]{background-color:var(--tui-status-negative-pale);color:var(--tui-text-primary)}[data-status=error]._hoverable[_nghost-%COMP%]:hover, [data-status=error]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-negative-pale-hover)}[tuiTheme=\\\"dark\\\"]   [data-status=error][_nghost-%COMP%]{background-color:var(--tui-status-negative-pale);color:var(--tui-text-primary)}[tuiTheme=\\\"dark\\\"]   [data-status=error]._hoverable[_nghost-%COMP%]:hover, [tuiTheme=\\\"dark\\\"]   [data-status=error]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-negative-pale-hover)}[data-status=success][_nghost-%COMP%]{background-color:var(--tui-status-positive-pale);color:var(--tui-text-primary)}[data-status=success]._hoverable[_nghost-%COMP%]:hover, [data-status=success]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-positive-pale-hover)}[tuiTheme=\\\"dark\\\"]   [data-status=success][_nghost-%COMP%]{background-color:var(--tui-status-positive-pale);color:var(--tui-text-primary)}[tuiTheme=\\\"dark\\\"]   [data-status=success]._hoverable[_nghost-%COMP%]:hover, [tuiTheme=\\\"dark\\\"]   [data-status=success]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-positive-pale-hover)}[data-status=warning][_nghost-%COMP%]{background-color:var(--tui-status-warning-pale);color:var(--tui-text-primary)}[data-status=warning]._hoverable[_nghost-%COMP%]:hover, [data-status=warning]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-warning-pale-hover)}[tuiTheme=\\\"dark\\\"]   [data-status=warning][_nghost-%COMP%]{background-color:var(--tui-status-warning-pale);color:var(--tui-text-primary)}[tuiTheme=\\\"dark\\\"]   [data-status=warning]._hoverable[_nghost-%COMP%]:hover, [tuiTheme=\\\"dark\\\"]   [data-status=warning]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-status-warning-pale-hover)}[data-status=default][_nghost-%COMP%]{color:#fff;background-color:var(--tui-text-tertiary)}[data-status=default]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-background-accent-opposite-pressed)}[data-status=default]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-background-accent-opposite-hover)}[tuiTheme=\\\"dark\\\"]   [data-status=default][_nghost-%COMP%]{color:var(--tui-text-primary);background-color:var(--tui-background-neutral-1)}[tuiTheme=\\\"dark\\\"]   [data-status=default]._hoverable[_nghost-%COMP%]:hover{background-color:var(--tui-background-neutral-1-hover)}[tuiTheme=\\\"dark\\\"]   [data-status=default]._hoverable[_nghost-%COMP%]:active{background-color:var(--tui-background-neutral-1-pressed)}[tuiTheme=\\\"dark\\\"]   [data-status=default][_nghost-%COMP%]:focus:after{border:2px solid var(--tui-background-base)}._editing[_nghost-%COMP%]{background:transparent!important}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none;opacity:var(--tui-disabled-opacity)}._hoverable[_nghost-%COMP%]{cursor:pointer}._autocolor[_nghost-%COMP%]{color:#000c}.t-text[_ngcontent-%COMP%]{white-space:pre;overflow:hidden;text-overflow:ellipsis;padding-right:.02em}.t-tag[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;display:flex;inline-size:auto;align-items:center;font:inherit;border-radius:inherit}[data-size=s][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{block-size:1.25rem;padding:0 .375rem}[data-size=m][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{block-size:var(--tui-height-xs);padding:0 .5rem}[data-size=l][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{block-size:var(--tui-height-s);padding:0 .75rem}._editing[_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{visibility:hidden}.t-edit[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;font:inherit;color:var(--tui-text-primary);inline-size:100%;block-size:100%;box-sizing:border-box;padding:0 .5rem}.t-edit[_ngcontent-%COMP%]:-webkit-autofill, .t-edit[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-edit[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}[data-size=s][_nghost-%COMP%]   .t-edit[_ngcontent-%COMP%]{padding:0 .375rem}[data-size=m][_nghost-%COMP%]   .t-edit[_ngcontent-%COMP%]{padding:0 .5rem}[data-size=l][_nghost-%COMP%]   .t-edit[_ngcontent-%COMP%]{padding:0 .75rem}.t-icon[_ngcontent-%COMP%]{font-size:1rem;block-size:100%;cursor:pointer;pointer-events:all;opacity:var(--tui-disabled-opacity);margin-inline-start:.25rem;margin-inline-end:-.25rem}.t-icon[_ngcontent-%COMP%]:hover{opacity:1}[data-size=s][_nghost-%COMP%]   .t-icon[_ngcontent-%COMP%]{margin-inline-start:0;block-size:.75rem}.t-content[_ngcontent-%COMP%]{inline-size:1rem;block-size:1rem;margin-inline-end:.25rem}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiTagComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated: drop in v5.0 use {@link TuiChip}\n * https://taiga-ui.dev/components/chip\n */\nlet TuiTagModule = /*#__PURE__*/(() => {\n  class TuiTagModule {\n    static {\n      this.ɵfac = function TuiTagModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiTagModule)();\n      };\n    }\n    static {\n      this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n        type: TuiTagModule\n      });\n    }\n    static {\n      this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n        imports: [CommonModule, FormsModule, TuiIcon, TuiLoader]\n      });\n    }\n  }\n  return TuiTagModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_TAG_DEFAULT_OPTIONS, TUI_TAG_OPTIONS, TuiTagComponent, TuiTagModule, tuiTagOptionsProvider };\n","import * as i0 from '@angular/core';\nimport { inject, EventEmitter, signal, TemplateRef, ElementRef, Component, ChangeDetectionStrategy, ViewChild, ViewChildren, ContentChild, Input, Output, NgModule } from '@angular/core';\nimport { takeUntilDestroyed } from '@angular/core/rxjs-interop';\nimport { EMPTY_QUERY, TUI_TRUE_HANDLER, TUI_FALSE_HANDLER } from '@taiga-ui/cdk/constants';\nimport { tuiInjectElement, tuiRetargetedBoundaryCrossing, tuiGetActualTarget, tuiIsElement, tuiGetClipboardDataText } from '@taiga-ui/cdk/utils/dom';\nimport { tuiIsNativeFocusedIn } from '@taiga-ui/cdk/utils/focus';\nimport { tuiCreateToken, tuiProvideOptions, tuiIsString, tuiArrayRemove } from '@taiga-ui/cdk/utils/miscellaneous';\nimport { tuiAsDataListHost, TuiDataListDirective } from '@taiga-ui/core/components/data-list';\nimport * as i5 from '@taiga-ui/core/components/scrollbar';\nimport { TuiScrollbar } from '@taiga-ui/core/components/scrollbar';\nimport { TUI_TEXTFIELD_OPTIONS } from '@taiga-ui/core/components/textfield';\nimport * as i1 from '@taiga-ui/core/directives/dropdown';\nimport { TuiDropdownOpen, TuiDropdownFixed, TuiDropdown } from '@taiga-ui/core/directives/dropdown';\nimport { TuiHintOptionsDirective } from '@taiga-ui/core/directives/hint';\nimport { TUI_COMMON_ICONS } from '@taiga-ui/core/tokens';\nimport { AbstractTuiMultipleControl, tuiAsControl } from '@taiga-ui/legacy/classes';\nimport * as i8 from '@taiga-ui/legacy/directives';\nimport { TUI_TEXTFIELD_WATCHED_CONTROLLER, TEXTFIELD_CONTROLLER_PROVIDER, TuiWrapperModule, TuiLegacyDropdownOpenMonitorDirective } from '@taiga-ui/legacy/directives';\nimport { tuiAsFocusableItemAccessor } from '@taiga-ui/legacy/tokens';\nimport * as i4 from '@taiga-ui/polymorpheus';\nimport { PolymorpheusOutlet, PolymorpheusTemplate } from '@taiga-ui/polymorpheus';\nimport { timer } from 'rxjs';\nimport * as i2 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i3 from '@angular/forms';\nimport { FormsModule } from '@angular/forms';\nimport * as i6 from '@taiga-ui/legacy/components/tooltip';\nimport { TuiTooltipModule } from '@taiga-ui/legacy/components/tooltip';\nimport * as i7 from '@taiga-ui/legacy/components/tag';\nimport { TuiTagModule } from '@taiga-ui/legacy/components/tag';\nimport * as i9 from '@taiga-ui/core/directives/appearance';\nimport { TuiAppearance } from '@taiga-ui/core/directives/appearance';\nimport * as i10 from '@taiga-ui/core/components/icon';\nimport { TuiIcon } from '@taiga-ui/core/components/icon';\nimport { TuiHovered } from '@taiga-ui/cdk/directives/hovered';\nimport { TuiScrollService } from '@taiga-ui/cdk/services';\nconst _c0 = [\"focusableElement\"];\nconst _c1 = [\"tagsContainer\"];\nconst _c2 = [\"cleaner\"];\nconst _c3 = [\"errorIcon\"];\nconst _c4 = [\"tag\"];\nconst _c5 = [[[\"tuiContent\"]], [[\"select\"]], \"*\"];\nconst _c6 = [\"tuiContent\", \"select\", \"*\"];\nconst _c7 = () => ({\n  standalone: true\n});\nconst _c8 = a0 => ({\n  $implicit: a0\n});\nfunction TuiInputTagComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction TuiInputTagComponent_div_5_tui_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-icon\", 23);\n  }\n  if (rf & 2) {\n    const src_r2 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"icon\", src_r2.toString());\n  }\n}\nfunction TuiInputTagComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, TuiInputTagComponent_div_5_tui_icon_1_Template, 1, 1, \"tui-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.iconStart)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c8, ctx_r2.size));\n  }\n}\nfunction TuiInputTagComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵprojection(1, 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"t-placeholder_raised\", ctx_r2.placeholderRaised);\n  }\n}\nfunction TuiInputTagComponent_ng_container_11_tui_tag_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-tag\", 26, 3);\n    i0.ɵɵlistener(\"edited\", function TuiInputTagComponent_ng_container_11_tui_tag_1_Template_tui_tag_edited_0_listener($event) {\n      const index_r5 = i0.ɵɵrestoreView(_r4).index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onTagEdited($event, index_r5));\n    })(\"keydown.arrowLeft.prevent\", function TuiInputTagComponent_ng_container_11_tui_tag_1_Template_tui_tag_keydown_arrowLeft_prevent_0_listener() {\n      const index_r5 = i0.ɵɵrestoreView(_r4).index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onTagKeyDownArrowLeft(index_r5));\n    })(\"keydown.arrowRight.prevent\", function TuiInputTagComponent_ng_container_11_tui_tag_1_Template_tui_tag_keydown_arrowRight_prevent_0_listener() {\n      const index_r5 = i0.ɵɵrestoreView(_r4).index;\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.onTagKeyDownArrowRight(index_r5));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"autoColor\", ctx_r2.autoColor)(\"disabled\", ctx_r2.computedDisabled || ctx_r2.disabledItemHandler(item_r6))(\"editable\", ctx_r2.editable && !ctx_r2.readOnly)(\"hoverable\", !ctx_r2.readOnly)(\"leftContent\", ctx_r2.getLeftContent(item_r6))(\"maxLength\", ctx_r2.maxLength)(\"removable\", !ctx_r2.readOnly && ctx_r2.removable)(\"separator\", ctx_r2.separator)(\"size\", ctx_r2.controller.size)(\"status\", ctx_r2.status)(\"value\", item_r6.toString());\n  }\n}\nfunction TuiInputTagComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiInputTagComponent_ng_container_11_tui_tag_1_Template, 2, 11, \"tui-tag\", 25);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.value)(\"ngForTrackBy\", ctx_r2.trackByFn);\n  }\n}\nfunction TuiInputTagComponent_ng_template_12_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 28);\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"t-text_comma\", ctx_r2.computedFocused && !ctx_r2.inputHidden)(\"t-text_disabled\", ctx_r2.disabledItemHandler(item_r7))(\"t-text_error\", !ctx_r2.tagValidator(item_r7));\n    i0.ɵɵproperty(\"textContent\", item_r7);\n  }\n}\nfunction TuiInputTagComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TuiInputTagComponent_ng_template_12_span_0_Template, 1, 7, \"span\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.value);\n  }\n}\nfunction TuiInputTagComponent_div_22_ng_container_1_tui_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tui-icon\", 33, 4);\n    i0.ɵɵlistener(\"click.stop\", function TuiInputTagComponent_div_22_ng_container_1_tui_icon_1_Template_tui_icon_click_stop_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r2 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r2.onCleanerClick());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const src_r9 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"icon\", src_r9.toString());\n  }\n}\nfunction TuiInputTagComponent_div_22_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TuiInputTagComponent_div_22_ng_container_1_tui_icon_1_Template, 2, 1, \"tui-icon\", 32);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.iconCleaner)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c8, ctx_r2.size));\n  }\n}\nfunction TuiInputTagComponent_div_22_tui_tooltip_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-tooltip\", 34);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"content\", ctx_r2.hintOptions == null ? null : ctx_r2.hintOptions.content)(\"describeId\", ctx_r2.id);\n  }\n}\nfunction TuiInputTagComponent_div_22_div_3_tui_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-icon\", 23);\n  }\n  if (rf & 2) {\n    const src_r10 = ctx.polymorpheusOutlet;\n    i0.ɵɵproperty(\"icon\", src_r10.toString());\n  }\n}\nfunction TuiInputTagComponent_div_22_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtemplate(1, TuiInputTagComponent_div_22_div_3_tui_icon_1_Template, 1, 1, \"tui-icon\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"polymorpheusOutlet\", ctx_r2.icon)(\"polymorpheusOutletContext\", i0.ɵɵpureFunction1(2, _c8, ctx_r2.size));\n  }\n}\nfunction TuiInputTagComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtemplate(1, TuiInputTagComponent_div_22_ng_container_1_Template, 2, 4, \"ng-container\", 5)(2, TuiInputTagComponent_div_22_tui_tooltip_2_Template, 1, 2, \"tui-tooltip\", 30)(3, TuiInputTagComponent_div_22_div_3_Template, 2, 4, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasCleaner);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showHint);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.icon);\n  }\n}\nfunction TuiInputTagComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tui-icon\", 36);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"icon\", ctx_r2.icons.error);\n  }\n}\nconst TUI_INPUT_TAG_DEFAULT_OPTIONS = {\n  autoColor: false,\n  separator: ',',\n  tagStatus: 'default',\n  uniqueTags: true\n};\n/**\n * @deprecated: drop in v5.0\n * Default parameters for InputTag component\n */\nconst TUI_INPUT_TAG_OPTIONS = tuiCreateToken(TUI_INPUT_TAG_DEFAULT_OPTIONS);\nfunction tuiInputTagOptionsProvider(options) {\n  return tuiProvideOptions(TUI_INPUT_TAG_OPTIONS, options, TUI_INPUT_TAG_DEFAULT_OPTIONS);\n}\nconst TAG_SIZE_REM = {\n  s: 1.25,\n  m: 1.5,\n  l: 2\n};\nconst LINE_HEIGHT_REM = {\n  s: 1,\n  m: 1.25,\n  l: 1.25\n};\nconst TAG_VERTICAL_SPACE_REM = 0.125;\nlet TuiInputTagComponent = /*#__PURE__*/(() => {\n  class TuiInputTagComponent extends AbstractTuiMultipleControl {\n    constructor() {\n      super(...arguments);\n      this.tags = EMPTY_QUERY;\n      this.el = tuiInjectElement();\n      this.options = inject(TUI_INPUT_TAG_OPTIONS);\n      this.textfieldOptions = inject(TUI_TEXTFIELD_OPTIONS);\n      this.hintOptions = inject(TuiHintOptionsDirective, {\n        optional: true\n      });\n      this.controller = inject(TUI_TEXTFIELD_WATCHED_CONTROLLER);\n      this.icons = inject(TUI_COMMON_ICONS);\n      this.status = this.options.tagStatus;\n      this.open = false;\n      this.separator = this.options.separator;\n      this.search = '';\n      this.editable = true;\n      this.tagValidator = TUI_TRUE_HANDLER;\n      this.rows = Infinity;\n      this.inputHidden = false;\n      this.uniqueTags = this.options.uniqueTags;\n      this.autoColor = this.options.autoColor;\n      this.maxLength = null;\n      this.placeholder = '';\n      this.removable = true;\n      this.disabledItemHandler = TUI_FALSE_HANDLER;\n      this.searchChange = new EventEmitter();\n      this.pseudoOpen = signal(false);\n    }\n    set pseudoFocusedSetter(value) {\n      if (!value && !this.focused) {\n        this.scrollTo(0);\n      }\n      this.pseudoFocus = value;\n    }\n    /**\n     * @deprecated hack\n     */\n    set setPseudoOpen(value) {\n      this.pseudoOpen.set(value);\n    }\n    get labelOutside() {\n      const {\n        size,\n        labelOutside\n      } = this.controller;\n      return this.appearance === 'table' || size === 's' || labelOutside;\n    }\n    get size() {\n      return this.controller.size;\n    }\n    get nativeFocusableElement() {\n      return !this.focusableElement || this.computedDisabled ? null : this.focusableElement.nativeElement;\n    }\n    get hasValue() {\n      return !!this.value.length || this.hasNativeValue;\n    }\n    get hasExampleText() {\n      return !!this.nativeFocusableElement?.placeholder && this.computedFocused && !this.hasValue && !this.readOnly;\n    }\n    get hasPlaceholder() {\n      return !this.labelOutside || !this.hasValue && (!this.hasExampleText || this.inputHidden);\n    }\n    get focused() {\n      return tuiIsNativeFocusedIn(this.el) || !!this.dropdown?.tuiDropdownOpen;\n    }\n    get tagsEmpty() {\n      return (!this.focused || this.inputHidden) && !this.value.length && !this.search?.trim()?.length && !this.placeholder || !!this.valueContent;\n    }\n    onTagEdited(value, index) {\n      this.focusInput(value === '');\n      this.value = this.filterValue(this.value.map((tag, tagIndex) => tagIndex !== index ? tag : value.split(this.separator).map(tag => tag.trim()).filter(Boolean)).reduce((result, item) => result.concat(item), []));\n    }\n    handleOption(item) {\n      this.focusInput();\n      this.updateSearch('');\n      this.value = this.filterValue(this.value.concat(item));\n      this.open = false;\n      this.scrollTo();\n    }\n    setDisabledState() {\n      super.setDisabledState();\n      this.open = false;\n    }\n    get iconStart() {\n      return this.controller.iconStart;\n    }\n    get appearance() {\n      return this.textfieldOptions.appearance() === 'table' ? 'table' : this.controller.appearance;\n    }\n    get expandable() {\n      return this.rows > 1;\n    }\n    get icon() {\n      return this.controller.icon;\n    }\n    get iconCleaner() {\n      return this.controller.options.iconCleaner;\n    }\n    get hasCleaner() {\n      return this.controller.cleaner && this.hasValue && this.interactive;\n    }\n    get hasNativeValue() {\n      return !!this.search;\n    }\n    get placeholderRaised() {\n      return !this.labelOutside && (this.computedFocused && !this.readOnly || this.hasValue);\n    }\n    get hasRightIcons() {\n      return this.hasCleaner || !!this.icon || !!this.hintOptions?.content && !this.computedDisabled;\n    }\n    get showHint() {\n      return !!this.hintOptions?.content && (this.controller.options.hintOnDisabled || !this.computedDisabled);\n    }\n    get canOpen() {\n      return this.interactive && !!this.datalist;\n    }\n    get computeMaxHeight() {\n      return this.expandable ? this.rows * this.lineHeight : null;\n    }\n    onFocusInOut() {\n      this.cdr.detectChanges();\n    }\n    detectRetargetFromLabel(event) {\n      if (tuiRetargetedBoundaryCrossing(event)) {\n        event.stopImmediatePropagation();\n      }\n    }\n    getLeftContent(tag) {\n      return !this.tagValidator(tag) && this.errorIconTemplate ? this.errorIconTemplate : '';\n    }\n    onCleanerClick() {\n      this.updateSearch('');\n      this.clear();\n      this.focusInput();\n    }\n    onActiveZone(active) {\n      this.open = false;\n      this.addTag();\n      this.updateFocused(active);\n      if (!active && !this.computedFocused) {\n        this.scrollTo(0);\n      }\n    }\n    onMouseDown(event) {\n      const actualTarget = tuiGetActualTarget(event);\n      if (!this.focusableElement || actualTarget === this.focusableElement.nativeElement || !tuiIsElement(event.target) || this.cleanerSvg?.nativeElement.contains(event.target) || this.tagsContainer && actualTarget !== this.tagsContainer.nativeElement && this.tagsContainer.nativeElement.contains(actualTarget)) {\n        return;\n      }\n      event.preventDefault();\n      this.focusInput();\n    }\n    onFieldKeyDownBackspace(event) {\n      if (!this.labelOutside && !this.hasNativeValue && this.value.length) {\n        this.deleteLastEnabledItem();\n      } else {\n        this.onFieldKeyDownArrowLeft(event);\n      }\n    }\n    onFieldKeyDownArrowLeft(event) {\n      if (!this.labelOutside || this.hasNativeValue || !this.value.length) {\n        return;\n      }\n      event.preventDefault();\n      this.tags.last.nativeElement.focus();\n    }\n    onFieldKeyDownEnter() {\n      this.addTag();\n      this.scrollTo();\n    }\n    onTagKeyDownArrowLeft(currentIndex) {\n      if (currentIndex > 0) {\n        this.onScrollKeyDown(currentIndex, -1);\n      }\n    }\n    onTagKeyDownArrowRight(currentIndex) {\n      if (currentIndex === this.value.length - 1) {\n        this.focusInput();\n      } else {\n        this.onScrollKeyDown(currentIndex, 1);\n      }\n    }\n    onInput(value) {\n      const array = value.split(this.separator);\n      const tags = array.map(item => this.clippedValue(item.trim())).filter(item => item.length > 0);\n      const validated = tags.filter(tag => !this.disabledItemHandler(tag));\n      const invalid = tags.filter(tag => this.disabledItemHandler(tag));\n      if (array.length > 1) {\n        const search = invalid.length ? invalid.join(tuiIsString(this.separator) ? this.separator : ',') : '';\n        this.updateSearch(this.clippedValue(search));\n        this.value = this.filterValue([...this.value, ...validated]);\n      } else {\n        this.updateSearch(this.clippedValue(value));\n      }\n      this.open = this.hasNativeValue;\n    }\n    onPaste(event) {\n      const pasted = tuiGetClipboardDataText(event);\n      this.onInput(pasted || '');\n    }\n    onDrop({\n      dataTransfer\n    }) {\n      if (dataTransfer) {\n        this.onInput(dataTransfer.getData('text') || '');\n      }\n    }\n    trackByFn(_, tag) {\n      // Actually tag has TuiStringifiableItem type not string\n      return tag.toString();\n    }\n    get lineHeight() {\n      return this.labelOutside ? TAG_SIZE_REM[this.controller.size] + 2 * TAG_VERTICAL_SPACE_REM : LINE_HEIGHT_REM[this.controller.size];\n    }\n    scrollTo(scrollLeft = this.scrollBar?.nativeElement.scrollWidth) {\n      // Allow change detection to run and add new tag to DOM\n      timer(0).pipe(takeUntilDestroyed(this.destroyRef)).subscribe(() => {\n        if (this.scrollBar) {\n          this.scrollBar.nativeElement.scrollLeft = scrollLeft || 0;\n        }\n      });\n    }\n    filterValue(value) {\n      const seen = new Set();\n      return value.reverse().filter(item => !this.uniqueTags || item && !seen.has(item) && seen.add(item)).reverse();\n    }\n    onScrollKeyDown(currentIndex, flag) {\n      const tag = this.tags.find((_item, index) => index === currentIndex + flag);\n      if (!tag || !this.scrollBar) {\n        return;\n      }\n      tag.nativeElement.focus();\n      if (flag * this.scrollBar.nativeElement.clientWidth - flag * tag.nativeElement.offsetLeft - tag.nativeElement.clientWidth < 0) {\n        this.scrollBar.nativeElement.scrollLeft += flag * tag.nativeElement.clientWidth;\n      }\n    }\n    updateSearch(value) {\n      if (this.focusableElement) {\n        this.focusableElement.nativeElement.value = value;\n      }\n      this.search = value;\n      this.searchChange.emit(value);\n    }\n    addTag() {\n      const inputValue = this.search?.trim() ?? '';\n      if (!inputValue || this.disabledItemHandler(inputValue)) {\n        return;\n      }\n      this.updateSearch('');\n      this.value = this.filterValue(this.value.concat(inputValue));\n    }\n    deleteLastEnabledItem() {\n      for (let index = this.value.length - 1; index >= 0; index--) {\n        if (!this.disabledItemHandler(this.value[index] ?? '')) {\n          this.value = tuiArrayRemove(this.value, index);\n          break;\n        }\n      }\n    }\n    focusInput(preventScroll = false) {\n      this.nativeFocusableElement?.focus({\n        preventScroll\n      });\n    }\n    clippedValue(value) {\n      return value.slice(0, this.maxLength || value.length);\n    }\n    static {\n      this.ɵfac = /* @__PURE__ */(() => {\n        let ɵTuiInputTagComponent_BaseFactory;\n        return function TuiInputTagComponent_Factory(__ngFactoryType__) {\n          return (ɵTuiInputTagComponent_BaseFactory || (ɵTuiInputTagComponent_BaseFactory = i0.ɵɵgetInheritedFactory(TuiInputTagComponent)))(__ngFactoryType__ || TuiInputTagComponent);\n        };\n      })();\n    }\n    static {\n      this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n        type: TuiInputTagComponent,\n        selectors: [[\"tui-input-tag\"]],\n        contentQueries: function TuiInputTagComponent_ContentQueries(rf, ctx, dirIndex) {\n          if (rf & 1) {\n            i0.ɵɵcontentQuery(dirIndex, TuiDataListDirective, 5, TemplateRef);\n            i0.ɵɵcontentQuery(dirIndex, PolymorpheusOutlet, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.datalist = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.valueContent = _t.first);\n          }\n        },\n        viewQuery: function TuiInputTagComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(TuiDropdownOpen, 5);\n            i0.ɵɵviewQuery(_c0, 5);\n            i0.ɵɵviewQuery(_c1, 5);\n            i0.ɵɵviewQuery(_c2, 5, ElementRef);\n            i0.ɵɵviewQuery(TuiScrollbar, 5, ElementRef);\n            i0.ɵɵviewQuery(_c3, 5);\n            i0.ɵɵviewQuery(_c4, 5, ElementRef);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdown = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.focusableElement = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tagsContainer = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.cleanerSvg = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.scrollBar = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.errorIconTemplate = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.tags = _t);\n          }\n        },\n        hostVars: 7,\n        hostBindings: function TuiInputTagComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"focusin.capture.zoneless\", function TuiInputTagComponent_focusin_capture_zoneless_HostBindingHandler() {\n              return ctx.onFocusInOut();\n            })(\"focusout.capture.zoneless\", function TuiInputTagComponent_focusout_capture_zoneless_HostBindingHandler() {\n              return ctx.onFocusInOut();\n            });\n          }\n          if (rf & 2) {\n            i0.ɵɵattribute(\"data-size\", ctx.size);\n            i0.ɵɵclassProp(\"_icon-start\", ctx.iconStart)(\"_expandable\", ctx.expandable)(\"_label-outside\", ctx.labelOutside);\n          }\n        },\n        inputs: {\n          separator: \"separator\",\n          search: \"search\",\n          editable: \"editable\",\n          tagValidator: \"tagValidator\",\n          rows: \"rows\",\n          inputHidden: \"inputHidden\",\n          uniqueTags: \"uniqueTags\",\n          autoColor: \"autoColor\",\n          maxLength: \"maxLength\",\n          placeholder: \"placeholder\",\n          removable: \"removable\",\n          disabledItemHandler: \"disabledItemHandler\",\n          pseudoFocusedSetter: [0, \"pseudoFocused\", \"pseudoFocusedSetter\"],\n          setPseudoOpen: [0, \"pseudoOpen\", \"setPseudoOpen\"]\n        },\n        outputs: {\n          searchChange: \"searchChange\"\n        },\n        standalone: false,\n        features: [i0.ɵɵProvidersFeature([tuiAsFocusableItemAccessor(TuiInputTagComponent), tuiAsControl(TuiInputTagComponent), tuiAsDataListHost(TuiInputTagComponent), TEXTFIELD_CONTROLLER_PROVIDER]), i0.ɵɵHostDirectivesFeature([i1.TuiDropdownFixed]), i0.ɵɵInheritDefinitionFeature],\n        ngContentSelectors: _c6,\n        decls: 25,\n        vars: 36,\n        consts: [[\"text\", \"\"], [\"focusableElement\", \"\"], [\"errorIcon\", \"\"], [\"tag\", \"\"], [\"cleaner\", \"\"], [4, \"ngIf\"], [\"tuiDropdownOpenMonitor\", \"\", 1, \"t-hosted\", 3, \"tuiDropdownOpenChange\", \"tuiActiveZoneChange\", \"tuiDropdown\", \"tuiDropdownEnabled\", \"tuiDropdownOpen\"], [\"tuiWrapper\", \"\", 3, \"click.prevent.zoneless\", \"mousedown\", \"appearance\", \"disabled\", \"focus\", \"hover\", \"invalid\", \"readOnly\"], [1, \"t-content\"], [\"class\", \"t-icon t-icon_left t-textfield-icon t-icon-wrapper\", 4, \"ngIf\"], [1, \"t-wrapper\"], [1, \"t-absolute-wrapper\"], [\"automation-id\", \"tui-input-tag__placeholder\", \"class\", \"t-placeholder\", 3, \"t-placeholder_raised\", 4, \"ngIf\"], [1, \"t-scrollbar\", 3, \"hidden\"], [1, \"t-tags\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"t-input-wrapper\"], [1, \"t-ghost\"], [\"automation-id\", \"tui-input-tag__native\", \"type\", \"text\", 1, \"t-native\", 3, \"drop.prevent\", \"keydown.arrowLeft\", \"keydown.backspace\", \"keydown.enter.prevent\", \"ngModelChange\", \"paste.prevent\", \"disabled\", \"id\", \"ngModel\", \"ngModelOptions\", \"placeholder\", \"readOnly\", \"tabIndex\"], [1, \"t-value-content\"], [\"class\", \"t-icons t-icon-wrapper\", 4, \"ngIf\"], [1, \"t-icon\", \"t-icon_left\", \"t-textfield-icon\", \"t-icon-wrapper\"], [\"tuiAppearance\", \"icon\", 3, \"icon\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"tuiAppearance\", \"icon\", 3, \"icon\"], [\"automation-id\", \"tui-input-tag__placeholder\", 1, \"t-placeholder\"], [\"automation-id\", \"tui-input-tag__tag\", \"tabIndex\", \"-1\", \"class\", \"t-tag\", 3, \"autoColor\", \"disabled\", \"editable\", \"hoverable\", \"leftContent\", \"maxLength\", \"removable\", \"separator\", \"size\", \"status\", \"value\", \"edited\", \"keydown.arrowLeft.prevent\", \"keydown.arrowRight.prevent\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [\"automation-id\", \"tui-input-tag__tag\", \"tabIndex\", \"-1\", 1, \"t-tag\", 3, \"edited\", \"keydown.arrowLeft.prevent\", \"keydown.arrowRight.prevent\", \"autoColor\", \"disabled\", \"editable\", \"hoverable\", \"leftContent\", \"maxLength\", \"removable\", \"separator\", \"size\", \"status\", \"value\"], [\"class\", \"t-text\", 3, \"t-text_comma\", \"t-text_disabled\", \"t-text_error\", \"textContent\", 4, \"ngFor\", \"ngForOf\"], [1, \"t-text\", 3, \"textContent\"], [1, \"t-icons\", \"t-icon-wrapper\"], [\"automation-id\", \"tui-input-tag__tooltip\", \"class\", \"t-tooltip\", 3, \"content\", \"describeId\", 4, \"ngIf\"], [\"class\", \"t-icon t-textfield-icon\", 4, \"ngIf\"], [\"automation-id\", \"tui-input-tag__cleaner\", \"tuiAppearance\", \"icon\", \"class\", \"t-cleaner\", 3, \"icon\", \"click.stop\", 4, \"polymorpheusOutlet\", \"polymorpheusOutletContext\"], [\"automation-id\", \"tui-input-tag__cleaner\", \"tuiAppearance\", \"icon\", 1, \"t-cleaner\", 3, \"click.stop\", \"icon\"], [\"automation-id\", \"tui-input-tag__tooltip\", 1, \"t-tooltip\", 3, \"content\", \"describeId\"], [1, \"t-icon\", \"t-textfield-icon\"], [1, \"t-error-icon\", 3, \"icon\"]],\n        template: function TuiInputTagComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵprojectionDef(_c5);\n            i0.ɵɵtemplate(0, TuiInputTagComponent_ng_container_0_Template, 1, 0, \"ng-container\", 5);\n            i0.ɵɵpipe(1, \"async\");\n            i0.ɵɵelementStart(2, \"div\", 6);\n            i0.ɵɵtwoWayListener(\"tuiDropdownOpenChange\", function TuiInputTagComponent_Template_div_tuiDropdownOpenChange_2_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              i0.ɵɵtwoWayBindingSet(ctx.open, $event) || (ctx.open = $event);\n              return i0.ɵɵresetView($event);\n            });\n            i0.ɵɵlistener(\"tuiActiveZoneChange\", function TuiInputTagComponent_Template_div_tuiActiveZoneChange_2_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onActiveZone($event));\n            });\n            i0.ɵɵelementStart(3, \"div\", 7);\n            i0.ɵɵlistener(\"click.prevent.zoneless\", function TuiInputTagComponent_Template_div_click_prevent_zoneless_3_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.detectRetargetFromLabel($event));\n            })(\"mousedown\", function TuiInputTagComponent_Template_div_mousedown_3_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onMouseDown($event));\n            });\n            i0.ɵɵelementStart(4, \"div\", 8);\n            i0.ɵɵtemplate(5, TuiInputTagComponent_div_5_Template, 2, 4, \"div\", 9);\n            i0.ɵɵelementStart(6, \"div\", 10)(7, \"div\", 11);\n            i0.ɵɵtemplate(8, TuiInputTagComponent_div_8_Template, 2, 2, \"div\", 12);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"tui-scrollbar\", 13)(10, \"div\", 14);\n            i0.ɵɵtemplate(11, TuiInputTagComponent_ng_container_11_Template, 2, 2, \"ng-container\", 15)(12, TuiInputTagComponent_ng_template_12_Template, 1, 1, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementStart(14, \"div\", 16)(15, \"div\", 17);\n            i0.ɵɵtext(16);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(17, \"input\", 18, 1);\n            i0.ɵɵlistener(\"drop.prevent\", function TuiInputTagComponent_Template_input_drop_prevent_17_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onDrop($event));\n            })(\"keydown.arrowLeft\", function TuiInputTagComponent_Template_input_keydown_arrowLeft_17_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onFieldKeyDownArrowLeft($event));\n            })(\"keydown.backspace\", function TuiInputTagComponent_Template_input_keydown_backspace_17_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onFieldKeyDownBackspace($event));\n            })(\"keydown.enter.prevent\", function TuiInputTagComponent_Template_input_keydown_enter_prevent_17_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onFieldKeyDownEnter());\n            })(\"ngModelChange\", function TuiInputTagComponent_Template_input_ngModelChange_17_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onInput($event));\n            })(\"paste.prevent\", function TuiInputTagComponent_Template_input_paste_prevent_17_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onPaste($event));\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(19, \"div\", 19);\n            i0.ɵɵprojection(20);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵprojection(21, 1);\n            i0.ɵɵtemplate(22, TuiInputTagComponent_div_22_Template, 4, 3, \"div\", 20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(23, TuiInputTagComponent_ng_template_23_Template, 1, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            const text_r11 = i0.ɵɵreference(13);\n            i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 33, ctx.hintOptions == null ? null : ctx.hintOptions.change$));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"tuiDropdown\", ctx.datalist || \"\")(\"tuiDropdownEnabled\", ctx.canOpen);\n            i0.ɵɵtwoWayProperty(\"tuiDropdownOpen\", ctx.open);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"appearance\", ctx.appearance)(\"disabled\", ctx.computedDisabled)(\"focus\", ctx.computedFocused)(\"hover\", ctx.pseudoHover)(\"invalid\", ctx.computedInvalid)(\"readOnly\", ctx.readOnly);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngIf\", ctx.iconStart);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.hasPlaceholder);\n            i0.ɵɵadvance();\n            i0.ɵɵstyleProp(\"max-height\", ctx.computeMaxHeight, \"rem\");\n            i0.ɵɵproperty(\"hidden\", !ctx.expandable);\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"t-tags_empty\", ctx.tagsEmpty);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.labelOutside)(\"ngIfElse\", text_r11);\n            i0.ɵɵadvance(3);\n            i0.ɵɵclassProp(\"t-input-wrapper_collapsed\", ctx.computedDisabled || ctx.readOnly || ctx.inputHidden);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(ctx.search);\n            i0.ɵɵadvance();\n            i0.ɵɵclassProp(\"t-native_hidden\", ctx.inputHidden);\n            i0.ɵɵproperty(\"disabled\", ctx.computedDisabled)(\"id\", ctx.id)(\"ngModel\", ctx.search)(\"ngModelOptions\", i0.ɵɵpureFunction0(35, _c7))(\"placeholder\", ctx.placeholder)(\"readOnly\", ctx.readOnly || ctx.inputHidden)(\"tabIndex\", ctx.computedFocusable ? 0 : -1);\n            i0.ɵɵattribute(\"maxLength\", ctx.maxLength);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngIf\", ctx.hasRightIcons);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.PolymorpheusOutlet, i5.TuiScrollbar, i6.TuiTooltipComponent, i7.TuiTagComponent, i8.TuiWrapperDirective, i8.TuiLegacyDropdownOpenMonitorDirective, i9.TuiAppearance, i10.TuiIcon, i1.TuiDropdownDirective, i1.TuiDropdownOpen, i2.AsyncPipe],\n        styles: [\"[_nghost-%COMP%]{position:relative;display:block;text-align:start;border-radius:var(--tui-radius-m);block-size:var(--tui-height);min-block-size:var(--tui-height);max-block-size:var(--tui-height)}[data-size=s][_nghost-%COMP%]{--tui-height: var(--tui-height-s);font:var(--tui-font-text-s)}[data-size=m][_nghost-%COMP%]{--tui-height: var(--tui-height-m);font:var(--tui-font-text-s)}[data-size=l][_nghost-%COMP%]{--tui-height: var(--tui-height-l);font:var(--tui-font-text-m);line-height:1.25rem}[_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}.t-input[_ngcontent-%COMP%]{padding:0;margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;border-style:solid;border-color:transparent;border-inline-start-width:var(--t-border-start, 0);border-inline-end-width:var(--t-border-end, 0);text-indent:var(--t-text-indent);color:var(--tui-text-primary);text-align:inherit;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-transform:inherit;resize:none}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-input[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-input[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-input[_ngcontent-%COMP%]:-webkit-autofill, .t-input[_ngcontent-%COMP%]:-webkit-autofill:first-line{font-size:inherit;line-height:inherit}.t-input[_ngcontent-%COMP%]::-webkit-caps-lock-indicator, .t-input[_ngcontent-%COMP%]::-webkit-contacts-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credit-card-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-credentials-auto-fill-button, .t-input[_ngcontent-%COMP%]::-webkit-strong-password-auto-fill-button{content:none!important;position:absolute;left:-62.4375rem;top:-62.4375rem;z-index:-999;display:none!important;background:transparent!important;pointer-events:none!important}.t-input[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}._focused[_nghost-%COMP%]:not(._readonly)   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-primitive-textfield._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-textarea._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder, tui-text-area._focused:not(._readonly)   [_nghost-%COMP%]   .t-input[_ngcontent-%COMP%]::placeholder{opacity:1}[data-size=s][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size=\\\"s\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"s\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size=\\\"m\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"m\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-primitive-textfield), .t-input   tui-textarea[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-textarea), tui-textarea[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-textarea), .t-input   tui-text-area[data-size=\\\"l\\\"][_nghost-%COMP%]:not(tui-text-area), tui-text-area[data-size=\\\"l\\\"]   [_nghost-%COMP%]:not(tui-text-area){padding:0 var(--tui-padding-l)}._disabled[_nghost-%COMP%]   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._disabled[_nghost-%COMP%], tui-primitive-textfield._disabled   [_nghost-%COMP%], .t-input   tui-textarea._disabled[_nghost-%COMP%], tui-textarea._disabled   [_nghost-%COMP%], .t-input   tui-text-area._disabled[_nghost-%COMP%], tui-text-area._disabled   [_nghost-%COMP%]{pointer-events:none}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"l\\\"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"l\\\"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield[data-size=\\\"m\\\"]:not(._label-outside)[_nghost-%COMP%]:not(tui-primitive-textfield), tui-primitive-textfield[data-size=\\\"m\\\"]:not(._label-outside)   [_nghost-%COMP%]:not(tui-primitive-textfield){padding-top:1rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]{padding-top:1.25rem}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.8156rem;transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-input[_ngcontent-%COMP%]:-webkit-autofill + .t-content[_ngcontent-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font-size:.69rem;transform:translateY(-.5rem)}._hidden[_nghost-%COMP%]   input.t-input[_ngcontent-%COMP%], .t-input   tui-primitive-textfield._hidden[_nghost-%COMP%], tui-primitive-textfield._hidden   [_nghost-%COMP%]{opacity:0;text-indent:-10em}.t-content[_ngcontent-%COMP%]{display:flex;block-size:100%;inline-size:100%;box-sizing:border-box;align-items:center;overflow:hidden}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{padding:0 var(--tui-padding-l)}.t-wrapper[_ngcontent-%COMP%]{flex:1;min-inline-size:0;padding-inline-end:.25rem}.t-placeholder[_ngcontent-%COMP%]{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;inline-size:100%;-webkit-user-select:none;user-select:none;font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none;will-change:transform;transform:translateY(0)}@supports (-webkit-hyphens: none){.t-placeholder[_ngcontent-%COMP%]{will-change:unset;transition-property:transform,color,letter-spacing}}.t-placeholder_raised[_ngcontent-%COMP%]{transform:translateY(-.625rem)}[data-size=m][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font:var(--tui-font-text-xs);line-height:1.25rem;transform:translateY(-.5rem);letter-spacing:.025rem}._invalid[_nghost-%COMP%]:not(._focused)   .t-placeholder_raised[_ngcontent-%COMP%], ._invalid[_nghost-%COMP%]:not(._focused):hover   .t-placeholder_raised[_ngcontent-%COMP%]{color:var(--tui-text-negative)}._focused[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=m]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused._label-outside[_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}[data-size=l][_nghost-%COMP%]   .t-placeholder[_ngcontent-%COMP%]{font:var(--tui-font-text-m);line-height:1.25rem}[data-size=l][_nghost-%COMP%]   .t-placeholder_raised[_ngcontent-%COMP%]{font-size:.8156rem}[data-size=m]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%], [data-size=l]._focused[_nghost-%COMP%]:not(._label-outside)   .t-placeholder[_ngcontent-%COMP%]{color:var(--tui-text-primary)}.t-cleaner[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none;pointer-events:auto;border-width:.25rem}._readonly[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%], ._disabled[_nghost-%COMP%]   .t-cleaner[_ngcontent-%COMP%]{pointer-events:none}.t-icon[_ngcontent-%COMP%]{position:relative;display:flex;inline-size:1.5rem;block-size:1.5rem;align-items:center;justify-content:center;box-sizing:border-box;cursor:pointer;pointer-events:none}[data-size=s][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin:0 .125rem 0 -.375rem}[data-size=m][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-start:-.125rem;margin-inline-end:.375rem}[data-size=l][_nghost-%COMP%]   .t-icon_left[_ngcontent-%COMP%]{margin-inline-end:.75rem}.t-icons[_ngcontent-%COMP%]{display:flex;align-items:center}[data-size=m][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.125rem}[data-size=s][_nghost-%COMP%]   .t-icons[_ngcontent-%COMP%]{margin-inline-end:-.375rem}[_nghost-%COMP%]:not([data-size=s])   .t-icons[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child){margin-inline-start:.25rem}[_nghost-%COMP%]{cursor:text}._expandable[_nghost-%COMP%]{block-size:auto;max-block-size:none}._disabled[_nghost-%COMP%], [_nghost-%COMP%]   *:disabled[_nghost-%COMP%], *:disabled   [_nghost-%COMP%]{pointer-events:none}._readonly[_nghost-%COMP%]{cursor:default}[data-size=m][_nghost-%COMP%]{line-height:1rem}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-scrollbar[_ngcontent-%COMP%]{scroll-behavior:var(--tui-scroll-behavior);margin-inline-start:-.25rem;min-inline-size:100%}[_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%], ._label-outside._icon-start[_nghost-%COMP%]   .t-scrollbar[_ngcontent-%COMP%]{margin:0}[data-size=s]._icon-start[_nghost-%COMP%]   .t-scrollbar[_ngcontent-%COMP%]{margin-inline-start:.25rem}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%]{border-block-start:1rem solid transparent}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-scrollbar[_ngcontent-%COMP%]{border-block-start:1.25rem solid transparent}.t-tags[_ngcontent-%COMP%]{display:flex;padding-inline-start:.25rem}.t-tags_expandable[_ngcontent-%COMP%]{overflow:hidden}.t-tags_empty[_ngcontent-%COMP%]{block-size:0}._expandable[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{flex-wrap:wrap;white-space:normal;overflow:hidden}._readonly[_nghost-%COMP%]   .t-tags[_ngcontent-%COMP%]{pointer-events:none}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%], [data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-tags[_ngcontent-%COMP%]{padding:0}.t-tags[_ngcontent-%COMP%]   tui-tag[_ngcontent-%COMP%]:last-of-type{max-inline-size:80%}.t-content[_ngcontent-%COMP%]{align-items:flex-start}[data-size=s][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-content[_ngcontent-%COMP%]{min-block-size:var(--tui-height-l)}[data-size=s][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-s)}[data-size=m][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-icon-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-l)}.t-absolute-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;display:flex;flex-direction:column;justify-content:center}[data-size=m][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-m)}[data-size=l][_nghost-%COMP%]   .t-absolute-wrapper[_ngcontent-%COMP%]{block-size:var(--tui-height-l)}.t-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:0;box-sizing:border-box}[data-size=s][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{min-block-size:var(--tui-height-s);padding:calc((var(--tui-height-s) - 1.5rem) / 2) 0}[data-size=m][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{min-block-size:var(--tui-height-m);padding:calc((var(--tui-height-m) - var(--tui-height-xs) - .25rem) / 2) 0}[data-size=l][_nghost-%COMP%]   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-l) - var(--tui-height-s) - .25rem) / 2) 0}[data-size=m][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-m) - 2rem) / 2) 0}[data-size=l][_nghost-%COMP%]:not(._label-outside)   .t-wrapper[_ngcontent-%COMP%]{padding:calc((var(--tui-height-l) - 2.5rem) / 2) 0}.t-tag[_ngcontent-%COMP%]{margin:.125rem .5rem .125rem -.25rem;margin-inline-start:-.25rem;margin-inline-end:.5rem;max-inline-size:100%;flex-shrink:0}[data-size=m][_nghost-%COMP%]   .t-tag[_ngcontent-%COMP%]{margin-inline-start:-.125rem;margin-inline-end:.375rem}.t-text[_ngcontent-%COMP%]:after{content:\\\",\\\\a0\\\"}.t-text_disabled[_ngcontent-%COMP%]{color:var(--tui-text-tertiary)}.t-text_error[_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-text[_ngcontent-%COMP%]:not(.t-text_comma):last-of-type:after{content:\\\"\\\"}[_nghost-%COMP%]:not(._expandable)   .t-text[_ngcontent-%COMP%]{white-space:nowrap}.t-input-wrapper[_ngcontent-%COMP%], .t-value-content[_ngcontent-%COMP%]{position:relative;display:flex;flex:1;max-inline-size:100%}[data-size=s][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=s][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:1.5rem}[data-size=m][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=m][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:calc(var(--tui-height-xs) + 2 * .125rem)}[data-size=l][_nghost-%COMP%]   .t-input-wrapper[_ngcontent-%COMP%], [data-size=l][_nghost-%COMP%]   .t-value-content[_ngcontent-%COMP%]{min-block-size:calc(var(--tui-height-s) + 2 * .125rem)}[_nghost-%COMP%]:not(._label-outside)   .t-input-wrapper[_ngcontent-%COMP%], [_nghost-%COMP%]:not(._label-outside)   .t-value-content[_ngcontent-%COMP%]{min-block-size:1rem}.t-input-wrapper_collapsed[_ngcontent-%COMP%]{flex:0;margin-inline-start:-.5rem}.t-value-content[_ngcontent-%COMP%]:empty{display:none}.t-ghost[_ngcontent-%COMP%]{visibility:hidden;white-space:pre;text-overflow:clip;min-inline-size:.125rem}[_nghost-%COMP%]:not(._expandable)   .t-ghost[_ngcontent-%COMP%]{min-inline-size:2rem}.t-native[_ngcontent-%COMP%]{margin:0;border-width:0;border-radius:inherit;background:none;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:none;-webkit-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;inline-size:100%;block-size:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;padding:0;cursor:inherit}.t-native[_ngcontent-%COMP%]:-webkit-autofill, .t-native[_ngcontent-%COMP%]:-webkit-autofill:hover, .t-native[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:var(--tui-text-primary)!important;border-color:var(--tui-service-autofill-background);box-shadow:0 0 0 100rem var(--tui-service-autofill-background) inset!important}.t-native[inputMode=none][_ngcontent-%COMP%]{caret-color:transparent}.t-native_hidden[_ngcontent-%COMP%]{opacity:0;text-indent:-10em}.t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary);opacity:0}[tuiTheme=\\\"dark\\\"][_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::placeholder, [tuiTheme=\\\"dark\\\"]   [_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]::placeholder{color:var(--tui-text-tertiary)}._focused[_nghost-%COMP%]   .t-native[_ngcontent-%COMP%]:not(:read-only)::placeholder{opacity:1}.t-error-icon[_ngcontent-%COMP%]{display:block;color:var(--tui-status-negative);font-size:1rem}._readonly[_nghost-%COMP%]   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]{pointer-events:none}@media (hover: hover) and (pointer: fine){[_nghost-%COMP%]:not(._readonly):not(._disabled):hover   .t-textfield-icon[_ngcontent-%COMP%]     [tuiAppearance][data-appearance=icon]:after{color:var(--tui-text-secondary)}}\"],\n        changeDetection: 0\n      });\n    }\n  }\n  return TuiInputTagComponent;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TuiInputTagModule = /*#__PURE__*/(() => {\n  class TuiInputTagModule {\n    static {\n      this.ɵfac = function TuiInputTagModule_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TuiInputTagModule)();\n      };\n    }\n    static {\n      this.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n        type: TuiInputTagModule\n      });\n    }\n    static {\n      this.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n        providers: [TuiScrollService],\n        imports: [CommonModule, FormsModule, TuiScrollbar, TuiTooltipModule, TuiTagModule, TuiWrapperModule, TuiIcon, i1.TuiDropdownComponent]\n      });\n    }\n  }\n  return TuiInputTagModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { TUI_INPUT_TAG_DEFAULT_OPTIONS, TUI_INPUT_TAG_OPTIONS, TuiInputTagComponent, TuiInputTagModule, tuiInputTagOptionsProvider };\n","import {CommonModule} from '@angular/common';\nimport type {TemplateRef} from '@angular/core';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    inject,\n    INJECTOR,\n    Injector,\n    SecurityContext,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {FormControl, FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {TuiMobileCalendarDropdown} from '@taiga-ui/addon-mobile';\nimport type {TuiDay} from '@taiga-ui/cdk';\nimport {tuiControlValue} from '@taiga-ui/cdk';\nimport {\n    TuiBreakpointService,\n    TuiButton,\n    TuiCalendar,\n    TuiDialogService,\n    TuiDropdown,\n    TuiHint,\n    TuiIcon,\n    TuiLabel,\n    TuiLink,\n} from '@taiga-ui/core';\nimport {NgDompurifySanitizer} from '@taiga-ui/dompurify';\nimport {TuiEditor, TuiEditorTool} from '@taiga-ui/editor';\nimport {\n    TUI_CALENDAR_DATE_STREAM,\n    TuiAccordion,\n    TuiCheckbox,\n    TuiPush,\n    TuiSlider,\n    TuiSwitch,\n} from '@taiga-ui/kit';\nimport {\n    TuiInputDateModule,\n    TuiInputTagModule,\n    TuiTextfieldControllerModule,\n} from '@taiga-ui/legacy';\nimport {PolymorpheusComponent} from '@taiga-ui/polymorpheus';\nimport type {Observable} from 'rxjs';\n\n@Component({\n    standalone: true,\n    selector: 'home',\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        TuiAccordion,\n        TuiButton,\n        TuiCalendar,\n        TuiCheckbox,\n        TuiDropdown,\n        TuiEditor,\n        TuiHint,\n        TuiIcon,\n        TuiInputDateModule,\n        TuiInputTagModule,\n        TuiLabel,\n        TuiLink,\n        TuiPush,\n        TuiSlider,\n        TuiSwitch,\n        TuiTextfieldControllerModule,\n    ],\n    templateUrl: './home.component.html',\n    styleUrls: ['./home.component.less'],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport default class HomeComponent {\n    private readonly dompurifySanitizer = inject(NgDompurifySanitizer);\n    private readonly dialogs = inject(TuiDialogService);\n    private readonly cd = inject(ChangeDetectorRef);\n    private readonly injector = inject(INJECTOR);\n    protected readonly control = new FormControl<TuiDay | null>(null);\n    protected readonly breakpoint$ = inject(TuiBreakpointService);\n\n    protected readonly dialog$: Observable<TuiDay> = this.dialogs.open(\n        new PolymorpheusComponent(\n            TuiMobileCalendarDropdown,\n            Injector.create({\n                providers: [\n                    {\n                        provide: TUI_CALENDAR_DATE_STREAM,\n                        useValue: tuiControlValue(this.control),\n                    },\n                ],\n                parent: this.injector,\n            }),\n        ),\n        {\n            size: 'fullscreen',\n            closeable: false,\n            data: {single: true},\n        },\n    );\n\n    protected readonly builtInTools = [TuiEditorTool.Undo, TuiEditorTool.Img];\n    protected readonly labels = ['New', 'Read', 'Archived', 'Junk'];\n    protected tags = ['Angular', 'Open source'];\n    protected date: TuiDay | null = null;\n    protected notification = false;\n    protected slider = 80;\n    protected editor = '';\n\n    protected questions = [\n        {\n            question: 'Accordion 1',\n            answer: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget.',\n        },\n        {\n            question: 'Accordion 2',\n            answer: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget.',\n        },\n        {\n            question: 'Accordion 3',\n            answer: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse malesuada lacus ex, sit amet blandit leo lobortis eget.',\n        },\n    ];\n\n    protected onDay(date: TuiDay): void {\n        this.control.setValue(date);\n    }\n\n    protected call(content: TemplateRef<HTMLElement>): void {\n        this.dialogs\n            .open(content, {\n                appearance: 'call',\n                closeable: false,\n                dismissible: false,\n            })\n            .subscribe();\n    }\n\n    protected toggle(open: boolean): void {\n        this.notification = open;\n        this.cd.detectChanges();\n    }\n\n    protected purify(value: string): string {\n        return this.dompurifySanitizer.sanitize(SecurityContext.HTML, value);\n    }\n\n    protected openMobileCalendar(): void {\n        this.dialog$.subscribe((value) => this.control.setValue(value));\n    }\n}\n","<h2 class=\"title\">\n    Dozens of\n    <br />\n    components\n</h2>\n<tui-input-tag\n    class=\"input-tag tui-space_vertical-10\"\n    [tuiHintContent]=\"hint\"\n    [tuiTextfieldLabelOutside]=\"true\"\n    [(ngModel)]=\"tags\"\n/>\n\n<ng-template #hint>\n    <span [innerHtml]=\"purify('Customizable for <b>any use</b> case')\"></span>\n</ng-template>\n\n<div class=\"flex\">\n    <div class=\"date\">\n        @let breakpoint = breakpoint$ | async;\n\n        @if (breakpoint === 'mobile') {\n            <tui-input-date\n                required\n                [formControl]=\"control\"\n                (keydown.capture.prevent)=\"openMobileCalendar()\"\n                (mousedown.capture.stop)=\"openMobileCalendar()\"\n            >\n                Choose date\n            </tui-input-date>\n        } @else {\n            <tui-input-date\n                required\n                [formControl]=\"control\"\n                (click.capture.stop)=\"(0)\"\n                (keydown.capture.stop)=\"(0)\"\n                (mousedown.capture.stop)=\"(0)\"\n            >\n                Choose date\n            </tui-input-date>\n            <tui-calendar\n                class=\"calendar\"\n                [tuiDropdownOpen]=\"false\"\n                [value]=\"date\"\n                (dayClick)=\"onDay($event)\"\n                (event.prevent.silent)=\"(0)\"\n            />\n        }\n    </div>\n\n    <div>\n        @for (label of labels; track $index) {\n            <label tuiLabel>\n                <input\n                    size=\"m\"\n                    tuiCheckbox\n                    type=\"checkbox\"\n                    class=\"tui-space_bottom-4\"\n                    [ngModel]=\"label === labels[1]\"\n                />\n                {{ label }}\n            </label>\n        }\n    </div>\n\n    <div class=\"controls\">\n        <label class=\"label\">\n            <input\n                size=\"m\"\n                tuiSwitch\n                type=\"checkbox\"\n                class=\"tui-space_right-3\"\n                [showIcons]=\"true\"\n                [(ngModel)]=\"notification\"\n            />\n            Push notification\n        </label>\n        <input\n            size=\"m\"\n            step=\"any\"\n            tuiSlider\n            type=\"range\"\n            class=\"tui-space_vertical-6\"\n            [max]=\"140\"\n            [(ngModel)]=\"slider\"\n        />\n        <div class=\"icons\">\n            <button\n                appearance=\"\"\n                iconStart=\"@tui.volume-x\"\n                title=\"Mute speaker\"\n                tuiIconButton\n                type=\"button\"\n                class=\"button\"\n                [style.border-radius.%]=\"100\"\n                (click)=\"slider = 0\"\n            ></button>\n            <button\n                appearance=\"\"\n                iconStart=\"@tui.mic-off\"\n                title=\"Mute microphone\"\n                tuiIconButton\n                type=\"button\"\n                class=\"button\"\n                [style.border-radius.%]=\"100\"\n            ></button>\n            <button\n                appearance=\"\"\n                iconStart=\"@tui.phone-forwarded\"\n                title=\"Forward call\"\n                tuiIconButton\n                type=\"button\"\n                class=\"error\"\n                [style.border-radius.%]=\"100\"\n                (click)=\"call(callTemplate)\"\n            ></button>\n        </div>\n    </div>\n</div>\n\n<tui-editor\n    [tools]=\"builtInTools\"\n    [(ngModel)]=\"editor\"\n>\n    Typing...\n</tui-editor>\n\n<ng-template\n    #callTemplate\n    let-observer\n>\n    <div class=\"call gradient-border\">\n        <div class=\"person\">\n            <img\n                alt=\"author\"\n                loading=\"lazy\"\n                src=\"https://avatars.githubusercontent.com/u/11832552\"\n            />\n            <h3>Aleksandr Inkin</h3>\n        </div>\n\n        <div class=\"buttons\">\n            <button\n                appearance=\"custom\"\n                iconEnd=\"@tui.phone\"\n                size=\"m\"\n                title=\"missed\"\n                tuiIconButton\n                type=\"button\"\n                class=\"missed\"\n                (click)=\"observer.complete()\"\n            ></button>\n            <button\n                appearance=\"custom\"\n                iconEnd=\"@tui.phone\"\n                size=\"m\"\n                title=\"income\"\n                tuiIconButton\n                type=\"button\"\n                class=\"income\"\n                (click)=\"observer.complete()\"\n            ></button>\n        </div>\n    </div>\n</ng-template>\n\n<tui-push\n    *tuiPush=\"notification\"\n    heading=\"Indiana Jones\"\n    type=\"Dr. Henry Walton Jones, Jr.\"\n    (close)=\"toggle(false)\"\n>\n    <tui-icon icon=\"@tui.message-square\" />\n    I have a bad feeling about this...\n    <button\n        tuiButton\n        type=\"button\"\n        (click)=\"toggle(false)\"\n    >\n        Fortune\n    </button>\n    <button\n        tuiLink\n        type=\"button\"\n        (click)=\"toggle(false)\"\n    >\n        Glory\n    </button>\n</tui-push>\n\n<br />\n\n<tui-accordion>\n    @for (item of questions; track $index) {\n        <tui-accordion-item [open]=\"true\">\n            {{ item.question }}\n            <ng-template tuiAccordionItemContent>{{ item.answer }}</ng-template>\n        </tui-accordion-item>\n    }\n</tui-accordion>\n"],"mappings":"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","names":["hasV8BreakIterator","Platform","_Platform","__publicField","inject","PLATFORM_ID","isPlatformBrowser","__ngFactoryType__","ɵɵdefineInjectable","DIR_DOCUMENT","InjectionToken","DIR_DOCUMENT_FACTORY","inject","DOCUMENT","RTL_LOCALE_PATTERN","_resolveDirectionality","rawValue","value","Directionality","_Directionality","__publicField","EventEmitter","_document","bodyDir","htmlDir","__ngFactoryType__","ɵɵdefineInjectable","RtlScrollAxisType","rtlScrollAxisType","scrollBehaviorSupported","supportsScrollBehavior","scrollToFunction","getRtlScrollAxisType","scrollContainer","containerStyle","content","contentStyle","DataSource","isDataSource","value","ConnectableObservable","ArrayDataSource","DataSource","_data","__publicField","isObservable","of","_ViewRepeaterOperation","_VIEW_REPEATER_STRATEGY","InjectionToken","_RecycleViewRepeaterStrategy","changes","viewContainerRef","itemContextFactory","itemValueResolver","itemViewChanged","record","adjustedPreviousIndex","currentIndex","view","operation","viewArgsFactory","value","cachedView","viewArgs","index","detachedView","_c0","_c1","VIRTUAL_SCROLL_STRATEGY","InjectionToken","FixedSizeVirtualScrollStrategy","itemSize","minBufferPx","maxBufferPx","__publicField","Subject","distinctUntilChanged","viewport","index","behavior","renderedRange","newRange","viewportSize","dataLength","scrollOffset","firstVisibleIndex","maxVisibleItems","newVisibleIndex","startBuffer","expandStart","endBuffer","expandEnd","_fixedSizeVirtualScrollStrategyFactory","fixedSizeDir","CdkFixedSizeVirtualScroll","_CdkFixedSizeVirtualScroll","value","coerceNumberProperty","__ngFactoryType__","ɵɵdefineDirective","ɵɵProvidersFeature","forwardRef","ɵɵNgOnChangesFeature","DEFAULT_SCROLL_TIME","ScrollDispatcher","_ScrollDispatcher","inject","NgZone","Platform","RendererFactory2","scrollable","scrollableReference","auditTimeInMs","Observable","observer","subscription","auditTime","_a","of","_","container","elementOrElementRef","ancestors","filter","target","scrollingContainers","_subscription","element","coerceElement","scrollableElement","ɵɵdefineInjectable","CdkScrollable","_CdkScrollable","ElementRef","Directionality","Renderer2","event","options","el","isRtl","getRtlScrollAxisType","RtlScrollAxisType","supportsScrollBehavior","from","LEFT","RIGHT","DEFAULT_RESIZE_TIME","ViewportRuler","_ViewportRuler","DOCUMENT","ngZone","renderer","changeListener","cleanup","output","scrollPosition","width","height","document","window","documentElement","documentRect","top","left","throttleTime","VIRTUAL_SCROLLABLE","CdkVirtualScrollable","_CdkVirtualScrollable","orientation","viewportEl","ɵɵInheritDefinitionFeature","rangesEqual","r1","r2","SCROLL_SCHEDULER","animationFrameScheduler","asapScheduler","CdkVirtualScrollViewport","_CdkVirtualScrollViewport","ChangeDetectorRef","Subscription","Injector","viewportRuler","startWith","takeUntil","forOf","data","newLength","size","range","offset","to","isHorizontal","axis","transform","measureScrollOffset","_from","fromRect","scrollerClientRect","contentEl","runAfter","afterNextRender","runAfterChangeDetection","fn","ɵɵdefineComponent","rf","ctx","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵclassProp","booleanAttribute","virtualScrollable","Optional","Inject","ɵɵprojectionDef","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵstyleProp","getOffset","direction","node","rect","CdkVirtualForOf","_CdkVirtualForOf","ViewContainerRef","TemplateRef","IterableDiffers","_VIEW_REPEATER_STRATEGY","pairwise","switchMap","prev","cur","shareReplay","isDataSource","ArrayDataSource","isObservable","item","renderedStartIndex","rangeLen","firstNode","lastNode","i","view","changes","oldDs","newDs","count","record","_adjustedPreviousIndex","currentIndex","context","directive","_RecycleViewRepeaterStrategy","TuiKeyboardService","_TuiKeyboardService","inject","DOCUMENT","merge","fromEvent","filter","focused","tuiGetNativeFocused","__ngFactoryType__","ɵɵdefineInjectable","tuiIsSafari","doc","_a","_b","_c","_d","_e","_f","_g","_h","win","isMacOsSafari","isIosSafari","tuiStringHashToHsl","value","hash","i","hue","saturation","lightness","TO_KEYFRAMES","FROM_KEYFRAMES","TuiRippleStyles","_TuiRippleStyles","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","TuiRipple","_TuiRipple","inject","DOCUMENT","DestroyRef","tuiGetDuration","TUI_ANIMATIONS_SPEED","tuiWithStyles","x","y","target","el","element","tuiIsHTMLElement","ripple","touchEnd$","merge","tuiTypedFromEvent","animationEndOn$","race","switchMap","first","tap","takeUntilDestroyed","clientX","clientY","width","height","top","left","radius","dimension","tuiPx","ɵɵdefineDirective","ɵɵlistener","$event","STYLE","tuiFindTouchIndex","touches","id","_a","i","TuiTouchable","_TuiTouchable","inject","TUI_IS_IOS","tuiInjectElement","tuiTypedFromEvent","tap","map","switchMap","identifier","race","filter","take","takeUntilDestroyed","element","ownerDocument","clientX","clientY","__ngFactoryType__","ɵɵdefineDirective","getMonthStartDaysOffset","month","firstDayOfWeek","startMonthOffsetFromSunday","DAYS_IN_WEEK","getDayFromMonthRowCol","rowIndex","colIndex","day","TuiDay","CALENDAR_ROWS_COUNT","TuiCalendarSheetPipe","_TuiCalendarSheetPipe","inject","TUI_FIRST_DAY_OF_WEEK","showAdjacentDays","_a","sheet","row","isPrevMonthDay","relativeToMonth","isNextMonthDay","__ngFactoryType__","ɵɵdefinePipe","TuiFormatDatePipe","_TuiFormatDatePipe","inject","TuiFormatDateService","timestampOrDate","__ngFactoryType__","ɵɵdefinePipe","convertToSundayFirstWeekFormat","weekDaysNames","sundayIndex","TuiOrderWeekDaysPipe","_TuiOrderWeekDaysPipe","inject","TUI_FIRST_DAY_OF_WEEK","mondayFirstWeekDays$","map","weekDays","__ngFactoryType__","ɵɵdefinePipe","_c0","TuiSpinButton_ng_container_0_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementContainerStart","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵelementEnd","ɵɵprojection","ɵɵelementContainerEnd","texts_r3","ɵɵadvance","ɵɵclassProp","ɵɵproperty","ɵɵtextInterpolate1","TuiSpinButton","_TuiSpinButton","inject","TUI_SPIN_ICONS","TUI_SPIN_TEXTS","EventEmitter","__ngFactoryType__","ɵɵdefineComponent","ɵɵprojectionDef","ɵɵtemplate","ɵɵpipe","ɵɵpipeBind1","AsyncPipe","NgIf","TuiButton","_c0","a0","a1","a2","a3","a4","TuiCalendarSheet_div_1_Template","rf","ctx","ɵɵelement","day_r1","ɵɵproperty","TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_div_3_div_2_Template","markers_r5","ɵɵnextContext","ɵɵstyleProp","TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_div_3_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ɵɵadvance","TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_div_1_Template","_r2","ɵɵgetCurrentView","ɵɵpipe","ɵɵlistener","ɵɵrestoreView","item_r3","ctx_r3","ɵɵresetView","$event","ɵɵtext","ɵɵclassProp","ɵɵattribute","ɵɵpipeBind2","ɵɵtextInterpolate1","ɵɵpipeBindV","ɵɵpureFunction5","TuiCalendarSheet_div_4_div_1_ng_container_1_ng_container_1_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","TuiCalendarSheet_div_4_div_1_ng_container_1_Template","colIndex_r6","rowIndex_r7","sheet_r8","TuiCalendarSheet_div_4_div_1_Template","TuiCalendarSheet_div_4_Template","TuiCalendarSpin_ng_container_4_Template","ctx_r1","TuiCalendarSpin_ng_template_5_Template","_r3","TuiCalendarYear_div_0_ng_container_1_div_1_Template","_r1","item_r2","ctx_r2","TuiCalendarYear_div_0_ng_container_1_Template","colIndex_r4","rowIndex_r5","TuiCalendarYear_div_0_Template","TuiCalendar_tui_scrollbar_0_Template","TuiCalendar_ng_template_1_Template","ɵɵpipeBind4","TUI_CALENDAR_SHEET_DEFAULT_OPTIONS","TUI_CALENDAR_SHEET_OPTIONS","tuiCreateToken","TuiCalendarSheet","_TuiCalendarSheet","inject","TUI_CALENDAR_SHEET_OPTIONS","TuiDay","TUI_SHORT_WEEK_DAYS","TUI_DAY_TYPE_HANDLER","TuiMonth","TUI_FALSE_HANDLER","EventEmitter","day","today","range","markerHandler","markers","value","hoveredItem","TuiDayRange","item","tuiNullableSame","a","b","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵclassProp","ɵɵelementStart","ɵɵtemplate","TuiCalendarSheet_div_1_Template","ɵɵpipe","ɵɵelementEnd","TuiCalendarSheet_div_4_Template","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","ɵɵpipeBind2","CommonModule","NgForOf","NgIf","AsyncPipe","TuiCalendarSheetPipe","TuiHovered","TuiLet","TuiMapperPipe","TuiOrderWeekDaysPipe","TuiRepeatTimes","__decorate","tuiPure","TuiCalendarSpin","_TuiCalendarSpin","TUI_FIRST_DAY","TUI_LAST_DAY","date","_r1","ɵɵgetCurrentView","ɵɵlistener","ɵɵrestoreView","ɵɵresetView","ɵɵtext","TuiCalendarSpin_ng_container_4_Template","TuiCalendarSpin_ng_template_5_Template","ɵɵtemplateRefExtractor","button_r4","ɵɵreference","ɵɵtextInterpolate1","TuiLink","TuiMonthPipe","TuiSpinButton","LIMIT","ITEMS_IN_ROW","TuiCalendarYear","_TuiCalendarYear","MIN_YEAR","MAX_YEAR","TuiYear","tuiIsNumber","TuiMonthRange","hovered","from","to","rowIndex","colIndex","initial","min","max","TuiCalendarYear_div_0_Template","TuiScrollIntoView","TuiCalendar","_TuiCalendar","disabledItemHandler","TUI_LAST_DISPLAYED_DAY","view","month","minViewed","maxViewed","year","TuiCalendar_tui_scrollbar_0_Template","TuiCalendar_ng_template_1_Template","calendar_r4","TuiScrollbar","TuiMobileCalendarSheet_ng_container_0_div_1_div_1_Template","rf","ctx","ɵɵelement","TuiMobileCalendarSheet_ng_container_0_div_1_ng_container_2_div_1_Template","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","item_r2","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","ɵɵattribute","ɵɵadvance","ɵɵtextInterpolate1","TuiMobileCalendarSheet_ng_container_0_div_1_ng_container_2_Template","ɵɵelementContainerStart","ɵɵtemplate","ɵɵelementContainerEnd","colIndex_r4","rowIndex_r5","sheet_r6","ɵɵproperty","TuiMobileCalendarSheet_ng_container_0_div_1_div_3_Template","TuiMobileCalendarSheet_ng_container_0_div_1_Template","tmp_4_0","tmp_5_0","tmp_6_0","TuiMobileCalendarSheet_ng_container_0_Template","TuiMobileCalendarSheet","_TuiMobileCalendarSheet","TuiCalendarSheet","inject","TUI_IS_IOS","ɵTuiMobileCalendarSheet_BaseFactory","__ngFactoryType__","ɵɵgetInheritedFactory","ɵɵdefineComponent","ɵɵInheritDefinitionFeature","ɵɵpipe","ɵɵpipeBind1","NgIf","TuiCalendarSheetPipe","TuiLet","TuiRepeatTimes","TuiRipple","tuiToggleDay","days","day","item","_c0","_c1","TuiMobileCalendar_header_0_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵpipe","ɵɵelementEnd","texts_r4","ɵɵadvance","ɵɵstyleProp","ɵɵproperty","ɵɵtextInterpolate1","ɵɵpipeBind1","TuiMobileCalendar_button_5_Template","_r5","index_r6","ɵɵattribute","TuiMobileCalendar_div_7_Template","day_r7","TuiMobileCalendar_section_12_Template","_r8","$event","month_r9","ɵɵtextInterpolate","ɵɵpipeBind4","getCycle","options","_","i","MONTHS_IN_YEAR","month","weekCount","firstOfMonth","days","SCROLL_DEBOUNCE_TIME","YEARS_IN_ROW","STARTING_YEAR","RANGE","BUFFER","ANDROID_LABEL","ANDROID_WEEK","IOS_LABEL","IOS_WEEK","YEARLY_CYCLE","ANDROID_CYCLE","IOS_CYCLE","ANDROID_CYCLE_HEIGHT","reduceCycle","IOS_CYCLE_HEIGHT","cycle","lastYear","lastMonth","total","year","yearIndex","sum","monthIndex","TuiMobileCalendarStrategy","isIOS","scrollService","Subject","distinctUntilChanged","viewport","index","behavior","scrollTop","takeUntil","offset","_a","_b","_c","cycleHeight","remainder","years","accumulator","remainderHeight","fullCycles","start","end","viewportSize","dataLength","newRange","firstVisibleIndex","__decorate","tuiPure","TUI_VALUE_STREAM","tuiCreateToken","TUI_MOBILE_CALENDAR_PROVIDERS","TuiScrollService","VIRTUAL_SCROLL_STRATEGY","TUI_IS_IOS","Optional","TUI_CALENDAR_DATE_STREAM","value$","EMPTY","tuiWatch","takeUntilDestroyed","TuiMobileCalendar","_TuiMobileCalendar","BehaviorSubject","TuiDay","inject","DestroyRef","DOCUMENT","TUI_ANIMATIONS_SPEED","NgZone","TUI_IS_E2E","TUI_COMMON_ICONS","TUI_CLOSE_WORD","TUI_CANCEL_WORD","TUI_DONE_WORD","TUI_SHORT_WEEK_DAYS","TUI_CHOOSE_DAY_OR_RANGE_TEXTS","TuiMonth","TUI_CALENDAR_SHEET_OPTIONS","TUI_FIRST_DAY","TUI_LAST_DAY","TUI_FALSE_HANDLER","EventEmitter","skip","a","b","map","x","TuiDayRange","disabledItemHandler","min","max","item","value","timer","tuiZonefreeScheduler","tuiZonefree","day","tuiToggleDay","activeYear","_d","identity","delay","tuiGetDuration","take","yearsScrollRef","touchstart$","tuiTypedFromEvent","touchend$","click$","windowToggle","mergeMap","filter","switchMap","race","debounceTime","monthsScrollRef","__ngFactoryType__","ɵɵdefineComponent","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵclassProp","ɵɵProvidersFeature","_r1","ɵɵtemplate","AsyncPipe","CdkFixedSizeVirtualScroll","CdkVirtualForOf","CdkVirtualScrollViewport","NgForOf","NgIf","TuiButton","TuiLink","TuiMapperPipe","TuiMobileCalendarSheet","TuiMonthPipe","TuiOrderWeekDaysPipe","TuiRipple","TuiTouchable","calculateDisabledItemHandler","disabledItemHandler","value","minLength","item","TuiDayRange","negativeMinLength","key","disabledBefore","disabledAfter","TUI_DAY_CAPS_MAPPER","current","maxLength","backwards","TuiDay","TUI_FIRST_DAY","TUI_LAST_DAY","negativeMaxLength","dateShift","TuiMobileCalendarDropdown","_TuiMobileCalendarDropdown","_a","_b","inject","TuiDropdownDirective","TuiKeyboardService","injectContext","tuiGetDuration","TUI_ANIMATIONS_SPEED","TuiControl","TUI_DAY_CAPS_MAPPER","TUI_LAST_DAY","TUI_FIRST_DAY","value","TuiDayRange","TuiDay","TUI_FALSE_HANDLER","normalizedValue","disabledItemHandler","minLength","calculateDisabledItemHandler","selector","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵsyntheticHostProperty","ɵɵHostDirectivesFeature","TuiActiveZone","ɵɵelementStart","ɵɵlistener","$event","ɵɵelementEnd","ɵɵproperty","TuiMobileCalendar","tuiSlideInTop","tuiFadeIn","__decorate","tuiPure","_c0","TuiLoader_div_2_div_3_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","ɵɵadvance","ɵɵtextInterpolate1","TuiLoader_div_2_div_3_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵclassProp","ɵɵproperty","TuiLoader_div_2_Template","ɵɵnamespaceSVG","ɵɵelement","TUI_LOADER_DEFAULT_OPTIONS","TUI_LOADER_OPTIONS","tuiCreateToken","TuiLoader","_TuiLoader","inject","TUI_IS_IOS","TUI_LOADER_OPTIONS","tuiIsSafari","tuiInjectElement","tuiSizeBigger","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵattribute","ɵɵclassProp","_c0","ɵɵprojectionDef","ɵɵelementStart","ɵɵprojection","ɵɵelementEnd","ɵɵtemplate","TuiLoader_div_2_Template","ɵɵproperty","ɵɵadvance","NgIf","PolymorpheusOutlet","_c0","_c1","TuiExpandComponent_ng_container_2_tui_loader_2_Template","rf","ctx","ɵɵelementStart","ɵɵelementContainer","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵproperty","ɵɵadvance","TuiExpandComponent_ng_container_2_Template","ɵɵelementContainerStart","ɵɵprojection","ɵɵtemplate","ɵɵelementContainerEnd","TuiExpandContent","_TuiExpandContent","__ngFactoryType__","ɵɵdefineDirective","State","LOADER_HEIGHT","TuiExpandComponent","_TuiExpandComponent","inject","ChangeDetectorRef","DestroyRef","State","expanded","state","contentWrapper","LOADER_HEIGHT","propertyName","pseudoElement","event","timer","takeUntilDestroyed","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","dirIndex","ɵɵcontentQuery","TuiExpandContent","TemplateRef","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵviewQuery","_c0","ɵɵlistener","$event","ɵɵattribute","ɵɵstyleProp","ɵɵclassProp","_c1","ɵɵprojectionDef","ɵɵelementStart","ɵɵtemplate","TuiExpandComponent_ng_container_2_Template","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","NgIf","NgTemplateOutlet","TuiLoader","tuiParentAnimation","_c0","_c1","TuiAccordionItem_ng_container_4_Template","rf","ctx","ɵɵelementContainerStart","ɵɵelement","ɵɵelementContainerEnd","ctx_r0","ɵɵnextContext","ɵɵadvance","ɵɵproperty","TuiAccordionItem_ng_template_6_div_0_ng_container_1_Template","ɵɵtext","text_r2","ɵɵtextInterpolate1","TuiAccordionItem_ng_template_6_div_0_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","TuiAccordionItem_ng_template_6_Template","TuiAccordionItem_div_7_Template","ɵɵprojection","TuiAccordionItemContent","_TuiAccordionItemContent","PolymorpheusTemplate","ɵTuiAccordionItemContent_BaseFactory","__ngFactoryType__","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵInheritDefinitionFeature","TuiAccordionItemEagerContent","_TuiAccordionItemEagerContent","TuiAccordionItem","_TuiAccordionItem","inject","ChangeDetectorRef","EventEmitter","event","open","ɵɵdefineComponent","dirIndex","ɵɵcontentQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵattribute","ɵɵclassProp","ɵɵprojectionDef","ɵɵlistener","$event","NgIf","PolymorpheusOutlet","TuiChevron","TuiExpandComponent","TuiExpandContent","TuiIcon","TuiAccordionDirective","_TuiAccordionDirective","DestroyRef","EMPTY_QUERY","group","TuiGroup","accordionItems","rows$","tuiQueryListChanges","newOpenRow$","pairwise","map","previous","current","item","filter","tuiIsPresent","merge","switchMap","rows","row","identity","takeUntilDestroyed","currentRow","ɵɵHostDirectivesFeature","_c0","TUI_CHECKBOX_DEFAULT_OPTIONS","el","TUI_CHECKBOX_OPTIONS","tuiCreateToken","TuiCheckbox","_TuiCheckbox","inject","TuiAppearance","TUI_CHECKBOX_OPTIONS","ChangeDetectorRef","tuiInjectIconResolver","DestroyRef","tuiInjectElement","NgControl","_a","tuiControlValue","tuiWatch","takeUntilDestroyed","value","fix","NgModel","tuiIsString","state","option","icon","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵhostProperty","ɵɵattribute","ɵɵstyleProp","ɵɵclassProp","ɵɵHostDirectivesFeature","TuiNativeValidator","_c0","_c0","TUI_SWITCH_DEFAULT_OPTIONS","el","TUI_SWITCH_OPTIONS","tuiCreateToken","TuiSwitch","_TuiSwitch","inject","TuiAppearance","tuiInjectIconResolver","DestroyRef","ChangeDetectorRef","TUI_SWITCH_OPTIONS","tuiInjectElement","NgControl","_a","_b","tuiWatch","takeUntilDestroyed","options","resolver","size","icon","tuiIsString","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵhostProperty","ɵɵattribute","ɵɵstyleProp","ɵɵclassProp","ɵɵHostDirectivesFeature","TuiNativeValidator","_c0","clamp","value","min","max","clampedValue","countDigits","str","getDateSegmentValueLength","dateString","_a","_b","_c","_d","_e","_f","dateToSegments","date","isDateStringComplete","dateString","dateModeTemplate","segment","parseDateRangeString","dateRange","rangeSeparator","digitsInDate","countDigits","parseDateString","fullMode","cleanMode","onlyDigitsDate","dateSegments","_","value","a","b","segmentsToDate","parsedDate","parsedTime","_a","_b","_c","_d","_e","_f","_g","year","date","DATE_TIME_SEPARATOR","toDateString","day","month","hours","minutes","seconds","milliseconds","dateMode","dateTimeSeparator","timeMode","safeYear","DATE_SEGMENTS_MAX_VALUES","DEFAULT_MIN_DATE","DEFAULT_MAX_DATE","CHAR_NO_BREAK_SPACE","ANY_MERIDIEM_CHARACTER_RE","CHAR_NO_BREAK_SPACE","ALL_MERIDIEM_CHARACTERS_RE","TIME_FIXED_CHARACTERS","validateDateString","dateString","dateModeTemplate","dateSegmentsSeparator","offset","from","to","parsedDate","parseDateString","dateSegments","validatedDateSegments","segmentName","segmentValue","validatedDate","toDateString","maxSegmentValue","DATE_SEGMENTS_MAX_VALUES","fantomSeparator","lastSegmentDigitIndex","getDateSegmentValueLength","isLastSegmentDigitAdded","validatedDateString","addedDateSegmentSeparators","reRegExpChar","reHasRegExpChar","escapeRegExp","str","ALL_ZEROES_RE","padWithZeroesUntilValid","segmentValue","paddedMaxValue","prefixedZeroesCount","paddedSegmentValue","valueWithoutLastChar","toHalfWidthNumber","fullWidthNumber","s","createDateSegmentsZeroPaddingPostprocessor","dateModeTemplate","dateSegmentSeparator","splitFn","uniteFn","value","selection","_a","from","to","dateStrings","restPart","validatedDateStrings","caretShift","dateString","parsedDate","parseDateString","validatedDateSegments","acc","segmentName","segmentValue","validatedSegmentValue","prefixedZeroesCount","padWithZeroesUntilValid","DATE_SEGMENTS_MAX_VALUES","toDateString","validatedValue","createFullWidthToHalfWidthPreprocessor","elementState","data","value","selection","toHalfWidthNumber","TRAILING_TIME_SEGMENT_SEPARATOR_REG","TIME_FIXED_CHARACTERS","escapeRegExp","raiseSegmentValueToMin","segments","fullMode","segmentsLength","getDateSegmentValueLength","key","value","segmentLength","LEAP_YEAR","createMinMaxDatePostprocessor","dateModeTemplate","min","DEFAULT_MIN_DATE","max","DEFAULT_MAX_DATE","rangeSeparator","dateSegmentSeparator","selection","endsWithRangeSeparator","dateStrings","parseDateRangeString","validatedValue","dateString","parsedDate","parseDateString","isDateStringComplete","fixedDate","fixedValue","toDateString","tail","date","segmentsToDate","clampedDate","clamp","dateToSegments","normalizeDatePreprocessor","dateSegmentsSeparator","dateTimeSeparator","DATE_TIME_SEPARATOR","elementState","data","templateSegments","includesTime","dateSegments","dates","segment","index","_a","template","dateIndex","isLastDateSegment","createValidDatePreprocessor","dateModeTemplate","dateSegmentsSeparator","rangeSeparator","elementState","data","value","selection","newCharacters","escapeRegExp","from","rawTo","to","newPossibleValue","dateStrings","parseDateRangeString","validatedValue","hasRangeSeparator","dateString","validatedDateString","updatedSelection","validateDateString","newData","segment","createZeroPlaceholdersPreprocessor","elementState","actionType","value","selection","isLastChar","from","to","zeroes","newValue","_","maskitoDateOptionsGenerator","mode","separator","max","min","dateModeTemplate","MASKITO_DEFAULT_OPTIONS","char","createFullWidthToHalfWidthPreprocessor","normalizeDatePreprocessor","createValidDatePreprocessor","createDateSegmentsZeroPaddingPostprocessor","dateString","createMinMaxDatePostprocessor","formatter","_c0","TUI_FLOATING_PRECISION","tuiFindKeyStepsBoundariesByFn","keySteps","fn","keyStepUpperIndex","keyStep","i","lowerStep","upperStep","tuiPercentageToKeyStepValue","valuePercentage","lowerStepPercent","lowerStepValue","upperStepPercent","upperStepValue","keyStepPercentage","_","ratio","controlValue","tuiRound","tuiKeyStepValueToPercentage","value","keyStepValue","TUI_SLIDER_DEFAULT_OPTIONS","TUI_SLIDER_OPTIONS","tuiCreateToken","TuiSliderComponent","_TuiSliderComponent","_a","inject","INJECTOR$1","NgControl","TUI_SLIDER_OPTIONS","tuiInjectElement","NgModel","tuiWatch","take","newValue","TuiSliderKeySteps","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵlistener","ɵɵattribute","ɵɵstyleProp","_c0","__decorate","tuiPure","_TuiSliderKeySteps","TuiControl","forwardRef","controlValue","clampedControlValue","tuiClamp","tuiPercentageToKeyStepValue","min","max","tuiKeyStepValueToPercentage","ɵTuiSliderKeySteps_BaseFactory","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵhostProperty","ɵɵProvidersFeature","tuiFallbackValueProvider","ɵɵInheritDefinitionFeature","_c0","_c1","TuiPushComponent_button_2_Template","rf","ctx","_r1","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","ctx_r1","ɵɵnextContext","ɵɵresetView","ɵɵtext","ɵɵpipe","ɵɵelementEnd","ɵɵstyleProp","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","TuiPushComponent_span_7_Template","ɵɵelement","TuiPushAlert_tui_push_0_img_1_Template","ɵɵsanitizeUrl","TuiPushAlert_tui_push_0_tui_icon_2_Template","TuiPushAlert_tui_push_0_div_3_Template","text_r3","ɵɵsanitizeHtml","TuiPushAlert_tui_push_0_button_4_Template","_r4","TuiPushAlert_tui_push_0_button_5_Template","_r5","TuiPushAlert_tui_push_0_Template","ɵɵtemplate","TuiPushAlert_ng_template_1_ng_container_0_Template","ɵɵelementContainer","TuiPushAlert_ng_template_1_Template","TuiPushComponent","_TuiPushComponent","tuiIsString","inject","TUI_CLOSE_WORD","TUI_COMMON_ICONS","EventEmitter","__ngFactoryType__","ɵɵdefineComponent","ɵɵProvidersFeature","tuiButtonOptionsProvider","ɵɵprojectionDef","ɵɵprojection","AsyncPipe","NgIf","TuiButton","TuiFormatDatePipe","TUI_PUSH_DEFAULT_OPTIONS","TUI_PUSH_OPTIONS","tuiCreateToken","TuiPushAlert","_TuiPushAlert","tuiToAnimationOptions","inject","TUI_ANIMATIONS_SPEED","injectContext","TuiPushDirective","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵsyntheticHostProperty","ɵɵtemplate","TuiPushAlert_tui_push_0_Template","TuiPushAlert_ng_template_1_Template","ɵɵtemplateRefExtractor","directive_r6","ɵɵreference","ɵɵproperty","NgIf","PolymorpheusOutlet","TuiButton","TuiIcon","TuiLink","TuiPushComponent","tuiFadeIn","tuiSlideInRight","tuiHeightCollapse","TuiPushService","_TuiPushService","TuiPopoverService","ɵTuiPushService_BaseFactory","ɵɵgetInheritedFactory","ɵɵdefineInjectable","TUI_ALERTS","TUI_PUSH_OPTIONS","_TuiPushDirective","PolymorpheusTemplate","TemplateRef","ChangeDetectorRef","forwardRef","Subject","tuiIfMap","takeUntilDestroyed","show","ɵɵdefineDirective","ɵɵInheritDefinitionFeature","TuiLegacyDropdownOpenMonitorDirective","_TuiLegacyDropdownOpenMonitorDirective","inject","DestroyRef","tuiInjectElement","TuiDropdownOpen","TuiDropdownOpenLegacy","_a","distinctUntilChanged","takeUntilDestroyed","open","tuiGetClosestFocusable","__ngFactoryType__","ɵɵdefineDirective","TUI_VALUE_ACCESSOR_PROVIDER","TUI_VALUE_ACCESSOR","Optional","Self","NG_VALUE_ACCESSOR","identity","TuiValueAccessorDirective","_TuiValueAccessorDirective","__ngFactoryType__","ɵɵdefineDirective","ɵɵProvidersFeature","TuiValueAccessorModule","_TuiValueAccessorModule","ɵɵdefineNgModule","ɵɵdefineInjector","_c0","_c1","_c2","a0","TuiInputDateComponent_tui_primitive_textfield_1_Template","rf","ctx","_r2","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","$event","ɵɵrestoreView","ctx_r2","ɵɵnextContext","ɵɵresetView","ɵɵprojection","ɵɵelementEnd","filler_r4","iconContent_r5","ɵɵreference","ɵɵproperty","TuiInputDateComponent_ng_template_3_tui_icon_0_Template","_r6","src_r7","ɵɵclassProp","TuiInputDateComponent_ng_template_3_input_1_Template","ɵɵelement","TuiInputDateComponent_ng_template_3_Template","ɵɵtemplate","ɵɵpureFunction1","ɵɵadvance","TuiInputDateComponent_ng_template_5_div_1_Template","_r9","ɵɵtext","ɵɵtextInterpolate1","TuiInputDateComponent_ng_template_5_Template","_r8","TuiInputDateDirective","_TuiInputDateDirective","AbstractTuiTextfieldHost","value","input","ɵTuiInputDateDirective_BaseFactory","__ngFactoryType__","ɵɵgetInheritedFactory","ɵɵdefineDirective","ɵɵProvidersFeature","tuiAsTextfieldHost","ɵɵInheritDefinitionFeature","TuiNativeDateDirective","_TuiNativeDateDirective","inject","DATE_FILLER_LENGTH","TuiDay","ɵɵhostProperty","TuiInputDateComponent","_TuiInputDateComponent","AbstractTuiNullableControl","TUI_INPUT_DATE_OPTIONS","TUI_TEXTFIELD_SIZE","TUI_MOBILE_CALENDAR","signal","TUI_FALSE_HANDLER","TuiMonth","TUI_DEFAULT_DATE_FORMAT","TUI_DATE_TEXTS","TUI_DATE_VALUE_TRANSFORMER","TUI_IS_MOBILE","map","dateTexts","changeDateSeparator","TUI_DATE_FORMAT","tuiWatch","takeUntilDestroyed","format","_a","nativeValue","activeItem","_b","clampedDate","tuiDateClamp","TUI_LAST_DISPLAYED_DAY","MASKITO_DEFAULT_OPTIONS","item","filler","month","open","focused","oldValue","newValue","tuiNullableSame","a","b","mode","separator","min","max","maskitoDateOptionsGenerator","TUI_DATE_MODE_MASKITO_ADAPTER","ɵTuiInputDateComponent_BaseFactory","ɵɵdefineComponent","ɵɵviewQuery","TuiPrimitiveTextfieldComponent","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵattribute","tuiAsFocusableItemAccessor","tuiAsControl","tuiDateStreamWithTransformer","TUI_MOBILE_CALENDAR_PROVIDER","_r1","ɵɵprojectionDef","ɵɵpipe","ɵɵtemplateRefExtractor","dropdown_r10","ɵɵpipeBind1","NgIf","MaskitoDirective","PolymorpheusOutlet","PolymorpheusTemplate","TuiCalendar","TuiLink","TuiPrimitiveTextfieldDirective","TuiValueAccessorDirective","TuiLet","TuiTextfieldIconDirective","TuiTextfieldFillerDirective","TuiLegacyDropdownOpenMonitorDirective","TuiAppearance","TuiIcon","TuiDropdownDirective","TuiDropdownOpen","AsyncPipe","__decorate","tuiPure","TuiInputDateModule","_TuiInputDateModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","TuiPrimitiveTextfieldModule","TuiValueAccessorModule","TuiTextfieldControllerModule","TuiDropdownComponent","_c0","_c1","TuiTagComponent_div_1_ng_container_1_Template","rf","ctx","ɵɵelementContainerStart","ɵɵtext","ɵɵelementContainerEnd","text_r1","ɵɵadvance","ɵɵtextInterpolate1","TuiTagComponent_div_1_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r1","ɵɵnextContext","ɵɵproperty","TuiTagComponent_tui_loader_3_Template","ɵɵelement","TuiTagComponent_tui_icon_4_Template","_r3","ɵɵgetCurrentView","ɵɵlistener","$event","ɵɵrestoreView","ɵɵresetView","TuiTagComponent_input_5_Template","_r4","ɵɵpureFunction0","ɵɵattribute","TUI_TAG_DEFAULT_OPTIONS","TUI_TAG_OPTIONS","tuiCreateToken","TuiTagComponent","_TuiTagComponent","tuiInjectElement","inject","TUI_TAG_OPTIONS","TUI_COMMON_ICONS","EventEmitter","input","tuiStringHashToHsl","tuiSizeBigger","event","value","newTags","__ngFactoryType__","ɵɵdefineComponent","rf","ctx","ɵɵviewQuery","_c0","ElementRef","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵlistener","$event","ɵɵattribute","ɵɵclassProp","ɵɵelementStart","ɵɵtemplate","TuiTagComponent_div_1_Template","ɵɵelement","TuiTagComponent_tui_loader_3_Template","TuiTagComponent_tui_icon_4_Template","ɵɵelementEnd","TuiTagComponent_input_5_Template","ɵɵstyleProp","ɵɵadvance","ɵɵproperty","NgIf","DefaultValueAccessor","NgControlStatus","NgModel","TuiIcon","TuiLoader","PolymorpheusOutlet","TuiTagModule","_TuiTagModule","ɵɵdefineNgModule","ɵɵdefineInjector","CommonModule","FormsModule","_c0","_c1","_c2","_c3","_c4","_c5","_c6","_c7","_c8","a0","TuiInputTagComponent_ng_container_0_Template","rf","ctx","ɵɵelementContainer","TuiInputTagComponent_div_5_tui_icon_1_Template","ɵɵelement","src_r2","ɵɵproperty","TuiInputTagComponent_div_5_Template","ɵɵelementStart","ɵɵtemplate","ɵɵelementEnd","ctx_r2","ɵɵnextContext","ɵɵadvance","ɵɵpureFunction1","TuiInputTagComponent_div_8_Template","ɵɵprojection","ɵɵclassProp","TuiInputTagComponent_ng_container_11_tui_tag_1_Template","_r4","ɵɵgetCurrentView","ɵɵlistener","$event","index_r5","ɵɵrestoreView","ɵɵresetView","item_r6","TuiInputTagComponent_ng_container_11_Template","ɵɵelementContainerStart","ɵɵelementContainerEnd","TuiInputTagComponent_ng_template_12_span_0_Template","item_r7","TuiInputTagComponent_ng_template_12_Template","TuiInputTagComponent_div_22_ng_container_1_tui_icon_1_Template","_r8","src_r9","TuiInputTagComponent_div_22_ng_container_1_Template","TuiInputTagComponent_div_22_tui_tooltip_2_Template","TuiInputTagComponent_div_22_div_3_tui_icon_1_Template","src_r10","TuiInputTagComponent_div_22_div_3_Template","TuiInputTagComponent_div_22_Template","TuiInputTagComponent_ng_template_23_Template","TUI_INPUT_TAG_DEFAULT_OPTIONS","TUI_INPUT_TAG_OPTIONS","tuiCreateToken","TAG_SIZE_REM","LINE_HEIGHT_REM","TAG_VERTICAL_SPACE_REM","TuiInputTagComponent","_TuiInputTagComponent","AbstractTuiMultipleControl","EMPTY_QUERY","tuiInjectElement","inject","TUI_INPUT_TAG_OPTIONS","TUI_TEXTFIELD_OPTIONS","TuiHintOptionsDirective","TUI_TEXTFIELD_WATCHED_CONTROLLER","TUI_COMMON_ICONS","TUI_TRUE_HANDLER","TUI_FALSE_HANDLER","EventEmitter","signal","value","size","labelOutside","_a","tuiIsNativeFocusedIn","_b","index","tag","tagIndex","result","item","event","tuiRetargetedBoundaryCrossing","active","actualTarget","tuiGetActualTarget","tuiIsElement","currentIndex","array","tags","validated","invalid","search","tuiIsString","pasted","tuiGetClipboardDataText","dataTransfer","_","scrollLeft","timer","takeUntilDestroyed","seen","flag","_item","inputValue","tuiArrayRemove","preventScroll","ɵTuiInputTagComponent_BaseFactory","__ngFactoryType__","ɵɵgetInheritedFactory","ɵɵdefineComponent","rf","ctx","dirIndex","ɵɵcontentQuery","TuiDataListDirective","TemplateRef","PolymorpheusOutlet","_t","ɵɵqueryRefresh","ɵɵloadQuery","ɵɵviewQuery","TuiDropdownOpen","_c0","_c1","_c2","ElementRef","TuiScrollbar","_c3","_c4","ɵɵlistener","ɵɵattribute","ɵɵclassProp","ɵɵProvidersFeature","tuiAsFocusableItemAccessor","tuiAsControl","tuiAsDataListHost","TEXTFIELD_CONTROLLER_PROVIDER","ɵɵHostDirectivesFeature","TuiDropdownFixed","ɵɵInheritDefinitionFeature","_c6","_r1","ɵɵgetCurrentView","ɵɵprojectionDef","_c5","ɵɵtemplate","TuiInputTagComponent_ng_container_0_Template","ɵɵpipe","ɵɵelementStart","ɵɵtwoWayListener","$event","ɵɵrestoreView","ɵɵtwoWayBindingSet","ɵɵresetView","TuiInputTagComponent_div_5_Template","TuiInputTagComponent_div_8_Template","ɵɵelementEnd","TuiInputTagComponent_ng_container_11_Template","TuiInputTagComponent_ng_template_12_Template","ɵɵtemplateRefExtractor","ɵɵtext","ɵɵprojection","TuiInputTagComponent_div_22_Template","TuiInputTagComponent_ng_template_23_Template","text_r11","ɵɵreference","ɵɵproperty","ɵɵpipeBind1","ɵɵadvance","ɵɵtwoWayProperty","ɵɵstyleProp","ɵɵtextInterpolate","ɵɵpureFunction0","_c7","NgForOf","NgIf","DefaultValueAccessor","NgControlStatus","NgModel","TuiTooltipComponent","TuiTagComponent","TuiWrapperDirective","TuiLegacyDropdownOpenMonitorDirective","TuiAppearance","TuiIcon","TuiDropdownDirective","AsyncPipe","TuiInputTagModule","_TuiInputTagModule","ɵɵdefineNgModule","ɵɵdefineInjector","TuiScrollService","CommonModule","FormsModule","TuiTooltipModule","TuiTagModule","TuiWrapperModule","TuiDropdownComponent","ɵɵelement","ɵɵproperty","ctx_r1","purify","ɵɵsanitizeHtml","ɵɵelementStart","ɵɵlistener","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵresetView","openMobileCalendar","ɵɵtext","ɵɵelementEnd","control","i0","_r4","$event","onDay","ɵɵadvance","date","label_r5","labels","ɵɵtextInterpolate1","observer_r8","_r7","$implicit","complete","_r9","toggle","ɵɵtextInterpolate","item_r10","answer","ɵɵtemplate","HomeComponent_For_33_ng_template_2_Template","question","HomeComponent","constructor","dompurifySanitizer","inject","NgDompurifySanitizer","dialogs","TuiDialogService","cd","ChangeDetectorRef","injector","INJECTOR","FormControl","breakpoint$","TuiBreakpointService","dialog$","open","PolymorpheusComponent","TuiMobileCalendarDropdown","Injector","create","providers","provide","TUI_CALENDAR_DATE_STREAM","useValue","tuiControlValue","parent","size","closeable","data","single","builtInTools","TuiEditorTool","Undo","Img","tags","notification","slider","editor","questions","setValue","call","content","appearance","dismissible","subscribe","detectChanges","value","sanitize","SecurityContext","HTML","selectors","decls","vars","consts","template","rf","ctx","ɵɵtwoWayListener","_r1","ɵɵtwoWayBindingSet","HomeComponent_ng_template_5_Template","ɵɵtemplateRefExtractor","ɵɵdeclareLet","HomeComponent_Conditional_11_Template","HomeComponent_Conditional_12_Template","ɵɵrepeaterCreate","HomeComponent_For_15_Template","ɵɵrepeaterTrackByIndex","callTemplate_r6","ɵɵreference","HomeComponent_ng_template_27_Template","HomeComponent_tui_push_29_Template","HomeComponent_For_33_Template","hint_r11","ɵɵtwoWayProperty","ɵɵconditional","breakpoint_r12","ɵɵrepeater","ɵɵstyleProp","CommonModule","AsyncPipe","FormsModule","DefaultValueAccessor","RangeValueAccessor","CheckboxControlValueAccessor","NgControlStatus","RequiredValidator","NgModel","ReactiveFormsModule","FormControlDirective","TuiAccordionItem","TuiAccordionDirective","TuiAccordionItemContent","TuiButton","TuiCalendar","TuiCheckbox","TuiDropdownOpenLegacy","TuiEditor","TuiHintOptionsDirective","TuiIcon","TuiInputDateModule","TuiInputDateComponent","TuiInputDateDirective","TuiInputTagModule","TuiInputTagComponent","TuiLabel","TuiLink","TuiPushComponent","TuiPushDirective","TuiSliderComponent","TuiSwitch","TuiTextfieldControllerModule","TuiTextfieldLabelOutsideDirective","styles","encapsulation","changeDetection","_HomeComponent"],"x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33]}